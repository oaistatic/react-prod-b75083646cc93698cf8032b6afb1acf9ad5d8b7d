import{rh as bt,bX as fe,ay as Ut,h3 as ge,P as Dt,c6 as pe}from"./hml6mmd5fyx85si7.js";import{ay as Wt,ch as Gt,qZ as xe,ex as be,jz as ke,jE as we,tk as Tt,tl as O,rn as Qt,tm as U,tn as _,to as I,tp as z,tq as J,tr as Z,ts as N,rl as de,tt as Y,tu as dt,tv as X,tw as ve,tx as Ce,ty as it,tz as ye,tA as Lt,tB as Ae}from"./rseqzngxzbdt1oxg.js";import{r as Yt,j as P,m as Se,M as Fe}from"./lu2xqwqmjc95q6j6.js";import{m as De,b as Te,n as Le}from"./jrr3dx16va5h9kau.js";import{h as Zt,l as ze}from"./blhqqdzhd9z6fst7.js";const Rr=()=>t=>{Wt(t,e=>{if(!Gt(e)||e.name!==bt)return;const n=e.data??(e.data={}),i=e.attributes?.index;if(i==null)return;n.hName=bt,n.hProperties={index:i};let r="inline";switch(e.type){case"textDirective":r="inline";break;case"leafDirective":r="block";break;case"containerDirective":r="container";break}n.hProperties.displayLayout=r})},zt="contextList";function Pr(){return t=>{Wt(t,e=>{if(!Gt(e)||e.name!==zt)return;const n=e.data??(e.data={});n.hName=zt})}}function Ee(t){if(typeof t!="object"||t==null||!("props"in t)||t.props==null)return;const e=t.props;if(e.node?.tagName===bt)return parseInt(e.index)}const Et=Ut.div`gap-6 border-b pb-4 my-4 context-list border-token-border-default`;function Or({children:t}){const e=Yt.useContext(xe),n=Array.isArray(t)?t:fe([t]);if(n.length===0||e?.analyticsMetadata.turnIndex===void 0)return null;const[i,...r]=n,l=Ee(i);if(l!=null&&e!=null){const a=e?.contentReferences?.[l],s=a?.type==="image_v2",u=a?.type==="optimistic_image_citation";if(s||u)return P.jsxs(Et,{className:"flex w-full",children:[P.jsx("div",{className:"grow leading-normal",children:r}),P.jsxs("div",{className:"mt-2 flex w-24 shrink-0",children:[s&&a.images[0]&&P.jsx(Me,{imageRef:a,analyticsMetadata:e.analyticsMetadata}),u&&P.jsx(Ie,{optimisticRef:a})]})]})}return P.jsx(Et,{className:"leading-normal",children:n})}const Xt=Ut.button`not-prose flex w-full h-fit	items-center justify-center overflow-hidden rounded-lg max-h-48`;function Me({imageRef:t,analyticsMetadata:e}){const n=t.images[0],i=n.thumbnail_size.width/n.thumbnail_size.height,r=De(n,{width:200,height:Math.max(Math.round(200/i),112)}),{isSuccess:l}=Te(r),a=be.useStore(),s=Yt.useRef(!1),u={...ge(e),type:"context_list_image_thumbnail",image_url:r};return s.current||(s.current=!0,Dt.logEventWithStatsig("Search Content Reference Shown","search_content_reference_shown",u)),P.jsx(Xt,{onClick:()=>{a.setCurrentImage({image:n,source:ke.Turn,analyticsMetadata:e}),Dt.logEventWithStatsig("Search Content Reference Clicked","search_content_reference_clicked",u)},children:P.jsx(Se.img,{src:r,className:"w-full object-cover",alt:n.title,initial:{opacity:0},animate:l?{opacity:1}:{},whileHover:{scale:1.1,transition:Le}})})}function Ie({optimisticRef:t}){return P.jsx(Xt,{children:t.status==="done"?P.jsx(pe,{label:P.jsx(Fe,{id:"8JYwCi",defaultMessage:"Error fetching image"}),children:P.jsx(we,{className:"text-token-text-tertiary h-24 w-12"})}):P.jsx("div",{className:"bg-token-main-surface-tertiary h-24 w-full animate-pulse"})})}function et(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}const Jt=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Mt={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function Kt(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function qe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Re(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function It(t){return Re(t)||Kt(t)}const G=String.fromCharCode,Pe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function vt(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,i=[];let r=0,l=-1,a="",s,u;e.position&&("start"in e.position||"indent"in e.position?(u=e.position.indent,s=e.position.start):s=e.position);let m=(s?s.line:0)||1,f=(s?s.column:0)||1,c=h(),p;for(r--;++r<=t.length;)if(p===10&&(f=(u?u[l]:0)||1),p=t.charCodeAt(r),p===38){const o=t.charCodeAt(r+1);if(o===9||o===10||o===12||o===32||o===38||o===60||Number.isNaN(o)||n&&o===n){a+=G(p),f++;continue}const d=r+1;let v=d,y=d,F;if(o===35){y=++v;const S=t.charCodeAt(y);S===88||S===120?(F="hexadecimal",y=++v):F="decimal"}else F="named";let D="",T="",k="";const L=F==="named"?It:F==="decimal"?Kt:qe;for(y--;++y<=t.length;){const S=t.charCodeAt(y);if(!L(S))break;k+=G(S),F==="named"&&Jt.includes(k)&&(D=k,T=Tt(k))}let R=t.charCodeAt(y)===59;if(R){y++;const S=F==="named"?Tt(k):!1;S&&(D=k,T=S)}let b=1+y-d,E="";if(!(!R&&e.nonTerminated===!1))if(!k)F!=="named"&&g(4,b);else if(F==="named"){if(R&&!T)g(5,1);else if(D!==k&&(y=v+D.length,b=1+y-v,R=!1),!R){const S=D?1:3;if(e.attribute){const j=t.charCodeAt(y);j===61?(g(S,b),T=""):It(j)?T="":g(S,b)}else g(S,b)}E=T}else{R||g(2,b);let S=Number.parseInt(k,F==="hexadecimal"?16:10);if(Oe(S))g(7,b),E=G(65533);else if(S in Mt)g(6,b),E=Mt[S];else{let j="";Ne(S)&&g(6,b),S>65535&&(S-=65536,j+=G(S>>>10|55296),S=56320|S&1023),E=j+G(S)}}if(E){w(),c=h(),r=y-1,f+=y-d+1,i.push(E);const S=h();S.offset++,e.reference&&e.reference.call(e.referenceContext,E,{start:c,end:S},t.slice(d-1,y)),c=S}else k=t.slice(d-1,y),a+=k,f+=k.length,r=y-1}else p===10&&(m++,l++,f=0),Number.isNaN(p)?w():(a+=G(p),f++);return i.join("");function h(){return{line:m,column:f,offset:r+((s?s.offset:0)||0)}}function g(o,d){let v;e.warning&&(v=h(),v.column+=d,v.offset+=d,e.warning.call(e.warningContext,Pe[o],v,o))}function w(){a&&(i.push(a),e.text&&e.text.call(e.textContext,a,{start:c,end:h()}),a="")}}function Oe(t){return t>=55296&&t<=57343||t>1114111}function Ne(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const je=/["&'<>`]/g,$e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Be=/[|\\{}()[\]^$+*?.]/g,qt=new WeakMap;function te(t,e){if(t=t.replace(e.subset?Ve(e.subset):je,i),e.subset||e.escapeOnly)return t;return t.replace($e,n).replace(_e,i);function n(r,l,a){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,a.charCodeAt(l+2),e)}function i(r,l,a){return e.format(r.charCodeAt(0),a.charCodeAt(l+1),e)}}function Ve(t){let e=qt.get(t);return e||(e=He(t),qt.set(t,e)),e}function He(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Be,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Ue=/[\dA-Fa-f]/;function We(t,e,n){const i="&#x"+t.toString(16).toUpperCase();return n&&e&&!Ue.test(String.fromCharCode(e))?i:i+";"}const Ge=/\d/;function Qe(t,e,n){const i="&#"+String(t);return n&&e&&!Ge.test(String.fromCharCode(e))?i:i+";"}const rt={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Ye=["cent","copy","divide","gt","lt","not","para","times"],ee={}.hasOwnProperty,kt={};let K;for(K in rt)ee.call(rt,K)&&(kt[rt[K]]=K);const Ze=/[^\dA-Za-z]/;function Xe(t,e,n,i){const r=String.fromCharCode(t);if(ee.call(kt,r)){const l=kt[r],a="&"+l;return n&&Jt.includes(l)&&!Ye.includes(l)&&(!i||e&&e!==61&&Ze.test(String.fromCharCode(e)))?a:a+";"}return""}function Je(t,e,n){let i=We(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=Xe(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const l=Qe(t,e,n.omitOptionalSemicolons);l.length<i.length&&(i=l)}return r&&(!n.useShortestReferences||r.length<i.length)?r:i}function Ke(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Nr(t,e){return te(t,Object.assign({format:Je},e))}function tn(t,e){return te(t,Object.assign({format:Ke},e))}const en={}.hasOwnProperty,nn={},Rt=/^[^\t\n\r "#'.<=>`}]+$/,rn=/^[^\t\n\r "'<=>`}]+$/;function an(){return{canContainEols:["textDirective"],enter:{directiveContainer:un,directiveContainerAttributes:lt,directiveContainerLabel:cn,directiveLeaf:on,directiveLeafAttributes:lt,directiveText:sn,directiveTextAttributes:lt},exit:{directiveContainer:mt,directiveContainerAttributeClassValue:ot,directiveContainerAttributeIdValue:ut,directiveContainerAttributeName:ct,directiveContainerAttributeValue:st,directiveContainerAttributes:ht,directiveContainerLabel:hn,directiveContainerName:at,directiveLeaf:mt,directiveLeafAttributeClassValue:ot,directiveLeafAttributeIdValue:ut,directiveLeafAttributeName:ct,directiveLeafAttributeValue:st,directiveLeafAttributes:ht,directiveLeafName:at,directiveText:mt,directiveTextAttributeClassValue:ot,directiveTextAttributeIdValue:ut,directiveTextAttributeName:ct,directiveTextAttributeValue:st,directiveTextAttributes:ht,directiveTextName:at}}}function ln(t){const e=nn;if(e.quote!=='"'&&e.quote!=="'"&&e.quote!==null&&e.quote!==void 0)throw new Error("Invalid quote `"+e.quote+"`, expected `'` or `\"`");return n.peek=mn,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(l,a,s,u){const m=s.createTracker(u),f=fn(l),c=s.enter(l.type);let p=m.move(f+(l.name||"")),h;if(l.type==="containerDirective"){const g=(l.children||[])[0];h=Pt(g)?g:void 0}else h=l;if(h&&h.children&&h.children.length>0){const g=s.enter("label"),w=`${l.type}Label`,o=s.enter(w);p+=m.move("["),p+=m.move(s.containerPhrasing(h,{...m.current(),before:p,after:"]"})),p+=m.move("]"),o(),g()}if(p+=m.move(i(l,s)),l.type==="containerDirective"){const g=(l.children||[])[0];let w=l;Pt(g)&&(w=Object.assign({},l,{children:l.children.slice(1)})),w&&w.children&&w.children.length>0&&(p+=m.move(`
`),p+=m.move(s.containerFlow(w,m.current()))),p+=m.move(`
`+f)}return c(),p}function i(l,a){const s=l.attributes||{},u=[];let m,f,c,p;for(p in s)if(en.call(s,p)&&s[p]!==void 0&&s[p]!==null){const h=String(s[p]);if(p==="id")c=e.preferShortcut!==!1&&Rt.test(h)?"#"+h:r("id",h,l,a);else if(p==="class"){const g=h.split(/[\t\n\r ]+/g),w=[],o=[];let d=-1;for(;++d<g.length;)(e.preferShortcut!==!1&&Rt.test(g[d])?o:w).push(g[d]);m=w.length>0?r("class",w.join(" "),l,a):"",f=o.length>0?"."+o.join("."):""}else u.push(r(p,h,l,a))}return m&&u.unshift(m),f&&u.unshift(f),c&&u.unshift(c),u.length>0?"{"+u.join(" ")+"}":""}function r(l,a,s,u){if(e.collapseEmptyAttributes!==!1&&!a)return l;if(e.preferUnquoted&&rn.test(a))return l+"="+a;const m=e.quote||u.options.quote||'"',f=m==='"'?"'":'"',c=e.quoteSmart&&et(a,m)>et(a,f)?f:m,p=s.type==="textDirective"?[c]:[c,`
`,"\r"];return l+"="+c+tn(a,{subset:p})+c}}function un(t){Ct.call(this,"containerDirective",t)}function on(t){Ct.call(this,"leafDirective",t)}function sn(t){Ct.call(this,"textDirective",t)}function Ct(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function at(t){const e=this.stack[this.stack.length-1];O(e.type==="containerDirective"||e.type==="leafDirective"||e.type==="textDirective"),e.name=this.sliceSerialize(t)}function cn(t){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},t)}function hn(t){this.exit(t)}function lt(){this.data.directiveAttributes=[],this.buffer()}function ut(t){this.data.directiveAttributes.push(["id",vt(this.sliceSerialize(t),{attribute:!0})])}function ot(t){this.data.directiveAttributes.push(["class",vt(this.sliceSerialize(t),{attribute:!0})])}function st(t){const e=this.data.directiveAttributes;e[e.length-1][1]=vt(this.sliceSerialize(t),{attribute:!0})}function ct(t){this.data.directiveAttributes.push([this.sliceSerialize(t),""])}function ht(){const t=this.data.directiveAttributes,e={};let n=-1;for(;++n<t.length;){const r=t[n];r[0]==="class"&&e.class?e.class+=" "+r[1]:e[r[0]]=r[1]}this.data.directiveAttributes=void 0,this.resume();const i=this.stack[this.stack.length-1];O(i.type==="containerDirective"||i.type==="leafDirective"||i.type==="textDirective"),i.attributes=e}function mt(t){this.exit(t)}function mn(){return":"}function Pt(t){return!!(t&&t.type==="paragraph"&&t.data&&t.data.directiveLabel)}function fn(t){let e=0;return t.type==="containerDirective"?(Qt(t,function(n,i){if(n.type==="containerDirective"){let r=i.length,l=0;for(;r--;)i[r].type==="containerDirective"&&l++;l>e&&(e=l)}}),e+=3):t.type==="leafDirective"?e=2:e=1,":".repeat(e)}function yt(t,e,n,i,r,l,a,s,u,m,f,c,p,h,g){let w,o;return d;function d(x){return t.enter(i),t.enter(r),t.consume(x),t.exit(r),v}function v(x){return x===35?(w=a,y(x)):x===46?(w=s,y(x)):x===58||x===95||U(x)?(t.enter(l),t.enter(u),t.consume(x),T):g&&_(x)?I(t,v,"whitespace")(x):!g&&z(x)?J(t,v)(x):M(x)}function y(x){const W=w+"Marker";return t.enter(l),t.enter(w),t.enter(W),t.consume(x),t.exit(W),F}function F(x){if(x===null||x===34||x===35||x===39||x===46||x===60||x===61||x===62||x===96||x===125||z(x))return n(x);const W=w+"Value";return t.enter(W),t.consume(x),D}function D(x){if(x===null||x===34||x===39||x===60||x===61||x===62||x===96)return n(x);if(x===35||x===46||x===125||z(x)){const W=w+"Value";return t.exit(W),t.exit(w),t.exit(l),v(x)}return t.consume(x),D}function T(x){return x===45||x===46||x===58||x===95||Z(x)?(t.consume(x),T):(t.exit(u),g&&_(x)?I(t,k,"whitespace")(x):!g&&z(x)?J(t,k)(x):k(x))}function k(x){return x===61?(t.enter(m),t.consume(x),t.exit(m),L):(t.exit(l),v(x))}function L(x){return x===null||x===60||x===61||x===62||x===96||x===125||g&&N(x)?n(x):x===34||x===39?(t.enter(f),t.enter(p),t.consume(x),t.exit(p),o=x,b):g&&_(x)?I(t,L,"whitespace")(x):!g&&z(x)?J(t,L)(x):(t.enter(c),t.enter(h),t.consume(x),o=void 0,R)}function R(x){return x===null||x===34||x===39||x===60||x===61||x===62||x===96?n(x):x===125||z(x)?(t.exit(h),t.exit(c),t.exit(l),v(x)):(t.consume(x),R)}function b(x){return x===o?(t.enter(p),t.consume(x),t.exit(p),t.exit(f),t.exit(l),j):(t.enter(c),E(x))}function E(x){return x===o?(t.exit(c),b(x)):x===null?n(x):N(x)?g?n(x):J(t,E)(x):(t.enter(h),t.consume(x),S)}function S(x){return x===o||x===null||N(x)?(t.exit(h),E(x)):(t.consume(x),S)}function j(x){return x===125||z(x)?v(x):M(x)}function M(x){return x===125?(t.enter(r),t.consume(x),t.exit(r),t.exit(i),e):n(x)}}function At(t,e,n,i,r,l,a){let s=0,u=0,m;return f;function f(o){return t.enter(i),t.enter(r),t.consume(o),t.exit(r),c}function c(o){return o===93?(t.enter(r),t.consume(o),t.exit(r),t.exit(i),e):(t.enter(l),p(o))}function p(o){if(o===93&&!u)return w(o);const d=t.enter("chunkText",{contentType:"text",previous:m});return m&&(m.next=d),m=d,h(o)}function h(o){return o===null||s>999||o===91&&++u>32?n(o):o===93&&!u--?(t.exit("chunkText"),w(o)):N(o)?a?n(o):(t.consume(o),t.exit("chunkText"),p):(t.consume(o),o===92?g:h)}function g(o){return o===91||o===92||o===93?(t.consume(o),s++,h):h(o)}function w(o){return t.exit(l),t.enter(r),t.consume(o),t.exit(r),t.exit(i),e}}function St(t,e,n,i){const r=this;return l;function l(s){return U(s)?(t.enter(i),t.consume(s),a):n(s)}function a(s){return s===45||s===95||Z(s)?(t.consume(s),a):(t.exit(i),r.previous===45||r.previous===95?n(s):e(s))}}const gn={tokenize:bn,concrete:!0},pn={tokenize:kn,partial:!0},xn={tokenize:wn,partial:!0},Ot={tokenize:dn,partial:!0};function bn(t,e,n){const i=this,r=i.events[i.events.length-1],l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0;let a=0,s;return u;function u(k){return t.enter("directiveContainer"),t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),m(k)}function m(k){return k===58?(t.consume(k),a++,m):a<3?n(k):(t.exit("directiveContainerSequence"),St.call(i,t,f,n,"directiveContainerName")(k))}function f(k){return k===91?t.attempt(pn,c,c)(k):c(k)}function c(k){return k===123?t.attempt(xn,p,p)(k):p(k)}function p(k){return I(t,h,"whitespace")(k)}function h(k){return t.exit("directiveContainerFence"),k===null?g(k):N(k)?i.interrupt?e(k):t.attempt(Ot,w,g)(k):n(k)}function g(k){return t.exit("directiveContainer"),e(k)}function w(k){return k===null?(t.exit("directiveContainer"),e(k)):(t.enter("directiveContainerContent"),o(k))}function o(k){return k===null?D(k):t.attempt({tokenize:T,partial:!0},D,l?I(t,d,"linePrefix",l+1):d)(k)}function d(k){if(k===null)return D(k);const L=t.enter("chunkDocument",{contentType:"document",previous:s});return s&&(s.next=L),s=L,v(k)}function v(k){if(k===null){const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,D(k)}return N(k)?t.check(Ot,y,F)(k):(t.consume(k),v)}function y(k){t.consume(k);const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,o}function F(k){const L=t.exit("chunkDocument");return i.parser.lazy[L.start.line]=!1,D(k)}function D(k){return t.exit("directiveContainerContent"),t.exit("directiveContainer"),e(k)}function T(k,L,R){let b=0;return I(k,E,"linePrefix",4);function E(M){return k.enter("directiveContainerFence"),k.enter("directiveContainerSequence"),S(M)}function S(M){return M===58?(k.consume(M),b++,S):b<a?R(M):(k.exit("directiveContainerSequence"),I(k,j,"whitespace")(M))}function j(M){return M===null||N(M)?(k.exit("directiveContainerFence"),L(M)):R(M)}}}function kn(t,e,n){return At(t,e,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function wn(t,e,n){return yt(t,e,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function dn(t,e,n){const i=this;return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}const vn={tokenize:An},Cn={tokenize:Sn,partial:!0},yn={tokenize:Fn,partial:!0};function An(t,e,n){const i=this;return r;function r(f){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(f),l}function l(f){return f===58?(t.consume(f),t.exit("directiveLeafSequence"),St.call(i,t,a,n,"directiveLeafName")):n(f)}function a(f){return f===91?t.attempt(Cn,s,s)(f):s(f)}function s(f){return f===123?t.attempt(yn,u,u)(f):u(f)}function u(f){return I(t,m,"whitespace")(f)}function m(f){return f===null||N(f)?(t.exit("directiveLeaf"),e(f)):n(f)}}function Sn(t,e,n){return At(t,e,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function Fn(t,e,n){return yt(t,e,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const Dn={tokenize:En,previous:zn},Tn={tokenize:Mn,partial:!0},Ln={tokenize:In,partial:!0};function zn(t){return t!==58||this.events[this.events.length-1][1].type==="characterEscape"}function En(t,e,n){const i=this;return r;function r(u){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(u),t.exit("directiveTextMarker"),St.call(i,t,l,n,"directiveTextName")}function l(u){return u===58?n(u):u===91?t.attempt(Tn,a,a)(u):a(u)}function a(u){return u===123?t.attempt(Ln,s,s)(u):s(u)}function s(u){return t.exit("directiveText"),e(u)}}function Mn(t,e,n){return At(t,e,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function In(t,e,n){return yt(t,e,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function qn(){return{text:{58:Dn},flow:{58:[gn,vn]}}}function jr(){const e=this.data(),n=e.micromarkExtensions||(e.micromarkExtensions=[]),i=e.fromMarkdownExtensions||(e.fromMarkdownExtensions=[]),r=e.toMarkdownExtensions||(e.toMarkdownExtensions=[]);n.push(qn()),i.push(an()),r.push(ln())}function Rn(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Pn(t,e,n){const r=de((n||{}).ignore||[]),l=On(e);let a=-1;for(;++a<l.length;)Qt(t,"text",s);function s(m,f){let c=-1,p;for(;++c<f.length;){const h=f[c],g=p?p.children:void 0;if(r(h,g?g.indexOf(h):void 0,p))return;p=h}if(p)return u(m,f)}function u(m,f){const c=f[f.length-1],p=l[a][0],h=l[a][1];let g=0;const o=c.children.indexOf(m);let d=!1,v=[];p.lastIndex=0;let y=p.exec(m.value);for(;y;){const F=y.index,D={index:y.index,input:y.input,stack:[...f,m]};let T=h(...y,D);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?p.lastIndex=F+1:(g!==F&&v.push({type:"text",value:m.value.slice(g,F)}),Array.isArray(T)?v.push(...T):T&&v.push(T),g=F+y[0].length,d=!0),!p.global)break;y=p.exec(m.value)}return d?(g<m.value.length&&v.push({type:"text",value:m.value.slice(g)}),c.children.splice(o,1,...v)):v=[m],o+v.length}}function On(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([Nn(r[0]),jn(r[1])])}return e}function Nn(t){return typeof t=="string"?new RegExp(Rn(t),"g"):t}function jn(t){return typeof t=="function"?t:function(){return t}}const ft="phrasing",gt=["autolink","link","image","label"];function $n(){return{transforms:[Gn],enter:{literalAutolink:Bn,literalAutolinkEmail:pt,literalAutolinkHttp:pt,literalAutolinkWww:pt},exit:{literalAutolink:Wn,literalAutolinkEmail:Un,literalAutolinkHttp:Vn,literalAutolinkWww:Hn}}}function _n(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ft,notInConstruct:gt},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ft,notInConstruct:gt},{character:":",before:"[ps]",after:"\\/",inConstruct:ft,notInConstruct:gt}]}}function Bn(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function pt(t){this.config.enter.autolinkProtocol.call(this,t)}function Vn(t){this.config.exit.autolinkProtocol.call(this,t)}function Hn(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];O(e.type==="link"),e.url="http://"+this.sliceSerialize(t)}function Un(t){this.config.exit.autolinkEmail.call(this,t)}function Wn(t){this.exit(t)}function Gn(t){Pn(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Qn],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Yn]],{ignore:["link","linkReference"]})}function Qn(t,e,n,i,r){let l="";if(!ne(r)||(/^w/i.test(e)&&(n=e+n,e="",l="http://"),!Zn(n)))return!1;const a=Xn(n+i);if(!a[0])return!1;const s={type:"link",title:null,url:l+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Yn(t,e,n,i){return!ne(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Zn(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Xn(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=et(t,"(");let l=et(t,")");for(;i!==-1&&r>l;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),l++;return[t,n]}function ne(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Y(n)||dt(n))&&(!e||n!==47)}ie.peek=oi;function Jn(){return{enter:{gfmFootnoteDefinition:ti,gfmFootnoteDefinitionLabelString:ei,gfmFootnoteCall:ri,gfmFootnoteCallString:ai},exit:{gfmFootnoteDefinition:ii,gfmFootnoteDefinitionLabelString:ni,gfmFootnoteCall:ui,gfmFootnoteCallString:li}}}function Kn(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:si,footnoteReference:ie}}}function ti(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function ei(){this.buffer()}function ni(t){const e=this.resume(),n=this.stack[this.stack.length-1];O(n.type==="footnoteDefinition"),n.label=e,n.identifier=X(this.sliceSerialize(t)).toLowerCase()}function ii(t){this.exit(t)}function ri(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function ai(){this.buffer()}function li(t){const e=this.resume(),n=this.stack[this.stack.length-1];O(n.type==="footnoteReference"),n.label=e,n.identifier=X(this.sliceSerialize(t)).toLowerCase()}function ui(t){this.exit(t)}function ie(t,e,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return l+=r.move(n.safe(n.associationId(t),{...r.current(),before:l,after:"]"})),s(),a(),l+=r.move("]"),l}function oi(){return"["}function si(t,e,n,i){const r=n.createTracker(i);let l=r.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return l+=r.move(n.safe(n.associationId(t),{...r.current(),before:l,after:"]"})),s(),l+=r.move("]:"+(t.children&&t.children.length>0?" ":"")),r.shift(4),l+=r.move(n.indentLines(n.containerFlow(t,r.current()),ci)),a(),l}function ci(t,e,n){return e===0?t:(n?"":"    ")+t}const hi=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];re.peek=xi;function mi(){return{canContainEols:["delete"],enter:{strikethrough:gi},exit:{strikethrough:pi}}}function fi(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hi}],handlers:{delete:re}}}function gi(t){this.enter({type:"delete",children:[]},t)}function pi(t){this.exit(t)}function re(t,e,n,i){const r=n.createTracker(i),l=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(t,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),l(),a}function xi(){return"~"}function bi(t,e={}){const n=(e.align||[]).concat(),i=e.stringLength||wi,r=[],l=[],a=[],s=[];let u=0,m=-1;for(;++m<t.length;){const g=[],w=[];let o=-1;for(t[m].length>u&&(u=t[m].length);++o<t[m].length;){const d=ki(t[m][o]);if(e.alignDelimiters!==!1){const v=i(d);w[o]=v,(s[o]===void 0||v>s[o])&&(s[o]=v)}g.push(d)}l[m]=g,a[m]=w}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<u;)r[f]=Nt(n[f]);else{const g=Nt(n);for(;++f<u;)r[f]=g}f=-1;const c=[],p=[];for(;++f<u;){const g=r[f];let w="",o="";g===99?(w=":",o=":"):g===108?w=":":g===114&&(o=":");let d=e.alignDelimiters===!1?1:Math.max(1,s[f]-w.length-o.length);const v=w+"-".repeat(d)+o;e.alignDelimiters!==!1&&(d=w.length+d+o.length,d>s[f]&&(s[f]=d),p[f]=d),c[f]=v}l.splice(1,0,c),a.splice(1,0,p),m=-1;const h=[];for(;++m<l.length;){const g=l[m],w=a[m];f=-1;const o=[];for(;++f<u;){const d=g[f]||"";let v="",y="";if(e.alignDelimiters!==!1){const F=s[f]-(w[f]||0),D=r[f];D===114?v=" ".repeat(F):D===99?F%2?(v=" ".repeat(F/2+.5),y=" ".repeat(F/2-.5)):(v=" ".repeat(F/2),y=v):y=" ".repeat(F)}e.delimiterStart!==!1&&!f&&o.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&d==="")&&(e.delimiterStart!==!1||f)&&o.push(" "),e.alignDelimiters!==!1&&o.push(v),o.push(d),e.alignDelimiters!==!1&&o.push(y),e.padding!==!1&&o.push(" "),(e.delimiterEnd!==!1||f!==u-1)&&o.push("|")}h.push(e.delimiterEnd===!1?o.join("").replace(/ +$/,""):o.join(""))}return h.join(`
`)}function ki(t){return t==null?"":String(t)}function wi(t){return t.length}function Nt(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function di(){return{enter:{table:vi,tableData:jt,tableHeader:jt,tableRow:yi},exit:{codeText:Ai,table:Ci,tableData:xt,tableHeader:xt,tableRow:xt}}}function vi(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ci(t){this.exit(t),this.data.inTable=void 0}function yi(t){this.enter({type:"tableRow",children:[]},t)}function xt(t){this.exit(t)}function jt(t){this.enter({type:"tableCell",children:[]},t)}function Ai(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Si));const n=this.stack[this.stack.length-1];O(n.type==="inlineCode"),n.value=e,this.exit(t)}function Si(t,e){return e==="|"?e:t}function Fi(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:u,tableRow:s}};function a(h,g,w,o){return m(f(h,w,o),h.align)}function s(h,g,w,o){const d=c(h,w,o),v=m([d]);return v.slice(0,v.indexOf(`
`))}function u(h,g,w,o){const d=w.enter("tableCell"),v=w.enter("phrasing"),y=w.containerPhrasing(h,{...o,before:l,after:l});return v(),d(),y}function m(h,g){return bi(h,{align:g,alignDelimiters:i,padding:n,stringLength:r})}function f(h,g,w){const o=h.children;let d=-1;const v=[],y=g.enter("table");for(;++d<o.length;)v[d]=c(o[d],g,w);return y(),v}function c(h,g,w){const o=h.children;let d=-1;const v=[],y=g.enter("tableRow");for(;++d<o.length;)v[d]=u(o[d],h,g,w);return y(),v}function p(h,g,w){let o=Zt.inlineCode(h,g,w);return w.stack.includes("tableCell")&&(o=o.replace(/\|/g,"\\$&")),o}}function Di(){return{exit:{taskListCheckValueChecked:$t,taskListCheckValueUnchecked:$t,paragraph:Li}}}function Ti(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:zi}}}function $t(t){const e=this.stack[this.stack.length-2];O(e.type==="listItem"),e.checked=t.type==="taskListCheckValueChecked"}function Li(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];O(n.type==="paragraph");const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let l=-1,a;for(;++l<r.length;){const s=r[l];if(s.type==="paragraph"){a=s;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function zi(t,e,n,i){const r=t.children[0],l=typeof t.checked=="boolean"&&r&&r.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(i);l&&s.move(a);let u=Zt.listItem(t,e,n,{...i,...s.current()});return l&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),u;function m(f){return f+a}}function Ei(){return[$n(),Jn(),mi(),di(),Di()]}function Mi(t){return{extensions:[_n(),Kn(),fi(),Fi(t),Ti()]}}const Ii={tokenize:ji,partial:!0},ae={tokenize:$i,partial:!0},le={tokenize:_i,partial:!0},ue={tokenize:Bi,partial:!0},qi={tokenize:Vi,partial:!0},oe={tokenize:Oi,previous:ce},se={tokenize:Ni,previous:he},B={tokenize:Pi,previous:me},$={};function Ri(){return{text:$}}let H=48;for(;H<123;)$[H]=B,H++,H===58?H=65:H===91&&(H=97);$[43]=B;$[45]=B;$[46]=B;$[95]=B;$[72]=[B,se];$[104]=[B,se];$[87]=[B,oe];$[119]=[B,oe];function Pi(t,e,n){const i=this;let r,l;return a;function a(c){return!wt(c)||!me.call(i,i.previous)||Ft(i.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(c))}function s(c){return wt(c)?(t.consume(c),s):c===64?(t.consume(c),u):n(c)}function u(c){return c===46?t.check(qi,f,m)(c):c===45||c===95||Z(c)?(l=!0,t.consume(c),u):f(c)}function m(c){return t.consume(c),r=!0,u}function f(c){return l&&r&&U(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(c)):n(c)}}function Oi(t,e,n){const i=this;return r;function r(a){return a!==87&&a!==119||!ce.call(i,i.previous)||Ft(i.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Ii,t.attempt(ae,t.attempt(le,l),n),n)(a))}function l(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Ni(t,e,n){const i=this;let r="",l=!1;return a;function a(c){return(c===72||c===104)&&he.call(i,i.previous)&&!Ft(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(c),t.consume(c),s):n(c)}function s(c){if(U(c)&&r.length<5)return r+=String.fromCodePoint(c),t.consume(c),s;if(c===58){const p=r.toLowerCase();if(p==="http"||p==="https")return t.consume(c),u}return n(c)}function u(c){return c===47?(t.consume(c),l?m:(l=!0,u)):n(c)}function m(c){return c===null||ve(c)||z(c)||Y(c)||dt(c)?n(c):t.attempt(ae,t.attempt(le,f),n)(c)}function f(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}function ji(t,e,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,t.consume(a),r):a===46&&i===3?(t.consume(a),l):n(a)}function l(a){return a===null?n(a):e(a)}}function $i(t,e,n){let i,r,l;return a;function a(m){return m===46||m===95?t.check(ue,u,s)(m):m===null||z(m)||Y(m)||m!==45&&dt(m)?u(m):(l=!0,t.consume(m),a)}function s(m){return m===95?i=!0:(r=i,i=void 0),t.consume(m),a}function u(m){return r||i||!l?n(m):e(m)}}function _i(t,e){let n=0,i=0;return r;function r(a){return a===40?(n++,t.consume(a),r):a===41&&i<n?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(ue,e,l)(a):a===null||z(a)||Y(a)?e(a):(t.consume(a),r)}function l(a){return a===41&&i++,t.consume(a),r}}function Bi(t,e,n){return i;function i(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),i):s===38?(t.consume(s),l):s===93?(t.consume(s),r):s===60||s===null||z(s)||Y(s)?e(s):n(s)}function r(s){return s===null||s===40||s===91||z(s)||Y(s)?e(s):i(s)}function l(s){return U(s)?a(s):n(s)}function a(s){return s===59?(t.consume(s),i):U(s)?(t.consume(s),a):n(s)}}function Vi(t,e,n){return i;function i(l){return t.consume(l),r}function r(l){return Z(l)?n(l):e(l)}}function ce(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||z(t)}function he(t){return!U(t)}function me(t){return!(t===47||wt(t))}function wt(t){return t===43||t===45||t===46||t===95||Z(t)}function Ft(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Hi={tokenize:Ji,partial:!0};function Ui(){return{document:{91:{tokenize:Yi,continuation:{tokenize:Zi},exit:Xi}},text:{91:{tokenize:Qi},93:{add:"after",tokenize:Wi,resolveTo:Gi}}}}function Wi(t,e,n){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const u=i.events[r][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return s;function s(u){if(!a||!a._balanced)return n(u);const m=X(i.sliceSerialize({start:a.end,end:i.now()}));return m.codePointAt(0)!==94||!l.includes(m.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Gi(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",l,e],["enter",a,e],["exit",a,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...s),t}function Qi(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return s;function s(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),u}function u(c){return c!==94?n(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(c){if(l>999||c===93&&!a||c===null||c===91||z(c))return n(c);if(c===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return r.includes(X(i.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(c)}return z(c)||(a=!0),l++,t.consume(c),c===92?f:m}function f(c){return c===91||c===92||c===93?(t.consume(c),l++,m):m(c)}}function Yi(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,s;return u;function u(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(g)}function f(g){if(a>999||g===93&&!s||g===null||g===91||z(g))return n(g);if(g===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return l=X(i.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return z(g)||(s=!0),a++,t.consume(g),g===92?c:f}function c(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}function p(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),r.includes(l)||r.push(l),I(t,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return e(g)}}function Zi(t,e,n){return t.check(Ce,e,t.attempt(Hi,e,n))}function Xi(t){t.exit("gfmFootnoteDefinition")}function Ji(t,e,n){const i=this;return I(t,r,"gfmFootnoteDefinitionIndent",5);function r(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(l):n(l)}}function Ki(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,s){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let m=u;for(;m--;)if(a[m][0]==="exit"&&a[m][1].type==="strikethroughSequenceTemporary"&&a[m][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[m][1].end.offset-a[m][1].start.offset){a[u][1].type="strikethroughSequence",a[m][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[m][1].start),end:Object.assign({},a[u][1].end)},c={type:"strikethroughText",start:Object.assign({},a[m][1].end),end:Object.assign({},a[u][1].start)},p=[["enter",f,s],["enter",a[m][1],s],["exit",a[m][1],s],["enter",c,s]],h=s.parser.constructs.insideSpan.null;h&&it(p,p.length,0,ye(h,a.slice(m+1,u),s)),it(p,p.length,0,[["exit",c,s],["enter",a[u][1],s],["exit",a[u][1],s],["exit",f,s]]),it(a,m-1,u-m+3,p),u=m+p.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function l(a,s,u){const m=this.previous,f=this.events;let c=0;return p;function p(g){return m===126&&f[f.length-1][1].type!=="characterEscape"?u(g):(a.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const w=Lt(m);if(g===126)return c>1?u(g):(a.consume(g),c++,h);if(c<2&&!n)return u(g);const o=a.exit("strikethroughSequenceTemporary"),d=Lt(g);return o._open=!d||d===2&&!!w,o._close=!w||w===2&&!!d,s(g)}}}class tr{constructor(){this.map=[]}add(e,n,i){er(this,e,n,i)}consume(e){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push([...e]),e.length=0;let r=i.pop();for(;r;)e.push(...r),r=i.pop();this.map.length=0}}function er(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function nr(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function ir(){return{flow:{null:{tokenize:rr,resolveAll:ar}}}}function rr(t,e,n){const i=this;let r=0,l=0,a;return s;function s(b){let E=i.events.length-1;for(;E>-1;){const M=i.events[E][1].type;if(M==="lineEnding"||M==="linePrefix")E--;else break}const S=E>-1?i.events[E][1].type:null,j=S==="tableHead"||S==="tableRow"?T:u;return j===T&&i.parser.lazy[i.now().line]?n(b):j(b)}function u(b){return t.enter("tableHead"),t.enter("tableRow"),m(b)}function m(b){return b===124||(a=!0,l+=1),f(b)}function f(b){return b===null?n(b):N(b)?l>1?(l=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),h):n(b):_(b)?I(t,f,"whitespace")(b):(l+=1,a&&(a=!1,r+=1),b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),a=!0,f):(t.enter("data"),c(b)))}function c(b){return b===null||b===124||z(b)?(t.exit("data"),f(b)):(t.consume(b),b===92?p:c)}function p(b){return b===92||b===124?(t.consume(b),c):c(b)}function h(b){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(b):(t.enter("tableDelimiterRow"),a=!1,_(b)?I(t,g,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):g(b))}function g(b){return b===45||b===58?o(b):b===124?(a=!0,t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),w):D(b)}function w(b){return _(b)?I(t,o,"whitespace")(b):o(b)}function o(b){return b===58?(l+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),d):b===45?(l+=1,d(b)):b===null||N(b)?F(b):D(b)}function d(b){return b===45?(t.enter("tableDelimiterFiller"),v(b)):D(b)}function v(b){return b===45?(t.consume(b),v):b===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),y):(t.exit("tableDelimiterFiller"),y(b))}function y(b){return _(b)?I(t,F,"whitespace")(b):F(b)}function F(b){return b===124?g(b):b===null||N(b)?!a||r!==l?D(b):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(b)):D(b)}function D(b){return n(b)}function T(b){return t.enter("tableRow"),k(b)}function k(b){return b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),k):b===null||N(b)?(t.exit("tableRow"),e(b)):_(b)?I(t,k,"whitespace")(b):(t.enter("data"),L(b))}function L(b){return b===null||b===124||z(b)?(t.exit("data"),k(b)):(t.consume(b),b===92?R:L)}function R(b){return b===92||b===124?(t.consume(b),L):L(b)}}function ar(t,e){let n=-1,i=!0,r=0,l=[0,0,0,0],a=[0,0,0,0],s=!1,u=0,m,f,c;const p=new tr;for(;++n<t.length;){const h=t[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(s=!1,u!==0&&(_t(p,e,u,m,f),f=void 0,u=0),m={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",m,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(i=!0,c=void 0,l=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",f,e]])),r=g.type==="tableDelimiterRow"?2:f?3:1):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],c=tt(p,e,l,r,void 0,c),l=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],c=tt(p,e,l,r,void 0,c)),l=a,a=[l[1],n,0,0])):g.type==="tableHead"?(s=!0,u=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(u=n,l[1]!==0?(a[0]=a[1],c=tt(p,e,l,r,n,c)):a[1]!==0&&(c=tt(p,e,a,r,n,c)),r=0):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&_t(p,e,u,m,f),p.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=nr(e.events,n))}return t}function tt(t,e,n,i,r,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(l.end=Object.assign({},Q(e.events,n[0])),t.add(n[0],0,[["exit",l,e]]));const u=Q(e.events,n[1]);if(l={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",l,e]]),n[2]!==0){const m=Q(e.events,n[2]),f=Q(e.events,n[3]),c={type:s,start:Object.assign({},m),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",c,e]]),i!==2){const p=e.events[n[2]],h=e.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,w=n[3]-n[2]-1;t.add(g,w,[])}}t.add(n[3]+1,0,[["exit",c,e]])}return r!==void 0&&(l.end=Object.assign({},Q(e.events,r)),t.add(r,0,[["exit",l,e]]),l=void 0),l}function _t(t,e,n,i,r){const l=[],a=Q(e.events,n);r&&(r.end=Object.assign({},a),l.push(["exit",r,e])),i.end=Object.assign({},a),l.push(["exit",i,e]),t.add(n+1,0,l)}function Q(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const lr={tokenize:or};function ur(){return{text:{91:lr}}}function or(t,e,n){const i=this;return r;function r(u){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),l)}function l(u){return z(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(u)}function s(u){return N(u)?e(u):_(u)?t.check({tokenize:sr},e,n)(u):n(u)}}function sr(t,e,n){return I(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function cr(t){return Ae([Ri(),Ui(),Ki(t),ir(),ur()])}const hr={};function $r(t){const e=this,n=t||hr,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(cr(n)),l.push(Ei()),a.push(Mi(n))}function mr(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:l},exit:{mathFlow:r,mathFlowFence:i,mathFlowFenceMeta:n,mathFlowValue:s,mathText:a,mathTextData:s}};function t(u){const m={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[m]}},u)}function e(){this.buffer()}function n(){const u=this.resume(),m=this.stack[this.stack.length-1];O(m.type==="math"),m.meta=u}function i(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function r(u){const m=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),f=this.stack[this.stack.length-1];O(f.type==="math"),this.exit(u),f.value=m;const c=f.data.hChildren[0];O(c.type==="element"),O(c.tagName==="code"),c.children.push({type:"text",value:m}),this.data.mathFlowInside=void 0}function l(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function a(u){const m=this.resume(),f=this.stack[this.stack.length-1];O(f.type==="inlineMath"),this.exit(u),f.value=m,f.data.hChildren.push({type:"text",value:m})}function s(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}function fr(t){let e={}.singleDollarTextMath;return e==null&&(e=!0),i.peek=r,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:i}};function n(l,a,s,u){const m=l.value||"",f=s.createTracker(u),c="$".repeat(Math.max(ze(m,"$")+1,2)),p=s.enter("mathFlow");let h=f.move(c);if(l.meta){const g=s.enter("mathFlowMeta");h+=f.move(s.safe(l.meta,{after:`
`,before:h,encode:["$"],...f.current()})),g()}return h+=f.move(`
`),m&&(h+=f.move(m+`
`)),h+=f.move(c),p(),h}function i(l,a,s){let u=l.value||"",m=1;for(e||m++;new RegExp("(^|[^$])"+"\\$".repeat(m)+"([^$]|$)").test(u);)m++;const f="$".repeat(m);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let c=-1;for(;++c<s.unsafe.length;){const p=s.unsafe[c];if(!p.atBreak)continue;const h=s.compilePattern(p);let g;for(;g=h.exec(u);){let w=g.index;u.codePointAt(w)===10&&u.codePointAt(w-1)===13&&w--,u=u.slice(0,w)+" "+u.slice(g.index+1)}}return f+u+f}function r(){return"$"}}const C={eof:null,space:32,dollarSign:36,leftParenthesis:40,rightParenthesis:41,leftSquareBracket:91,backslash:92,rightSquareBracket:93};function q(t){return t!==null&&t<-2}function Bt(t){return t===-2||t===-1||t===32}function V(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(u){return Bt(u)?(t.enter(n),s(u)):e(u)}function s(u){return Bt(u)&&l++<r?(t.consume(u),s):(t.exit(n),e(u))}}const nt={contentTypeString:"string",tabSize:4},A={whitespace:"whitespace",lineEnding:"lineEnding",linePrefix:"linePrefix",characterEscape:"characterEscape",chunkString:"chunkString"};const gr={tokenize:xr,concrete:!0},pr={tokenize:br,partial:!0};function xr(t,e,n){const i=this,r=this.events[this.events.length-1],l=r&&r[1].type===A.linePrefix?r[2].sliceSerialize(r[1],!0).length:0,a=[];return s;function s(o){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),u(o)}function u(o){return o===C.backslash||o===C.leftSquareBracket&&a[0]===C.backslash?(t.consume(o),a.push(o),u):(t.exit("mathFlowFenceSequence"),a.length<2?n(o):V(t,m,A.whitespace)(o))}function m(o){return o===C.eof||q(o)?c(o):(t.enter("mathFlowFenceMeta"),t.enter(A.chunkString,{contentType:nt.contentTypeString}),f(o))}function f(o){return o===C.eof||q(o)?(t.exit(A.chunkString),t.exit("mathFlowFenceMeta"),c(o)):o===C.rightSquareBracket?n(o):(t.consume(o),f)}function c(o){return t.exit("mathFlowFence"),i.interrupt?e(o):p(o)}function p(o){return o===C.eof?g(o):q(o)?t.attempt(pr,t.attempt({tokenize:w,partial:!0},g,l?V(t,p,A.linePrefix,l+1):p),g)(o):(t.enter("mathFlowValue"),h(o))}function h(o){return o===C.eof||q(o)?(t.exit("mathFlowValue"),p(o)):(t.consume(o),h)}function g(o){return t.exit("mathFlow"),e(o)}function w(o,d,v){const y=[];return V(o,F,A.linePrefix,nt.tabSize);function F(k){return o.enter("mathFlowFence"),o.enter("mathFlowFenceSequence"),D(k)}function D(k){return k===C.backslash&&y.length===0||k===C.rightSquareBracket&&y[0]===C.backslash?(o.consume(k),y.push(k),D):y<a?v(k):(o.exit("mathFlowFenceSequence"),V(o,T,A.whitespace)(k))}function T(k){return k===C.eof||q(k)?(o.exit("mathFlowFence"),d(k)):v(k)}}}function br(t,e,n){const i=this;return r;function r(a){return t.enter(A.lineEnding),t.consume(a),t.exit(A.lineEnding),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}const kr={tokenize:dr,concrete:!0},wr={tokenize:vr,partial:!0};function dr(t,e,n){const i=this,r=i.events[i.events.length-1],l=r&&r[1].type===A.linePrefix?r[2].sliceSerialize(r[1],!0).length:0;let a=0;return s;function s(o){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),u(o)}function u(o){return o===C.dollarSign?(t.consume(o),a++,u):(t.exit("mathFlowFenceSequence"),a<2?n(o):V(t,m,A.whitespace)(o))}function m(o){return o===C.eof||q(o)?c(o):(t.enter("mathFlowFenceMeta"),t.enter(A.chunkString,{contentType:nt.contentTypeString}),f(o))}function f(o){return o===C.eof||q(o)?(t.exit(A.chunkString),t.exit("mathFlowFenceMeta"),c(o)):o===C.dollarSign?n(o):(t.consume(o),f)}function c(o){return t.exit("mathFlowFence"),i.interrupt?e(o):p(o)}function p(o){return o===C.eof?g(o):q(o)?t.attempt(wr,t.attempt({tokenize:w,partial:!0},g,l?V(t,p,A.linePrefix,l+1):p),g)(o):(t.enter("mathFlowValue"),h(o))}function h(o){return o===C.eof||q(o)?(t.exit("mathFlowValue"),p(o)):(t.consume(o),h)}function g(o){return t.exit("mathFlow"),e(o)}function w(o,d,v){let y=0;return V(o,F,A.linePrefix,nt.tabSize);function F(k){return o.enter("mathFlowFence"),o.enter("mathFlowFenceSequence"),D(k)}function D(k){return k===C.dollarSign?(o.consume(k),y++,D):y<a?v(k):(o.exit("mathFlowFenceSequence"),V(o,T,A.whitespace)(k))}function T(k){return k===C.eof||q(k)?(o.exit("mathFlowFence"),d(k)):v(k)}}}function vr(t,e,n){const i=this;return r;function r(a){return t.enter(A.lineEnding),t.consume(a),t.exit(A.lineEnding),l}function l(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}function Cr(){return{tokenize:t,resolve:yr,previous:Vt};function t(e,n,i){const r=[];let l=[],a;const s=this;return u;function u(h){return Vt.call(s,s.previous)&&(s.previous,void 0),e.enter("mathText"),e.enter("mathTextSequence"),m(h)}function m(h){return h===C.backslash&&r.length===0||h===C.leftParenthesis&&r.length===1?(e.consume(h),r.push(h),m):r.length<2?i(h):(e.exit("mathTextSequence"),f(h))}function f(h){return h===C.eof?i(h):h===C.backslash?(a=e.enter("mathTextSequence"),l=[],p(h)):h===C.space?(e.enter("space"),e.consume(h),e.exit("space"),f):q(h)?(e.enter(A.lineEnding),e.consume(h),e.exit(A.lineEnding),f):(e.enter("mathTextData"),c(h))}function c(h){return h===C.eof||h===C.space||h===C.backslash||q(h)?(e.exit("mathTextData"),f(h)):(e.consume(h),c)}function p(h){return h===C.backslash&&l.length===0||h===C.rightParenthesis&&l.length===1?(e.consume(h),l.push(h),p):l.length===r.length?(e.exit("mathTextSequence"),e.exit("mathText"),n(h)):(a.type="mathTextData",c(h))}}}function yr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Vt(t){return t!==C.backslash||this.events[this.events.length-1][1].type===A.characterEscape}function Ar(){return{tokenize:t,resolve:Sr,previous:Fr};function t(e,n,i){let r=0,l,a;return s;function s(p){return e.enter("mathText"),e.enter("mathTextSequence"),u(p)}function u(p){return p===C.dollarSign?(e.consume(p),r++,u):r<2?i(p):(e.exit("mathTextSequence"),m(p))}function m(p){return p===C.eof?i(p):p===C.dollarSign?(a=e.enter("mathTextSequence"),l=0,c(p)):p===C.space?(e.enter("space"),e.consume(p),e.exit("space"),m):q(p)?(e.enter(A.lineEnding),e.consume(p),e.exit(A.lineEnding),m):(e.enter("mathTextData"),f(p))}function f(p){return p===C.eof||p===C.space||p===C.dollarSign||q(p)?(e.exit("mathTextData"),m(p)):(e.consume(p),f)}function c(p){return p===C.dollarSign?(e.consume(p),l++,c):l===r?(e.exit("mathTextSequence"),e.exit("mathText"),n(p)):(a.type="mathTextData",f(p))}}}function Sr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Fr(t){return t!==C.dollarSign||this.events[this.events.length-1][1].type===A.characterEscape}function Dr(){return{tokenize:t,resolve:Tr,previous:Ht};function t(e,n,i){const r=[];let l=[],a;const s=this;return u;function u(h){return Ht.call(s,s.previous)&&(s.previous,void 0),e.enter("mathText"),e.enter("mathTextSequence"),m(h)}function m(h){return h===C.backslash&&r.length===0||h===C.leftSquareBracket&&r.length===1?(e.consume(h),r.push(h),m):r.length<2?i(h):(e.exit("mathTextSequence"),f(h))}function f(h){return h===C.eof?i(h):h===C.backslash?(a=e.enter("mathTextSequence"),l=[],p(h)):h===C.space?(e.enter("space"),e.consume(h),e.exit("space"),f):q(h)?(e.enter(A.lineEnding),e.consume(h),e.exit(A.lineEnding),f):(e.enter("mathTextData"),c(h))}function c(h){return h===C.eof||h===C.space||h===C.backslash||q(h)?(e.exit("mathTextData"),f(h)):(e.consume(h),c)}function p(h){return h===C.backslash&&l.length===0||h===C.rightSquareBracket&&l.length===1?(e.consume(h),l.push(h),p):l.length===r.length?(e.exit("mathTextSequence"),e.exit("mathText"),n(h)):(a.type="mathTextData",c(h))}}}function Tr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type===A.lineEnding||t[n][1].type==="space")&&(t[e][1].type===A.lineEnding||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!==A.lineEnding&&(r=i):(i===e||t[i][1].type===A.lineEnding)&&(t[r][1].type="mathTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Ht(t){return t!==C.backslash||this.events[this.events.length-1][1].type===A.characterEscape}function Lr(){return{flow:{[C.dollarSign]:kr,[C.backslash]:gr},text:{[C.dollarSign]:Ar(),[C.backslash]:[Cr(),Dr()]}}}function _r(){const t=this.data();e("micromarkExtensions",Lr()),e("fromMarkdownExtensions",mr()),e("toMarkdownExtensions",fr());function e(n,i){(t[n]?t[n]:t[n]=[]).push(i)}}export{Or as C,_r as a,jr as b,Rr as c,Pr as d,et as e,Pn as f,zt as g,$r as r,Nr as s};
//# sourceMappingURL=gi6j3i926p314he0.js.map
