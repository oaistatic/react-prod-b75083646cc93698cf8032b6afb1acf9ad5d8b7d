import{r as f,j as t,H as C,C as _,m as j,A as N,h as T}from"./lu2xqwqmjc95q6j6.js";import{c$ as A,d as y,dh as S,gZ as R}from"./hml6mmd5fyx85si7.js";import{H as P,d as L,a as G,b as B}from"./kbtw3uyv5sip33e1.js";import{u as M}from"./o7uyn4uj91ji7r0x.js";import{b$ as $}from"./rseqzngxzbdt1oxg.js";import{X as H,P as z}from"./mb2aif0uaw00qnua.js";import{M as O}from"./dzvsby9hqovarpm8.js";const F=f.memo(function({categories:o,activeCategory:s,onSelect:u,darkModeDisabled:r}){const a=A(),[n,m]=M({threshold:0}),[d,l]=M({threshold:0}),[x,w]=f.useState(!0);f.useEffect(()=>{if(a)return;const c=$(()=>{w(window.scrollY>document.body.scrollHeight-window.innerHeight-200)},100);return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[a]);const b=a&&!n,e=!d;return t.jsxs(t.Fragment,{children:[t.jsxs(C,{id:"category-toggle",children:[t.jsx("div",{ref:m}),t.jsx(E,{categories:o,activeCategory:s,onSelect:u,className:y({"sticky top-22":a,"shadow-lg":b&&a}),darkModeDisabled:r}),t.jsx("div",{ref:l})]}),t.jsx(C,{id:"category-toggle-mobile",children:t.jsx(E,{categories:o,activeCategory:s,onSelect:u,className:y("fixed start-0 end-0 bottom-2 shadow-lg transition-[transform_opacity] duration-300",{"translate-y-0 opacity-100":!a&&e&&!x,"translate-y-full opacity-0":!a&&(!e||x),hidden:a}),darkModeDisabled:r})})]})});function E({categories:i,activeCategory:o,onSelect:s,className:u,darkModeDisabled:r}){const a=_();return t.jsx("div",{className:y("z-10 mx-auto -mt-2 flex w-fit gap-2 overflow-x-auto rounded-full p-1",{"bg-white":r,"bg-token-bg-tertiary":!r},u),children:i.map(n=>t.jsxs("button",{onClick:()=>{H.logCategoryClick({category_name:n.name,category_slug:n.slug}),s(n)},className:"relative rounded-full px-4 py-2 font-medium",children:[o.name===n.name&&(a?t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-full",style:{backgroundColor:n.color}}):t.jsx(j.span,{layoutId:"bubble",className:"bg-token-bg-primary pointer-events-none absolute inset-0 rounded-full transition-colors",style:{backgroundColor:n.color},transition:{layout:{type:"spring",bounce:.2,duration:.6}}})),t.jsx("span",{className:"relative z-10",children:n.name})]},n.name))})}function V({assets:i,footnote:o}){const s=S();return t.jsxs("footer",{className:"py-4",children:[t.jsx("div",{className:"relative mx-auto max-w-3xl px-4 text-center",children:t.jsx(N,{children:i?.[2]&&t.jsx(j.img,{src:i[2].url,alt:i[2].alt,className:"mx-auto w-4/5 max-w-[600px] md:w-1/2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:s?0:.5}},i[2].url)})}),t.jsxs("div",{className:"mx-auto mt-4 flex max-w-screen-2xl flex-col items-center gap-5 px-4 pb-2 text-center text-sm whitespace-pre-line sm:px-8 sm:pb-4",children:[o&&t.jsx("p",{children:o}),t.jsx(O,{})]})]})}const W=24,X=20,Y=38,Z=60,q=66,J=2;function K({activeCategory:i,prompts:o,darkModeDisabled:s}){const u=_(),r=A(),a=R(),n=f.useMemo(()=>{if(!r)return o.map(e=>[e]);const m=a?3:2,d=Array.from({length:m},()=>[]),l=Array.from({length:m},()=>0),x=e=>{const c=Math.ceil(e.title.length/Z),p=Math.ceil(e.prompt.length/q),v=Math.min(2,Math.ceil(e.attachments.length/J))*Y;return c*W+p*X+v},b=Math.floor(o.length/m)*m;for(let e=0;e<b;e++){const c=o[e],p=x(c),h=e%m;d[h].push(c),l[h]+=p}for(let e=b;e<o.length;e++){const c=o[e],p=x(c),h=l.indexOf(Math.min(...l));d[h].push(c),l[h]+=p}return d},[o,a,r]);return t.jsx("div",{className:"can-hover:[&:has(.prompt-card:hover)_.prompt-card:not(:hover)]:opacity-70 can-hover:[&:has(.prompt-card:focus-within)_.prompt-card:not(:focus-within)]:opacity-70 mx-auto mt-5 flex max-w-screen-2xl flex-col gap-4 px-4 sm:mt-12 sm:flex-row sm:gap-4 sm:px-8",children:n.map((m,d)=>t.jsx("div",{className:"flex flex-1 gap-4 sm:flex-col",children:t.jsx(N,{mode:"wait",children:m.map((l,x)=>t.jsx(j.div,{className:"w-full backdrop-blur-lg",initial:{opacity:0,y:u?0:20},animate:{opacity:1,y:0},exit:{opacity:0,transition:{duration:.2}},transition:{duration:r?.4:.2,delay:r?d*.05+x*.05:0},children:t.jsx(z,{prompt:l,darkModeDisabled:s,categorySlug:i.slug})},`${i.name}-${d}-${x}`))})},d))})}function Q({title:i,description:o,assets:s,overrides:u,className:r}){const a=S(),n=t.jsx(N,{children:s.length>0&&t.jsxs("div",{className:"md:[h-200px] -my-6 flex h-[240px] justify-around sm:mt-5 sm:mb-0 sm:h-auto",children:[t.jsx(j.img,{src:s[0].url,alt:s[0].alt,className:"aspect-auto max-w-[320px] sm:absolute sm:start-10 sm:top-30 sm:w-1/4 md:top-20 lg:-top-24",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a?0:.5}},s[0].url),t.jsx(j.img,{src:s[1].url,alt:s[1].alt,className:"aspect-auto max-w-[320px] sm:absolute sm:end-10 sm:top-30 sm:block sm:w-1/4 md:top-20 lg:-top-24",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a?0:.5}},s[1].url)]})});return t.jsx("section",{className:y("relative pt-12 text-center sm:pt-20 sm:pb-28",r),children:t.jsxs("div",{className:"relative mx-auto max-w-screen-2xl px-4",children:[t.jsx("div",{className:"hidden sm:block",children:n}),t.jsx("h1",{className:"mx-auto mb-2 max-w-md text-3xl font-medium text-balance whitespace-pre-line sm:mb-4 sm:max-w-lg sm:text-4xl md:text-6xl",style:{maxWidth:u?.titleMaxWidth},children:i}),t.jsx("p",{className:"mx-auto max-w-md text-sm text-balance whitespace-pre-line sm:max-w-lg sm:text-lg",children:o}),t.jsx("div",{className:"block sm:hidden",children:n})]})})}function nt({pageData:i,audience:o,headerNavData:s}){const{title:u,description:r,prompts_with_categories:a,footnote:n,template:m,overrides:d}=i,l=a.map(g=>g.category),x=a.flatMap(g=>g.category.prompts),{hash:w}=T(),b=l.find(g=>g.slug===w.slice(1)),[e,c]=f.useState(b??l[0]),p=m==="colorful",[h,v]=f.useState(!1),k=f.useCallback(()=>{v(g=>!g)},[]);function I(g){c(g),window.history.replaceState({},"",`#${g.slug}`)}return f.useEffect(()=>{H.init({audience:o})},[o]),t.jsxs("div",{className:y("font-oai min-h-screen transition-colors duration-500",{"text-black":p}),style:{backgroundColor:e.color},children:[s&&t.jsxs(P.Provider,{value:{effectiveLocale:L,isNavigationMobileOpen:h,toggleNavigationMobile:k},children:[t.jsx(G,{className:y("fixed top-0 z-50 w-full transition-colors duration-500",e.color===""?"bg-token-bg-primary":""),navData:s,disableDarkMode:p,style:{backgroundColor:e.color}}),t.jsx(B,{data:s,locale:L,style:{backgroundColor:e.color}})]}),t.jsx(Q,{title:u,description:r,assets:e.assets,overrides:d,className:y({"pt-20":!!s})}),l.length>1&&t.jsx(F,{categories:l,activeCategory:e,onSelect:I,darkModeDisabled:p}),t.jsx(K,{activeCategory:e,prompts:e.slug===""?x:e.prompts,categories:l,darkModeDisabled:p}),t.jsx(V,{assets:e.assets,footnote:n})]})}export{nt as P};
//# sourceMappingURL=det1nkhr1jr07luz.js.map
