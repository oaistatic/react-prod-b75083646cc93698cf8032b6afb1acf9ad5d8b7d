import{r as p,j as i}from"./lu2xqwqmjc95q6j6.js";import{r as A,C as N}from"./o572axebpu1po9aj.js";import{d as f,t as R}from"./hml6mmd5fyx85si7.js";import{b as M}from"./fnnx0iybebnoqw84.js";import C from"./cghk0nvu7io3b91m.js";import{aL as S,q as z}from"./rseqzngxzbdt1oxg.js";import{g as L,r as k}from"./dqlq48pi99hk7emz.js";import"./jfcw0mug9py1qits.js";import"./o7uyn4uj91ji7r0x.js";const T={"ease-in-out-quick":{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"},"ease-in-out-slow":{duration:500,easing:"cubic-bezier(0.5, 0, 0.5, 1)"},"ease-out-cubic":{duration:300,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"}},E=({isOpen:t,richTextContent:o,containerId:r,ariaLabelledById:d,mediaItemSlot:l,component:s,transition:a="ease-in-out-quick",className:x})=>{const m=p.useRef(null);return i.jsx("div",{id:r,"aria-labelledby":d,"aria-hidden":!t,className:f("grid overflow-hidden transition-[grid-template-rows,padding-bottom,opacity] motion-reduce:transition-none",{"grid-rows-[minmax(0,0fr)] pb-0 opacity-0":!t,"grid-rows-[minmax(0,1fr)] pb-6 opacity-100":t}),style:{transitionDuration:`${T[a].duration}ms`,transitionTimingFunction:T[a].easing,willChange:"grid-template-rows, padding-bottom, opacity"},children:i.jsxs("div",{ref:m,className:f("flex min-h-0 min-w-0 flex-col gap-4 [&>*]:m-0",x),children:[o,l,s&&i.jsx("div",{className:"mt-5",children:s})]})})},B=({showHoverIndicator:t,transitionScheduled:o,progressIndicatorDuration:r,children:d,className:l})=>{const s=p.useRef(null);return R(()=>{const a=s.current;if(a){if(!o){a.classList.remove("scale-x-100"),a.classList.add("scale-x-0");return}a.classList.remove("scale-x-100"),a.classList.add("scale-x-0"),a.style.transitionProperty="none",a.offsetWidth,a.style.transitionProperty="",a.classList.remove("scale-x-0"),a.classList.add("scale-x-100")}},[o,r]),i.jsxs("div",{className:f("group flex flex-col",l),children:[d,i.jsxs("div",{className:"relative h-[1px] w-full",children:[i.jsx("div",{className:f("absolute inset-0 bg-black transition-opacity",{"opacity-[0.12]":t,"opacity-[0.04]":!t})}),r&&i.jsx("div",{ref:s,className:"h-full w-full origin-left scale-x-0 bg-black/40 transition-transform ease-linear",style:{transitionDuration:`${o?r:0}ms`}})]})]})},P=({heading:t,isOpen:o,onClick:r,ariaControlsId:d,buttonId:l,showIcon:s=!0,headingStyle:a="p1",disabled:x=!1,className:m})=>i.jsxs("button",{id:l,type:"button",className:f("text-token-text-primary flex items-center gap-4",m),onClick:r,"aria-expanded":o,"aria-controls":d,disabled:x,children:[i.jsx("h3",{className:f("flex-grow py-4 text-start",a==="h4"?"text-h4":"text-body"),children:t}),s&&(o?i.jsx(S,{className:"flex-shrink-0",width:16,height:16}):i.jsx(z,{className:"flex-shrink-0",width:16,height:16}))]});function F(t){const o=Math.max(0,t.delayMs);let r=null,d=!1,l=null;if(o===0)throw new Error("delayMs must be greater than 0");const s=typeof window<"u"&&"matchMedia"in window?window.matchMedia("(prefers-reduced-motion: reduce)"):null;function a(){r!=null&&(window.clearTimeout(r),r=null)}function x(){return!(d||typeof document<"u"&&document.visibilityState!=="visible"||s?.matches)}function m(c){l!==c&&(l=c,t.onStateChange?.(c))}function e(c){if(a(),!x()){m("paused");return}r=window.setTimeout(g,Math.max(0,c)),m("scheduled")}function g(){if(!x()){m("paused");return}t.advance(),e(o)}function u(c){e(o)}function v(){s?.matches?(a(),m("paused")):u()}function y(){u()}typeof document<"u"&&document.addEventListener("visibilitychange",y),s?.addEventListener?.("change",v),u();function w(){d=!0,a(),m("paused")}function b(){d=!1,u()}function n(){a(),typeof document<"u"&&document.removeEventListener("visibilitychange",y),s?.removeEventListener?.("change",v)}return{pause:w,resume:b,dispose:n}}const q={jupiter:{horizontalBalance:"more-media",mediaInclusion:"external",mediaPosition:"right",allowFullyClosed:!1,showIcon:!1,mediaRatio:"16/9",itemsVerticalTreatment:"top-wide",openHeadingStyle:"h4",closedHeadingStyle:"p2",hoverFocus:!0,transition:"ease-out-cubic",autoAdvanceTime:5e3},default:{horizontalBalance:"equal",mediaInclusion:"mobile-inline",mediaPosition:"left",allowFullyClosed:!0,showIcon:!0,mediaRatio:"1/1",itemsVerticalTreatment:"center"}},V=({accordionItems:t,variant:o})=>{const{ref:r,isIntersecting:d}=M({threshold:.5}),[l,s]=p.useState(t[0].id),a=t.find(n=>typeof n.mediaItem<"u")?.mediaItem,m=t.find(n=>n.id===l)?.mediaItem??a,e=q[o],g=p.useRef(0);p.useEffect(()=>{g.current=Math.max(0,t.findIndex(n=>n.id===l))},[l,t]);const u=p.useRef(null),[v,y]=p.useState(!1);p.useEffect(()=>{if(!e.autoAdvanceTime||t.length<=1)return;u.current?.dispose();const n=F({delayMs:e.autoAdvanceTime??0,advance:()=>{const c=(g.current+1)%t.length;s(t[c].id)},onStateChange:c=>{y(c==="scheduled")}});return u.current=n,()=>n.dispose()},[t.length,e.autoAdvanceTime,t]);const w=p.useCallback((n,c)=>()=>{s(h=>{if(!(n===h&&e.allowFullyClosed))return n})},[e]);p.useEffect(()=>{d?u.current?.resume():u.current?.pause()},[d]);const b=i.jsx("div",{onMouseEnter:()=>u.current?.pause(),onMouseLeave:()=>u.current?.resume(),onFocusCapture:()=>u.current?.pause(),onBlurCapture:()=>u.current?.resume(),children:t.map((n,c)=>{const h=l===n.id,j=`trigger_${n.id}`,I=`content_${n.id}`;return i.jsxs(B,{showHoverIndicator:e.allowFullyClosed||!h,transitionScheduled:h&&!!e.autoAdvanceTime&&v,progressIndicatorDuration:e.autoAdvanceTime,className:f({"transition-opacity duration-200 ease-linear group-focus-within/accordion:opacity-40 group-hover/accordion:opacity-40 focus-within:opacity-100! hover:opacity-100!":e.hoverFocus}),children:[i.jsx(P,{buttonId:j,ariaControlsId:I,heading:n.heading,isOpen:h,onClick:w(n.id,c),showIcon:e.showIcon,headingStyle:h?e.openHeadingStyle:e.closedHeadingStyle,disabled:!e.allowFullyClosed&&h}),i.jsx(E,{isOpen:h,richTextContent:n.content,containerId:I,ariaLabelledById:j,mediaItemSlot:n.mediaItem&&e.mediaInclusion==="mobile-inline"?i.jsx(C,{...n.mediaItem,ratio:e.mediaRatio,className:"multi-columns:block md:hidden",videoAutoPlay:!0}):null,component:n.component,transition:e.transition})]},n.id)})});return m?i.jsxs("div",{className:f("max-w-8xl multi-columns:flex multi-columns:px-0 grid w-full grid-cols-12 md:px-0",{"gap-6":e.itemsVerticalTreatment==="top-wide"}),ref:r,children:[i.jsx("div",{className:f("col-span-12 col-start-1 md:row-start-1",{"hidden md:flex":e.mediaInclusion==="mobile-inline","md:col-span-6":e.horizontalBalance==="equal","md:col-span-9":e.horizontalBalance==="more-media","md:col-start-4":e.mediaPosition==="right"&&e.horizontalBalance==="more-media","md:col-start-7":e.mediaPosition==="right"&&e.horizontalBalance==="equal"}),children:i.jsx("div",{className:"relative w-full",style:{aspectRatio:e.mediaRatio},children:t.map(n=>{const c=n.id===l,h=n.mediaItem??m;return h?i.jsx("div",{className:f("absolute inset-0 transition-opacity duration-300",{"z-10 opacity-100":c,"pointer-events-none z-0 opacity-0":!c}),children:i.jsx(C,{...h,ratio:e.mediaRatio,videoAutoPlay:!0})},n.id):null})})}),i.jsx("div",{className:f("col-span-12 col-start-1 md:row-start-1",{"md:col-span-6":e.horizontalBalance==="equal","md:col-span-3":e.horizontalBalance==="more-media","md:col-start-7":e.mediaPosition==="left"&&e.horizontalBalance==="equal","md:col-start-10":e.mediaPosition==="left"&&e.horizontalBalance==="more-media","md:grid md:grid-cols-6 md:items-center":e.itemsVerticalTreatment==="center"}),children:i.jsx("div",{className:f("group/accordion flex w-full flex-col",{"md:col-start-2 md:col-end-6":e.itemsVerticalTreatment==="center","border-token-border-light border-y md:border-none":e.mediaInclusion==="mobile-inline"}),children:b})})]}):i.jsx("div",{className:"max-w-8xl multi-columns:flex multi-columns:px-0 grid w-full grid-cols-12 gap-6 px-5 md:px-6",children:i.jsx("div",{className:"group/accordion border-token-border-light col-start-1 col-end-13 flex flex-col border-t md:col-start-4 md:col-end-10",children:b})})},H=({content:t})=>{const o=L();return k.documentToReactComponents(t,o)},U=t=>{const o=t.accordionItems.map(({id:r,heading:d,content:l,mediaItem:s,component:a})=>({id:r,heading:d,content:i.jsx(H,{content:l}),mediaItem:s,component:a?A(a,N):void 0}));return i.jsx(V,{accordionItems:o,variant:t.variant??"default"})};export{U as default};
//# sourceMappingURL=m7thdhv2qtusbuiz.js.map
