import{e as M,r as p,j as t,m,A as f,d as O}from"./lu2xqwqmjc95q6j6.js";import{u as D,A as U,P as h,aQ as z,bl as I,d as j,B as w,a as B,aJ as W}from"./hml6mmd5fyx85si7.js";import{S as q}from"./b4dvi1xom4p5x1vj.js";import{iv as F,iN as R,lr as $}from"./rseqzngxzbdt1oxg.js";import{u as G}from"./h6ixtb8gt8p0e0n1.js";import{s as b,R as V}from"./lk6f2fcw58i5vhbp.js";import{s as H}from"./l2l4d2d2bzani7km.js";const J="/assets/check-ic8w9al5.webp",K={src:J},Q="/assets/prompt_tour_bg_1-iuffr7bz.webp",X={src:Q},Y="/assets/redesign_house-j7tyooum.webp",Z={src:Y},tt="/assets/sms-iu0m1fyn.webp",et={src:tt},st="/assets/static_onboarding_bg_1-ecvwtnea.webp",at={src:st},it="/assets/static_onboarding_bg_2-j383egmg.webp",ot={src:it},rt="/assets/static_onboarding_bg_3-ooawgpki.webp",T={src:rt},nt="/assets/static_onboarding_bg_all_set-gymwu5pk.webp",ct={src:nt},a=O({title:{id:"static-new-user-onboarding.title",defaultMessage:"Welcome to ChatGPT"},askAnythingTitle:{id:"static-new-user-onboarding.ask-anything.title",defaultMessage:"Ask anything"},askAnythingDescription:{id:"static-new-user-onboarding.ask-anything.description",defaultMessage:"From quick questions to big ideas, ChatGPT is here to help."},askAnythingPrompt:{id:"static-new-user-onboarding.ask-anything.prompt-2",defaultMessage:"Help me build a morning routine to start my day with more focus"},pictureThisTitle:{id:"static-new-user-onboarding.picture-this.title-2",defaultMessage:"Create images"},pictureThisDescription:{id:"static-new-user-onboarding.picture-this.description",defaultMessage:"Describe an idea and watch it come to life, or edit your photos with just a phrase."},pictureThisPrompt:{id:"static-new-user-onboarding.picture-this.prompt-2",defaultMessage:"Redesign this room with new paint and furniture"},pictureThisLongPrompt:{id:"static-new-user-onboarding.picture-this.long-prompt-2",defaultMessage:"Redesign this room with new paint and furniture. I'll attach the photo of the room."},easyUploadsTitle:{id:"static-new-user-onboarding.easy-uploads.title-2",defaultMessage:"Chat about images or files"},easyUploadsDescription:{id:"static-new-user-onboarding.easy-uploads.description",defaultMessage:"Get instant summaries or analysis by uploading images and documents."},easyUploadsPrompt:{id:"static-new-user-onboarding.easy-uploads.prompt-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt?"},easyUploadsPromptLong:{id:"static-new-user-onboarding.easy-uploads.prompt-long-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt? I'll attach the screenshot."},tryIt:{id:"static-new-user-onboarding.try-it",defaultMessage:"Try it"},next:{id:"static-new-user-onboarding.next",defaultMessage:"Next"},close:{id:"static-new-user-onboarding.close",defaultMessage:"Close"},screenshot:{id:"static-new-user-onboarding.screenshot",defaultMessage:"Screenshot"},quickHeadsup:{id:"static-new-user-onboarding.quick-headsup",defaultMessage:"A quick heads up"}}),E="static-onboarding.all-set";function lt({prompt:x,onSubmit:s}){const r=M();return t.jsxs("span",{className:"group bg-token-bg-elevated-primary border-token-border-light inline-flex items-end justify-center gap-3 self-stretch rounded-3xl border p-3 ps-4 shadow-xl backdrop-blur-[20px]",children:[t.jsx("span",{className:"text-token-text-primary flex-1 justify-end text-start text-sm leading-tight font-normal duration-300 sm:opacity-65 sm:group-hover:opacity-100",children:x}),t.jsx(w,{icon:q,size:"small",label:r.formatMessage(b.tryNow),onClick:s,className:"h-7 w-7 transition-all duration-300 sm:opacity-65 sm:group-hover:opacity-100"})]})}function dt(x){const s=M(),r=B(),g=W(r,"109457",{disableExposureLog:!0}),k=G(),_=g.get("feature_tour_slide_type","FEATURES"),y={id:E,bg:ct.src,title:s.formatMessage(b.allSet),description:t.jsx("span",{className:"text-token-text-secondary text-center text-base leading-6",children:t.jsx(V,{})}),hideSecondaryButton:!0,sticker:{image:K.src,imageClassName:"w-24 h-24 rounded-2xl"}};return _==="PROMPTS"?[{id:"static-onboarding.see-what-chatgpt-can-do",bg:X.src,title:s.formatMessage(b.promptOnboardingTitle),description:s.formatMessage(b.promptOnboardingSubtitle),sticker:{image:et.src,imageClassName:"w-[140px] h-[140px] rounded-2xl"},secondaryButton:t.jsx(w,{size:"large",color:"secondary",className:"flex-1",onClick:x,children:s.formatMessage(b.skip)})},...k.slice(0,3).map(o=>({id:o.id??"",bgColor:o.accentColor,title:o.title,description:o.body,descriptionStyle:"composer",promptLong:o.prompt,sticker:{image:o.iconImageUrl,imageClassName:"w-[140px] h-[140px]"}})),{...y,bg:T.src,sticker:void 0}]:[{id:"static-onboarding.ask-anything",bg:at.src,prompt:s.formatMessage(a.askAnythingPrompt),title:s.formatMessage(a.askAnythingTitle),description:s.formatMessage(a.askAnythingDescription),sticker:{image:H.src,imageClassName:"w-24 h-24 sm:w-28 sm:h-28 rotate-[-5deg] rounded-2xl absolute top-0 right-full translate-x-5 sm:translate-x-6 -translate-y-8"},bubbleClassName:"rotate-[-1deg]",className:"flex-row-reverse translate-x-3 sm:translate-x-4 -translate-y-1"},{id:"static-onboarding.picture-this",bg:ot.src,prompt:s.formatMessage(a.pictureThisPrompt),promptLong:s.formatMessage(a.pictureThisLongPrompt),title:s.formatMessage(a.pictureThisTitle),description:s.formatMessage(a.pictureThisDescription),sticker:{image:Z.src,imageClassName:"w-24 h-24 origin-top-left rotate-[3.61deg] -translate-x-1.5 translate-y-4  rounded-3xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]"},bubbleClassName:"rotate-[-1deg]"},{id:"static-onboarding.easy-uploads",bg:T.src,prompt:s.formatMessage(a.easyUploadsPrompt),promptLong:s.formatMessage(a.easyUploadsPromptLong),title:s.formatMessage(a.easyUploadsTitle),description:s.formatMessage(a.easyUploadsDescription),sticker:{icon:t.jsx($,{}),text:s.formatMessage(a.screenshot)+".png"},className:"rotate-[1deg]"},y]}function yt({clientThreadId:x}){const{isOpen:s,isLoading:r,closeModal:g,markAsViewed:k}=F(),{markAsViewed:_,eligible:y}=D(U.Onboarding),o=M(),S=R({clientThreadId:x}),N=p.useCallback(()=>{h.logEventWithStatsig("Onboarding Dismissed","chatgpt_onboarding_flow_dismissed"),g()},[g]),C=p.useCallback((c,u,i)=>{const d=i.promptLong??i.prompt;if(d)try{S({suggestedPrompt:{id:i.id,type:z.Starter,title:i.title??"",body:typeof i.description=="string"?i.description:"",prompt:d},index:u,isOnboarding:!0}),g(),h.logEventWithStatsig("Onboarding Try Prompt","chatgpt_onboarding_flow_try_prompt",{step_index:u,prompt_id:i.id})}catch(v){h.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{error:v instanceof Error?v.message:String(v)})}},[S,g]),l=dt(N);p.useEffect(()=>{const c=l.flatMap(i=>{const d=[];return i.bg&&d.push(i.bg),i.sticker?.image&&d.push(i.sticker.image),d});Array.from(new Set(c)).forEach(i=>{const d=new Image;d.src=i,d.decode?.().catch(()=>{})})},[l]);const[n,P]=p.useState(0);p.useEffect(()=>{s&&!r&&(k(),h.logEventWithStatsig("Onboarding Shown","chatgpt_onboarding_flow_shown"))},[s,r,k]),p.useEffect(()=>{s&&!r&&h.logEventWithStatsig("Onboarding Step Shown","chatgpt_onboarding_step_shown",{step_index:n})},[n,s,r]),p.useEffect(()=>{s&&!r&&l[n]?.id===E&&y&&_()},[n,s,r,_,l,y]);const A=p.useCallback(()=>{h.logEventWithStatsig("Onboarding Next","chatgpt_onboarding_flow_next_clicked",{step_index:n}),P(c=>Math.min(c+1,l.length-1))},[n,l.length]),L=p.useCallback(()=>{h.logEventWithStatsig("Onboarding Finished","chatgpt_onboarding_flow_finished"),g()},[g]);if(!s||r)return null;const e=l[n];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35},className:"absolute inset-0 bg-black/60","aria-hidden":"true",onClick:N}),t.jsx(f,{mode:"wait",children:t.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35},className:"relative z-10 w-full sm:max-w-[480px]",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:c=>c.stopPropagation(),children:t.jsxs("div",{className:"overflow-hidden rounded-t-3xl sm:rounded-3xl",children:[t.jsx("button",{type:"button","aria-label":o.formatMessage(a.close),onClick:N,className:"outline-token-border-xlight absolute end-3 top-3 z-20 rounded-full bg-white/30 p-2 shadow outline outline-1 backdrop-blur-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:t.jsx(I,{className:"icon text-black"})}),t.jsxs("div",{className:"bg-token-bg-primary pointer-events-none relative h-60 w-full select-none sm:h-64",children:[t.jsxs(f,{initial:!1,children:[e.bg&&t.jsx(m.img,{src:e.bg,alt:o.formatMessage(a.title),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 h-full w-full rounded-t-3xl object-cover object-top"},e.bg),e.bgColor&&t.jsx(m.div,{className:"absolute inset-0",style:{background:e.bgColor},initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},transition:{duration:.5}},e.bgColor)]}),t.jsx("div",{className:"absolute start-0 bottom-0 z-10 w-full px-6 pt-24 sm:px-8",style:{background:"linear-gradient(to top, var(--bg-primary) 0%, var(--bg-primary) 20%, color-mix(in srgb, var(--bg-primary) 50%, transparent) 40%, transparent 100%)"},children:t.jsx(f,{mode:"wait",children:t.jsx(m.h2,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,delay:.05},className:"text-token-text-primary text-center text-xl font-medium",children:e.title},e.id)})}),t.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center px-6 sm:px-8",children:t.jsx(f,{mode:"wait",children:t.jsxs(m.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:j("relative ms-1.5 flex max-w-[80%] -translate-y-5 sm:max-w-[70%]",e.sticker?.text?"flex-col items-end":"items-center",e.className),children:[e.sticker?.text&&t.jsx(m.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:"z-10 -translate-x-2 translate-y-1 rounded-full bg-white/80 px-3 py-1.5 text-sm shadow-lg backdrop-blur-md",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-base text-gray-800",children:[e.sticker.icon&&t.jsx("span",{children:e.sticker.icon}),t.jsx("span",{children:e.sticker.text})]})}),e.prompt&&t.jsx("div",{className:j("pointer-events-auto inline-block rounded-3xl px-4 py-3 leading-6 text-black shadow-lg backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 sm:px-5 sm:py-4 sm:text-lg",e.bubbleClassName),children:e.prompt}),e.sticker?.image&&t.jsx(m.img,{src:e.sticker.image,alt:"",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:j(e.sticker.imageClassName??"h-16 w-16 -translate-x-3 rotate-10 rounded-2xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]")})]},e.id)})})]}),t.jsxs("div",{className:"bg-token-main-surface-primary flex flex-col justify-center px-8 py-4 pb-8",children:[t.jsx(f,{mode:"wait",children:t.jsx(m.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,delay:.1},children:t.jsx("p",{className:"text-token-text-secondary mx-auto min-h-[5rem] text-center text-base leading-6",children:e.descriptionStyle==="composer"?t.jsx(lt,{prompt:e.description,onSubmit:c=>C(c,n,e)}):e.description})},e.id)}),t.jsx("div",{className:"my-6 flex items-center justify-center","aria-hidden":"true",children:l.map((c,u)=>t.jsx("button",{onClick:()=>P(u),className:"p-[3px]",children:t.jsx("div",{className:j("h-1.5 w-1.5 rounded-full transition-colors duration-300 ease-out",u===n?"bg-token-main-surface-primary-inverse":"bg-token-bg-secondary dark:bg-token-bg-tertiary")})},u))}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!e.hideSecondaryButton&&(e.secondaryButton??t.jsx(w,{size:"large",color:"secondary",className:"flex-1",onClick:c=>C(c,n,e),children:o.formatMessage(a.tryIt)})),n<l.length-1?t.jsx(w,{size:"large",color:"primary",className:"flex-1",onClick:A,children:o.formatMessage(a.next)}):t.jsx(w,{size:"large",color:"primary",className:"flex-1",onClick:L,children:o.formatMessage(b.done)})]})]})]})})})]})}export{yt as default};
//# sourceMappingURL=fks3c9u8t5cb90cs.js.map
