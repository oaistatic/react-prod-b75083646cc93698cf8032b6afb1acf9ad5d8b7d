import{e as h,j as e,M as i,d as w,r as c,b as A,l as L,a as O,A as F,h as _,m as G}from"./lu2xqwqmjc95q6j6.js";import{b5 as b,nn as B,bg as D,aM as R,P as u,B as f,F as N,a as z,bh as X,bO as Y,c7 as H}from"./hml6mmd5fyx85si7.js";import{S as v,c as $,P as U,a as W,b as V}from"./nohg53coy3yrd07c.js";import{dp as q,dz as K,ix as Q,go as J}from"./rseqzngxzbdt1oxg.js";import{a as Z}from"./fr9vfqox5r3jcnyn.js";import{c as ee}from"./iej0cupg2dqkmejt.js";import{I as ae}from"./gwgozeiaqx1b8zio.js";import{u as te,m as se}from"./ml28jwjklb12w4ms.js";import{G as ne}from"./gd32qcta4xox96ak.js";function oe({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0}){const n=h();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(i,{...M.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(i,{...M.workspaceNameDescription})})]}),e.jsx(ae,{className:"w-full",type:"text",name:"workspace-name",placeholder:n.formatMessage(M.exampleTeamWorkspaceName),value:t,onChange:o=>a(o.target.value),maxLength:64})]})}const M=w({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function re({onNext:t}){const a=b();return a?e.jsx(ie,{onNext:t,currentAccount:a}):e.jsx(B,{})}function ie({onNext:t,currentAccount:a}){const s=h(),n=D(),o=R(),l=a.data,j=q(s,a,o),[r,S]=c.useState(j||""),[P]=A(),x=P.get("account_id"),m=te(x??a.data.id),p=c.useCallback(async()=>{if(!a)return;const g=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",g);try{r!==l.name&&(await m.mutateAsync({name:r}),u.logEvent("Account Pay: Create Workspace Modal Renamed",g)),t()}catch{n.warning(s.formatMessage(se.saveError),{hasCloseButton:!0})}},[a,l.name,s,t,m,n,r]);return c.useEffect(()=>{if(!a)return;const g=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",g)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(i,{...K.nameWorkspace})}),e.jsx($,{children:e.jsx(oe,{workspaceName:r,onChangeWorkspaceName:S,showHeader:!1})}),e.jsx(f,{loading:m.isPending||a==null,onClick:()=>{p()},disabled:r.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(i,{...N.continueButtonText})})]})}var I=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(I||{});const ce={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},C=["landing","naming","invite","caOnboarding","complete"];function le(){const t=L(),a=O(),{currentPath:s,currentStep:n}=fe(),o=z(),l=h(),j=D(),[r,S]=c.useState(1),[P]=A(),x=P.get("account_id");c.useEffect(()=>{function p(){S(-1)}return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const m=()=>{S(1);let p=C.indexOf(n);const g=C[p+1],T=g==="caOnboarding"?Y(o,"555825174").get("enabled",!1):!1;g==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:x,experimentFlag:T}),g==="caOnboarding"&&!T&&p++;const E=p+1;x&&a("/"),p!==-1&&E<C.length&&a(s+"#"+C[E])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(F,{mode:"wait",custom:r,children:[n==="landing"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(de,{onNext:m})},"landing"),n==="naming"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(re,{onNext:m})},"naming"),n==="invite"&&e.jsx(k,{custom:r,children:e.jsx(ue,{onNext:m})},"invite"),n==="caOnboarding"&&e.jsx(k,{custom:r,children:e.jsx(ge,{onNext:m})},"caOnboarding"),n==="complete"&&e.jsx(k,{custom:r,children:e.jsx(xe,{onNext:()=>{m(),x&&X(t,x,o,l,j),a("/")}})},"complete")]})})}const k=t=>e.jsx(G.div,{initial:"enter",animate:"center",exit:"exit",variants:ce,transition:{translateX:{type:"just"},opacity:{duration:.2}},...t});function de({onNext:t}){const a=b(),s=c.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",{...n,referrer:l})},[a]);return c.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Show",{...n,referrer:l})},[a]),e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!1}),e.jsx(v,{children:e.jsx(i,{...d.standard})}),e.jsx(W,{children:e.jsx(i,{...d.description})}),e.jsx(f,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(i,{...N.continueButtonText})})]})}function ue({onNext:t}){const a=h(),s=b(),{data:n}=Q(),o=c.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return c.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",o)},[o,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(i,{...d.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(i,{...d.completeDescription})}),e.jsx(Z,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(d.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const me="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",pe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function ge({onNext:t}){const a=h(),s=b(),[n,o]=c.useState(!1),[l,j]=c.useState(!1);return c.useEffect(()=>{if(!s)return;const r=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",r)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:me,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>j(!0)}),!l&&e.jsx("img",{src:pe,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(d.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(d.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(f,{onClick:()=>o(!0),icon:H,size:"large",fullWidth:!0,children:a.formatMessage(d.caOnboardingConnectButton)}),e.jsx(f,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(d.skipCaOnboarding)})]}),n&&e.jsx(ne,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:r=>{o(!1),r&&t()}})]})}function xe({onNext:t}){const a=b(),s=c.useMemo(()=>a?.subscriptionAnalyticsParams,[a]);c.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(i,{...d.completeTitle})}),e.jsx(W,{children:e.jsx(i,{...d.completeDescription})}),e.jsx(f,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(i,{...d.continueToChatgpt})})]})}function fe(){const{hash:t,pathname:a,search:s}=_(),n=t.slice(1);return{currentStep:he(n)?n:"landing",currentPath:a+s}}const he=ee(I),d=w({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function we({isTrial:t,isTeam:a}){const s=h(),n=O(),o=c.useCallback(l=>{l.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(V,{children:[e.jsx(J,{children:e.jsx("title",{children:s.formatMessage(y.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(le,{}):e.jsx(je,{isTrial:t,onContinue:o})})]})}function je({isTrial:t,onContinue:a}){const s=t?y.trial:y.standard;return e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(v,{children:e.jsx(i,{...s})}),e.jsx(W,{children:e.jsx(i,{...y.paymentReceived})}),e.jsx(f,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(i,{...N.continueButtonText})})]})]})}const y=w({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{we as P};
//# sourceMappingURL=diwo43awvrw868jt.js.map
