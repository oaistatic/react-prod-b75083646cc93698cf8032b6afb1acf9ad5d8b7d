import{lI as A,i as C,b5 as g,a as y,c as R,G as b,H as O,L as w,jb as E,P as S,bb as T}from"./hml6mmd5fyx85si7.js";import{b as x,a as L,N as v,r as i,ae as j,j as o,d as k}from"./lu2xqwqmjc95q6j6.js";import{C as F}from"./m68celnbq0esehhj.js";import{A as I}from"./ilqp9l3xluxte4ke.js";import{C as s}from"./bhajl6jak2hedqsu.js";import"./dy6grwmx1xskr6sg.js";import"./rseqzngxzbdt1oxg.js";import"./imrgbs6xko452vv3.js";import"./i4sx5w9qnb2pqgar.js";import"./n39npmecfg2nmjo7.js";import"./fibktxptqydbr54o.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(s),N={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function U(r){r&&s[r]&&(window.location.href=s[r])}const W=A(function(){const[h]=x(),n=L(),_=C(),{plan:a}=v(),e=h.get("checkout_from"),l=i.useRef(!1),t=g(),u=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),M=y(),c=R(M,"1719651090");if(!a||!(a in m))throw j("/");return i.useEffect(()=>{if(!t||l.current)return;if(l.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const p=e&&f.includes(e)?N[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&O.setItem(w.CheckoutFrom,e);const d=await F.getCheckoutLink({plan_name:m[a],billing_details:{currency:E}});S.logEvent("Account Pay: Purchase Plan Redirect",{...u,plan:a,location:p}),window.location.href=d.url}catch{T(n,p)}})()},[n,_,a,e,u,c,t]),o.jsxs(o.Fragment,{children:[t&&e==="vza493q"&&c&&o.jsx(I,{currentAccount:t,onClose:()=>U(e),subtitle:P.operatorModalSubtitle,title:P.operatorModalTitle}),o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(b,{})})]})}),P=k({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{W as default};
//# sourceMappingURL=l32iixlvo7k9thmp.js.map
