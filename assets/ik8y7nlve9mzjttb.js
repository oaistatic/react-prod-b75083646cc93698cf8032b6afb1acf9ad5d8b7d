import{r as h,e as T,j as o,A,m as k}from"./lu2xqwqmjc95q6j6.js";import{u as C,A as E,a as P,c as I,D as L,aN as B,jE as D,cp as G,aO as V,aI as $,T as K,bw as F,d as x,aQ as N,fN as O,df as R}from"./hml6mmd5fyx85si7.js";import{cv as Y,cw as U,X as _,cx as z}from"./rseqzngxzbdt1oxg.js";import{a as Q}from"./isxemcalu9537a8n.js";const X=()=>h.useContext(M),M=h.createContext({shouldShow:!1}),v="https://persistent.oaistatic.com/burrito-nux",j=[`${v}/640.webp 640w`,`${v}/1280.webp 1280w`,`${v}/1920.webp 1920w`].join(", "),q=()=>{const{isSuccess:s}=U(`${v}/640.webp`);return o.jsxs(k.picture,{initial:{opacity:0},animate:{opacity:s?1:0},exit:{opacity:0},transition:{enter:{duration:.3,type:"spring",bounce:.1},exit:{duration:2,type:"spring",bounce:.1}},className:"absolute inset-0 h-full w-full overflow-hidden",children:[o.jsx("source",{type:"image/webp",srcSet:j}),o.jsx("img",{className:"absolute inset-0 h-full w-full scale-[1.02] object-cover opacity-50 blur-2xl dark:opacity-30",alt:"","aria-hidden":"true",src:`${v}/640.webp`,srcSet:j,sizes:"100vw",loading:"eager",fetchPriority:"high"}),o.jsx("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-b from-transparent to-white dark:to-black"})]})},te=({clientThreadId:s,children:i})=>{const n=T(),{eligible:t,isLoading:d,markAsViewed:u}=C(E.hasSeenBurritoNux),f=P(),l=I(f,"3489620775"),{pageType:c}=Y(),m=h.useMemo(()=>L(f)?{title:n.formatMessage({id:"SplashScreenV2.introduceChatGPT5",defaultMessage:"Introducing GPT-5"}),description:n.formatMessage({id:"SplashScreenV2.introduceChatGPT5Description",defaultMessage:"ChatGPT now has our smartest, fastest, most useful model yet, with thinking built in — so you get the best answer, every time."})}:{title:n.formatMessage({id:"SplashScreenV2.introduceChatGPT5.noAuth",defaultMessage:"Log in to unlock GPT-5"}),description:n.formatMessage({id:"SplashScreenV2.introduceChatGPT5Description.noAuth",defaultMessage:"ChatGPT now has our smartest, fastest, most useful model yet, with thinking built in — log in to get our best answers."})},[n,f]),[w,b]=B(s,g=>[K.getConversationTurns(g).length,g?.mode.kind]),y=D(),a=Q(),e=w>=2,r=G(s)&&!e&&(b===void 0||b===V.PrimaryAssistant)&&!y&&!a&&!y&&!a&&c?.type!=="library",p=$(),S=r&&!p&&(l||!d&&t);return h.useEffect(()=>{S&&u()},[S,u]),o.jsxs(M.Provider,{value:h.useMemo(()=>({...m,shouldShow:S}),[S,m]),children:[o.jsx(A,{children:S&&o.jsx(q,{})}),i]})};function se({composerController:s,onSelect:i,onChange:n}){const t=F(_(s).autocompletions$),d=z(),u=h.useCallback((a,e,r,p)=>{if(e.onSelectOverride)return e.onSelectOverride(a,e,r,p);i?.(e,r,p),d(a,e,r,p)},[i,d]),[f,l]=h.useState(()=>t.length>0),[c,m]=h.useState(-1),[w,b]=h.useState(!1);h.useEffect(()=>{const a=e=>{if(!e.isComposing)if(e.key==="ArrowDown"){const r=c===t.length-1?0:c+1;m(r),n?.(r,!0,t[r])}else if(e.key==="ArrowUp"){e.preventDefault();const r=c<=0?t.length-1:c-1;m(r),n?.(r,!0,t[r])}else e.key==="Enter"&&!e.shiftKey&&t[c]&&u(e,t[c],t,c)};return s.subscribe("keydown",a)},[t,c,n,u,s]),h.useEffect(()=>s.subscribe("blur",()=>{m(-1),l(!1),n?.(-1,!1)}),[s,n]),h.useEffect(()=>s.subscribe("focus",()=>l(!0)),[s]),h.useEffect(()=>{if(!w){const a=()=>{b(!0),window.removeEventListener("mousemove",a)};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}}},[w]),h.useEffect(()=>{m(-1),n?.(-1,!1),b(!1)},[t,n]);const{shouldShow:y}=X();return o.jsx(k.ul,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:x("w-full flex-col p-2.5 max-sm:px-0",f?"flex":"hidden"),children:t.map((a,e)=>o.jsxs(k.li,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},transition:{delay:e*.03},exit:{opacity:0,translateY:4},className:"w-full",children:[e>0&&o.jsx("div",{className:x("h-[1px] opacity-60 max-lg:hidden",c===e||c===e-1?"bg-token-main-surface-secondary mx-2":"bg-token-border-default")}),o.jsxs("button",{className:x("flex w-full cursor-pointer items-center justify-start rounded-lg px-2.5 py-3 text-start whitespace-pre-wrap",c===e?y?"bg-white/15 dark:bg-black/15":"bg-token-main-surface-secondary":!y&&"bg-token-main-surface-primary"),onClick:r=>{r.preventDefault(),u(r,a,t,e),O()&&R(s).dom.blur()},onMouseDown:r=>{r.preventDefault()},onMouseEnter:()=>{w&&(m(e),n?.(e,!1,a))},onMouseLeave:()=>{m(-1),n?.(-1,!1,a)},children:[a.icon?o.jsx("span",{className:"text-token-text-secondary icon me-2 flex-none",children:a.icon}):null,o.jsx("span",{className:"text-sm whitespace-pre-wrap",children:a.autocompletionChunks&&a.autocompletionChunks.length>0?o.jsx(o.Fragment,{children:a.autocompletionChunks.map((r,p)=>o.jsx("span",{className:x(r.className??(r.isMatched?"text-token-text-tertiary":"text-token-text-primary")),children:r.text},p))}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:x("text-pretty",a.type===N.Starter||a.type===N.Trending?"text-token-text-secondary":"text-token-text-tertiary"),children:a.title}),o.jsx("span",{className:"text-token-text-primary text-pretty",children:a.body})]})})]}),e>0&&o.jsx("div",{className:x("h-[1px] opacity-60 lg:hidden",c===e||c===e-1?"bg-token-main-surface-secondary mx-2":"bg-token-border-default")})]},a.id??e))})}function ae(s,i){s=s.toLocaleLowerCase();const n=i;i=i.toLocaleLowerCase();const t=[];let d=0;for(let l=0;l<i.length&&(d<s.length&&s[d]===i[l]&&(t.push(l),d++),d!==s.length);l++);const u=[];let f=0;if(t.forEach(l=>{if(l>f){const c=n.slice(f,l);c&&u.push({text:c,isMatched:!1})}u.push({text:n[l],isMatched:!0}),f=l+1}),f<i.length){const l=n.slice(f);l&&u.push({text:l,isMatched:!1})}return H(u)}function H(s){if(s.length===0)return s;const i=[s[0]];for(let t=1;t<s.length;t++){const d=i[i.length-1],u=s[t];d.isMatched===u.isMatched?d.text+=u.text:i.push(u)}const n=i.filter(t=>t.isMatched).reduce((t,d)=>t+d.text.trim().length,0);return i.length<=4&&n>=2?i:[{text:i.map(t=>t.text).join(""),isMatched:!1}]}export{se as A,te as B,ae as c,X as u};
//# sourceMappingURL=ik8y7nlve9mzjttb.js.map
