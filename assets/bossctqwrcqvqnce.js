import{lI as p,cM as c,cj as l,fH as m,a$ as u,nm as f}from"./hml6mmd5fyx85si7.js";import{J as h,K as _,r as g}from"./lu2xqwqmjc95q6j6.js";import{e as R,f as T}from"./rseqzngxzbdt1oxg.js";import"./elolu96rnfzqcgif.js";import"./ik8y7nlve9mzjttb.js";import"./isxemcalu9537a8n.js";import"./irf8dojj8b02f534.js";import"./fi4t5vltimyk5jia.js";import"./kcqshnk26ykm1u4n.js";import"./fibktxptqydbr54o.js";import"./6a3e5rtr9pyzi31y.js";import"./ogr5nmy9hq7gfgq0.js";import"./cqyjjngibokvfw83.js";const A=()=>[{title:"ChatGPT"}],G=()=>!1;function C(e){const o={},a="client-created-root";o[a]={id:a,message:{id:a,author:{role:u.Root},content:{content_type:m.Text,parts:[]}},parent:"",children:[]};let n=a;const r=[],s=new Set;for(const t of e.messages)s.add(t.id);for(const t of e.messages){let i=t.metadata?.parent_id??n;s.has(i)||(i=n),o[t.id]={id:t.id,message:t,parent:i,children:[]},n=t.id,r.push(...t.metadata?.safe_urls??[])}for(const[t,i]of Object.entries(o))i.parent!==""&&o[i.parent]?.children?.push(t);const d=e.conversation_id??e.id;return{title:e.title??null,conversation_id:d,mapping:o,current_node:n,moderation_results:[],safe_urls:e.safe_urls??r,...f(e,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember")}}const J=p(function(){const o=h(),a=_(),n=o??a;c.debug(`IN: POST=${o?.length}, GET=${a?.length}`);const r=JSON.parse(n),s=r.conversation_id??r.id;return g.useEffect(()=>{const d=C(r);R(s,d),T(s),l(s,t=>{t.continuingFromSharedConversationId=s})},[]),c.debug(`Ready ${s} (SERVER: false) : ${n.length} byte(s)`),null});export{J as default,A as meta,G as shouldRevalidate};
//# sourceMappingURL=bossctqwrcqvqnce.js.map
