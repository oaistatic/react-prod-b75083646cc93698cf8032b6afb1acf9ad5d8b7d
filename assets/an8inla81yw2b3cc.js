import{hq as c,j as m,hB as g,hp as f,aM as h,a as p,q as S,nW as d,L as l,H as u,aN as z,T as y}from"./hml6mmd5fyx85si7.js";import{r as o}from"./lu2xqwqmjc95q6j6.js";import{bm as V}from"./rseqzngxzbdt1oxg.js";function H(){const t=h(),a=p(),e=S(a);return t&&!d(t)&&e?.isEnterprisey()}function T(){return c(m.ChartSerialization)}function v(t,a){const e=t==="chart"?l.HasSeenAdaInteractiveChart:l.HasSeenAdaInteractiveTable,[n,i]=o.useState(u.getItem(e,{userId:a})??!1),s=o.useCallback(()=>{i(!0),u.setItem(e,!0,{userId:a})},[e,a]);return[n,s]}function C(t){const[a,e]=o.useState([]),n=z(t,y.getBranch);return o.useEffect(()=>{const i=b(n);i.length!==a.length&&e(i)},[a.length,t,n]),a}function _(t){const a=t.metadata?.aggregate_result?.messages.filter(V)??[];let e=0;const n=(t.metadata?.ada_visualizations??[]).map(s=>{let r=s;return s.type=="chart"&&(r={...s,fallback_image:a[e++]}),r}),i=(t.metadata?.attachments??[]).filter(s=>g(s.name)).map(s=>({type:"table",file_id:s.id??"",title:f(s),file_name:s.name,context_connector_info:s.context_connector_info}));return[...n,...i]}function b(t){return t.filter(e=>e.message?.author.role==="tool"&&e.message?.author.name==="python"||(e.message?.metadata?.attachments??[]).length>0).flatMap(e=>_(e.message))}export{C as a,H as b,v as c,_ as g,T as u};
//# sourceMappingURL=an8inla81yw2b3cc.js.map
