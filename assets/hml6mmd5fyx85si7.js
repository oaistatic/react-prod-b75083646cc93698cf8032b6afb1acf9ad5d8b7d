const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/djjloltrvhn29mf0.js","assets/lu2xqwqmjc95q6j6.js","assets/fo89h4x7cna8uitz.js","assets/ds78z60mr0lkguj5.js","assets/pbsznomsnj7v0ots.js","assets/ozplb2v7s86mfv04.js","assets/vg26urh1t1u7ig8z.js","assets/l70ydwhh5faysx46.js","assets/kwjkd9zyf9vouy1r.js","assets/rseqzngxzbdt1oxg.js","assets/conversation-small-gcvo4yhm.css","assets/b0d4329d8xfudycv.js","assets/ol8goq0tagwz5qlv.js","assets/in5q7g6zxgxsxabn.js","assets/i4sx5w9qnb2pqgar.js","assets/m68celnbq0esehhj.js","assets/hd0ljielxah53i92.js","assets/fibktxptqydbr54o.js","assets/dcmdc5lmg2seoj8s.js","assets/dfol4zbai651uc3m.js","assets/keq24jtf66f5dkme.js","assets/g5tvxcdft5tphsxu.js","assets/fc2c76vpc3m2kj8q.js","assets/isqkn4xlzoktkvfr.js","assets/mfrq4zli2i8wascw.js","assets/f9hp974e56z6b242.js","assets/b2qyefngnybfn65l.js","assets/ilqp9l3xluxte4ke.js","assets/dy6grwmx1xskr6sg.js","assets/imrgbs6xko452vv3.js","assets/n39npmecfg2nmjo7.js","assets/bhajl6jak2hedqsu.js","assets/k36o0v22fbwdj6s9.js","assets/gj7sgonhawtpcg3l.js","assets/iej0cupg2dqkmejt.js","assets/kcqshnk26ykm1u4n.js","assets/ibp9h7mio7yvq8vt.js","assets/i9gd4w8kd4obrei5.js","assets/cpmsxp57eyfj7y93.js","assets/ha5c49xdung77vuc.js","assets/hyr84xcv2uqjte34.js","assets/blj9hz7z6p2ddndc.js","assets/lsbwf2ru1kd9ka5b.js","assets/hau8z519m4bqvry5.js","assets/gg1s4honclov8kyu.js","assets/dvwl6sjz4dphxr01.js","assets/ogr5nmy9hq7gfgq0.js","assets/brb6uo37kzfug27b.js","assets/gdia3no5klrjgyrj.js","assets/ifbdwgrs45s6gn7j.js","assets/l2fd3uykkvam5v10.js","assets/glhf2v443rhkp7lb.js","assets/f8q9ifyvyyh6yaff.js","assets/bk8slwxjkdlmxjxm.js","assets/mrfdhkx0jtuz5sif.js","assets/feft8dhixbijq2q5.js"])))=>i.map(i=>d[i]);
import{I as Wk,J as Kk,K as YC,N as Yk,r as h,k as tg,c as ke,j as m,O as oi,P as _r,Q as hB,S as pB,T as ZC,R as Ee,i as JC,U as XC,g as yn,v as Cs,o as Ln,L as bf,z as mB,B as Qa,_ as ji,V as Zk,W as gB,e as ht,M as ie,d as St,X as QC,u as Tt,l as Pr,n as er,q as Xs,t as vB,x as Ah,Y as _B,h as rs,a as Qs,Z as yB,m as Jk,b as ng,s as e3,$ as bB,w as CB,a0 as SB,a1 as wB,a2 as EB,a3 as xB,a4 as Xk,a5 as Qk,a6 as eO,a7 as TB,a8 as kB,a9 as OB,aa as AB}from"./lu2xqwqmjc95q6j6.js";class Dc{static#e;#t;#r=new Map;#n=[];static get instance(){return Dc.#e||(Dc.#e=new Dc),Dc.#e}setLogger(t){if(this.#t)throw new Error("Logger already set");this.#t=t;for(const[n,r]of this.#r.entries())this.#t.addTiming(n,r);this.#r.clear();for(const{error:n,context:r}of this.#n)this.#t.addError(n,r);this.#n=[]}addTiming(t,n){this.#t?this.#t.addTiming(t,n):this.#r.set(t,n??Date.now())}addError(t,n){this.#t?this.#t.addError(t,n):(this.#n.push({error:t,context:n}),this.#n.length>10&&(console.warn("LazyLogger: too many errors"),this.#n.shift()))}}function MB(e){return function(){const n={params:Yk(),loaderData:YC(),actionData:Kk(),matches:tg()};return h.createElement(e,n)}}function IB(e){return function(){const n={params:Yk(),loaderData:YC(),actionData:Kk(),error:Wk()};return h.createElement(e,n)}}function t3(e){return function(n){const r=Symbol(void 0);return s=>{if(!s)throw new Error(`Attempted to access scoped value without a ${e}.`);const o=s;if(r in o){const i=o[r];if(i===XS)throw new Error(`[${e}] Dependency cycle during scoped value initialization.`);if(i instanceof Error)throw i;return i}try{o[r]=XS;const i=n(s);return o[r]=i,i}catch(i){const a=i instanceof Error?i:new Error(`[${e}] Failed to initialize scoped value: `+i,{cause:i});throw o[r]=a,a}}}}const en=t3("SessionContext");function RB(){const e=Symbol(void 0);return[r=>{if(!r)throw new Error("[SessionContext] Attempted to access session value without a SessionContext.");const s=r;if(e in s)return s[e];throw new Error("[SessionContext] Attempted to access session value before initialization.")},(r,s)=>{const o=r;if(e in o)throw new Error("[SessionContext] Attempted to initialize session value more than once.");o[e]=s}]}const XS=Symbol();function ae(){"use forget";const e=h.useContext(tO);if(!e)throw new Error("[SessionContext] Attempted to access sessionContext outside of <SessionContextProvider>");return e}const tO=h.createContext(void 0);function nO(){return{}}const NB=e=>{"use forget";const t=ke.c(3),{sessionContext:n,children:r}=e;let s;return t[0]!==r||t[1]!==n?(s=m.jsx(tO,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=s):s=t[2],s};var PB=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e))(PB||{});const[hr,DB]=RB();function LB(){const e=ae();return hr(e)}let FB=nO();function xt(){return FB}let QS=!1;function jB(e,t){QS||(QS=!0,DB(e,t))}class ft extends Error{constructor(t,n,r,s){const o=typeof r.error=="string"&&r.error||typeof r.detail=="string"&&r.detail||r.detail?.message||r.detail?.description||r.detail?.error?.message||BB;super(o),this.url=t,this.status=n,this.json=r,this.requestId=s,this.detail=r.detail,this.jsonError=r.error}name="RequestError";detail;jsonError;static createWithErrorMessage(t,n,r,s){return new ft(t,n==="client"?400:500,{error:r},s)}get code(){return this.detail?.code??this.jsonError?.code??this.jsonError?.error?.code??this.detail?.error?.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class gn extends Error{name="UserFileError";code;extra;constructor(t,n,r){super(t),this.code=n,this.extra=r}}const UB="If this issue persists please contact us through our help center at help.openai.com.",n3="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",BB=`Something went wrong. ${UB}`,qB=`Something went wrong while generating the response. ${n3}`,ru=`A network error occurred. Please check your connection and try again. ${n3}`,GB="Network connection lost. Attempting to reconnect…";function M5e(e){if(e instanceof ft&&typeof e.message=="string"&&e.message)return e.message}var Cp=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(Cp||{}),rO=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(rO||{});function VB(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function e4(e){return e instanceof Error&&e.name==="AbortError"}function HB(e,t){return e instanceof Error&&Error.captureStackTrace?.(e,t),e}function eo(e,t="<unknown>"){if(e==null)throw HB(new Error(`${t}: unexpected nullish value: ${JSON.stringify(e)}`),eo);return e}const Mh=(e,t,n={})=>{const r={level:e,message:String(t),...n};t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=r.error.stack??String(r.error));try{console[e](r)}catch{gs.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?` Message: ${r.message}`:"")})}},gs={info:(...e)=>Mh("info",...e),error:(...e)=>Mh("error",...e),warn:(...e)=>Mh("warn",...e),debug:(...e)=>Mh("debug",...e)},zB="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let sO="development";sO="production";const $B=sO;var Fa={},ic={},Ih={},t4;function WB(){if(t4)return Ih;t4=1,Object.defineProperty(Ih,"__esModule",{value:!0});const e=oi();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,s){var o;if(!r)return!1;const i=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return i==null?!1:(this._source=r.source,i?.has_updates!==!0||(this._rawValues=r.data,this._lcut=i.time,this._receivedAt=r.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,i),r.source&&i.user&&this._setWarningState(s,i),e.SDKFlags.setFlags(this._sdkKey,(o=i.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.feature_gates,r)}getConfig(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.dynamic_configs,r)}getLayer(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.layer_configs,r)}getParamStore(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,s){if(r!=="Bootstrap")return null;const o={};return s.user&&(o.user=s.user),s.sdkInfo&&(o.generatorSDKInfo=s.sdkInfo),o.lcut=s.time,o}_getDetailedStoreResult(r,s){let o=null;return r&&(o=r[s]?r[s]:r[(0,e._DJB2)(s)]),{result:o,details:this._getDetails(o==null)}}_setWarningState(r,s){var o,i;const a=e.StableID.get(this._sdkKey);if(((o=r.customIDs)===null||o===void 0?void 0:o.stableID)!==a&&(!((i=r.customIDs)===null||i===void 0)&&i.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in s){const l=s.user;(0,e._getFullUserHash)(r)!==(0,e._getFullUserHash)(l)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var s,o;const i=this.getCurrentSourceDetails();let a=i.reason;const l=(s=i.warnings)!==null&&s!==void 0?s:[];this._source==="Bootstrap"&&l.length>0&&(a=a+l[0]),a!=="Uninitialized"&&a!=="NoValues"&&(a=`${a}:${r?"Unrecognized":"Recognized"}`);const c=this._source==="Bootstrap"&&(o=this._bootstrapMetadata)!==null&&o!==void 0?o:void 0;return c&&(i.bootstrapMetadata=c),Object.assign(Object.assign({},i),{reason:a})}};return Ih.default=t,Ih}var ac={},Ju={},n4;function KB(){if(n4)return Ju;n4=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju._resolveDeltasResponse=void 0;const e=oi(),t=2;function n(i,a){const l=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!l)return{hadBadDeltaChecksum:!0};const c=r(i,l),u=s(c),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===l.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:l.deltas_full_response}}Ju._resolveDeltasResponse=n;function r(i,a){return Object.assign(Object.assign(Object.assign({},i),a),{feature_gates:Object.assign(Object.assign({},i.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},i.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},i.dynamic_configs),a.dynamic_configs)})}function s(i){const a=i;return o(i.deleted_gates,a.feature_gates),delete a.deleted_gates,o(i.deleted_configs,a.dynamic_configs),delete a.deleted_configs,o(i.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function o(i,a){i?.forEach(l=>{delete a[l]})}return Ju}var r4;function oO(){if(r4)return ac;r4=1;var e=ac&&ac.__awaiter||function(s,o,i,a){function l(c){return c instanceof i?c:new i(function(u){u(c)})}return new(i||(i=Promise))(function(c,u){function d(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):l(g.value).then(d,f)}p((a=a.apply(s,o||[])).next())})};Object.defineProperty(ac,"__esModule",{value:!0});const t=oi(),n=KB();class r extends t.NetworkCore{constructor(o,i){super(o,i);const a=o?.networkConfig;this._option=o,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a?.initializeUrl,a?.api,a?.initializeFallbackUrls)}fetchEvaluations(o,i,a,l,c){var u,d,f,p,g,v;return e(this,void 0,void 0,function*(){const _=i?(0,t._typedJsonParse)(i,"has_updates","InitializeResponse"):null;let y={user:l,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(_?.has_updates){const b=_?.hash_used!==((v=(g=(p=this._option)===null||p===void 0?void 0:p.networkConfig)===null||g===void 0?void 0:g.initializeHashAlgorithm)!==null&&v!==void 0?v:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:c&&!b?_.time:0,previousDerivedFields:"derived_fields"in _&&c?_.derived_fields:{},deltasResponseRequested:!0,full_checksum:_.full_checksum,partialUserMatchSinceTime:b?0:_.time})}return this._fetchEvaluations(o,_,y,a)})}_fetchEvaluations(o,i,a,l){var c,u;return e(this,void 0,void 0,function*(){const d=yield this.post({sdkKey:o,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:l});if(d?.code===204)return'{"has_updates": false}';if(d?.code!==200)return(c=d?.body)!==null&&c!==void 0?c:null;if(i?.has_updates!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(i,d.body);return typeof f=="string"?f:this._fetchEvaluations(o,i,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),l)})}}return ac.default=r,ac}var Xu={},s4;function YB(){if(s4)return Xu;s4=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu._makeParamStoreGetter=void 0;const e=oi(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function s(u,d){return u.value}function o(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function i(u,d,f,p){const v=u.getDynamicConfig(d.config_name,n(p)?void 0:t).get(d.param_name);return r(v,f)?f:v}function a(u,d,f,p){const v=u.getExperiment(d.experiment_name,n(p)?void 0:t).get(d.param_name);return r(v,f)?f:v}function l(u,d,f,p){const v=u.getLayer(d.layer_name,n(p)?void 0:t).get(d.param_name);return r(v,f)?f:v}function c(u,d,f){return(p,g)=>{if(d==null)return g;const v=d[p];if(v==null||g!=null&&(0,e._typeOf)(g)!==v.param_type)return g;switch(v.ref_type){case"static":return s(v);case"gate":return o(u,v,f);case"dynamic_config":return i(u,v,g,f);case"experiment":return a(u,v,g,f);case"layer":return l(u,v,g,f);default:return g}}}return Xu._makeParamStoreGetter=c,Xu}var ja={},o4;function ZB(){if(o4)return ja;o4=1;var e=ja&&ja.__awaiter||function(s,o,i,a){function l(c){return c instanceof i?c:new i(function(u){u(c)})}return new(i||(i=Promise))(function(c,u){function d(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):l(g.value).then(d,f)}p((a=a.apply(s,o||[])).next())})};Object.defineProperty(ja,"__esModule",{value:!0}),ja.StatsigEvaluationsDataAdapter=void 0;const t=oi(),n=oO();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(o,i,a){super.attach(o,i,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(i??{})}getDataAsync(o,i,a){return this._getDataAsyncImpl(o,(0,t._normalizeUser)(i,this._options),a)}prefetchData(o,i){return this._prefetchDataImpl(o,i)}setData(o){const i=(0,t._typedJsonParse)(o,"has_updates","data");i&&"user"in i?super.setData(o,i.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(o,i){super.setData(o,i)}_fetchFromNetwork(o,i,a,l){var c;return e(this,void 0,void 0,function*(){const u=yield(c=this._network)===null||c===void 0?void 0:c.fetchEvaluations(this._getSdkKey(),o,a?.priority,i,l);return u??null})}_getCacheKey(o){var i;const a=(0,t._getStorageKey)(this._getSdkKey(),o,(i=this._options)===null||i===void 0?void 0:i.customUserCacheKeyFunc);return`${t.DataAdapterCachePrefix}.${this._cacheSuffix}.${a}`}_isCachedResultValidFor204(o,i){return o.fullUserHash!=null&&o.fullUserHash===(0,t._getFullUserHash)(i)}};return ja.StatsigEvaluationsDataAdapter=r,ja}var i4;function JB(){if(i4)return ic;i4=1;var e=ic&&ic.__awaiter||function(a,l,c,u){function d(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(y){try{_(u.next(y))}catch(b){p(b)}}function v(y){try{_(u.throw(y))}catch(b){p(b)}}function _(y){y.done?f(y.value):d(y.value).then(g,v)}_((u=u.apply(a,l||[])).next())})};Object.defineProperty(ic,"__esModule",{value:!0});const t=oi(),n=WB(),r=oO(),s=YB(),o=ZB();let i=class rb extends t.StatsigClientBase{static instance(l){const c=(0,t._getStatsigGlobal)().instance(l);return c instanceof rb?c:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new rb(l??"",{}))}constructor(l,c,u=null){var d,f;t.SDKType._setClientType(l,"javascript-client");const p=new r.default(u,v=>{this.$emt(v)});super(l,(d=u?.dataAdapter)!==null&&d!==void 0?d:new o.StatsigEvaluationsDataAdapter,p,u),this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(l),this._network=p,this._user=this._configureUser(c,u);const g=(f=u?.plugins)!==null&&f!==void 0?f:[];for(const v of g)v.bind(this)}initializeSync(l){var c;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(c=this._store.getWarnings())!==null&&c!==void 0?c:[]]):(this._logger.start(),this.updateUserSync(this._user,l))}initializeAsync(l){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(l),this._initializePromise)})}updateUserSync(l,c){var u;const d=performance.now(),f=[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]];this._resetForUser(l);const p=this.dataAdapter.getDataSync(this._user);p==null&&f.push("NoCachedValues"),this._store.setValues(p,this._user),this._finalizeUpdate(p);const g=c?.disableBackgroundCacheRefresh;return g===!0||g==null&&p?.source==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(p??null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(l,c){return e(this,void 0,void 0,function*(){this._resetForUser(l);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,c),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const p=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),p,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey)}}checkGate(l,c){return this.getFeatureGate(l,c).value}logEvent(l,c,u){const d=typeof l=="string"?{eventName:l,value:c,metadata:u}:l;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(l){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,l)})}_finalizeUpdate(l){this._store.finalize(),this._setStatus("Ready",l)}_runPostUpdate(l,c){this.dataAdapter.getDataAsync(l,c,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(l){this._logger.reset(),this._store.reset(),this._user=this._configureUser(l,this._options)}_configureUser(l,c){var u;const d=(0,t._normalizeUser)(l,c),f=(u=d.customIDs)===null||u===void 0?void 0:u.stableID;return f&&t.StableID.setOverride(f,this._sdkKey),d}_getFeatureGateImpl(l,c){var u,d;const{result:f,details:p}=this._store.getGate(l),g=(0,t._makeFeatureGate)(l,p,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,g,this._user,c),_=v??g;return this._enqueueExposure(l,(0,t._createGateExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"gate_evaluation",gate:_}),_}_getDynamicConfigImpl(l,c){var u,d;const{result:f,details:p}=this._store.getConfig(l),g=(0,t._makeDynamicConfig)(l,p,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,g,this._user,c),_=v??g;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:_}),_}_getExperimentImpl(l,c){var u,d,f,p;const{result:g,details:v}=this._store.getConfig(l),_=(0,t._makeExperiment)(l,v,g);_.__evaluation!=null&&(_.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=_.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const y=(p=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||p===void 0?void 0:p.call(f,_,this._user,c),b=y??_;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,b,this._store.getExposureMapping()),c),this.$emt({name:"experiment_evaluation",experiment:b}),b}_getLayerImpl(l,c){var u,d,f;const{result:p,details:g}=this._store.getLayer(l),v=(0,t._makeLayer)(l,g,p),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,v,this._user,c);c?.disableExposureLog&&this._logger.incrementNonExposureCount(l);const y=(0,t._mergeOverride)(v,_,(f=_?.__value)!==null&&f!==void 0?f:v.__value,b=>{c?.disableExposureLog||this._enqueueExposure(l,(0,t._createLayerParameterExposure)(this._user,y,b,this._store.getExposureMapping()),c)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(l,c){var u,d;const{result:f,details:p}=this._store.getParamStore(l);this._logger.incrementNonExposureCount(l);const g={name:l,details:p,__configuration:f,get:(0,s._makeParamStoreGetter)(this,f,c)},v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,g,c);return v!=null&&(g.__configuration=v.config,g.details=v.details,g.get=(0,s._makeParamStoreGetter)(this,v.config,c)),g}};return ic.default=i,ic}var a4;function XB(){return a4||(a4=1,function(e){var t=Fa&&Fa.__createBinding||(Object.create?function(i,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,c,u)}:function(i,a,l,c){c===void 0&&(c=l),i[c]=a[l]}),n=Fa&&Fa.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=oi(),s=JB();e.StatsigClient=s.default,n(oi(),e);const o=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:s.default});e.default=o}(Fa)),Fa}var iO=XB(),Ua={},Ba={},l4;function QB(){if(l4)return Ba;l4=1;var e=Ba&&Ba.__awaiter||function(i,a,l,c){function u(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function p(_){try{v(c.next(_))}catch(y){f(y)}}function g(_){try{v(c.throw(_))}catch(y){f(y)}}function v(_){_.done?d(_.value):u(_.value).then(p,g)}v((c=c.apply(i,a||[])).next())})};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.LocalOverrideAdapter=void 0;const t=oi(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function s(i,a){return{gate:Object.assign({},i.gate,a.gate),dynamicConfig:Object.assign({},i.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},i.experiment,a.experiment),layer:Object.assign({},i.layer,a.layer)}}let o=class{constructor(a){this._overrides=r(),this._sdkKey=a??null}_getLocalOverridesStorageKey(a){return`statsig.local-overrides.${(0,t._getStorageKey)(a)}`}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),l=t.Storage.getItem(a),c=l?(0,t._typedJsonParse)(l,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();c&&(this._overrides=u?s(c,this._overrides):c),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,l){this._overrides.gate[a]=l,this._overrides.gate[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,l){var c;const u=(c=this._overrides.gate[a.name])!==null&&c!==void 0?c:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,l){this._overrides.dynamicConfig[a]=l,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,l){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,l){this._overrides.experiment[a]=l,this._overrides.experiment[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,l){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,l){this._overrides.layer[a]=l,this._overrides.layer[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,l){var c;const u=(c=this._overrides.layer[a.name])!==null&&c!==void 0?c:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,l){var c;const u=(c=l[a.name])!==null&&c!==void 0?c:l[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return Ba.LocalOverrideAdapter=o,Ba}var c4;function eq(){return c4||(c4=1,function(e){var t=Ua&&Ua.__createBinding||(Object.create?function(r,s,o,i){i===void 0&&(i=o);var a=Object.getOwnPropertyDescriptor(s,o);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(r,i,a)}:function(r,s,o,i){i===void 0&&(i=o),r[i]=s[o]}),n=Ua&&Ua.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(QB(),e)}(Ua)),Ua}var tq=eq();function Qp(e,t,n,r){return ss(e).logEvent(t,n,r)}function $e(e,t,n){return ss(e).checkGate(t,n)}function Bn(e,t,n){return ss(e).getDynamicConfig(t,n)}function rg(e,t,n){return ss(e).getExperiment(t,n)}function Wt(e,t,n){return ss(e).getLayer(t,n)}const nq=en(()=>new tq.LocalOverrideAdapter),rq=e=>{const t={};return typeof e?.custom?.auth_status=="string"&&(t.auth_status=e.custom.auth_status),typeof e?.locale=="string"&&(t.browser_locale=e.locale),t};class sq extends iO.StatsigClient{logEvent(t,n,r){const s={...rq(this.getContext().user),...typeof t=="string"?r:t.metadata};super.logEvent(typeof t=="string"?t:t.eventName,typeof t=="string"?n:t.value??void 0,s)}}const ss=en(e=>{const t=hr(e),n=nq(e),r=new sq(zB,t.statsigPayload.user,{environment:{tier:$B},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:iO.LogEventCompressionMode.Forced});return r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function Qu(){return ss(xt())}const at={logEvent:(e,t,n)=>Qu().logEvent(e,t??void 0,n),checkGate:e=>Qu().checkGate(e),getUser:()=>Qu().getContext().user,getLayerValue(e){return Qu().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key)??e.defaultValue},checkGateWithExposureLoggingDisabled:e=>Qu().checkGate(e,{disableExposureLog:!0})};function ys(){return navigator.userAgent}function r3(){return/iPad|iPhone|iPod/.test(ys())}function s3(){return/Android/.test(ys())}function oq(){return r3()&&ys().includes("CriOS")}function sg(){return r3()||s3()||oq()}function u4(){return/^((?!chrome|android).)*safari/i.test(ys())}function P5e(){return s3()&&ys().includes("Chrome")}function iq(){return ys().includes("Mac OS X")}function aO(){return r3()||iq()}function D5e(){return ys().includes("Windows_NT")}function L5e(){return ys().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(ys())}function F5e(){return ys().includes("Firefox")}function o3(){const e=ys();return/iPad/.test(e)||s3()&&!/Mobile/.test(e)||/Tablet/.test(e)}function lO(){return sg()&&!o3()}function cO(){return sg()||o3()}function i3(){return!cO()}const aq=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;function to(e){return e||(e=ys()),aq.test(e)}const lq=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],cq=100,d4=1e3,Rh=[];function f4(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const uq=e=>{if(e.stack?.includes("-extension://")||e.source==="console"||lq.some(s=>e?.message?.includes(s))||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(f4(Rh,n)>=cq)return!0;const r=t-1e3*60*60*24;return f4(Rh,r)>=d4?!0:(Rh.unshift(t),Rh.splice(d4),!1)};function uO(){return location.origin===window.location.origin||!1}function dO(){return to()?"mini-web":"chatgpt-web"}const h4=typeof window>"u"?void 0:window.DesktopHostGateway,jn=h4?.getVersion()===1?h4:void 0,og=jn!==void 0,fO=og||!1;function j5e(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}function p4(...e){try{return new URL(...e)}catch{return null}}function Td(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const a3=window.location.host+"/ces",l3="https",dq={},fq=dq,hO=`${l3}://${a3}`,hq={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:`${a3}/v1`,host:hO,protocol:l3,deliveryStrategy:{...fq}}}},pq={writeKey:"oai",cdnURL:`${l3}://${a3}`};var c3={},Qt=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(Qt||{});const nt=c3.VITE_SHARED_API_URL??window.location.origin+"/backend-api",u3=c3.VITE_SHARED_ANON_API_URL??window.location.origin+"/backend-anon",Sp=c3.VITE_PUBLIC_API_URL??window.location.origin+"/public-api",mq="v4-2023-04-27",U5e={IT:"Italy",KR:"South Korea"},gq={AD:"Andorra",AI:"Anguilla",AT:"Austria",AW:"Aruba",AX:"Åland Islands",BG:"Bulgaria",BL:"Saint Barthélemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BV:"Bouvet Island",CH:"Switzerland",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",IE:"Ireland",IM:"Isle of Man",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",ME:"Montenegro",MF:"Saint Martin",MQ:"Martinique",MS:"Montserrat",MT:"Malta",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",SE:"Sweden",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",VG:"British Virgin Islands",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa",ID:"Indonesia",BE:"Belgium",IN:"India",RO:"Romania",CA:"Canada",SG:"Singapore"},pO=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(hO),e=>{const t=[nt,u3],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const s=e.slice(r.length);return n.some(o=>o.test(s))}return!1}];class vq{#e=!1;#t=new Set;#r=new Set;#n=new Map;initialize(t){if(!this.#e){{const n=og?jn?.getTelemetryConfig?.():void 0,r=n!==void 0?n.datadogService:dO(),s=to()?100:1;_r.init({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:r,env:"prod",version:"b75083646cc93698cf8032b6afb1acf9ad5d8b7d",sessionSampleRate:s,sessionReplaySampleRate:0,trackUserInteractions:!1,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:hB.MASK_USER_INPUT,beforeSend:o=>{if(o.type==="error"&&uq(o.error))return!1;if(o.view.url=Td(o.view.url),o.type==="resource"){const i=p4(o.resource.url);if(i!=null&&(i.hostname===window.location.host||i.pathname.startsWith("/ces/")))return!1;o.resource.url=Td(o.resource.url)}return o.type==="error"&&o.error.resource&&(o.error.resource.url=Td(o.error.resource.url)),!0},allowedTracingUrls:[{match:o=>{const i=p4(o);if(i==null)return!1;const{hostname:a,pathname:l}=i;return!(!["openai.com",window.location.host].some(u=>a.endsWith(u))||a===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:s,traceContextInjection:"sampled",excludedActivityUrls:pO,...t}),_r.setGlobalContextProperty("track","stable"),n!==void 0&&_r.setGlobalContextProperty("is_electron_desktop_app",!0),_r.setGlobalContextProperty("is_authenticated",!1)}this.#e=!0,Dc.instance.setLogger(this)}}get viewId(){return _r.getInternalContext()?.view?.id}get sessionId(){return _r.getInternalContext()?.session_id}addAction(t,n){this.#e||(console.error("Should not call addAction before initialize"),this.initialize()),_r.addAction(t,n)}addError(t,n){if(console.error(t,n),this.#e||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof ft)return;const r=typeof t=="string"?new Error(t):t;_r.addError(r,n)}addTiming(t,n){const r=n??Date.now();this.#n.set(t,r),this.#e||(console.error("Should not call addTiming before initialize"),this.initialize()),performance.mark(t,{startTime:Math.max(0,r-performance.timeOrigin)}),_r.addTiming(t,n)}addFirstTiming(t,n){this.#t.has(t)||(this.#t.add(t),this.addTiming(t,n))}addDurationVital(t,n,r){_r.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){this.#r.has(t)||(this.#r.add(t),this.addDurationVital(t,n,r))}getTimings(){return this.#n}setUser(t,n){_r.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};this.#e||(console.error("Should not call setUser before initialize"),this.initialize()),_r.setUser(r)}addFeatureFlagEvaluation(t,n){_r.addFeatureFlagEvaluation(t,n)}}const U=new vq,mO=58*60*1e3,_q=mO,sb={};function yq(e,t){sb[e]=t}function bq(e){return e!=null&&"__type"in e&&e.__type in sb?sb[e.__type](e):e}const gO=JSON.stringify,ma=en(Cq);function Cq(e){let t=!0;return e&&(t=Wt(e,"892702716").get("react_query_infinite_stale_time",!1),U.addFeatureFlagEvaluation("react_query_infinite",t)),new pB({defaultOptions:{queries:{gcTime:_q,staleTime:t?1/0:mO,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:gO,throwOnError:(n,r)=>{if(!(n instanceof ft||n instanceof gn))try{U.addError(n,{queryKey:r.queryKey.map(String).join(","),queryHash:r.queryHash})}catch(s){console.error(s)}return!1}},hydrate:{deserializeData:bq}}})}const vO=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!vO)throw new Error("Missing react shared internals. Check version.");function d3(){const e=vO?.H;return e!=null&&e.useState!==e.useReducer}function _O(e,t){const n=h.useLayoutEffect;n(e,t)}function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Sq={};function ig(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Sq}var yO=Object.assign,em=Object.getOwnPropertyDescriptor,xo=Object.defineProperty,Cf=Object.prototype,ob=[];Object.freeze(ob);var f3={};Object.freeze(f3);var wq=typeof Proxy<"u",Eq=Object.toString();function bO(){wq||et("Proxy not available")}function CO(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Lc=function(){};function Qr(e){return typeof e=="function"}function vl(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function ag(e){return e!==null&&typeof e=="object"}function ii(e){if(!ag(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Eq}function SO(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Sf(e,t,n){xo(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function wO(e,t,n){xo(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ga(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return ag(r)&&r[n]===!0}}function Eu(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function xq(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Jo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var EO=typeof Object.getOwnPropertySymbols<"u";function Tq(e){var t=Object.keys(e);if(!EO)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Cf.propertyIsEnumerable.call(e,r)})):t}var su=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:EO?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function xO(e){return e===null?null:typeof e=="object"?""+e:e}function Qo(e,t){return Cf.hasOwnProperty.call(e,t)}var kq=Object.getOwnPropertyDescriptors||function(t){var n={};return su(t).forEach(function(r){n[r]=em(t,r)}),n};function $r(e,t){return!!(e&t)}function Wr(e,t,n){return n?e|=t:e&=~t,e}function m4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Oq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mq(r.key),r)}}function xu(e,t,n){return t&&Oq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fc(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Iq(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(null,arguments)}function TO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ib(e,t)}function ib(e,t){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ib(e,t)}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(e){if(typeof e=="string")return m4(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m4(e,t):void 0}}var So=Symbol("mobx-stored-annotations");function qs(e){function t(n,r){if(Ef(r))return e.decorate_20223_(n,r);wf(n,r,e)}return Object.assign(t,e)}function wf(e,t,n){Qo(e,So)||Sf(e,So,na({},e[So])),Bq(n)||(e[So][t]=n)}function Rq(e){return Qo(e,So)||Sf(e,So,na({},e[So])),e[So]}function Ef(e){return typeof e=="object"&&typeof e.kind=="string"}var Pe=Symbol("mobx administration"),va=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=kt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return HO(this)},t.reportChanged=function(){Or(),zO(this),Ar()},t.toString=function(){return this.name_},xu(e,[{key:"isBeingObserved",get:function(){return $r(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return $r(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return $r(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Wr(this.flags_,e.diffValueMask_,r===1)}}])}();va.isBeingObservedMask_=1;va.isPendingUnobservationMask_=2;va.diffValueMask_=4;var h3=ga("Atom",va);function lg(e,t,n){t===void 0&&(t=Lc),n===void 0&&(n=Lc);var r=new va(e);return t!==Lc&&eA(r,t),n!==Lc&&v3(r,n),r}function Nq(e,t){return e===t}function Pq(e,t){return w3(e,t)}function Dq(e,t){return w3(e,t,1)}function Lq(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _l={identity:Nq,structural:Pq,default:Lq,shallow:Dq};function yl(e,t,n){return gg(e)?e:Array.isArray(e)?Rn.array(e,{name:n}):ii(e)?Rn.object(e,void 0,{name:n}):Eu(e)?Rn.map(e,{name:n}):Jo(e)?Rn.set(e,{name:n}):typeof e=="function"&&!iu(e)&&!au(e)?SO(e)?Cl(e):ou(n,e):e}function Fq(e,t,n){if(e==null||tr(e)||Dr(e)||rr(e)||Nn(e))return e;if(Array.isArray(e))return Rn.array(e,{name:n,deep:!1});if(ii(e))return Rn.object(e,void 0,{name:n,deep:!1});if(Eu(e))return Rn.map(e,{name:n,deep:!1});if(Jo(e))return Rn.set(e,{name:n,deep:!1})}function cg(e){return e}function jq(e,t){return w3(e,t)?t:e}var kO="override",Uq=qs({annotationType_:kO,make_:qq,extend_:Gq,decorate_20223_:Vq});function Bq(e){return e.annotationType_===kO}function qq(e,t){return 0}function Gq(e,t,n,r){et("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Vq(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function xf(e,t){return{annotationType_:e,options_:t,make_:Hq,extend_:zq,decorate_20223_:$q}}function Hq(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(iu(n.value))return 1;var o=OO(e,this,t,n,!1);return xo(r,t,o),2}function zq(e,t,n,r){var s=OO(e,this,t,n);return e.defineProperty_(t,s,r)}function $q(e,t){var n=t.kind,r=t.name,s=t.addInitializer,o=this,i=function(c){var u,d,f,p;return ra((u=(d=o.options_)==null?void 0:d.name)!=null?u:r.toString(),c,(f=(p=o.options_)==null?void 0:p.autoAction)!=null?f:!1)};if(n=="field")return function(l){var c,u=l;return iu(u)||(u=i(u)),(c=o.options_)!=null&&c.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return iu(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&s(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}et("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function Wq(e,t,n,r){t.annotationType_,r.value}function OO(e,t,n,r,s){var o,i,a,l,c,u,d;s===void 0&&(s=ne.safeDescriptors),Wq(e,t,n,r);var f=r.value;if((o=t.options_)!=null&&o.bound){var p;f=f.bind((p=e.proxy_)!=null?p:e.target_)}return{value:ra((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function AO(e,t){return{annotationType_:e,options_:t,make_:Kq,extend_:Yq,decorate_20223_:Zq}}function Kq(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Qo(e.target_,t)||!au(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(au(n.value))return 1;var o=MO(e,this,t,n,!1,!1);return xo(r,t,o),2}function Yq(e,t,n,r){var s,o=MO(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,o,r)}function Zq(e,t){var n,r=t.name,s=t.addInitializer;return au(e)||(e=Cl(e)),(n=this.options_)!=null&&n.bound&&s(function(){var o=this,i=o[r].bind(o);i.isMobXFlow=!0,o[r]=i}),e}function Jq(e,t,n,r){t.annotationType_,r.value}function MO(e,t,n,r,s,o){o===void 0&&(o=ne.safeDescriptors),Jq(e,t,n,r);var i=r.value;if(au(i)||(i=Cl(i)),s){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function p3(e,t){return{annotationType_:e,options_:t,make_:Xq,extend_:Qq,decorate_20223_:eG}}function Xq(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Qq(e,t,n,r){return tG(e,this,t,n),e.defineComputedProperty_(t,na({},this.options_,{get:n.get,set:n.set}),r)}function eG(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var o=jl(this)[Pe],i=na({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),o.values_.set(r,new zs(i))}),function(){return this[Pe].getObservablePropValue_(r)}}function tG(e,t,n,r){t.annotationType_,r.get}function ug(e,t){return{annotationType_:e,options_:t,make_:nG,extend_:rG,decorate_20223_:sG}}function nG(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function rG(e,t,n,r){var s,o;return oG(e,this),e.defineObservableProperty_(t,n.value,(s=(o=this.options_)==null?void 0:o.enhancer)!=null?s:yl,r)}function sG(e,t){var n=this,r=t.kind,s=t.name,o=new WeakSet;function i(a,l){var c,u,d=jl(a)[Pe],f=new Zi(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:yl,"ObservableObject."+s.toString(),!1);d.values_.set(s,f),o.add(a)}if(r=="accessor")return{get:function(){return o.has(this)||i(this,e.get.call(this)),this[Pe].getObservablePropValue_(s)},set:function(l){return o.has(this)||i(this,l),this[Pe].setObservablePropValue_(s,l)},init:function(l){return o.has(this)||i(this,l),l}}}function oG(e,t,n,r){t.annotationType_}var iG="true",aG=IO();function IO(e){return{annotationType_:iG,options_:e,make_:lG,extend_:cG,decorate_20223_:uG}}function lG(e,t,n,r){var s,o;if(n.get)return Tu.make_(e,t,n,r);if(n.set){var i=ra(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ne.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(xo(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(SO(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Cl.bound:Cl;return c.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?ou.bound:ou;return u.make_(e,t,n,r)}var d=((s=this.options_)==null?void 0:s.deep)===!1?Rn.ref:Rn;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function cG(e,t,n,r){var s,o;if(n.get)return Tu.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ne.safeDescriptors?e.isPlainObject_:!0,set:ra(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?Rn.ref:Rn;return a.extend_(e,t,n,r)}function uG(e,t){et("'"+this.annotationType_+"' cannot be used as a decorator")}var dG="observable",fG="observable.ref",hG="observable.shallow",pG="observable.struct",RO={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(RO);function Nh(e){return e||RO}var ab=ug(dG),mG=ug(fG,{enhancer:cg}),gG=ug(hG,{enhancer:Fq}),vG=ug(pG,{enhancer:jq}),NO=qs(ab);function Ph(e){return e.deep===!0?yl:e.deep===!1?cg:yG(e.defaultDecorator)}function _G(e){var t;return e?(t=e.defaultDecorator)!=null?t:IO(e):void 0}function yG(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:yl}function PO(e,t,n){if(Ef(t))return ab.decorate_20223_(e,t);if(vl(t)){wf(e,t,ab);return}return gg(e)?e:ii(e)?Rn.object(e,t,n):Array.isArray(e)?Rn.array(e,t):Eu(e)?Rn.map(e,t):Jo(e)?Rn.set(e,t):typeof e=="object"&&e!==null?e:Rn.box(e,t)}yO(PO,NO);var bG={box:function(t,n){var r=Nh(n);return new Zi(t,Ph(r),r.name,!0,r.equals)},array:function(t,n){var r=Nh(n);return(ne.useProxies===!1||r.proxy===!1?DV:xV)(t,Ph(r),r.name)},map:function(t,n){var r=Nh(n);return new b3(t,Ph(r),r.name)},set:function(t,n){var r=Nh(n);return new C3(t,Ph(r),r.name)},object:function(t,n,r){return _a(function(){return _3(ne.useProxies===!1||r?.proxy===!1?jl({},r):CV({},r),t,n)})},ref:qs(mG),shallow:qs(gG),deep:NO,struct:qs(vG)},Rn=yO(PO,bG),DO="computed",CG="computed.struct",lb=p3(DO),SG=p3(CG,{equals:_l.structural}),Tu=function(t,n){if(Ef(n))return lb.decorate_20223_(t,n);if(vl(n))return wf(t,n,lb);if(ii(t))return qs(p3(DO,t));var r=ii(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new zs(r)};Object.assign(Tu,lb);Tu.struct=qs(SG);var g4,v4,tm=0,wG=1,EG=(g4=(v4=em(function(){},"name"))==null?void 0:v4.configurable)!=null?g4:!1,_4={value:"action",configurable:!0,writable:!1,enumerable:!1};function ra(e,t,n,r){n===void 0&&(n=!1);function s(){return LO(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},EG&&(_4.value=e,xo(s,"name",_4)),s}function LO(e,t,n,r,s){var o=FO(e,t);try{return n.apply(r,s)}catch(i){throw o.error_=i,i}finally{jO(o)}}function FO(e,t,n,r){var s=!1,o=0,i=ne.trackingDerivation,a=!t||!i;Or();var l=ne.allowStateChanges;a&&(Fl(),l=dg(!0));var c=hg(!0),u={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:s,startTime_:o,actionId_:wG++,parentActionId_:tm};return tm=u.actionId_,u}function jO(e){tm!==e.actionId_&&et(30),tm=e.parentActionId_,e.error_!==void 0&&(ne.suppressReactionErrors=!0),fg(e.prevAllowStateChanges_),Gc(e.prevAllowStateReads_),Ar(),e.runAsAction_&&ei(e.prevDerivation_),ne.suppressReactionErrors=!1}function m3(e,t){var n=dg(e);try{return t()}finally{fg(n)}}function dg(e){var t=ne.allowStateChanges;return ne.allowStateChanges=e,t}function fg(e){ne.allowStateChanges=e}var Zi=function(e){function t(r,s,o,i,a){var l;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=_l.default),l=e.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=o,l.equals=a,l.value_=s(r,void 0,o),l}TO(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ne.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(hs(this)){var o=ps(this,{object:this,type:To,newValue:s});if(!o)return ne.UNCHANGED;s=o.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ne.UNCHANGED:s},n.setNewValue_=function(s){var o=this.value_;this.value_=s,this.reportChanged(),Gs(this)&&Vs(this,{type:To,object:this,newValue:s,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return kf(this,s)},n.observe_=function(s,o){return o&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:To,newValue:this.value_,oldValue:void 0}),Of(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return xO(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(va),g3=ga("ObservableValue",Zi),zs=function(){function e(n){this.dependenciesState_=kt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=kt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new rm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=nm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||et(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ra("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?_l.structural:_l.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){DG(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&et(32,this.name_,this.derivation),ne.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)cb(this)&&(this.warnAboutUntrackedRead_(),Or(),this.value_=this.computeValue_(!1),Ar());else if(HO(this),cb(this)){var r=ne.trackingContext;this.keepAlive_&&!r&&(ne.trackingContext=this),this.trackAndCompute()&&PG(this),ne.trackingContext=r}var s=this.value_;if(wp(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&et(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else et(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===kt.NOT_TRACKING_,o=this.computeValue_(!0),i=s||wp(r)||wp(o)||!this.equals_(r,o);return i&&(this.value_=o),i},t.computeValue_=function(r){this.isComputing=!0;var s=dg(!1),o;if(r)o=UO(this,this.derivation,this.scope_);else if(ne.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(i){o=new rm(i)}return fg(s),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(ub(this),this.value_=void 0)},t.observe_=function(r,s){var o=this,i=!0,a=void 0;return pg(function(){var l=o.get();if(!i||s){var c=Fl();r({observableKind:"computed",debugObjectName:o.name_,type:To,object:o,newValue:l,oldValue:a}),ei(c)}i=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return xO(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},xu(e,[{key:"isComputing",get:function(){return $r(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return $r(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return $r(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return $r(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return $r(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Wr(this.flags_,e.diffValueMask_,r===1)}}])}();zs.isComputingMask_=1;zs.isRunningSetterMask_=2;zs.isBeingObservedMask_=4;zs.isPendingUnobservationMask_=8;zs.diffValueMask_=16;var bl=ga("ComputedValue",zs),kt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(kt||(kt={}));var nm;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(nm||(nm={}));var rm=function(t){this.cause=void 0,this.cause=t};function wp(e){return e instanceof rm}function cb(e){switch(e.dependenciesState_){case kt.UP_TO_DATE_:return!1;case kt.NOT_TRACKING_:case kt.STALE_:return!0;case kt.POSSIBLY_STALE_:{for(var t=hg(!0),n=Fl(),r=e.observing_,s=r.length,o=0;o<s;o++){var i=r[o];if(bl(i)){if(ne.disableErrorBoundaries)i.get();else try{i.get()}catch{return ei(n),Gc(t),!0}if(e.dependenciesState_===kt.STALE_)return ei(n),Gc(t),!0}}return BO(e),ei(n),Gc(t),!1}}}function xG(){return ne.trackingDerivation!==null}function UO(e,t,n){var r=hg(!0);BO(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ne.runId;var s=ne.trackingDerivation;ne.trackingDerivation=e,ne.inBatch++;var o;if(ne.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(i){o=new rm(i)}return ne.inBatch--,ne.trackingDerivation=s,TG(e),Gc(r),o}function TG(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=kt.UP_TO_DATE_,s=0,o=e.unboundDepsCount_,i=0;i<o;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,s!==i&&(n[s]=a),s++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=s,e.newObserving_=null,o=t.length;o--;){var l=t[o];l.diffValue===0&&GO(l,e),l.diffValue=0}for(;s--;){var c=n[s];c.diffValue===1&&(c.diffValue=0,NG(c,e))}r!==kt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function ub(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)GO(t[n],e);e.dependenciesState_=kt.NOT_TRACKING_}function Tf(e){var t=Fl();try{return e()}finally{ei(t)}}function Fl(){var e=ne.trackingDerivation;return ne.trackingDerivation=null,e}function ei(e){ne.trackingDerivation=e}function hg(e){var t=ne.allowStateReads;return ne.allowStateReads=e,t}function Gc(e){ne.allowStateReads=e}function BO(e){if(e.dependenciesState_!==kt.UP_TO_DATE_){e.dependenciesState_=kt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=kt.UP_TO_DATE_}}var kG=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],kd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ep=!0,qO=!1,ne=function(){var e=ig();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ep=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new kd().version&&(Ep=!1),Ep?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new kd):(setTimeout(function(){qO||et(35)},1),new kd)}();function OG(){if((ne.pendingReactions.length||ne.inBatch||ne.isRunningReactions)&&et(36),qO=!0,Ep){var e=ig();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ne=new kd}}function AG(){return ne}function MG(){var e=new kd;for(var t in e)kG.indexOf(t)===-1&&(ne[t]=e[t]);ne.allowStateChanges=!ne.enforceActions}function IG(e){return e.observers_&&e.observers_.size>0}function RG(e){return e.observers_}function NG(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function GO(e,t){e.observers_.delete(t),e.observers_.size===0&&VO(e)}function VO(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ne.pendingUnobservations.push(e))}function Or(){ne.inBatch++}function Ar(){if(--ne.inBatch===0){$O();for(var e=ne.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof zs&&n.suspend_())}ne.pendingUnobservations=[]}}function HO(e){var t=ne.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ne.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ne.inBatch>0&&VO(e),!1)}function zO(e){e.lowestObserverState_!==kt.STALE_&&(e.lowestObserverState_=kt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===kt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=kt.STALE_}))}function PG(e){e.lowestObserverState_!==kt.STALE_&&(e.lowestObserverState_=kt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===kt.POSSIBLY_STALE_?t.dependenciesState_=kt.STALE_:t.dependenciesState_===kt.UP_TO_DATE_&&(e.lowestObserverState_=kt.UP_TO_DATE_)}))}function DG(e){e.lowestObserverState_===kt.UP_TO_DATE_&&(e.lowestObserverState_=kt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===kt.UP_TO_DATE_&&(t.dependenciesState_=kt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var $s=function(){function e(n,r,s,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=kt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=nm.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ne.pendingReactions.push(this),$O())},t.runReaction_=function(){if(!this.isDisposed){Or(),this.isScheduled=!1;var r=ne.trackingContext;if(ne.trackingContext=this,cb(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ne.trackingContext=r,Ar()}},t.track=function(r){if(!this.isDisposed){Or(),this.isRunning=!0;var s=ne.trackingContext;ne.trackingContext=this;var o=UO(this,r,void 0);ne.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ub(this),wp(o)&&this.reportExceptionInDerivation_(o.cause),Ar()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ne.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";ne.suppressReactionErrors||console.error(o,r),ne.globalReactionErrorHandlers.forEach(function(i){return i(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Or(),ub(this),Ar()))},t.getDisposer_=function(r){var s=this,o=function i(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Pe]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},xu(e,[{key:"isDisposed",get:function(){return $r(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return $r(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return $r(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return $r(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Wr(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return $r(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Wr(this.flags_,e.diffValueMask_,r===1)}}])}();$s.isDisposedMask_=1;$s.isScheduledMask_=2;$s.isTrackPendingMask_=4;$s.isRunningMask_=8;$s.diffValueMask_=16;function LG(e){return ne.globalReactionErrorHandlers.push(e),function(){var t=ne.globalReactionErrorHandlers.indexOf(e);t>=0&&ne.globalReactionErrorHandlers.splice(t,1)}}var FG=100,db=function(t){return t()};function $O(){ne.inBatch>0||ne.isRunningReactions||db(jG)}function jG(){ne.isRunningReactions=!0;for(var e=ne.pendingReactions,t=0;e.length>0;){++t===FG&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}ne.isRunningReactions=!1}var sm=ga("Reaction",$s);function UG(e){var t=db;db=function(r){return e(function(){return t(r)})}}function Od(){return!1}function WO(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var KO="action",BG="action.bound",YO="autoAction",qG="autoAction.bound",ZO="<unnamed action>",fb=xf(KO),GG=xf(BG,{bound:!0}),hb=xf(YO,{autoAction:!0}),VG=xf(qG,{autoAction:!0,bound:!0});function JO(e){var t=function(r,s){if(Qr(r))return ra(r.name||ZO,r,e);if(Qr(s))return ra(r,s,e);if(Ef(s))return(e?hb:fb).decorate_20223_(r,s);if(vl(s))return wf(r,s,e?hb:fb);if(vl(r))return qs(xf(e?YO:KO,{name:r,autoAction:e}))};return t}var qi=JO(!1);Object.assign(qi,fb);var ou=JO(!0);Object.assign(ou,hb);qi.bound=qs(GG);ou.bound=qs(VG);function om(e){return LO(e.name||ZO,!1,e,this,void 0)}function iu(e){return Qr(e)&&e.isMobxAction===!0}function pg(e,t){var n,r,s,o;t===void 0&&(t=f3);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,l;if(a)l=new $s(i,function(){this.track(d)},t.onError,t.requiresObservable);else{var c=XO(t),u=!1;l=new $s(i,function(){u||(u=!0,c(function(){u=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var HG=function(t){return t()};function XO(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:HG}function QO(e,t,n){var r,s,o;n===void 0&&(n=f3);var i=(r=n.name)!=null?r:"Reaction",a=qi(i,n.onError?zG(n.onError,t):t),l=!n.scheduler&&!n.delay,c=XO(n),u=!0,d=!1,f,p=n.compareStructural?_l.structural:n.equals||_l.default,g=new $s(i,function(){u||l?v():d||(d=!0,c(v))},n.onError,n.requiresObservable);function v(){if(d=!1,!g.isDisposed){var _=!1,y=f;g.track(function(){var b=m3(!1,function(){return e(g)});_=u||!p(f,b),f=b}),(u&&n.fireImmediately||!u&&_)&&a(f,y,g),u=!1}}return(s=n)!=null&&(s=s.signal)!=null&&s.aborted||g.schedule_(),g.getDisposer_((o=n)==null?void 0:o.signal)}function zG(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var $G="onBO",WG="onBUO";function eA(e,t,n){return tA($G,e,t,n)}function v3(e,t,n){return tA(WG,e,t,n)}function tA(e,t,n,r){var s=typeof r=="function"?ai(t,n):ai(t),o=Qr(r)?r:n,i=e+"L";return s[i]?s[i].add(o):s[i]=new Set([o]),function(){var a=s[i];a&&(a.delete(o),a.size===0&&delete s[i])}}var KG="never",Dh="always",YG="observed";function nA(e){e.isolateGlobalState===!0&&OG();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ne.useProxies=t===Dh?!0:t===KG?!1:typeof Proxy<"u"),t==="ifavailable"&&(ne.verifyProxies=!0),n!==void 0){var r=n===Dh?Dh:n===YG;ne.enforceActions=r,ne.allowStateChanges=!(r===!0||r===Dh)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(ne[s]=!!e[s])}),ne.allowStateReads=!ne.observableRequiresReaction,e.reactionScheduler&&UG(e.reactionScheduler)}function _3(e,t,n,r){var s=kq(t);return _a(function(){var o=jl(e,r)[Pe];su(s).forEach(function(i){o.extend_(i,s[i],n&&i in n?n[i]:!0)})}),e}function rA(e,t){return sA(ai(e,t))}function sA(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=JG(e.observing_).map(sA)),t}function ZG(e,t){return oA(ai(e,t))}function oA(e){var t={name:e.name_};return IG(e)&&(t.observers=Array.from(RG(e)).map(oA)),t}function JG(e){return Array.from(new Set(e))}var XG=0;function mg(){this.message="FLOW_CANCELLED"}mg.prototype=Object.create(Error.prototype);function QG(e){return e instanceof mg}var q1=AO("flow"),eV=AO("flow.bound",{bound:!0}),Cl=Object.assign(function(t,n){if(Ef(n))return q1.decorate_20223_(t,n);if(vl(n))return wf(t,n,q1);var r=t,s=r.name||"<unnamed flow>",o=function(){var a=this,l=arguments,c=++XG,u=qi(s+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,p=new Promise(function(g,v){var _=0;d=v;function y(C){f=void 0;var S;try{S=qi(s+" - runid: "+c+" - yield "+_++,u.next).call(u,C)}catch(E){return v(E)}w(S)}function b(C){f=void 0;var S;try{S=qi(s+" - runid: "+c+" - yield "+_++,u.throw).call(u,C)}catch(E){return v(E)}w(S)}function w(C){if(Qr(C?.then)){C.then(w,v);return}return C.done?g(C.value):(f=Promise.resolve(C.value),f.then(y,b))}y(void 0)});return p.cancel=qi(s+" - runid: "+c+" - cancel",function(){try{f&&y4(f);var g=u.return(void 0),v=Promise.resolve(g.value);v.then(Lc,Lc),y4(v),d(new mg)}catch(_){d(_)}}),p};return o.isMobXFlow=!0,o},q1);Cl.bound=qs(eV);function y4(e){Qr(e.cancel)&&e.cancel()}function tV(e){return e}function au(e){return e?.isMobXFlow===!0}function nV(e,t,n){var r;return rr(e)||Dr(e)||g3(e)?r=li(e):tr(e)&&(r=li(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function rV(e,t,n){return Qr(n)?oV(e,t,n):sV(e,t)}function sV(e,t){return li(e).intercept_(t)}function oV(e,t,n){return li(e,t).intercept_(n)}function iA(e,t){if(t===void 0)return bl(e);if(tr(e)===!1||!e[Pe].values_.has(t))return!1;var n=ai(e,t);return bl(n)}function iV(e){return iA(e)}function aV(e,t){return iA(e,t)}function aA(e,t){return e?t!==void 0?tr(e)?e[Pe].values_.has(t):!1:tr(e)||!!e[Pe]||h3(e)||sm(e)||bl(e):!1}function gg(e){return aA(e)}function lV(e,t){return aA(e,t)}function $d(e){if(tr(e))return e[Pe].keys_();if(rr(e)||Nn(e))return Array.from(e.keys());if(Dr(e))return e.map(function(t,n){return n});et(5)}function cV(e){if(tr(e))return $d(e).map(function(t){return e[t]});if(rr(e))return $d(e).map(function(t){return e.get(t)});if(Nn(e))return Array.from(e.values());if(Dr(e))return e.slice();et(6)}function uV(e){if(tr(e))return $d(e).map(function(t){return[t,e[t]]});if(rr(e))return $d(e).map(function(t){return[t,e.get(t)]});if(Nn(e))return Array.from(e.entries());if(Dr(e))return e.map(function(t,n){return[n,t]});et(7)}function lA(e,t,n){if(arguments.length===2&&!Nn(e)){Or();var r=t;try{for(var s in r)lA(e,s,r[s])}finally{Ar()}return}tr(e)?e[Pe].set_(t,n):rr(e)?e.set(t,n):Nn(e)?e.add(t):Dr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&et("Invalid index: '"+t+"'"),Or(),t>=e.length&&(e.length=t+1),e[t]=n,Ar()):et(8)}function dV(e,t){tr(e)?e[Pe].delete_(t):rr(e)||Nn(e)?e.delete(t):Dr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):et(9)}function cA(e,t){if(tr(e))return e[Pe].has_(t);if(rr(e))return e.has(t);if(Nn(e))return e.has(t);if(Dr(e))return t>=0&&t<e.length;et(10)}function fV(e,t){if(cA(e,t)){if(tr(e))return e[Pe].get_(t);if(rr(e))return e.get(t);if(Dr(e))return e[t];et(11)}}function hV(e,t,n){if(tr(e))return e[Pe].defineProperty_(t,n);et(39)}function uA(e){if(tr(e))return e[Pe].ownKeys_();et(38)}function pV(e,t,n,r){return Qr(n)?gV(e,t,n,r):mV(e,t,n)}function mV(e,t,n){return li(e).observe_(t,n)}function gV(e,t,n,r){return li(e,t).observe_(n,r)}function Lh(e,t,n){return e.set(t,n),n}function Tc(e,t){if(e==null||typeof e!="object"||e instanceof Date||!gg(e))return e;if(g3(e)||bl(e))return Tc(e.get(),t);if(t.has(e))return t.get(e);if(Dr(e)){var n=Lh(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=Tc(i,t)}),n}if(Nn(e)){var r=Lh(t,e,new Set);return e.forEach(function(i){r.add(Tc(i,t))}),r}if(rr(e)){var s=Lh(t,e,new Map);return e.forEach(function(i,a){s.set(a,Tc(i,t))}),s}else{var o=Lh(t,e,{});return uA(e).forEach(function(i){Cf.propertyIsEnumerable.call(e,i)&&(o[i]=Tc(e[i],t))}),o}}function vV(e,t){return Tc(e,new Map)}function _V(){}function _o(e,t){t===void 0&&(t=void 0),Or();try{return e.apply(t)}finally{Ar()}}function pb(e,t,n){return arguments.length===1||t&&typeof t=="object"?yV(e,t):dA(e,t,n||{})}function dA(e,t,n){var r;if(typeof n.timeout=="number"){var s=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[Pe].isDisposed)if(i(),n.onError)n.onError(s);else throw s},n.timeout)}n.name="When";var o=ra("When-effect",t),i=pg(function(a){var l=m3(!1,e);l&&(a.dispose(),r&&clearTimeout(r),o())},n);return i}function yV(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,s,o=new Promise(function(i,a){var l,c=dA(e,i,na({},t,{onError:a}));r=function(){c(),a(new Error("WHEN_CANCELLED"))},s=function(){c(),a(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",s)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",s)});return o.cancel=r,o}function lc(e){return e[Pe]}var bV={has:function(t,n){return lc(t).has_(n)},get:function(t,n){return lc(t).get_(n)},set:function(t,n,r){var s;return vl(n)?(s=lc(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return vl(n)?(r=lc(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=lc(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return lc(t).ownKeys_()},preventExtensions:function(t){et(13)}};function CV(e,t){var n,r;return bO(),e=jl(e,t),(r=(n=e[Pe]).proxy_)!=null?r:n.proxy_=new Proxy(e,bV)}function hs(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function kf(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),CO(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ps(e,t){var n=Fl();try{for(var r=[].concat(e.interceptors_||[]),s=0,o=r.length;s<o&&(t=r[s](t),t&&!t.type&&et(14),!!t);s++);return t}finally{ei(n)}}function Gs(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Of(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),CO(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Vs(e,t){var n=Fl(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,o=r.length;s<o;s++)r[s](t);ei(n)}}function fA(e,t,n){return _a(function(){var r,s=jl(e,n)[Pe];(r=t)!=null||(t=Rq(e)),su(t).forEach(function(o){return s.make_(o,t[o])})}),e}var G1=Symbol("mobx-keys");function SV(e,t,n){return ii(e)?_3(e,e,t,n):(_a(function(){var r=jl(e,n)[Pe];if(!e[G1]){var s=Object.getPrototypeOf(e),o=new Set([].concat(su(e),su(s)));o.delete("constructor"),o.delete(Pe),Sf(s,G1,o)}e[G1].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var b4="splice",To="update",wV=1e4,EV={get:function(t,n){var r=t[Pe];return n===Pe?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Qo(im,n)?im[n]:t[n]},set:function(t,n,r){var s=t[Pe];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){et(15)}},y3=function(){function e(n,r,s,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=o,this.atom_=new va(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return kf(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Of(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&et("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var o=new Array(r-s),i=0;i<r-s;i++)o[i]=void 0;this.spliceWithArray_(s,0,o)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&et(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&vA(r+s+1)},t.spliceWithArray_=function(r,s,o){var i=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?s=a-r:s==null?s=0:s=Math.max(0,Math.min(s,a-r)),o===void 0&&(o=ob),hs(this)){var l=ps(this,{object:this.proxy_,type:b4,index:r,removedCount:s,added:o});if(!l)return ob;s=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return i.enhancer_(d,void 0)}),this.legacyMode_){var c=o.length-s;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,s,o);return(s!==0||o.length!==0)&&this.notifyArraySplice_(r,o,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,s,o){if(o.length<wV){var i;return(i=this.values_).splice.apply(i,[r,s].concat(o))}else{var a=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=o.length-s;for(var c=0;c<o.length;c++)this.values_[r+c]=o[c];for(var u=0;u<l.length;u++)this.values_[r+o.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,s,o){var i=!this.owned_&&Od(),a=Gs(this),l=a||i?{observableKind:"array",object:this.proxy_,type:To,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:o}:null;this.atom_.reportChanged(),a&&Vs(this,l)},t.notifyArraySplice_=function(r,s,o){var i=!this.owned_&&Od(),a=Gs(this),l=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:b4,index:r,removed:o,added:s,removedCount:o.length,addedCount:s.length}:null;this.atom_.reportChanged(),a&&Vs(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var o=this.values_;if(this.legacyMode_&&r>o.length&&et(17,r,o.length),r<o.length){this.atom_;var i=o[r];if(hs(this)){var a=ps(this,{type:To,object:this.proxy_,index:r,newValue:s});if(!a)return;s=a.newValue}s=this.enhancer_(s,i);var l=s!==i;l&&(o[r]=s,this.notifyArrayChildUpdate_(r,s,i))}else{for(var c=new Array(r+1-o.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=s,this.spliceWithArray_(o.length,0,c)}},e}();function xV(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),bO(),_a(function(){var s=new y3(n,t,r,!1);wO(s.values_,Pe,s);var o=new Proxy(s.values_,EV);return s.proxy_=o,e&&e.length&&s.spliceWithArray_(0,0,e),o})}var im={clear:function(){return this.splice(0)},replace:function(t){var n=this[Pe];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];var i=this[Pe];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[Pe].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Pe],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Pe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Pe],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ne.trackingDerivation&&et(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ne.trackingDerivation&&et(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Pe],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Kt("at",is);Kt("concat",is);Kt("flat",is);Kt("includes",is);Kt("indexOf",is);Kt("join",is);Kt("lastIndexOf",is);Kt("slice",is);Kt("toString",is);Kt("toLocaleString",is);Kt("toSorted",is);Kt("toSpliced",is);Kt("with",is);Kt("every",no);Kt("filter",no);Kt("find",no);Kt("findIndex",no);Kt("findLast",no);Kt("findLastIndex",no);Kt("flatMap",no);Kt("forEach",no);Kt("map",no);Kt("some",no);Kt("toReversed",no);Kt("reduce",hA);Kt("reduceRight",hA);function Kt(e,t){typeof Array.prototype[e]=="function"&&(im[e]=t(e))}function is(e){return function(){var t=this[Pe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function no(e){return function(t,n){var r=this,s=this[Pe];s.atom_.reportObserved();var o=s.dehanceValues_(s.values_);return o[e](function(i,a){return t.call(n,i,a,r)})}}function hA(e){return function(){var t=this,n=this[Pe];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(o,i,a){return s(o,i,a,t)},r[e].apply(r,arguments)}}var TV=ga("ObservableArrayAdministration",y3);function Dr(e){return ag(e)&&TV(e[Pe])}var kV={},Gi="add",am="delete",b3=function(){function e(n,r,s){var o=this;r===void 0&&(r=yl),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Pe]=kV,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Qr(Map)||et(18),_a(function(){o.keysAtom_=lg("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!ne.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var i=o=new Zi(this.has_(r),cg,"ObservableMap.key?",!1);this.hasMap_.set(r,i),v3(i,function(){return s.hasMap_.delete(r)})}return o.get()},t.set=function(r,s){var o=this.has_(r);if(hs(this)){var i=ps(this,{type:o?To:Gi,object:this,newValue:s,name:r});if(!i)return this;s=i.newValue}return o?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,hs(this)){var o=ps(this,{type:am,object:this,name:r});if(!o)return!1}if(this.has_(r)){var i=Od(),a=Gs(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:am,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return _o(function(){var c;s.keysAtom_.reportChanged(),(c=s.hasMap_.get(r))==null||c.setNewValue_(!1);var u=s.data_.get(r);u.setNewValue_(void 0),s.data_.delete(r)}),a&&Vs(this,l),!0}return!1},t.updateValue_=function(r,s){var o=this.data_.get(r);if(s=o.prepareNewValue_(s),s!==ne.UNCHANGED){var i=Od(),a=Gs(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:To,object:this,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),a&&Vs(this,l)}},t.addValue_=function(r,s){var o=this;this.keysAtom_,_o(function(){var c,u=new Zi(s,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,u),s=u.value_,(c=o.hasMap_.get(r))==null||c.setNewValue_(!0),o.keysAtom_.reportChanged()});var i=Od(),a=Gs(this),l=a||i?{observableKind:"map",debugObjectName:this.name_,type:Gi,object:this,name:r,newValue:s}:null;a&&Vs(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return C4({next:function(){var i=s.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,s=this.keys();return C4({next:function(){var i=s.next(),a=i.done,l=i.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var o=Fc(this),i;!(i=o()).done;){var a=i.value,l=a[0],c=a[1];r.call(s,c,l,this)}},t.merge=function(r){var s=this;return rr(r)&&(r=new Map(r)),_o(function(){ii(r)?Tq(r).forEach(function(o){return s.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var i=o[0],a=o[1];return s.set(i,a)}):Eu(r)?(xq(r)||et(19,r),r.forEach(function(o,i){return s.set(i,o)})):r!=null&&et(20,r)}),this},t.clear=function(){var r=this;_o(function(){Tf(function(){for(var s=Fc(r.keys()),o;!(o=s()).done;){var i=o.value;r.delete(i)}})})},t.replace=function(r){var s=this;return _o(function(){for(var o=OV(r),i=new Map,a=!1,l=Fc(s.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!o.has(u)){var d=s.delete(u);if(d)a=!0;else{var f=s.data_.get(u);i.set(u,f)}}}for(var p=Fc(o.entries()),g;!(g=p()).done;){var v=g.value,_=v[0],y=v[1],b=s.data_.has(_);if(s.set(_,y),s.data_.has(_)){var w=s.data_.get(_);i.set(_,w),b||(a=!0)}}if(!a)if(s.data_.size!==i.size)s.keysAtom_.reportChanged();else for(var C=s.data_.keys(),S=i.keys(),E=C.next(),x=S.next();!E.done;){if(E.value!==x.value){s.keysAtom_.reportChanged();break}E=C.next(),x=S.next()}s.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return Of(this,r)},t.intercept_=function(r){return kf(this,r)},xu(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),rr=ga("ObservableMap",b3);function C4(e){return e[Symbol.toStringTag]="MapIterator",E3(e)}function OV(e){if(Eu(e)||rr(e))return e;if(Array.isArray(e))return new Map(e);if(ii(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return et(21,e)}var AV={},C3=function(){function e(n,r,s){var o=this;r===void 0&&(r=yl),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Pe]=AV,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Qr(Set)||et(22),this.enhancer_=function(i,a){return r(i,a,s)},_a(function(){o.atom_=lg(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;_o(function(){Tf(function(){for(var s=Fc(r.data_.values()),o;!(o=s()).done;){var i=o.value;r.delete(i)}})})},t.forEach=function(r,s){for(var o=Fc(this),i;!(i=o()).done;){var a=i.value;r.call(s,a,a,this)}},t.add=function(r){var s=this;if(this.atom_,hs(this)){var o=ps(this,{type:Gi,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){_o(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var i=!1,a=Gs(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:Gi,object:this,newValue:r}:null;a&&Vs(this,l)}return this},t.delete=function(r){var s=this;if(hs(this)){var o=ps(this,{type:am,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var i=!1,a=Gs(this),l=a||i?{observableKind:"set",debugObjectName:this.name_,type:am,object:this,oldValue:r}:null;return _o(function(){s.atom_.reportChanged(),s.data_.delete(r)}),a&&Vs(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return S4({next:function(){var o=r.next(),i=o.value,a=o.done;return a?{value:void 0,done:a}:{value:[i,i],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return S4({next:function(){var i=s.next(),a=i.value,l=i.done;return l?{value:void 0,done:l}:{value:r.dehanceValue_(a),done:l}}})},t.intersection=function(r){if(Jo(r)&&!Nn(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(Jo(r)&&!Nn(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Jo(r)&&!Nn(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Jo(r)&&!Nn(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return Nn(r)&&(r=new Set(r)),_o(function(){Array.isArray(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):Jo(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):r!=null&&et("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return Of(this,r)},t.intercept_=function(r){return kf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},xu(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Nn=ga("ObservableSet",C3);function S4(e){return e[Symbol.toStringTag]="SetIterator",E3(e)}var w4=Object.create(null),E4="remove",pA=function(){function e(n,r,s,o){r===void 0&&(r=new Map),o===void 0&&(o=aG),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=o,this.keysAtom_=new va("ObservableObject.keys"),this.isPlainObject_=ii(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var o=this.values_.get(r);if(o instanceof zs)return o.set(s),!0;if(hs(this)){var i=ps(this,{type:To,object:this.proxy_||this.target_,name:r,newValue:s});if(!i)return null;s=i.newValue}if(s=o.prepareNewValue_(s),s!==ne.UNCHANGED){var a=Gs(this),l=!1,c=a||l?{type:To,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),a&&Vs(this,c)}return!0},t.get_=function(r){return ne.trackingDerivation&&!Qo(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,o){return o===void 0&&(o=!1),Qo(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):o?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!ne.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Zi(r in this.target_,cg,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var o;if((o=this.target_[So])!=null&&o[r])return;et(1,s.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==Cf;){var a=em(i,r);if(a){var l=s.make_(this,r,a,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}T4(this,s,r)}},t.extend_=function(r,s,o,i){if(i===void 0&&(i=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,s,i);var a=o.extend_(this,r,s,i);return a&&T4(this,o,r),a},t.defineProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{Or();var i=this.delete_(r);if(!i)return i;if(hs(this)){var a=ps(this,{object:this.proxy_||this.target_,name:r,type:Gi,newValue:s.value});if(!a)return null;var l=a.newValue;s.value!==l&&(s=na({},s,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,r,s))return!1}else xo(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Ar()}return!0},t.defineObservableProperty_=function(r,s,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Or();var a=this.delete_(r);if(!a)return a;if(hs(this)){var l=ps(this,{object:this.proxy_||this.target_,name:r,type:Gi,newValue:s});if(!l)return null;s=l.newValue}var c=x4(r),u={configurable:ne.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else xo(this.target_,r,u);var d=new Zi(s,o,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{Ar()}return!0},t.defineComputedProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{Or();var i=this.delete_(r);if(!i)return i;if(hs(this)){var a=ps(this,{object:this.proxy_||this.target_,name:r,type:Gi,newValue:void 0});if(!a)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=x4(r),c={configurable:ne.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else xo(this.target_,r,c);this.values_.set(r,new zs(s)),this.notifyPropertyAddition_(r,void 0)}finally{Ar()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!Qo(this.target_,r))return!0;if(hs(this)){var o=ps(this,{object:this.proxy_||this.target_,name:r,type:E4});if(!o)return null}try{var i;Or();var a=Gs(this),l=!1,c=this.values_.get(r),u=void 0;if(!c&&(a||l)){var d;u=(d=em(this.target_,r))==null?void 0:d.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(c&&(this.values_.delete(r),c instanceof Zi&&(u=c.value_),zO(c)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),a||l){var f={type:E4,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&Vs(this,f)}}finally{Ar()}return!0},t.observe_=function(r,s){return Of(this,r)},t.intercept_=function(r){return kf(this,r)},t.notifyPropertyAddition_=function(r,s){var o,i=Gs(this),a=!1;if(i||a){var l=i||a?{type:Gi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;i&&Vs(this,l)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),su(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function jl(e,t){var n;if(Qo(e,Pe))return e;var r=(n=t?.name)!=null?n:"ObservableObject",s=new pA(e,new Map,String(r),_G(t));return Sf(e,Pe,s),e}var MV=ga("ObservableObjectAdministration",pA);function x4(e){return w4[e]||(w4[e]={get:function(){return this[Pe].getObservablePropValue_(e)},set:function(n){return this[Pe].setObservablePropValue_(e,n)}})}function tr(e){return ag(e)?MV(e[Pe]):!1}function T4(e,t,n){var r;(r=e.target_[So])==null||delete r[n]}var IV=gA(0),RV=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),V1=0,mA=function(){};function NV(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}NV(mA,Array.prototype);var S3=function(e){function t(r,s,o,i){var a;return o===void 0&&(o="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,_a(function(){var l=new y3(o,s,i,!0);l.proxy_=a,wO(a,Pe,l),r&&r.length&&a.spliceWithArray(0,0,r),RV&&Object.defineProperty(a,"0",IV)}),a}TO(t,e);var n=t.prototype;return n.concat=function(){this[Pe].atom_.reportObserved();for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),o.map(function(a){return Dr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,s=0;return E3({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},xu(t,[{key:"length",get:function(){return this[Pe].getArrayLength_()},set:function(s){this[Pe].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(mA);Object.entries(im).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Sf(S3.prototype,t,n)});function gA(e){return{enumerable:!1,configurable:!0,get:function(){return this[Pe].get_(e)},set:function(n){this[Pe].set_(e,n)}}}function PV(e){xo(S3.prototype,""+e,gA(e))}function vA(e){if(e>V1){for(var t=V1;t<e+100;t++)PV(t);V1=e}}vA(1e3);function DV(e,t,n){return new S3(e,t,n)}function ai(e,t){if(typeof e=="object"&&e!==null){if(Dr(e))return t!==void 0&&et(23),e[Pe].atom_;if(Nn(e))return e.atom_;if(rr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||et(25,t,lm(e)),n}if(tr(e)){if(!t)return et(26);var r=e[Pe].values_.get(t);return r||et(27,t,lm(e)),r}if(h3(e)||bl(e)||sm(e))return e}else if(Qr(e)&&sm(e[Pe]))return e[Pe];et(28)}function li(e,t){if(e||et(29),t!==void 0)return li(ai(e,t));if(h3(e)||bl(e)||sm(e)||rr(e)||Nn(e))return e;if(e[Pe])return e[Pe];et(24,e)}function lm(e,t){var n;if(t!==void 0)n=ai(e,t);else{if(iu(e))return e.name;tr(e)||rr(e)||Nn(e)?n=li(e):n=ai(e)}return n.name_}function _a(e){var t=Fl(),n=dg(!0);Or();try{return e()}finally{Ar(),fg(n),ei(t)}}var k4=Cf.toString;function w3(e,t,n){return n===void 0&&(n=-1),mb(e,t,n)}function mb(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var i=k4.call(e);if(i!==k4.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=O4(e),t=O4(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(Qr(l)&&l instanceof l&&Qr(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var u=r.length;u--;)if(r[u]===e)return s[u]===t;if(r.push(e),s.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!mb(e[u],t[u],n-1,r,s))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var p=0;p<f;p++){var g=d[p];if(!(Qo(t,g)&&mb(e[g],t[g],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function O4(e){return Dr(e)?e.slice():Eu(e)||rr(e)||Jo(e)||Nn(e)?Array.from(e.entries()):e}var A4,LV=((A4=ig().Iterator)==null?void 0:A4.prototype)||{};function E3(e){return e[Symbol.iterator]=FV,Object.assign(Object.create(LV),e)}function FV(){return this}["Symbol","Map","Set"].forEach(function(e){var t=ig();typeof t[e]>"u"&&et("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:WO,extras:{getDebugName:lm},$mobx:Pe});const B5e=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Pe,FlowCancellationError:mg,ObservableMap:b3,ObservableSet:C3,Reaction:$s,_allowStateChanges:m3,_allowStateChangesInsideComputed:om,_allowStateReadsEnd:Gc,_allowStateReadsStart:hg,_autoAction:ou,_endAction:jO,_getAdministration:li,_getGlobalState:AG,_interceptReads:nV,_isComputingDerivation:xG,_resetGlobalState:MG,_startAction:FO,action:qi,autorun:pg,comparer:_l,computed:Tu,configure:nA,createAtom:lg,defineProperty:hV,entries:uV,extendObservable:_3,flow:Cl,flowResult:tV,get:fV,getAtom:ai,getDebugName:lm,getDependencyTree:rA,getObserverTree:ZG,has:cA,intercept:rV,isAction:iu,isBoxedObservable:g3,isComputed:iV,isComputedProp:aV,isFlow:au,isFlowCancellationError:QG,isObservable:gg,isObservableArray:Dr,isObservableMap:rr,isObservableObject:tr,isObservableProp:lV,isObservableSet:Nn,keys:$d,makeAutoObservable:SV,makeObservable:fA,observable:Rn,observe:pV,onBecomeObserved:eA,onBecomeUnobserved:v3,onReactionError:LG,override:Uq,ownKeys:uA,reaction:QO,remove:dV,runInAction:om,set:lA,spy:WO,toJS:vV,trace:_V,transaction:_o,untracked:Tf,values:cV,when:pb},Symbol.toStringTag,{value:"Module"}));if(!h.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!fA)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function jV(e){e()}function UV(e){e||(e=jV),nA({reactionScheduler:e})}function BV(e){return rA(e)}var qV=1e4,GV=1e4,VV=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=qV),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(o,i){s-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,GV))}}),e}(),HV=typeof FinalizationRegistry<"u"?FinalizationRegistry:VV,gb=new HV(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),H1={exports:{}},z1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4;function zV(){if(M4)return z1;M4=1;var e=ZC();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,f){var p=f(),g=r({inst:{value:p,getSnapshot:f}}),v=g[0].inst,_=g[1];return o(function(){v.value=p,v.getSnapshot=f,l(v)&&_({inst:v})},[d,p,f]),s(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),i(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return z1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,z1}var I4;function $V(){return I4||(I4=1,H1.exports=zV()),H1.exports}var WV=$V();function R4(e){e.reaction=new $s("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function KV(e,t){t===void 0&&(t="observed");var n=Ee.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return gb.unregister(r),r.onStoreChange=a,r.reaction||(R4(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s=n.current;s.reaction||(R4(s),gb.register(n,s,s)),Ee.useDebugValue(s.reaction,BV),WV.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var o,i;if(s.reaction.track(function(){try{o=e()}catch(a){i=a}}),i)throw i;return o}var $1,W1,_A=typeof Symbol=="function"&&Symbol.for;W1=($1=Object.getOwnPropertyDescriptor(function(){},"name"))===null||$1===void 0?void 0:$1.configurable;_A?Symbol.for("react.forward_ref"):typeof h.forwardRef=="function"&&h.forwardRef(function(e){return null}).$$typeof;_A?Symbol.for("react.memo"):typeof h.memo=="function"&&h.memo(function(e){return null}).$$typeof;var K1;UV(JC.unstable_batchedUpdates);K1=gb.finalizeAllImmediately;function YV(e,t){return t===void 0&&(t="observed"),KV(e,t)}function wt(e,t){const n=eH(e),r=Rn.box(n?void 0:e,{deep:!1,name:t?.name,equals:t?.equals});let s=n?()=>{s=void 0,r.set(e())}:void 0;const o=()=>(s?.(),r.get()),i=t?.getServerFallback,a=SA(o),l=i?ya(a,{name:t.name,getServerFallback:i}):a;return l.set=c=>{wA(),om(()=>{r?.set(CA(c)?c(Tf(o)):c)})},l}function es(e){return YV(()=>sa(e))}function ya(e,t){const n=t?.getServerFallback,r=Tu(n?()=>bA()?n():sa(e):()=>sa(e),{name:t?.name,equals:t?.equals});return SA(()=>r.get())}function ZV(e){if(d3())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=pg(()=>{t?.(),t=sa(e)});return()=>{n(),t?.()}}function q5e(e,t,n){return QO(()=>sa(e),t,{equals:n?.equals,fireImmediately:n?.fireImmediately})}function al(e){return Tf(()=>sa(e))}function JV(e,t){return typeof t=="function"?pb(()=>sa(e),t):pb(()=>sa(e))}function XV(e){return om(e)}function ba(e,t,n){let r;const s=lg(n?.name??"syncExternalStoreSignal",()=>{let i=t();r=e(()=>{wA();const a=t();i!==a&&(i=a,s.reportChanged())})},()=>{r?.()}),o=n?.getServerFallback;return ya(()=>o&&bA()?o():(s.reportObserved(),t()))}const yA=wt(!0,{name:"isServerRendering"}),bA=yA;function QV(){h.useLayoutEffect(()=>{yA.set(!1)},[])}function eH(e){return typeof e=="function"}function CA(e){return typeof e=="function"}function SA(e){return()=>(tH(),e())}let cm=0;function sa(e){try{return cm++,e()}finally{cm--}}function tH(){!cm&&d3()&&vb(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function wA(){cm&&vb(new Error("[signal] Cannot update signal value directly within useObserve(), computed() or effect()")),d3()&&vb(new Error("[signal] Cannot update signal value directly within React component"))}function vb(e){U.addError(e)}function Af(e,t,n){const r=ma(e),s=N4(()=>r.defaultQueryOptions({...t(),notifyOnChangeProps:["data","isLoading","error","status"]})),o=N4(()=>new XC(r,s()));return ba(i=>{let a=!1;const l=o().subscribe(()=>{a&&i()});return a=!0,l},()=>o().getOptimisticResult(s()),{name:n?.name??"reactQuerySignal",getServerFallback:n?.forcePendingOnServer?()=>nH(e):void 0})}const nH=en(e=>{const t=ma(e),n=t.defaultQueryOptions({queryKey:["__empty"]});return new XC(t,n).getOptimisticResult(n)});function N4(e){let t;return()=>t??(t=e())}function G5e(e,t,n){return ba(r=>e.subscribe((s,o)=>{t(s)!==t(o)&&r()}),()=>t(e.getState()),{name:"storeWithSelectorSignal",getServerFallback:()=>t(e.getInitialState())})}const rH="OAI-Language",x3="OAI-Client-Version",T3="OAI-Device-Id",dr="OAI-Product-Sku",sH={},P4=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,p))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(sH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},hi=e=>e?P4(e):P4;var Y1={exports:{}},Z1={},J1={exports:{}},X1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function oH(){if(D4)return X1;D4=1;var e=ZC();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,f){var p=f(),g=r({inst:{value:p,getSnapshot:f}}),v=g[0].inst,_=g[1];return o(function(){v.value=p,v.getSnapshot=f,l(v)&&_({inst:v})},[d,p,f]),s(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),i(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return X1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,X1}var L4;function iH(){return L4||(L4=1,J1.exports=oH()),J1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function aH(){if(F4)return Z1;F4=1;var e=ZC(),t=iH();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Z1.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var g=o(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=a(function(){function y(E){if(!b){if(b=!0,w=E,E=f(E),p!==void 0&&v.hasValue){var x=v.value;if(p(x,E))return C=x}return C=E}if(x=C,r(w,E))return x;var T=f(E);return p!==void 0&&p(x,T)?x:(w=E,C=T)}var b=!1,w,C,S=d===void 0?null:d;return[function(){return y(u())},S===null?void 0:function(){return y(S())}]},[u,d,f,p]);var _=s(c,g[0],g[1]);return i(function(){v.hasValue=!0,v.value=_},[_]),l(_),_},Z1}var j4;function lH(){return j4||(j4=1,Y1.exports=aH()),Y1.exports}var cH=lH();const EA=yn(cH),xA={},{useDebugValue:uH}=Ee,{useSyncExternalStoreWithSelector:dH}=EA;let U4=!1;const fH=e=>e;function Ul(e,t=fH,n){(xA?"production":void 0)!=="production"&&n&&!U4&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),U4=!0);const r=dH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uH(r),r}const B4=e=>{(xA?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hi(e):e,n=(r,s)=>Ul(t,r,s);return Object.assign(n,t),n},cn=e=>e?B4(e):B4,hH="b75083646cc93698cf8032b6afb1acf9ad5d8b7d",pH="prod",mH="",gH="",Mf=`${pH}-${hH}${mH}${gH}`;var qa={},Fh={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var q4;function vH(){if(q4)return Fh;q4=1,Fh.parse=r,Fh.serialize=s;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(i,a){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var l={},c=a||{},u=i.split(";"),d=c.decode||e,f=0;f<u.length;f++){var p=u[f],g=p.indexOf("=");if(!(g<0)){var v=p.substring(0,g).trim();if(l[v]==null){var _=p.substring(g+1,p.length).trim();_[0]==='"'&&(_=_.slice(1,-1)),l[v]=o(_,d)}}}return l}function s(i,a,l){var c=l||{},u=c.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(i))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=i+"="+d;if(c.maxAge!=null){var p=c.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(p)}if(c.domain){if(!n.test(c.domain))throw new TypeError("option domain is invalid");f+="; Domain="+c.domain}if(c.path){if(!n.test(c.path))throw new TypeError("option path is invalid");f+="; Path="+c.path}if(c.expires){if(typeof c.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.sameSite){var g=typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite;switch(g){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function o(i,a){try{return a(i)}catch{return i}}return Fh}var G4;function _H(){return G4||(G4=1,function(e){var t=qa&&qa.__assign||function(){return t=Object.assign||function(_){for(var y,b=1,w=arguments.length;b<w;b++){y=arguments[b];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(_[C]=y[C])}return _},t.apply(this,arguments)},n=qa&&qa.__rest||function(_,y){var b={};for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&y.indexOf(w)<0&&(b[w]=_[w]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,w=Object.getOwnPropertySymbols(_);C<w.length;C++)y.indexOf(w[C])<0&&Object.prototype.propertyIsEnumerable.call(_,w[C])&&(b[w[C]]=_[w[C]]);return b};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=vH(),s=function(){return typeof window<"u"},o=function(_){if(_==="true")return!0;if(_==="false")return!1;if(_!=="undefined")return _==="null"?null:_},i=function(_){_===void 0&&(_="");try{var y=JSON.stringify(_);return/^[\{\[]/.test(y)?y:_}catch{return _}},a=function(_){return _&&_.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},l=function(_){var y;if(_&&(y=_.req),!s())return y&&y.cookies?y.cookies:y&&y.headers&&y.headers.cookie?(0,r.parse)(y.headers.cookie):{};for(var b={},w=document.cookie?document.cookie.split("; "):[],C=0,S=w.length;C<S;C++){var E=w[C].split("="),x=E.slice(1).join("="),T=E[0];b[T]=x}return b};e.getCookies=l;var c=function(_,y){var b=(0,e.getCookies)(y),w=b[_];if(w!==void 0)return o(a(w))};e.getCookie=c;var u=function(_,y,b){var w,C,S;if(b){var E=b.req,x=b.res,T=n(b,["req","res"]);C=E,S=x,w=T}var k=(0,r.serialize)(_,i(y),t({path:"/"},w));if(s())document.cookie=k;else if(S&&C){var O=S.getHeader("Set-Cookie");if(Array.isArray(O)||(O=O?[String(O)]:[]),S.setHeader("Set-Cookie",O.concat(k)),C&&C.cookies){var A=C.cookies;y===""?delete A[_]:A[_]=i(y)}if(C&&C.headers&&C.headers.cookie){var A=(0,r.parse)(C.headers.cookie);y===""?delete A[_]:A[_]=i(y),C.headers.cookie=Object.entries(A).reduce(function(I,N){return I.concat("".concat(N[0],"=").concat(N[1],";"))},"")}}};e.setCookie=u;var d=function(_,y,b){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(_,y,b)};e.setCookies=d;var f=function(_,y){return(0,e.setCookie)(_,"",t(t({},y),{maxAge:-1}))};e.deleteCookie=f;var p=function(_,y){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(_,y)};e.removeCookies=p;var g=function(_,y){if(!_)return!1;var b=(0,e.getCookies)(y);return b.hasOwnProperty(_)};e.hasCookie=g;var v=function(_,y){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(_,y)};e.checkCookies=v}(qa)),qa}var jh=_H(),Re=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerShownPath="oai-cbs",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.ThreadSidebarState="oai-thread-sidebar",e.InternalSearchSettings="oai-internal-search-settings",e.LastUsedModel="oai-last-model",e.LastUsedEffortMode="oai-last-effort-mode",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e))(Re||{});const yH=["gclid","fbclid","rdt_cid","ttclid","li_fat_id"],bH=["ajs_user_id","ajs_user_traits"],CH={sameSite:"lax"},Q1=".chatgpt.com",TA=window!==window.top,SH=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class kA{allowAnalyticsCookies=!1;allowMarketingCookies=!1;constructor(){TA||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of bH)this.deleteCookie(t)}clearMarketingCookies(){for(const t of yH)this.deleteCookie(t)}synchronizeWithLocalStorage(){[Re.Workspace,Re.WorkspaceResidencyRegion,Re.DeviceId].forEach(n=>{const r=jh.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=jh.getCookies()[t];return n===void 0?void 0:SH(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){jh.setCookie(t,n,{...CH,...r})}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};jh.deleteCookie(t,n)}}class wH extends kA{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const qe=TA?new wH:new kA,EH=60*60*24*30*12,xH=()=>Cs(),TH=e=>typeof e=="string"&&e.length>0,kH=e=>{const t={maxAge:EH};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function OH(){return window.location.hostname??void 0}function Ca(e=OH()){const t=qe.getCookie(Re.DeviceId);if(TH(t))return t;const n=xH(),r=kH(e);return qe.setCookie(Re.DeviceId,n,r),n}function V5e(){window.location.href=window.location.origin+"/auth/logout"}const AH="auth_session_logging_id";var k3=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(k3||{}),MH=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(MH||{});const OA=en(e=>{const t=hr(e),n=t.authStatus==="logged_in"?t.session:null;return hi(()=>({session:n}))});function vn(e){return hr(e).authStatus==="logged_in"}function If(e){return OA(e).getState().session}function vg(e){return If(e)?.accessToken}async function IH(e){try{const t=Date.now(),n=new URL("/api/auth/session",location.origin);n.searchParams.set("refresh","true");for(const[l,c]of Object.entries(e))n.searchParams.set(l,c);const r=Ca();U.addAction(`Refreshing access token due to ${e.reason} error.`,{...e,url:location.origin+(e.path??""),deviceId:r});const s=await fetch(n,{headers:{[T3]:r,[x3]:Mf}}),o=await s.json(),a=(Date.now()-t)/1e3;if(s.status!==200&&U.addAction("fetchSession.statusNon200",{status:s.status,reqDuration:a}),Object.keys(o).length)return o.accessToken==null&&o.error==null&&U.addAction("missing_access_token_error",{error:`Missing access token for User: ${o.user?.id} (${o.accessToken})`}),o.error==="RefreshAccessTokenError"&&window._oaiHandleSessionExpired?.("page load",o.error),o.error&&U.addAction("fetchSession.error",{error:o.error}),o}catch{}return null}function Rf(){const e=ae();return{session:If(e),isLoading:!1}}function RH(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var cr=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(cr||{});const H5e="https://api.openai.com/mfa",NH=en(()=>({pending:null}));function AA(e,t){const n=OA(e),r=n.getState().session;r&&n.setState({session:{...r,accessToken:t}})}function MA(e,t){const n=NH(e);return n.pending||(n.pending=(async()=>{try{const r=await IH(t);r?.accessToken&&AA(e,r.accessToken)}finally{n.pending=null}})()),n.pending}const Nf=h.createContext({cspScriptNonce:void 0,windowStyle:void 0});function z5e(e){return e.windowStyle==="chatbar_view"}class PH{windowStyle$=wt(void 0);wantsModelSlug$=wt(void 0);selectedConversationId$=wt(void 0);wantsNewConversation$=wt(!1);prepareConversationDetails;attachments;whisperContent;tabContext;requestCompletion;wantsRequestCompletion$=wt(!1);populatePrompt;wantsPopulatePrompt$=wt(!1);context$=wt(void 0);promptOrigin=void 0;authSessionContext=void 0;wantsAuthSessionContext$=wt(!1);agentRequest;wantsHandleAgentRequest$=wt(!1);wantsAgentConversationSentMessage$=wt(!1);agentConversationSentMessage;signalAgentConversationSentMessage(t){this.agentConversationSentMessage={clientThreadId:t},this.wantsAgentConversationSentMessage$.set(!0)}sidebarUrlTrayOpen$=wt(!0);sidebarUrlTrayForcedOpen$=wt(!1)}const Hr=new PH,um="new_page_view",_b="sidebar_view",DH={name:"ref",value:"mini"},LH={name:"ref",value:"mini-sidebar"};let Wd;function IA(e){Wd=e}function $5e(){IA(_b)}function W5e(){IA(um)}function _g(e){return O3(e)||RA(e)}function O3(e){return Wd?Wd===um:e.windowStyle===um}function RA(e){return Wd?Wd===_b:e.windowStyle===_b}function K5e(e){return e.windowStyle===um}function FH(e){return _g(e)&&e.isContainerOTR===!0}function Y5e(e){const t="gpt-5";if(e?.has(t))return t;const n="gpt-4o";if(e?.has(n))return n}function Z5e(e){return O3(e)}function NA(e){es(Hr.windowStyle$);const t=h.useContext(Nf);return e(t)}function J5e(){const e=h.useContext(Nf),t=ae();return FH(e)?!0:_g(e)&&!vn(t)}function X5e(e){return $e(e,"1224064188")}class jH extends TypeError{constructor(t,n){let r;const{message:s,explanation:o,...i}=t,{path:a}=t,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function UH(e){return yg(e)&&typeof e[Symbol.iterator]=="function"}function yg(e){return typeof e=="object"&&e!=null}function V4(e){return yg(e)&&!Array.isArray(e)}function A3(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function BH(e){const{done:t,value:n}=e.next();return t?void 0:n}function qH(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:o}=t,{type:i}=n,{refinement:a,message:l=`Expected a value of type \`${i}\`${a?` with refinement \`${a}\``:""}, but received: \`${A3(r)}\``}=e;return{value:r,type:i,refinement:a,key:s[s.length-1],path:s,branch:o,...e,message:l}}function*H4(e,t,n,r){UH(e)||(e=[e]);for(const s of e){const o=qH(s,t,n,r);o&&(yield o)}}function*PA(e,t,n={}){const{path:r=[],branch:s=[e],coerce:o=!1,mask:i=!1}=n,a={path:r,branch:s,mask:i};o&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const f=PA(u,d,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,u],coerce:o,mask:i,message:n.message});for(const p of f)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(u=p[1],c===void 0?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):yg(e)&&(u!==void 0||c in e)&&(e[c]=u))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}class DA{constructor(t){const{type:n,schema:r,validator:s,refiner:o,coercer:i=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=i,s?this.validator=(l,c)=>{const u=s(l,c);return H4(u,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const u=o(l,c);return H4(u,c,this,l)}:this.refiner=()=>[]}assert(t,n){return GH(t,this,n)}create(t,n){return VH(t,this,n)}is(t){return zH(t,this)}mask(t,n){return HH(t,this,n)}validate(t,n={}){return Pf(t,this,n)}}function GH(e,t,n){const r=Pf(e,t,{message:n});if(r[0])throw r[0]}function VH(e,t,n){const r=Pf(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function HH(e,t,n){const r=Pf(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function zH(e,t){return!Pf(e,t)[0]}function Pf(e,t,n={}){const r=PA(e,t,n),s=BH(r);return s[0]?[new jH(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function LA(e,t){return new DA({type:e,schema:null,validator:t})}function $H(){return LA("never",()=>!1)}function WH(e){const t=e?Object.keys(e):[],n=$H();return new DA({type:"object",schema:e||null,*entries(r){if(e&&yg(r)){const s=new Set(Object.keys(r));for(const o of t)s.delete(o),yield[o,r[o],e[o]];for(const o of s)yield[o,r[o],n]}},validator(r){return V4(r)||`Expected an object, but received: ${A3(r)}`},coercer(r,s){if(!V4(r))return r;const o={...r};if(s.mask&&e)for(const i in o)e[i]===void 0&&delete o[i];return o}})}function z4(){return LA("string",e=>typeof e=="string"||`Expected a string, but received: ${A3(e)}`)}var Df=(e=>(e.Sunshine="sunshine",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.ModelStickyForNewChats="model_sticky_for_new_chats",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e))(Df||{}),Ni=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e))(Ni||{}),KH=(e=>(e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.TEAM="chatgptteamplan",e.BUSINESS_SEAT_USAGE="chatgptbusiness_seat_usage",e.BUSINESS_FLAT="chatgptbusiness_flat",e.EDUCATION_FLAT="chatgpteducation_flat",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(KH||{}),it=(e=>(e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.TEAM="team",e.BUSINESS="business",e.EDUCATION="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e))(it||{}),YH=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(YH||{});const Q5e={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var ZH=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(ZH||{}),JH=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(JH||{}),el=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(el||{}),XH=(e=>(e.FREE="free",e.PLUS="plus",e))(XH||{}),po=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(po||{}),QH=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(QH||{}),kr=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e))(kr||{}),vo=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(vo||{}),Nr=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(Nr||{}),Ad=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(Ad||{}),ez=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(ez||{}),tz=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(tz||{}),Fn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.Multimodal="multimodal",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(Fn||{}),Fs=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(Fs||{}),Kd=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(Kd||{}),Vc=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Vc||{}),be=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(be||{});const F={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",UAE_PASS_CONNECTOR:"uae_pass_connector"};var Lf=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Lf||{}),FA=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(FA||{}),nz=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(nz||{}),rz=(e=>(e.PAGE="page",e))(rz||{}),sz=(e=>(e.PAGE="page",e.DATABASE="database",e))(sz||{}),oz=(e=>(e.MESSAGE="message",e))(oz||{}),iz=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(iz||{}),az=(e=>(e.Gizmo="gizmo",e.ShareableConversation="share_link",e.Conversation="conversation",e.Post="post",e.CommerceProduct="commerce_product",e))(az||{}),lz=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(lz||{});const e6e={shouldnt_have_created:Ln({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:Ln({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:Ln({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:Ln({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:Ln({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:Ln({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:Ln({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:Ln({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:Ln({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:Ln({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var cz=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(cz||{});const t6e={audio_issues:Ln({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:Ln({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:Ln({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:Ln({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:Ln({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:Ln({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var uz=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(uz||{}),dz=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(dz||{});const n6e=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],e0="account_switch",t0="error",r6e=WH({email:z4(),token:z4()});var fz=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(fz||{});function s6e(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function o6e(e){return e!=null}const hz=(e,t)=>e.includes(t),pz=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},i6e=(e,t=[])=>n=>pz(n,e,t),mz=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,gz=(e,t)=>{const n=mz(e),r={};for(const s in t)r[s]=t[s](n?.[s]);return r},a6e=e=>t=>gz(t,e),l6e=(e,t="")=>typeof e=="object"||e==null?t:String(e),c6e=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},u6e=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},jA=(e,t,n=t[0])=>hz(t,e)?e:n,d6e=(e,t=e[0])=>n=>jA(n,e,t),f6e=e=>t=>t===void 0?void 0:e(t),vz=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M10 10.168C10.8271 10.1681 11.4987 10.8389 11.499 11.666C11.499 12.2542 11.1583 12.7616 10.665 13.0068V14.166C10.665 14.5332 10.3671 14.8309 10 14.8311C9.63288 14.8309 9.33496 14.5332 9.33496 14.166V13.0068C8.84181 12.7616 8.50195 12.2542 8.50195 11.666C8.50231 10.8389 9.17286 10.1681 10 10.168Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.83496C12.6683 1.83514 14.8311 3.99865 14.8311 6.66699V6.93262C15.1047 6.98164 15.3605 7.05589 15.6035 7.17969L15.8213 7.30176C16.3171 7.60583 16.7208 8.04242 16.9863 8.56348L17.0527 8.70605C17.197 9.04236 17.2622 9.40304 17.2949 9.80371C17.3317 10.254 17.3311 10.8109 17.3311 11.5V13.5C17.3311 14.1891 17.3317 14.746 17.2949 15.1963C17.2622 15.597 17.197 15.9576 17.0527 16.2939L16.9863 16.4365C16.7208 16.9576 16.3171 17.3942 15.8213 17.6982L15.6035 17.8203C15.2268 18.0122 14.8202 18.0915 14.3623 18.1289C13.9122 18.1656 13.3548 18.165 12.666 18.165H7.33301C6.64407 18.165 6.08689 18.1657 5.63672 18.1289C5.23621 18.0962 4.87526 18.0309 4.53906 17.8867L4.39649 17.8203C3.87557 17.5548 3.43881 17.1509 3.13477 16.6553L3.0127 16.4365C2.82094 16.0599 2.74151 15.654 2.7041 15.1963C2.66732 14.7461 2.66797 14.1891 2.66797 13.5V11.5C2.66797 10.8109 2.66732 10.2539 2.7041 9.80371C2.74151 9.34597 2.82094 8.94005 3.0127 8.56348L3.13477 8.34473C3.43881 7.8491 3.87557 7.44517 4.39649 7.17969L4.53906 7.11328C4.7388 7.02761 4.94775 6.97131 5.16797 6.93164V6.66699C5.16797 3.99865 7.3317 1.83514 10 1.83496ZM7.33301 8.16504C6.62215 8.16504 6.12858 8.16594 5.74512 8.19727C5.46345 8.2203 5.27358 8.25718 5.12988 8.30859L5 8.36523C4.69786 8.51925 4.44482 8.75346 4.26856 9.04102L4.19824 9.16699C4.11777 9.32498 4.06097 9.53651 4.03027 9.91211C3.99894 10.2956 3.99805 10.789 3.99805 11.5V13.5C3.99805 14.211 3.99894 14.7044 4.03027 15.0879C4.06097 15.4635 4.11777 15.675 4.19824 15.833L4.26856 15.959C4.44482 16.2465 4.69786 16.4807 5 16.6348L5.12988 16.6914C5.27358 16.7428 5.46345 16.7797 5.74512 16.8027C6.12858 16.8341 6.62215 16.835 7.33301 16.835H12.666C13.3767 16.835 13.8705 16.834 14.2539 16.8027C14.6293 16.7721 14.8411 16.7151 14.999 16.6348L15.126 16.5645C15.4134 16.3882 15.6478 16.1351 15.8018 15.833L15.8574 15.7031C15.9089 15.5594 15.9467 15.3698 15.9697 15.0879C16.0011 14.7044 16.001 14.211 16.001 13.5V11.5C16.001 10.789 16.0011 10.2956 15.9697 9.91211C15.9467 9.63017 15.9089 9.44064 15.8574 9.29688L15.8018 9.16699C15.6478 8.86494 15.4134 8.61183 15.126 8.43555L14.999 8.36523C14.8411 8.28485 14.6293 8.22793 14.2539 8.19727C13.8705 8.16598 13.3767 8.16504 12.666 8.16504H7.33301ZM10 3.16504C8.06624 3.16522 6.49805 4.73319 6.49805 6.66699V6.83789C6.75223 6.8349 7.02983 6.83496 7.33301 6.83496H12.666C12.969 6.83496 13.2469 6.8349 13.501 6.83789V6.66699C13.501 4.73318 11.9338 3.16522 10 3.16504Z"})),M3=en(()=>hi(()=>({modals:[],nextKey:1})));function bg(e,t,n){M3(e).setState(r=>{const s=r.modals.find(o=>o.ModalComponent===t);return s?{modals:[...r.modals.filter(o=>o.ModalComponent!==t),{key:s.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function _z(e,t){M3(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}const yz=h.memo(function({modal:{ModalComponent:t,props:n}}){const r=ae();return m.jsx(t,{...n,onClose:()=>{n?.onClose?.(),_z(r,t)}})});function bz(){const e=ae(),t=M3(e),n=Ul(t,r=>r.modals);return m.jsx(m.Fragment,{children:n.map(r=>m.jsx(yz,{modal:r},r.key))})}var n0,$4;function UA(){if($4)return n0;$4=1;function e(){}return n0=e,n0}var Cz=UA();const BA=yn(Cz);function qA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=qA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function he(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=qA(e))&&(r&&(r+=" "),r+=t);return r}const Sz=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M9.5 2.9375V5.5625M9.5 13.4375V16.0625M2.9375 9.5H5.5625M13.4375 9.5H16.0625",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}),h.createElement("path",{d:"M4.86011 4.85961L6.71627 6.71577M12.2847 12.2842L14.1409 14.1404M4.86011 14.1404L6.71627 12.2842M12.2847 6.71577L14.1409 4.85961",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}));function Yd({className:e}){return m.jsx(Sz,{className:he("motion-safe:animate-spin",e)})}function h6e({className:e}){return m.jsx("div",{className:"flex h-full w-full items-center justify-center",children:m.jsx(Yd,{className:e})})}function sn({children:e,onClick:t,className:n,contentWrapperClassName:r,color:s="primary",label:o,disabled:i=!1,visuallyDisabled:a=!1,loading:l=!1,size:c="medium",fullWidth:u=!1,contentsFullWidth:d=!1,icon:f,style:p,...g}){const v=a||i||l,_=l||i,y=he(v&&"opacity-50",_&&"cursor-not-allowed","btn relative",s==="primary"&&"btn-primary",s==="primary-inverse"&&"btn-primary-inverse",s==="green"&&"btn-green",s==="purple"&&"btn-purple",s==="secondary"&&"btn-secondary",s==="secondary-filled"&&"btn-secondary-filled",s==="danger"&&"btn-danger",s==="danger-outline"&&"btn-danger-outline",s==="blue"&&"btn-blue",s==="ghost"&&"btn-ghost",c==="small"&&"btn-small",c==="large"&&"btn-large",u&&"w-full",n),b=f?m.jsxs("div",{className:he("flex w-full","items-center justify-center",r,{"gap-1.5":c==="medium"||c==="large","gap-1":c==="small"}),children:[l?m.jsx(Yd,{className:he(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}):m.jsx(f,{"aria-label":"",className:he(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}),e]}):m.jsxs("div",{className:he("flex items-center justify-center",r,d&&"w-full"),children:[e,l&&m.jsx(Yd,{className:he(c==="small"&&"icon-sm ms-1",(c==="medium"||c==="large")&&"icon ms-1.5")})]});switch(g.as){case"link":case"a":{const{openNewTab:w,...C}=g;return m.jsx(bf,{...C,"aria-label":o,to:g.to??"/",target:w===!0?"_blank":"_self",onClick:t,className:y,style:p,children:b})}default:return m.jsx("button",{className:y,ref:g.ref,"aria-label":o,onClick:t,disabled:_,...g,style:p,children:b})}}sn.displayName="Button";const GA=()=>{},wz=()=>GA;function Ez(e,t=GA){return h.useSyncExternalStore(wz,e,t)}function Ff(){return Ez(()=>!0,()=>!1)}function VA(){return Ff()?window:null}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function xz(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Cg(...e){return t=>e.forEach(n=>xz(n,t))}function En(...e){return h.useCallback(Cg(...e),e)}function Tz(e,t){const n=h.createContext(t),r=o=>{const{children:i,...a}=o,l=h.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function ku(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];const c=d=>{const{scope:f,children:p,...g}=d,v=f?.[e]?.[l]||a,_=h.useMemo(()=>g,Object.values(g));return m.jsx(v.Provider,{value:_,children:p})};c.displayName=o+"Provider";function u(d,f){const p=f?.[e]?.[l]||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=a?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,kz(s,...t)]}function kz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Sl=globalThis?.document?h.useLayoutEffect:()=>{},Oz=mB.useId||(()=>{}),Az=0;function ko(e){const[t,n]=h.useState(Oz());return Sl(()=>{n(r=>r??String(Az++))},[e]),e||(t?`radix-${t}`:"")}function bs(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function Bl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=Mz({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=bs(n),l=h.useCallback(c=>{if(o){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else s(c)},[o,e,s,a]);return[i,l]}function Mz({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),o=bs(t);return h.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var lu=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),o=s.find(Iz);if(o){const i=o.props.children,a=s.map(l=>l===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:l);return m.jsx(yb,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return m.jsx(yb,{...r,ref:t,children:n})});lu.displayName="Slot";var yb=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const s=Nz(n);return h.cloneElement(n,{...Rz(r,n.props),ref:t?Cg(t,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});yb.displayName="SlotClone";var HA=({children:e})=>m.jsx(m.Fragment,{children:e});function Iz(e){return h.isValidElement(e)&&e.type===HA}function Rz(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Nz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Pz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Gt=Pz.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?lu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zA(e,t){e&&JC.flushSync(()=>e.dispatchEvent(t))}function Dz(e,t=globalThis?.document){const n=bs(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Lz="DismissableLayer",bb="dismissableLayer.update",Fz="dismissableLayer.pointerDownOutside",jz="dismissableLayer.focusOutside",W4,$A=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jf=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=h.useContext($A),[u,d]=h.useState(null),f=u?.ownerDocument??globalThis?.document,[,p]=h.useState({}),g=En(t,x=>d(x)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(_),b=u?v.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,C=b>=y,S=Bz(x=>{const T=x.target,k=[...c.branches].some(O=>O.contains(T));!C||k||(s?.(x),i?.(x),x.defaultPrevented||a?.())},f),E=qz(x=>{const T=x.target;[...c.branches].some(O=>O.contains(T))||(o?.(x),i?.(x),x.defaultPrevented||a?.())},f);return Dz(x=>{b===c.layers.size-1&&(r?.(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},f),h.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(W4=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),K4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=W4)}},[u,f,n,c]),h.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),K4())},[u,c]),h.useEffect(()=>{const x=()=>p({});return document.addEventListener(bb,x),()=>document.removeEventListener(bb,x)},[]),m.jsx(Gt.div,{...l,ref:g,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,E.onFocusCapture),onBlurCapture:We(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,S.onPointerDownCapture)})});jf.displayName=Lz;var Uz="DismissableLayerBranch",WA=h.forwardRef((e,t)=>{const n=h.useContext($A),r=h.useRef(null),s=En(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),m.jsx(Gt.div,{...e,ref:s})});WA.displayName=Uz;function Bz(e,t=globalThis?.document){const n=bs(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){KA(Fz,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function qz(e,t=globalThis?.document){const n=bs(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&KA(jz,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function K4(){const e=new CustomEvent(bb);document.dispatchEvent(e)}function KA(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zA(s,o):s.dispatchEvent(o)}var p6e=jf,m6e=WA,r0="focusScope.autoFocusOnMount",s0="focusScope.autoFocusOnUnmount",Y4={bubbles:!1,cancelable:!0},Gz="FocusScope",I3=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=h.useState(null),c=bs(s),u=bs(o),d=h.useRef(null),f=En(t,v=>l(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(w){if(p.paused||!a)return;const C=w.target;a.contains(C)?d.current=C:Pi(d.current,{select:!0})},_=function(w){if(p.paused||!a)return;const C=w.relatedTarget;C!==null&&(a.contains(C)||Pi(d.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Pi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,p.paused]),h.useEffect(()=>{if(a){J4.add(p);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(r0,Y4);a.addEventListener(r0,c),a.dispatchEvent(y),y.defaultPrevented||(Vz(Kz(YA(a)),{select:!0}),document.activeElement===v&&Pi(a))}return()=>{a.removeEventListener(r0,c),setTimeout(()=>{const y=new CustomEvent(s0,Y4);a.addEventListener(s0,u),a.dispatchEvent(y),y.defaultPrevented||Pi(v??document.body,{select:!0}),a.removeEventListener(s0,u),J4.remove(p)},0)}}},[a,c,u,p]);const g=h.useCallback(v=>{if(!n&&!r||p.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(_&&y){const b=v.currentTarget,[w,C]=Hz(b);w&&C?!v.shiftKey&&y===C?(v.preventDefault(),n&&Pi(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),n&&Pi(C,{select:!0})):y===b&&v.preventDefault()}},[n,r,p.paused]);return m.jsx(Gt.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});I3.displayName=Gz;function Vz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pi(r,{select:t}),document.activeElement!==n)return}function Hz(e){const t=YA(e),n=Z4(t,e),r=Z4(t.reverse(),e);return[n,r]}function YA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z4(e,t){for(const n of e)if(!zz(n,{upTo:t}))return n}function zz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $z(e){return e instanceof HTMLInputElement&&"select"in e}function Pi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$z(e)&&t&&e.select()}}var J4=Wz();function Wz(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=X4(e,t),e.unshift(t)},remove(t){e=X4(e,t),e[0]?.resume()}}}function X4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Kz(e){return e.filter(t=>t.tagName!=="A")}var Yz="Portal",Uf=h.forwardRef((e,t)=>{const{container:n,...r}=e,[s,o]=h.useState(!1);Sl(()=>o(!0),[]);const i=n||s&&globalThis?.document?.body;return i?Qa.createPortal(m.jsx(Gt.div,{...r,ref:t}),i):null});Uf.displayName=Yz;var g6e=Uf;function Zz(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var ro=e=>{const{present:t,children:n}=e,r=Jz(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=En(r.ref,Xz(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};ro.displayName="Presence";function Jz(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=Zz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Uh(r.current);o.current=a==="mounted"?c:"none"},[a]),Sl(()=>{const c=r.current,u=s.current;if(u!==e){const f=o.current,p=Uh(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Sl(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const v=Uh(r.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},f=p=>{p.target===t&&(o.current=Uh(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Uh(e){return e?.animationName||"none"}function Xz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var o0=0;function ZA(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Q4()),document.body.insertAdjacentElement("beforeend",e[1]??Q4()),o0++,()=>{o0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),o0--}},[])}function Q4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xp="right-scroll-bar-position",Tp="width-before-scroll-bar",Qz="with-scroll-bars-hidden",e$="--removed-body-scroll-bar-size";function i0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function t$(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var ew=new WeakMap;function n$(e,t){var n=t$(null,function(r){return e.forEach(function(s){return i0(s,r)})});return h.useLayoutEffect(function(){var r=ew.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||i0(a,null)}),o.forEach(function(a){s.has(a)||i0(a,i)})}ew.set(n,e)},[e]),n}function r$(e){return e}function s$(e,t){t===void 0&&(t=r$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return s}function o$(e){e===void 0&&(e={});var t=s$(null);return t.options=ji({async:!0,ssr:!1},e),t}var JA=function(e){var t=e.sideCar,n=Zk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,ji({},n))};JA.isSideCarExport=!0;function i$(e,t){return e.useMedium(t),JA}var XA=o$(),a0=function(){},Sg=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:a0,onWheelCapture:a0,onTouchMoveCapture:a0}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,b=e.gapMode,w=Zk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=n$([n,t]),E=ji(ji({},w),s);return h.createElement(h.Fragment,null,u&&h.createElement(C,{sideCar:XA,removeScrollBar:c,shards:d,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),i?h.cloneElement(h.Children.only(a),ji(ji({},E),{ref:S})):h.createElement(y,ji({},E,{className:l,ref:S}),a))});Sg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sg.classNames={fullWidth:Tp,zeroRight:xp};var a$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a$();return t&&e.setAttribute("nonce",t),e}function c$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=l$())&&(c$(t,n),u$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f$=function(){var e=d$();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QA=function(){var e=f$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},h$={left:0,top:0,right:0,gap:0},l0=function(e){return parseInt(e||"",10)||0},p$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[l0(n),l0(r),l0(s)]},m$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return h$;var t=p$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},g$=QA(),Hc="data-scroll-locked",v$=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Qz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xp," .").concat(xp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hc,`] {
    `).concat(e$,": ").concat(a,`px;
  }
`)},tw=function(){var e=parseInt(document.body.getAttribute(Hc)||"0",10);return isFinite(e)?e:0},_$=function(){h.useEffect(function(){return document.body.setAttribute(Hc,(tw()+1).toString()),function(){var e=tw()-1;e<=0?document.body.removeAttribute(Hc):document.body.setAttribute(Hc,e.toString())}},[])},y$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_$();var o=h.useMemo(function(){return m$(s)},[s]);return h.createElement(g$,{styles:v$(o,!t,s,n?"":"!important")})},Cb=!1;if(typeof window<"u")try{var Bh=Object.defineProperty({},"passive",{get:function(){return Cb=!0,!0}});window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{Cb=!1}var cc=Cb?{passive:!1}:!1,b$=function(e){return e.tagName==="TEXTAREA"},eM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b$(e)&&n[t]==="visible")},C$=function(e){return eM(e,"overflowY")},S$=function(e){return eM(e,"overflowX")},nw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=tM(e,r);if(s){var o=nM(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},E$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},tM=function(e,t){return e==="v"?C$(t):S$(t)},nM=function(e,t){return e==="v"?w$(t):E$(t)},x$=function(e,t){return e==="h"&&t==="rtl"?-1:1},T$=function(e,t,n,r,s){var o=x$(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,f=0;do{var p=nM(e,a),g=p[0],v=p[1],_=p[2],y=v-_-o*g;(g||y)&&tM(e,a)&&(d+=y,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},qh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rw=function(e){return[e.deltaX,e.deltaY]},sw=function(e){return e&&"current"in e?e.current:e},k$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A$=0,uc=[];function M$(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(A$++)[0],o=h.useState(QA)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=gB([e.lockRef.current],(e.shards||[]).map(sw),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=qh(v),b=n.current,w="deltaX"in v?v.deltaX:b[0]-y[0],C="deltaY"in v?v.deltaY:b[1]-y[1],S,E=v.target,x=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in v&&x==="h"&&E.type==="range")return!1;var T=nw(x,E);if(!T)return!0;if(T?S=x:(S=x==="v"?"h":"v",T=nw(x,E)),!T)return!1;if(!r.current&&"changedTouches"in v&&(w||C)&&(r.current=S),!S)return!0;var k=r.current||S;return T$(k,_,v,k==="h"?w:C)},[]),l=h.useCallback(function(v){var _=v;if(!(!uc.length||uc[uc.length-1]!==o)){var y="deltaY"in _?rw(_):qh(_),b=t.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&k$(S.delta,y)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(sw).filter(Boolean).filter(function(S){return S.contains(_.target)}),C=w.length>0?a(_,w[0]):!i.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=h.useCallback(function(v,_,y,b){var w={name:v,delta:_,target:y,should:b,shadowParent:I$(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(C){return C!==w})},1)},[]),u=h.useCallback(function(v){n.current=qh(v),r.current=void 0},[]),d=h.useCallback(function(v){c(v.type,rw(v),v.target,a(v,e.lockRef.current))},[]),f=h.useCallback(function(v){c(v.type,qh(v),v.target,a(v,e.lockRef.current))},[]);h.useEffect(function(){return uc.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,cc),document.addEventListener("touchmove",l,cc),document.addEventListener("touchstart",u,cc),function(){uc=uc.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,cc),document.removeEventListener("touchmove",l,cc),document.removeEventListener("touchstart",u,cc)}},[]);var p=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:O$(s)}):null,p?h.createElement(y$,{gapMode:e.gapMode}):null)}function I$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R$=i$(XA,M$);var R3=h.forwardRef(function(e,t){return h.createElement(Sg,ji({},e,{ref:t,sideCar:R$}))});R3.classNames=Sg.classNames;var N$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dc=new WeakMap,Gh=new WeakMap,Vh={},c0=0,rM=function(e){return e&&(e.host||rM(e.parentNode))},P$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=rM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},D$=function(e,t,n,r){var s=P$(t,Array.isArray(e)?e:[e]);Vh[n]||(Vh[n]=new WeakMap);var o=Vh[n],i=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var p=f.getAttribute(r),g=p!==null&&p!=="false",v=(dc.get(f)||0)+1,_=(o.get(f)||0)+1;dc.set(f,v),o.set(f,_),i.push(f),v===1&&g&&Gh.set(f,!0),_===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}})};return u(t),a.clear(),c0++,function(){i.forEach(function(d){var f=dc.get(d)-1,p=o.get(d)-1;dc.set(d,f),o.set(d,p),f||(Gh.has(d)||d.removeAttribute(r),Gh.delete(d)),p||d.removeAttribute(n)}),c0--,c0||(dc=new WeakMap,dc=new WeakMap,Gh=new WeakMap,Vh={})}},L$=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=N$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),D$(r,s,n,"aria-hidden")):function(){return null}},N3="Dialog",[sM,F$]=ku(N3),[j$,so]=sM(N3),P3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),l=h.useRef(null),[c=!1,u]=Bl({prop:r,defaultProp:s,onChange:o});return m.jsx(j$,{scope:t,triggerRef:a,contentRef:l,contentId:ko(),titleId:ko(),descriptionId:ko(),open:c,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),modal:i,children:n})};P3.displayName=N3;var oM="DialogTrigger",D3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=so(oM,n),o=En(t,s.triggerRef);return m.jsx(Gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":H3(s.open),...r,ref:o,onClick:We(e.onClick,s.onOpenToggle)})});D3.displayName=oM;var L3="DialogPortal",[U$,iM]=sM(L3,{forceMount:void 0}),F3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=so(L3,t);return m.jsx(U$,{scope:t,forceMount:n,children:h.Children.map(r,i=>m.jsx(ro,{present:n||o.open,children:m.jsx(Uf,{asChild:!0,container:s,children:i})}))})};F3.displayName=L3;var dm="DialogOverlay",j3=h.forwardRef((e,t)=>{const n=iM(dm,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=so(dm,e.__scopeDialog);return o.modal?m.jsx(ro,{present:r||o.open,children:m.jsx(B$,{...s,ref:t})}):null});j3.displayName=dm;var B$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=so(dm,n);return m.jsx(R3,{as:lu,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(Gt.div,{"data-state":H3(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),wl="DialogContent",U3=h.forwardRef((e,t)=>{const n=iM(wl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=so(wl,e.__scopeDialog);return m.jsx(ro,{present:r||o.open,children:o.modal?m.jsx(q$,{...s,ref:t}):m.jsx(G$,{...s,ref:t})})});U3.displayName=wl;var q$=h.forwardRef((e,t)=>{const n=so(wl,e.__scopeDialog),r=h.useRef(null),s=En(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return L$(o)},[]),m.jsx(aM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault())})}),G$=h.forwardRef((e,t)=>{const n=so(wl,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return m.jsx(aM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),aM=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=so(wl,n),l=h.useRef(null),c=En(t,l);return ZA(),m.jsxs(m.Fragment,{children:[m.jsx(I3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:m.jsx(jf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":H3(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(H$,{titleId:a.titleId}),m.jsx($$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),B3="DialogTitle",q3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=so(B3,n);return m.jsx(Gt.h2,{id:s.titleId,...r,ref:t})});q3.displayName=B3;var lM="DialogDescription",G3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=so(lM,n);return m.jsx(Gt.p,{id:s.descriptionId,...r,ref:t})});G3.displayName=lM;var cM="DialogClose",V3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=so(cM,n);return m.jsx(Gt.button,{type:"button",...r,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});V3.displayName=cM;function H3(e){return e?"open":"closed"}var uM="DialogTitleWarning",[V$,dM]=Tz(uM,{contentName:wl,titleName:B3,docsSlug:"dialog"}),H$=({titleId:e})=>{const t=dM(uM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},z$="DialogDescriptionWarning",$$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dM(z$).contentName}}.`;return h.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},fM=P3,W$=D3,hM=F3,pM=j3,mM=U3,gM=q3,vM=G3,_M=V3;const v6e=Object.freeze(Object.defineProperty({__proto__:null,Close:_M,Content:mM,Description:vM,Dialog:P3,DialogClose:V3,DialogContent:U3,DialogDescription:G3,DialogOverlay:j3,DialogPortal:F3,DialogTitle:q3,DialogTrigger:D3,Overlay:pM,Portal:hM,Root:fM,Title:gM,Trigger:W$,WarningProvider:V$,createDialogScope:F$},Symbol.toStringTag,{value:"Module"}));var K$="VisuallyHidden",z3=h.forwardRef((e,t)=>m.jsx(Gt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));z3.displayName=K$;var Y$=z3;function Md(e){"use forget";const t=ke.c(9);let n,r,s,o;t[0]!==e?({color:s,title:o,children:r,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o):(n=t[1],r=t[2],s=t[3],o=t[4]);const i=s===void 0?"secondary":s,a=o??r;let l;return t[5]!==n||t[6]!==i||t[7]!==a?(l=m.jsx(sn,{as:"button",color:i,...n,children:a}),t[5]=n,t[6]=i,t[7]=a,t[8]=l):l=t[8],l}function Z$(e){"use forget";const t=ke.c(16),{isOpen:n,onClose:r,children:s,shouldIgnoreClickOutside:o,className:i,testId:a}=e,l=o===void 0?!1:o;let c;t[0]!==r||t[1]!==l?(c=v=>{l||v===!1&&r(!1)},t[0]=r,t[1]=l,t[2]=c):c=t[2];const u=VA()?.document.body;let d;t[3]!==i?(d=he("absolute inset-0",i),t[3]=i,t[4]=d):d=t[4];let f;t[5]!==s||t[6]!==d||t[7]!==a?(f=m.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:s}),t[5]=s,t[6]=d,t[7]=a,t[8]=f):f=t[8];let p;t[9]!==u||t[10]!==f?(p=m.jsx(hM,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=p):p=t[11];let g;return t[12]!==n||t[13]!==c||t[14]!==p?(g=m.jsx(fM,{open:n,onOpenChange:c,children:p}),t[12]=n,t[13]=c,t[14]=p,t[15]=g):g=t[15],g}function J$(e){"use forget";const t=ke.c(6),{className:n,children:r,showBackground:s}=e,i=(s===void 0?!0:s)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==i?(a=he("fixed inset-0 z-50",i,n),t[0]=n,t[1]=i,t[2]=a):a=t[2];let l;return t[3]!==r||t[4]!==a?(l=m.jsx(pM,{className:a,children:r}),t[3]=r,t[4]=a,t[5]=l):l=t[5],l}function X$(e){"use forget";const t=ke.c(18),{className:n,children:r,position:s,size:o,removePopoverStyling:i,shadow:a,onEscapeKeyDown:l,removeBackground:c}=e,u=s===void 0?"center":s,d=i===void 0?!1:i,f=a===void 0?"normal":a,p=c===void 0?!1:c,g=o!=="fullscreen"&&"grid grid-cols-[10px_1fr_10px]",v=o!=="fullscreen"&&u==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",_=o!=="fullscreen"&&u==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",y=o!=="fullscreen"&&u==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let b;t[0]!==g||t[1]!==v||t[2]!==_||t[3]!==y?(b=he("z-50 h-full w-full overflow-y-auto",g,v,_,y),t[0]=g,t[1]=v,t[2]=_,t[3]=y,t[4]=b):b=t[4];const w=!d&&"popover",C=!p&&"bg-token-main-surface-primary",S=o!=="fullscreen"&&"rounded-2xl",E=f==="normal"&&"shadow-long";let x;t[5]!==n||t[6]!==w||t[7]!==C||t[8]!==S||t[9]!==E?(x=he(w,C,"relative start-1/2 col-auto col-start-2 row-auto row-start-2 h-full w-full text-start ltr:-translate-x-1/2 rtl:translate-x-1/2",S,E,n),t[5]=n,t[6]=w,t[7]=C,t[8]=S,t[9]=E,t[10]=x):x=t[10];let T;t[11]!==r||t[12]!==l||t[13]!==x?(T=m.jsx(mM,{onEscapeKeyDown:l,className:x,children:r}),t[11]=r,t[12]=l,t[13]=x,t[14]=T):T=t[14];let k;return t[15]!==T||t[16]!==b?(k=m.jsx("div",{className:b,children:T}),t[15]=T,t[16]=b,t[17]=k):k=t[17],k}function Q$(e){"use forget";const t=ke.c(16),{title:n,description:r,icon:s}=e;let o;t[0]!==n?(o=n&&m.jsx(gM,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=o):o=t[1];let i;t[2]!==r?(i=r&&m.jsx(vM,{asChild:!0,children:m.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=i):i=t[3];let a;t[4]!==o||t[5]!==i?(a=m.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[o,i]}),t[4]=o,t[5]=i,t[6]=a):a=t[6];const l=a;if(!s)return l;const c=!r&&"items-center";let u;t[7]!==c?(u=he("flex max-w-full min-w-0 gap-1.5",c),t[7]=c,t[8]=u):u=t[8];let d;t[9]!==s||t[10]!==r?(d=typeof s!="function"?s:m.jsx(s,{className:he("icon",r&&"mt-1"),"aria-label":""}),t[9]=s,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==l||t[13]!==u||t[14]!==d?(f=m.jsxs("div",{className:u,children:[d,l]}),t[12]=l,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function eW(e){"use forget";const t=ke.c(23),{title:n,accessory:r,description:s,hasSeparator:o,icon:i,closeButton:a,textCenter:l,visuallyHiddenHeader:c,className:u,closeButtonSide:d}=e,f=o===void 0?!1:o,p=c===void 0?!1:c,g=d===void 0?"right":d;if(!n)return null;let v;t[0]!==a?(v=a&&m.jsx(_M,{asChild:!0,children:a}),t[0]=a,t[1]=v):v=t[1];const _=v,y=l&&"flex-1 justify-center text-center";let b;t[2]!==y?(b=he("flex max-w-full items-center",y),t[2]=y,t[3]=b):b=t[3];const w=g==="left"&&_;let C;t[4]!==s||t[5]!==i||t[6]!==n?(C=m.jsx(Q$,{title:n,description:s,icon:i}),t[4]=s,t[5]=i,t[6]=n,t[7]=C):C=t[7];let S;t[8]!==b||t[9]!==w||t[10]!==C?(S=m.jsxs("div",{className:b,children:[w,C]}),t[8]=b,t[9]=w,t[10]=C,t[11]=S):S=t[11];const E=g==="right"&&_;let x;t[12]!==r||t[13]!==E?(x=m.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,E]}),t[12]=r,t[13]=E,t[14]=x):x=t[14];let T;t[15]!==u||t[16]!==f||t[17]!==x||t[18]!==S?(T=m.jsxs(nW,{hasSeparator:f,className:u,children:[S,x]}),t[15]=u,t[16]=f,t[17]=x,t[18]=S,t[19]=T):T=t[19];const k=T;let O;return t[20]!==k||t[21]!==p?(O=p?m.jsx(z3,{children:k}):k,t[20]=k,t[21]=p,t[22]=O):O=t[22],O}function tW(e){"use forget";const t=ke.c(9),{primaryButton:n,secondaryButton:r,isSpacedBetween:s,modalHasContent:o,textCenter:i,className:a}=e,l=s===void 0?!1:s,c=o===void 0?!0:o,u=i===void 0?!1:i,d=a===void 0?"":a;if(n==null&&r==null)return null;const f=u&&"justify-center",p=l&&"justify-between",g=c&&"mt-5 sm:mt-4";let v;t[0]!==d||t[1]!==f||t[2]!==p||t[3]!==g?(v=he("flex flex-col gap-3 sm:flex-row-reverse",f,p,g,d),t[0]=d,t[1]=f,t[2]=p,t[3]=g,t[4]=v):v=t[4];let _;return t[5]!==n||t[6]!==r||t[7]!==v?(_=m.jsxs("div",{className:v,children:[n,r]}),t[5]=n,t[6]=r,t[7]=v,t[8]=_):_=t[8],_}const nW=({hasSeparator:e,className:t,children:n})=>m.jsx("header",{className:he("min-h-header-height flex justify-between py-2.5 ps-4 pe-2 select-none",e&&"border-token-border-light border-b",t),children:n}),tl={Root:Z$,Overlay:J$,Content:X$,Header:eW,Actions:tW,Button:Md},yM=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z"})),$3=({onClick:e,bg:t="transparent",className:n,iconSize:r="md",ref:s,...o})=>{const i=ht();return m.jsx("button",{"data-testid":"close-button",ref:s,onClick:e,className:he("hover:bg-token-main-surface-secondary focus-visible:ring-token-text-quaternary dark:hover:bg-token-main-surface-tertiary flex h-8 w-8 items-center justify-center rounded-full focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden",t==="transparent"?"bg-transparent":"bg-token-main-surface-primary",n),"aria-label":i.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),...o,children:m.jsx(yM,{className:r==="lg"?"icon-lg":"icon"})})};$3.displayName="CloseButton";const rW="modulepreload",sW=function(e){return"/"+e},ow={},le=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=i(n.map(c=>{if(c=sW(c),c in ow)return;ow[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rW,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};function oW(){return null}function wg(e,t){const n=async()=>{try{const l=await e();return"default"in l?l:{default:l}}catch(l){return U.addAction("Failed importing dynamic component",{error:l}),{default:t?.fallback??oW}}},r=h.lazy(n),s=t?.loading;function o(l){const[c]=h.useState(()=>a);return Ff()?c?m.jsx(c,{...l}):m.jsx(h.Suspense,{fallback:s==null?null:m.jsx(s,{...l}),children:m.jsx(r,{...l})}):s!=null?m.jsx(s,{...l}):null}let i,a;return o.prefetch=()=>(i||(i=n().then(l=>{a=l.default})),i),o}const iW=wg(()=>le(()=>import("./djjloltrvhn29mf0.js"),__vite__mapDeps([0,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function pi(e){"use forget";const t=ke.c(65),{children:n,rootClassName:r,textCenter:s,className:o,description:i,icon:a,isBottomSheet:l,isOpen:c,onClose:u,onCloseComplete:d,primaryButton:f,secondaryButton:p,footerContent:g,size:v,title:_,headerAccessory:y,type:b,noPadding:w,hasSeparator:C,hideSeparator:S,showCloseButton:E,shouldIgnoreClickOutside:x,closeButton:T,isScrollable:k,allowVerticalContentToOverflow:O,position:A,removePopoverStyling:M,showOverlayBackground:I,shadow:N,visuallyHiddenHeader:q,headerClassName:P,contentClassName:D,footerClassName:R,modalActionsClassName:B,footerIsSpacedBetween:Y,onEscapeKeyDown:Me,testId:Fe,contentRef:pe}=e,ge=c===void 0?!1:c,Se=v===void 0?"normal":v,se=w===void 0?!1:w,K=C===void 0?!1:C,G=S===void 0?!0:S,ue=E===void 0?!1:E,oe=x===void 0?!1:x,_e=k===void 0?!0:k,st=O===void 0?!1:O,ee=A===void 0?"center":A,Ie=M===void 0?!1:M,X=I===void 0?!0:I,W=N===void 0?"normal":N,de=q===void 0?!1:q,ze=!!_&&!de,re=!!n,H=K||!G;if(l){let kn;return t[0]!==e?(kn=m.jsx(iW,{...e}),t[0]=e,t[1]=kn):kn=t[1],kn}let j;t[2]!==d||t[3]!==u?(j=()=>{u(!0),d?.()},t[2]=d,t[3]=u,t[4]=j):j=t[4];const xe=s&&"text-center",ye=Se==="normal",yt=Se==="large",Ye=Se==="xlarge",lt=Se==="fullscreen",Ne=!st;let bt;t[5]!==o||t[6]!==xe||t[7]!==ye||t[8]!==yt||t[9]!==Ye||t[10]!==lt||t[11]!==Ne?(bt=he("flex flex-col focus:outline-hidden",xe,{"max-w-md":ye,"max-w-lg":yt,"max-w-xl":Ye,"h-full w-full":lt,"overflow-hidden":Ne},o),t[5]=o,t[6]=xe,t[7]=ye,t[8]=yt,t[9]=Ye,t[10]=lt,t[11]=Ne,t[12]=bt):bt=t[12];let gt;t[13]!==T||t[14]!==u||t[15]!==ue?(gt=ue&&(T??m.jsx($3,{onClick:()=>u(!0)})),t[13]=T,t[14]=u,t[15]=ue,t[16]=gt):gt=t[16];let Ft;t[17]!==i||t[18]!==y||t[19]!==P||t[20]!==a||t[21]!==H||t[22]!==gt||t[23]!==s||t[24]!==_||t[25]!==b||t[26]!==de?(Ft=m.jsx(tl.Header,{icon:a,title:_,accessory:y,type:b,textCenter:s,closeButton:gt,description:i,hasSeparator:H,visuallyHiddenHeader:de,className:P}),t[17]=i,t[18]=y,t[19]=P,t[20]=a,t[21]=H,t[22]=gt,t[23]=s,t[24]=_,t[25]=b,t[26]=de,t[27]=Ft):Ft=t[27];const $t=st?"overflow-y-visible":_e?"overflow-y-auto":"overflow-y-hidden",Vt=Se!=="fullscreen"&&!se,pt=!H&&ze&&!se;let jt;t[28]!==D||t[29]!==$t||t[30]!==Vt||t[31]!==pt?(jt=he("grow",$t,{"p-4":Vt,"pt-1":pt},D),t[28]=D,t[29]=$t,t[30]=Vt,t[31]=pt,t[32]=jt):jt=t[32];let bn;t[33]!==R||t[34]!==g||t[35]!==Y||t[36]!==re||t[37]!==B||t[38]!==f||t[39]!==p?(bn=m.jsx(aW,{primaryButton:f,secondaryButton:p,footerContent:g,modalHasContent:re,className:R,isSpacedBetween:Y,modalActionsClassName:B}),t[33]=R,t[34]=g,t[35]=Y,t[36]=re,t[37]=B,t[38]=f,t[39]=p,t[40]=bn):bn=t[40];let Yt;t[41]!==n||t[42]!==pe||t[43]!==jt||t[44]!==bn?(Yt=m.jsxs("div",{className:jt,ref:pe,children:[n,bn]}),t[41]=n,t[42]=pe,t[43]=jt,t[44]=bn,t[45]=Yt):Yt=t[45];let Nt;t[46]!==Me||t[47]!==ee||t[48]!==Ie||t[49]!==W||t[50]!==Se||t[51]!==bt||t[52]!==Ft||t[53]!==Yt?(Nt=m.jsxs(tl.Content,{size:Se,position:ee,className:bt,removePopoverStyling:Ie,shadow:W,onEscapeKeyDown:Me,children:[Ft,Yt]}),t[46]=Me,t[47]=ee,t[48]=Ie,t[49]=W,t[50]=Se,t[51]=bt,t[52]=Ft,t[53]=Yt,t[54]=Nt):Nt=t[54];let hn;t[55]!==X||t[56]!==Nt?(hn=m.jsx(tl.Overlay,{showBackground:X,children:Nt}),t[55]=X,t[56]=Nt,t[57]=hn):hn=t[57];let Tn;return t[58]!==ge||t[59]!==r||t[60]!==oe||t[61]!==j||t[62]!==hn||t[63]!==Fe?(Tn=m.jsx(tl.Root,{isOpen:ge,onClose:j,shouldIgnoreClickOutside:oe,className:r,testId:Fe,children:hn}),t[58]=ge,t[59]=r,t[60]=oe,t[61]=j,t[62]=hn,t[63]=Fe,t[64]=Tn):Tn=t[64],Tn}function aW(e){"use forget";const t=ke.c(14),{primaryButton:n,secondaryButton:r,footerContent:s,textCenter:o,className:i,isSpacedBetween:a,modalActionsClassName:l,modalHasContent:c}=e,u=n!=null||r!=null;if(!(u||s))return null;let d;t[0]!==i?(d=he("flex w-full flex-row items-center justify-end text-sm select-none",i),t[0]=i,t[1]=d):d=t[1];let f;t[2]!==u||t[3]!==a||t[4]!==l||t[5]!==c||t[6]!==n||t[7]!==r||t[8]!==o?(f=u?m.jsx("div",{className:he(a?"grow":"flex-0"),children:m.jsx(tl.Actions,{className:he(l,"flex w-full flex-row-reverse"),textCenter:o,primaryButton:n,secondaryButton:r,modalHasContent:c,isSpacedBetween:a})}):null,t[2]=u,t[3]=a,t[4]=l,t[5]=c,t[6]=n,t[7]=r,t[8]=o,t[9]=f):f=t[9];let p;return t[10]!==s||t[11]!==d||t[12]!==f?(p=m.jsxs("div",{className:d,children:[s,f]}),t[10]=s,t[11]=d,t[12]=f,t[13]=p):p=t[13],p}function lW(e,t){bg(e,cW,{userEmail:t})}function cW({userEmail:e}){const t=ht();return m.jsx(pi,{testId:"modal-all-workspaces-blocked",isOpen:!0,onClose:BA,type:"warning",size:"custom",className:"max-w-3xl",title:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("div",{className:"text-lg",children:m.jsx(ie,{...Hh.title})}),m.jsx("div",{className:"text-sm font-normal",children:m.jsx(ie,{...Hh.subtitle})})]}),icon:vz,primaryButton:m.jsx(tl.Button,{onClick:async()=>{const n=await QC.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=n.url},color:"primary",title:t.formatMessage(Hh.signOutButton)}),children:m.jsx("div",{className:"flex flex-col space-y-4",children:m.jsx("div",{children:m.jsx(ie,{...Hh.detail,values:{email:m.jsx("span",{className:"font-semibold",children:e})}})})})})}const Hh=St({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});var uW={};const dW=window.location.origin+"/backend/se",_6e=uW.VITE_VZA493Q_SERVICE_URL??"https://operator.chatgpt.com"??"https://operator.chatgpt.com",Ji="personal",bM=60*60*24*90,Xo=St({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"}});var fW=(e=>(e.APPLE="apple",e))(fW||{});const hW="gpt-4o",y6e=hW;var pW=(e=>(e.NoAuthGo="ifpazk",e))(pW||{});const b6e={ifpazk:"zkl"};var W3=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(W3||{});const K3="WEB:",C6e=`${K3}:DUMMY`;var zc=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(zc||{}),Ue=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(Ue||{}),an=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(an||{});const In={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Canva:"canva",Notion:"notion",Slack:"slack"};var mW=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(mW||{}),fd=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(fd||{}),us=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(us||{}),Y3=(e=>(e.RATE_LIMIT="rate_limit",e))(Y3||{}),Xe=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e))(Xe||{}),Kn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e))(Kn||{}),Zd=(e=>(e.Picker="Picker",e.Link="Link",e))(Zd||{}),Oo=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Oo||{}),gW=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.FREE_USER_O3_MINI_HIGH="free_user_o3_mini_high",e.PAID_USER_O3_MINI_HIGH="paid_user_o3_mini_high",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e))(gW||{}),Z3=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(Z3||{}),vW=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(vW||{}),_W=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.AGENT="agent",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e))(_W||{}),CM=(e=>(e.SystemHint="systemHint",e))(CM||{});function S6e(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var yW=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(yW||{}),bW=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(bW||{}),CW=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(CW||{}),SM=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(SM||{}),wM=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(wM||{}),SW=(e=>(e.Bing="bing",e.Fortis="fortis",e))(SW||{}),wW=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(wW||{}),Sb=(e=>(e.AUTO="auto",e))(Sb||{}),Jd=(e=>(e.Standard="standard",e.High="high",e))(Jd||{}),EW=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(EW||{});const Hs="agent",xW="~oai~s1~";function TW(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const s=e.charCodeAt(n);t=Math.imul(t^s&255,16777619),t=Math.imul(t^s&65280,16777619)}return t>>>0}function Mr(e,t){if(typeof e!="number")throw new Error(`Unexpected: ${e}`);return t!=null&&e===kW(t)}const iw={};function kW(e){return iw[e]??(iw[e]=TW(xW+e))}const w6e="n7jupd",EM="-0dy553y",OW=1338619165;function xM(e){return Mr(OW,e+EM)}const AW=3675352570;function E6e(e){return Mr(AW,e+EM)}var MW=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e))(MW||{});const ve={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",ContextualAnswers:"contextual_answers",Slurm:"slurm",ApiTool:"api_tool",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent"};function IW(e){return Object.values(ve).includes(e)}function RW(e){return IW(e)?e:PW[e]}const NW="study",PW={connectors:ve.Slurm,image:ve.PictureV2,think:ve.Think,[NW]:ve.Tatertot};var TM=Symbol.for("immer-nothing"),aw=Symbol.for("immer-draftable"),Dt=Symbol.for("immer-state");function ms(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cu=Object.getPrototypeOf;function uu(e){return!!e&&!!e[Dt]}function ci(e){return e?kM(e)||Array.isArray(e)||!!e[aw]||!!e.constructor?.[aw]||xg(e)||Tg(e):!1}var DW=Object.prototype.constructor.toString();function kM(e){if(!e||typeof e!="object")return!1;const t=cu(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===DW}function du(e,t){Eg(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Eg(e){const t=e[Dt];return t?t.type_:Array.isArray(e)?1:xg(e)?2:Tg(e)?3:0}function wb(e,t){return Eg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OM(e,t,n){const r=Eg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function LW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xg(e){return e instanceof Map}function Tg(e){return e instanceof Set}function Dn(e){return e.copy_||e.base_}function Eb(e,t){if(xg(e))return new Map(e);if(Tg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&kM(e))return cu(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Dt];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const o=r[s],i=n[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(cu(e),n)}function J3(e,t=!1){return kg(e)||uu(e)||!ci(e)||(Eg(e)>1&&(e.set=e.add=e.clear=e.delete=FW),Object.freeze(e),t&&du(e,(n,r)=>J3(r,!0))),e}function FW(){ms(2)}function kg(e){return Object.isFrozen(e)}var xb={};function El(e){const t=xb[e];return t||ms(0,e),t}function jW(e,t){xb[e]||(xb[e]=t)}var Xd;function fm(){return Xd}function UW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lw(e,t){t&&(El("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tb(e){kb(e),e.drafts_.forEach(BW),e.drafts_=null}function kb(e){e===Xd&&(Xd=e.parent_)}function cw(e){return Xd=UW(Xd,e)}function BW(e){const t=e[Dt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Dt].modified_&&(Tb(t),ms(4)),ci(e)&&(e=hm(t,e),t.parent_||pm(t,e)),t.patches_&&El("Patches").generateReplacementPatches_(n[Dt].base_,e,t.patches_,t.inversePatches_)):e=hm(t,n,[]),Tb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TM?e:void 0}function hm(e,t,n){if(kg(t))return t;const r=t[Dt];if(!r)return du(t,(s,o)=>dw(e,r,t,s,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return pm(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,i=!1;r.type_===3&&(o=new Set(s),s.clear(),i=!0),du(o,(a,l)=>dw(e,r,s,a,l,n,i)),pm(e,s,!1),n&&e.patches_&&El("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function dw(e,t,n,r,s,o,i){if(uu(s)){const a=o&&t&&t.type_!==3&&!wb(t.assigned_,r)?o.concat(r):void 0,l=hm(e,s,a);if(OM(n,r,l),uu(l))e.canAutoFreeze_=!1;else return}else i&&n.add(s);if(ci(s)&&!kg(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hm(e,s),(!t||!t.scope_.parent_)&&pm(e,s)}}function pm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&J3(t,n)}function qW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:fm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=X3;n&&(s=[r],o=Qd);const{revoke:i,proxy:a}=Proxy.revocable(s,o);return r.draft_=a,r.revoke_=i,a}var X3={get(e,t){if(t===Dt)return e;const n=Dn(e);if(!wb(n,t))return GW(e,n,t);const r=n[t];return e.finalized_||!ci(r)?r:r===u0(e.base_,t)?(d0(e),e.copy_[t]=ef(r,e)):r},has(e,t){return t in Dn(e)},ownKeys(e){return Reflect.ownKeys(Dn(e))},set(e,t,n){const r=AM(Dn(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=u0(Dn(e),t),o=s?.[Dt];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(LW(n,s)&&(n!==void 0||wb(e.base_,t)))return!0;d0(e),Ko(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return u0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,d0(e),Ko(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Dn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ms(11)},getPrototypeOf(e){return cu(e.base_)},setPrototypeOf(){ms(12)}},Qd={};du(X3,(e,t)=>{Qd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qd.deleteProperty=function(e,t){return Qd.set.call(this,e,t,void 0)};Qd.set=function(e,t,n){return X3.set.call(this,e[0],t,n,e[0])};function u0(e,t){const n=e[Dt];return(n?Dn(n):e)[t]}function GW(e,t,n){const r=AM(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function AM(e,t){if(!(t in e))return;let n=cu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cu(n)}}function Ko(e){e.modified_||(e.modified_=!0,e.parent_&&Ko(e.parent_))}function d0(e){e.copy_||(e.copy_=Eb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const i=this;return function(l=o,...c){return i.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ms(6),r!==void 0&&typeof r!="function"&&ms(7);let s;if(ci(t)){const o=cw(this),i=ef(t,void 0);let a=!0;try{s=n(i),a=!1}finally{a?Tb(o):kb(o)}return lw(o,r),uw(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===TM&&(s=void 0),this.autoFreeze_&&J3(s,!0),r){const o=[],i=[];El("Patches").generateReplacementPatches_(t,s,o,i),r(o,i)}return s}else ms(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...a)=>this.produceWithPatches(i,l=>t(l,...a));let r,s;return[this.produce(t,n,(i,a)=>{r=i,s=a}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ci(e)||ms(8),uu(e)&&(e=HW(e));const t=cw(this),n=ef(e,void 0);return n[Dt].isManual_=!0,kb(t),n}finishDraft(e,t){const n=e&&e[Dt];(!n||!n.isManual_)&&ms(9);const{scope_:r}=n;return lw(r,t),uw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=El("Patches").applyPatches_;return uu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function ef(e,t){const n=xg(e)?El("MapSet").proxyMap_(e,t):Tg(e)?El("MapSet").proxySet_(e,t):qW(e,t);return(t?t.scope_:fm()).drafts_.push(n),n}function HW(e){return uu(e)||ms(10,e),MM(e)}function MM(e){if(!ci(e)||kg(e))return e;const t=e[Dt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Eb(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Eb(e,!0);return du(n,(r,s)=>{OM(n,r,MM(s))}),t&&(t.finalized_=!1),n}function zW(){class e extends Map{constructor(l,c){super(),this[Dt]={type_:2,parent_:c,scope_:c?c.scope_:fm(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:l,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Dn(this[Dt]).size}has(l){return Dn(this[Dt]).has(l)}set(l,c){const u=this[Dt];return i(u),(!Dn(u).has(l)||Dn(u).get(l)!==c)&&(n(u),Ko(u),u.assigned_.set(l,!0),u.copy_.set(l,c),u.assigned_.set(l,!0)),this}delete(l){if(!this.has(l))return!1;const c=this[Dt];return i(c),n(c),Ko(c),c.base_.has(l)?c.assigned_.set(l,!1):c.assigned_.delete(l),c.copy_.delete(l),!0}clear(){const l=this[Dt];i(l),Dn(l).size&&(n(l),Ko(l),l.assigned_=new Map,du(l.base_,c=>{l.assigned_.set(c,!1)}),l.copy_.clear())}forEach(l,c){const u=this[Dt];Dn(u).forEach((d,f,p)=>{l.call(c,this.get(f),f,this)})}get(l){const c=this[Dt];i(c);const u=Dn(c).get(l);if(c.finalized_||!ci(u)||u!==c.base_.get(l))return u;const d=ef(u,c);return n(c),c.copy_.set(l,d),d}keys(){return Dn(this[Dt]).keys()}values(){const l=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=l.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const l=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=l.next();if(c.done)return c;const u=this.get(c.value);return{done:!1,value:[c.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,l){return new e(a,l)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(l,c){super(),this[Dt]={type_:3,parent_:c,scope_:c?c.scope_:fm(),modified_:!1,finalized_:!1,copy_:void 0,base_:l,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Dn(this[Dt]).size}has(l){const c=this[Dt];return i(c),c.copy_?!!(c.copy_.has(l)||c.drafts_.has(l)&&c.copy_.has(c.drafts_.get(l))):c.base_.has(l)}add(l){const c=this[Dt];return i(c),this.has(l)||(o(c),Ko(c),c.copy_.add(l)),this}delete(l){if(!this.has(l))return!1;const c=this[Dt];return i(c),o(c),Ko(c),c.copy_.delete(l)||(c.drafts_.has(l)?c.copy_.delete(c.drafts_.get(l)):!1)}clear(){const l=this[Dt];i(l),Dn(l).size&&(o(l),Ko(l),l.copy_.clear())}values(){const l=this[Dt];return i(l),o(l),l.copy_.values()}entries(){const l=this[Dt];return i(l),o(l),l.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(l,c){const u=this.values();let d=u.next();for(;!d.done;)l.call(c,d.value,d.value,this),d=u.next()}}function s(a,l){return new r(a,l)}function o(a){a.copy_||(a.copy_=new Set,a.base_.forEach(l=>{if(ci(l)){const c=ef(l,a);a.drafts_.set(l,c),a.copy_.add(c)}else a.copy_.add(l)}))}function i(a){a.revoked_&&ms(3,JSON.stringify(Dn(a)))}jW("MapSet",{proxyMap_:t,proxySet_:s})}var ts=new VW,Ps=ts.produce;ts.produceWithPatches.bind(ts);ts.setAutoFreeze.bind(ts);ts.setUseStrictShallowCopy.bind(ts);ts.applyPatches.bind(ts);ts.createDraft.bind(ts);ts.finishDraft.bind(ts);const $W=e=>(t,n,r)=>(r.setState=(s,o,...i)=>{const a=typeof s=="function"?Ps(s):s;return t(a,o,...i)},e(r.setState,n,r)),Sa=$W,WW={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},ti=cn(Sa(()=>({...WW}))),Q3={[ve.Research]:Oo.DEEP_RESEARCH,[ve.PictureV2]:Oo.IMAGE_GEN,[ve.Think]:Oo.REASON};Q3[Hs]=Oo.ODYSSEY;const x6e=e=>xM(e)?Oo.ODYSSEY:Q3[e]??null,T6e=e=>{for(const[t,n]of Object.entries(Q3))if(n===e)return t;return null},KW={[ve.Research]:Z3.DEEP_RESEARCH};function YW(e){return xM(e)?Z3.ODYSSEY:KW[e]??null}function oa(e){return new Date(e.resets_after)>new Date}const ZW=e=>{const t=(e.model_limits?.filter(oa)??[]).map(r=>r.model_slug),n=new Set(ti.getState().modelLimits.filter(oa).map(r=>r.model_slug));return t.length!==n.size||!t.every(r=>n.has(r))},IM={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{ti.setState(s=>{const o=xt();Wt(o,"3886886465").get("should_overwrite_banner_info",!1)?s.bannerInfo=e:s.bannerInfo??=e,s.isInitialLoad=!1,s.blockedFeatures=s.blockedFeatures.concat(n).filter(oa),s.modelLimits=s.modelLimits.concat(t??[]).filter(oa),s.limitsProgress=r??[]})},dismissBanner:()=>{ti.setState(e=>{e.bannerInfo=null})},reset:()=>{ti.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function k6e(){return ti(({bannerInfo:e})=>{const{resets_after:t}=e??{};return!e||t!=null&&!oa({resets_after:t})?null:e})}function Og(e){return ti(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&oa(n)?n:null})}function JW(){return Og(Oo.SEND)}function O6e(){return!!JW()}function A6e(){return Og(Oo.FILE_UPLOAD)}function M6e(){return Og(Oo.GIZMO_TAG)}function I6e(){return Og(Oo.DEEP_RESEARCH)}function XW(){return ti(({modelLimits:t})=>t).filter(oa)}function R6e(e){return ti(({limitsProgress:n})=>n).filter(n=>e({...n,bySystemHint:r=>n.feature_name===YW(r)}))[0]}function N6e(){return ti(({blockedFeatures:t})=>t).filter(oa)}const QW=cn(()=>null),eK=cn(()=>null);var RM=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(RM||{});const tK=Object.freeze(new Set(Object.values(RM)));function nK(e){return e?tK.has(e):!1}const rK=cn(()=>null),fw=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Ag="en-US",P6e=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],sK=["es-419","fr-FR","zh-TW"],D6e={am:"አማርኛ",ar:"العربية","bg-BG":"български","bn-BD":"বাংলা","bs-BA":"bosanski","ca-ES":"català","cs-CZ":"čeština","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Ελληνικά","en-US":"English (US)","es-419":"español (Latinoamérica)","es-ES":"español (España)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"français (Canada)","fr-FR":"français (France)","gu-IN":"ગુજરાતી","hi-IN":"हिन्दी","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"հայերեն","id-ID":"Indonesia","is-IS":"íslenska","it-IT":"italiano","ja-JP":"日本語","ka-GE":"ქართული",kk:"қазақ тілі","kn-IN":"ಕನ್ನಡ","ko-KR":"한국어",lt:"lietuvių","lv-LV":"latviešu","mk-MK":"македонски",ml:"മലയാളം",mn:"монгол","mr-IN":"मराठी","ms-MY":"Bahasa Melayu","my-MM":"မြန်မာ","nb-NO":"norsk bokmål","nl-NL":"Nederlands",pa:"ਪੰਜਾਬੀ","pl-PL":"polski","pt-BR":"português (Brasil)","pt-PT":"português (Portugal)","ro-RO":"română","ru-RU":"русский","sk-SK":"slovenčina","sl-SI":"slovenščina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"српски","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"தமிழ்","te-IN":"తెలుగు","th-TH":"ไทย",tl:"Tagalog","tr-TR":"Türkçe","uk-UA":"українська",ur:"اردو","vi-VN":"Tiếng Việt","zh-CN":"简体中文","zh-HK":"繁體中文（香港）","zh-TW":"繁體中文（台灣）"};function oK(){return Array.from(new Set(Object.values(hd)))}const hd={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},NM=new Set(["ar"]);function PM(e){const t=e.replace("_","-").toLowerCase();if(t in hd)return hd[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const s=n.slice(0,r).join("-");if(s in hd)return hd[s]}return null}const Id={};function DM(e){return sK.includes(e)}async function iK(e,t){return e===Ag?Id:(await(DM(e)&&t?fw(Object.assign({"./locales-mt/es-419.json":()=>le(()=>import("./o71taxh6o77byjf5.js"),[]),"./locales-mt/fr-FR.json":()=>le(()=>import("./bdx86ul2tadzo1b5.js"),[]),"./locales-mt/zh-TW.json":()=>le(()=>import("./ovi4f9jzplnvjs4j.js"),[])}),`./locales-mt/${e}.json`,3):fw(Object.assign({"./locales/am.json":()=>le(()=>import("./rdns8khd6cmokql9.js"),[]),"./locales/ar.json":()=>le(()=>import("./d1kzfrcoi8i02tgn.js"),[]),"./locales/bg-BG.json":()=>le(()=>import("./lbclxtiqs7dhr31r.js"),[]),"./locales/bn-BD.json":()=>le(()=>import("./kjfhxqndcxqrwucq.js"),[]),"./locales/bs-BA.json":()=>le(()=>import("./g3mb7hk96d2n6gig.js"),[]),"./locales/ca-ES.json":()=>le(()=>import("./esw91kq7ujh31bf8.js"),[]),"./locales/cs-CZ.json":()=>le(()=>import("./h2esb25gxfqf9w1a.js"),[]),"./locales/da-DK.json":()=>le(()=>import("./ojsharh2x26b8uzn.js"),[]),"./locales/de-DE.json":()=>le(()=>import("./i9chdlleemux50uj.js"),[]),"./locales/el-GR.json":()=>le(()=>import("./f9qlabrwz8v3ag05.js"),[]),"./locales/es-419.json":()=>le(()=>import("./d6bysrpy3ev8s06j.js"),[]),"./locales/es-ES.json":()=>le(()=>import("./h73iezsrntbbkx9s.js"),[]),"./locales/et-EE.json":()=>le(()=>import("./fenul17cxmp5nza3.js"),[]),"./locales/fi-FI.json":()=>le(()=>import("./ibollf92c76w8gxo.js"),[]),"./locales/fr-CA.json":()=>le(()=>import("./byzp68q4x70izh74.js"),[]),"./locales/fr-FR.json":()=>le(()=>import("./i9tg82kw6pt7synh.js"),[]),"./locales/gu-IN.json":()=>le(()=>import("./nt4u9amrexde4fl3.js"),[]),"./locales/he-IL.json":()=>le(()=>import("./h0pte8pfxhise50n.js"),[]),"./locales/hi-IN.json":()=>le(()=>import("./cvqrmtpqymqb4bv9.js"),[]),"./locales/hr-HR.json":()=>le(()=>import("./k2ppitiokkpkxynx.js"),[]),"./locales/hu-HU.json":()=>le(()=>import("./bwletkiidu5w32ku.js"),[]),"./locales/hy-AM.json":()=>le(()=>import("./nic3r1qrzbjqzx3o.js"),[]),"./locales/id-ID.json":()=>le(()=>import("./hrejparznfr65pmi.js"),[]),"./locales/is-IS.json":()=>le(()=>import("./o1thtm8elmm7cngm.js"),[]),"./locales/it-IT.json":()=>le(()=>import("./o6pu3beho9ws08u3.js"),[]),"./locales/ja-JP.json":()=>le(()=>import("./fohazsookhyah34d.js"),[]),"./locales/ka-GE.json":()=>le(()=>import("./dc6ml0nem899osmx.js"),[]),"./locales/kk.json":()=>le(()=>import("./bcwob8lip1ebi5vf.js"),[]),"./locales/kn-IN.json":()=>le(()=>import("./h2t7zpqcmpzfldxa.js"),[]),"./locales/ko-KR.json":()=>le(()=>import("./icue4omjag7thebg.js"),[]),"./locales/lt.json":()=>le(()=>import("./mluv4893iu3t3dnh.js"),[]),"./locales/lv-LV.json":()=>le(()=>import("./e8kl1uekfsbgwk05.js"),[]),"./locales/mk-MK.json":()=>le(()=>import("./fjx78gyggaz67mx9.js"),[]),"./locales/ml.json":()=>le(()=>import("./ehl35fkhnpm5qba7.js"),[]),"./locales/mn.json":()=>le(()=>import("./i0vco7i8gdp0vqy5.js"),[]),"./locales/mr-IN.json":()=>le(()=>import("./or8u79f6iq5f3nvq.js"),[]),"./locales/ms-MY.json":()=>le(()=>import("./ihqdbjhzh4xhb6ly.js"),[]),"./locales/my-MM.json":()=>le(()=>import("./kkfslb9wdmw50vb7.js"),[]),"./locales/nb-NO.json":()=>le(()=>import("./fccfbr5ko7qlv7he.js"),[]),"./locales/nl-NL.json":()=>le(()=>import("./gx901yw3qicoj8wu.js"),[]),"./locales/pa.json":()=>le(()=>import("./dx5ko04j33ruulrq.js"),[]),"./locales/pl-PL.json":()=>le(()=>import("./2aw6bbozbdf6z474.js"),[]),"./locales/pt-BR.json":()=>le(()=>import("./kxjs8mv8sfd9mwgi.js"),[]),"./locales/pt-PT.json":()=>le(()=>import("./flweb4hnbixqi251.js"),[]),"./locales/ro-RO.json":()=>le(()=>import("./bdgk1nxjahnf2yod.js"),[]),"./locales/ru-RU.json":()=>le(()=>import("./bs09341a1ubowfy3.js"),[]),"./locales/sk-SK.json":()=>le(()=>import("./mbj9x5da0ipixh6c.js"),[]),"./locales/sl-SI.json":()=>le(()=>import("./mlt61fgqae4oq2ey.js"),[]),"./locales/so-SO.json":()=>le(()=>import("./bjfy1cg90itooudl.js"),[]),"./locales/sq-AL.json":()=>le(()=>import("./mrxyci0fan3vvfiu.js"),[]),"./locales/sr-RS.json":()=>le(()=>import("./iqysqlw44key7gjk.js"),[]),"./locales/sv-SE.json":()=>le(()=>import("./gf68giqyzrpq05kx.js"),[]),"./locales/sw-TZ.json":()=>le(()=>import("./lx3visnr7w4idzu4.js"),[]),"./locales/ta-IN.json":()=>le(()=>import("./o0bymcklry2fjh1d.js"),[]),"./locales/te-IN.json":()=>le(()=>import("./nn2ygcxyfkhw3796.js"),[]),"./locales/th-TH.json":()=>le(()=>import("./nlebk7o23eby6exy.js"),[]),"./locales/tl.json":()=>le(()=>import("./e7cgpr9bjcnbexb6.js"),[]),"./locales/tr-TR.json":()=>le(()=>import("./n43wus25i2f13977.js"),[]),"./locales/uk-UA.json":()=>le(()=>import("./mz02xqtc1ay0y100.js"),[]),"./locales/ur.json":()=>le(()=>import("./lh6aahiy85cxn2w0.js"),[]),"./locales/vi-VN.json":()=>le(()=>import("./h3eqjd570hdi3jij.js"),[]),"./locales/zh-CN.json":()=>le(()=>import("./f3la0yz4h462jx1h.js"),[]),"./locales/zh-HK.json":()=>le(()=>import("./lhxng3w8ke0hsi97.js"),[]),"./locales/zh-TW.json":()=>le(()=>import("./ffjxqro3jl3mbnsd.js"),[])}),`./locales/${e}.json`,3))).default}const aK=365*24*60*60,L6e=e=>{e==null?qe.deleteCookie(Re.PreferredLocale):qe.setCookie(Re.PreferredLocale,e,{maxAge:aK}),window.location.reload()},F6e=()=>{const e=qe.getCookie(Re.PreferredLocale);return e!=null?PM(e):null},uo=window.localStorage;var Et=(e=>(e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.ChatTheme="oai/apps/chatTheme",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.ConnectorToggleState="oai/apps/connectors/toggleState",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.NoAuthHasDismissedBurritoUpsellModal="oai/apps/noAuthHasDismissedBurritoUpsellModal",e.NoAuthGoUpsellModalDismissed="oai/apps/noAuthGoUpsellModalDismissed",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e))(Et||{});class qt{static setItem(t,n,r){if(!uo)return;const s=kp(t,r);uo.setItem(s,JSON.stringify(n))}static getItem(t,n){if(!uo)return null;try{const r=kp(t,n),s=uo.getItem(r);return typeof s=="string"?JSON.parse(s):s}catch{return null}}static removeItem(t,n){if(uo){const r=kp(t,n);return uo.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!uo){console.warn(`You cannot set localStorage server-side (${t})`);return}uo.setItem(t,JSON.stringify(n))}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!uo)return console.warn(`You cannot get localStorage server-side (${t})`),null;const n=uo.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function kp(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}const hw=100,tf=cn()(Sa(()=>qt.getItem(Et.ConversationDrafts)??{drafts:[],userId:null})),e5=e=>{tf.setState(e),qt.setItem(Et.ConversationDrafts,e)},t5=e=>e??"null_thread",j6e=(e,t,n)=>{const r=t5(e);let o=tf.getState().userId===n?tf.getState().drafts:[];const i=o.findIndex(l=>l.id===r),a={id:r,content:t,timestamp:Date.now()};i!==-1?o[i]=a:o.push(a),o.length>hw&&(o=o.sort((l,c)=>c.timestamp-l.timestamp).slice(0,hw)),e5({drafts:o,userId:n})},lK=e=>{const t=t5(e);return tf.getState().drafts.find(n=>n.id===t)},U6e=e=>{const t=t5(e),n=tf.getState().drafts.filter(r=>r.id!==t);e5({drafts:n,userId:null})},cK=()=>{e5({drafts:[],userId:null})};function uK(e,t,n){if(n)return t??void 0;if(!e)return;const r=e.trim();if(!r)return;const s=r.split(/\s+/);if(s.length===0)return;const o=s[0];return o.indexOf("@")!==-1||/^\d+$/.test(o)?void 0:o.replace(/[^a-zA-ZÀ-ž]+/g,"")}function B6e(e,t,n){const r=uK(t?.name,t?.first_name,n);let s="";e&&("object"in e&&e.object==="user_system_message_detail"?s=e.name_user_message:s=e.nameUserMessage??"");const o=s.trim();return(e?.enabled??!0)&&o?o:r}function dK(){qe.deleteCookie(Re.GreetingName)}const jc="@@",n5=[],mm=new Map;function fc(e,t,n,r){if(mm.has(e)||e==="Ref")throw new Error(`Already registered pickler ${e}`);const s={key:e,test:t,pickle:n,unpickle:r};mm.set(e,s),n5.push(s)}function LM(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const o=e.pop()[1];typeof o=="object"&&o!=null&&t.set(o,t.size)}const s=this[n];if(typeof s=="object"&&s!=null){const o=t.get(s);if(o!=null)return{[jc]:"Ref","":o}}for(const o of n5)if(o.test(s)){const i={[jc]:o.key,"":o.pickle(s)};return e.push([i,s]),i}if(typeof r=="object"&&r!=null){if(jc in r)throw new Error(`Unexpected ${jc} property`);e.push([r,s])}return r}}function fK(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(jc in n){const{[jc]:r,"":s}=n;if(r==="Ref")return e[s];const o=mm.get(r);if(!o)throw Error(`Unknown pickle key ${r}`);if(n=o.unpickle(s),typeof n!="object"||n==null)return n}return e.push(n),n}}function hK(){n5.length=0,mm.clear(),fc("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),fc("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),fc("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),fc("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),fc("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),fc("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}hK();function pK(e){if(e==null)return null;const t=hr(xt());return t.authStatus!==cr.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function FM(e,t){const n=pK(e);return n==null?null:`cache/${n.userId}/${n.workspaceId}/${t}`}const mK=1e3*60*60*24;function gK(e,t,n){const r=FM(e,t);if(r==null)return;const s=localStorage.getItem(r);if(s!=null)try{const{value:o,timestamp:i,version:a,used:l}=JSON.parse(s,fK());if(a!==n||Date.now()-i>mK){localStorage.removeItem(r);return}return{localStorageKey:r,value:o,version:a,used:typeof l=="number"?l:0}}catch{return}}const f0={};function vK(e,t,n){if(e==null)return;if(t in f0)return f0[t];const r=gK(e,t,n);if(U.addAction(`localStorageCache.${t}`,{cacheVersion:n,wasPresent:r!=null}),f0[t]=r?.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},LM())),r.value}function _K(e,t,n,r){const s=FM(e,t);s!=null&&localStorage.setItem(s,JSON.stringify({value:n,timestamp:Date.now(),version:r},LM()))}function jM(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const yK="session",UM="refresh";let Ob;typeof window<"u"&&window.BroadcastChannel!==void 0&&(Ob=new window.BroadcastChannel(yK),Ob.onmessage=e=>{e.data===UM&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function bK(){Ob?.postMessage(UM)}function CK(){bK(),jM(),cK(),dK(),qe.deleteCookie(Re.LastUsedModel)}function r5(e){CK(),window.location.href=e??"/?refresh_account=true"}const SK="dgkjq2bp",wK=SK;function BM(){return le(()=>import("./fo89h4x7cna8uitz.js").then(e=>e.i),__vite__mapDeps([2,1]))}function EK(e,t,n){if(e.id){const r={app_id:wK,user_id:e.id,name:e.name,email:e.email,user_hash:n,hide_default_launcher:!0,is_chatgpt_user:!0,chatgpt_plan_type:t?.planType};BM().then(s=>s?.boot(r))}}function s5(e,t){BM().then(n=>n?.trackEvent(e,t))}class Mg extends Error{name="ClientRequestMismatchedAuthError"}function qM(e,t="fetch"){e.url.includes("/aip");const n=e.detail,r=n?.conversation_detail_metadata;if(r&&IM.updateDetails(r),e.code==="request_account_access"&&eK.setState({accountName:n?.account_name,ownerEmail:n?.owner_email,userEmail:n?.user_email,accountId:n?.account_id,hasActiveRequest:n?.has_active_request,workspacePlanType:n?.workspace_plan_type}),e.code==="all_accounts_blocked"&&lW(xt(),n?.user_email),nK(e.code)&&rK.setState({accountName:n?.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){QW.setState({destinationWorkspaceId:n?.workspace_id,destinationWorkspaceName:n?.workspace_name,destinationWorkspaceProfilePictureUrl:n?.workspace_profile_picture_url,destinationWorkspacePlanType:n?.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||e.jsonError?.error?.code==="token_invalidated")&&(U.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&window._oaiHandleSessionExpired?.(t,JSON.stringify(n))),e.code==="invalid_account_id_header"&&typeof qe.getCookie(Re.Workspace)=="string"){qe.deleteCookie(Re.Workspace),r5();return}}function GM(e){U.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:Ca()})}function xK(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function TK(e){if(!e)return"";const t=new URLSearchParams;for(const[r,s]of Object.entries(e))if(Array.isArray(s))for(const o of s)t.append(r,o.toString());else s!=null&&t.append(r,s.toString());const n=t.toString();return n.length===0?"":`?${n}`}function kK(){return hr(xt()).locale??Ag}function Ig(){return{[rH]:kK(),[T3]:Ca(),[x3]:Mf}}function Rg(e={}){const t=e.accessToken??OK(),n=Ig();if(t==null){if(e.isAuthOptional===!0)return n;throw new Mg("No access token when trying to use AuthHeader")}n.Authorization=`Bearer ${t}`;const r=qe.getCookie(Re.Workspace);return typeof r=="string"&&r!==Ji&&(n["ChatGPT-Account-ID"]=encodeURIComponent(r)),n}function OK(){return vg(xt())}function VM({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:s,keepalive:o}){return{method:e?.toUpperCase(),body:t,credentials:"include",keepalive:o,headers:{...n===Qt.Anonymous?Ig():Rg({isAuthOptional:n===Qt.SendIfAvailable,accessToken:r}),...t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null,...t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null,...s}}}function AK(e){return(t,n)=>{const r=(s,o)=>{if(s>=e.length)return n(o);const i=e[s];return i(o,a=>r(s+1,a))};return r(0,t)}}function HM(e,t){const n=AK(e);return r=>n(r,t)}async function zM(e,t){let n=await t(e.clone());if(n.status===401){const s=await n.clone().json(),o=n.headers.get("X-Request-Id")??void 0;if(new ft(e.url,n.status,s,o).code==="token_expired"){const a=Ca();await MA(eo(xt()),{reason:"token_expired",method:e.method??"GET",path:new URL(e.url,location.origin).pathname});const l=Rg(),c=e.clone();for(const[u,d]of Object.entries(l))c.headers.set(u,d);n=await t(c),n.status===200?U.addAction("Request succeeded after refresh.",{url:e.url,deviceId:a}):U.addAction("Request failed after refresh.",{url:e.url,deviceId:a})}}return n}async function $M(e,t){let n;try{n=await t(e)}catch(r){throw r instanceof Error?ft.createWithErrorMessage(e.url,"server",r.message):r}if(n.status>=400){const r=await n.text();let s;try{s=JSON.parse(r)}catch{s={detail:{code:"not_json_response",text:r?.substring(0,1e3)}}}const o=n.headers.get("X-Request-Id")??void 0,i=new ft(e.url,n.status,s,o);throw qM(i),GM(i),i}return n}class o5{#e;constructor(t){const{baseUrl:n}=t;this.#e=typeof n=="string"?()=>n:n}baseUrl(t){return this.#e(t)}#t=HM([$M,zM],fetch);async fetch(t,n={}){try{const r=await this.#t(t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}catch(r){throw n.intercomEventOnError&&s5(n.intercomEventOnError,{url:t.url}),r}}request(t,n,r){const s=r?.parameters&&"query"in r.parameters?r.parameters.query:void 0,o=r?.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},i=xK(n,o),a=TK(s),l=VM({...r,method:t,body:r&&"requestBody"in r?r.requestBody instanceof File?r.requestBody:JSON.stringify(r.requestBody):void 0}),c=`${this.baseUrl(l)}${i}${a}`,u=new globalThis.Request(c,l);return this.fetch(u,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}async*streamedJsonPost(t,n){n.skipJsonTransform=!0;const r=await this.request("post",t,n);if(!r.body)return;const s=r.body.getReader(),o=new TextDecoder;let i="";for(;;){const{value:a,done:l}=await s.read();a&&(i+=o.decode(a,{stream:!0}));let c;for(;(c=i.indexOf(`
`))!==-1;){const u=i.slice(0,c).trim();if(i=i.slice(c+1),u.length!==0)try{yield JSON.parse(u)}catch{i=u+`
`+i;break}}if(l){const u=i.trim();u&&(yield JSON.parse(u));return}}}}function MK(e,t){const n={[nt]:u3};if(t.headers.Authorization)return e;for(const[r,s]of Object.entries(n))if(e.startsWith(r))return e.replace(r,s);return e}class IK{#e=HM([$M,zM],fetch);async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());try{const r=VM(n),s=await this.#e(new globalThis.Request(MK(t,r),r));return n.skipJsonTransform?s:s.status===204?{}:s.json()}catch(r){throw n.intercomEventOnError&&s5(n.intercomEventOnError,{url:t}),r}}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,{...r,method:"post",body:n instanceof FormData?n:JSON.stringify(n)})}async*streamedJsonPost(t,n,r={}){const o=(await this.fetch(t,{...r,method:"post",body:JSON.stringify(n),skipJsonTransform:!0})).body;if(!o)return;const i=o.getReader(),a=new TextDecoder;let l=!1,c="";for(;!l;){const u=await i.read();if(l=u.done,l&&u.value==null)break;const d=c+a.decode(u.value,{stream:!0});c="";const f=d.split(`
`).filter(p=>!!p.trim());for(let p=0;p<f.length;p++)try{yield JSON.parse(f[p])}catch{c=f[p];break}}c.length>0&&(yield JSON.parse(c))}}const Q=new o5({baseUrl(e){return!!e.headers.Authorization?nt:u3}}),RK=new o5({baseUrl:Sp});new o5({baseUrl:dW});const tt=new IK,WM=["system-hints"];function KM(){return WM}function q6e(e){return e.getQueryData(KM())}function YM(e,t){return Tt({queryKey:WM,queryFn:async()=>{const n=await Q.safeGet("/system_hints",{authOption:Qt.SendIfAvailable});return U.addFirstTiming("load.systemHints"),n.system_hints.map(({name:r,description:s,action_label:o,short_label:i,logo:a,system_hint:l,aliases:c=[],required_features:u=[],required_models:d=[],required_conversation_modes:f=[],composer_bar_button_info:p,suggested_prompt:g,allow_in_temporary_chat:v,persist_between_messages:_,regex_matches:y,is_auto:b,category:w,requires_opt_in:C})=>({name:r,description:s,actionLabel:o??void 0,shortLabel:i??void 0,logo:a,systemHint:l,aliases:c,requiredFeatures:u,requiredModels:d,requiredConversationModes:f,composerBarButtonInfo:p?{announcementKey:p.announcement_key,disabledText:p.disabled_text,nuxTitle:p.nux_title,nuxDescription:p.nux_description,tooltipText:p.tooltip_text,rateLimitReachedText:p.rate_limit_reached_text??void 0}:void 0,suggestedPrompt:g?{theme:g.theme,title:g.title,subtitle:g.subtitle,sortOrder:g.sort_order,badge:g.badge??void 0}:void 0,allowInTemporaryChat:v,persistBetweenMessages:!!_,regexMatches:y??void 0,isAuto:b,category:w,requiresOptIn:!!C}))},select:t,staleTime:1/0,enabled:e??!0})}function yo(){return Xs({queryKey:["userSettings"],queryFn:()=>Q.safeGet("/settings/user",{authOption:Qt.SendIfAvailable})})}const NK=en(e=>Af(e,yo));function ZM(e){const{session:t}=Rf(),n=t!=null;return Tt({...yo(),enabled:n,select:e})}function PK(e){return ZM(t=>t.settings[e])}function DK(e=!1){const t=Pr();return er({mutationFn:({setting:n,value:r})=>Q.safePatch("/settings/account_user_setting",{parameters:{query:{feature:n,value:r.toString()}}}),onMutate:async({setting:n,value:r})=>{if(e){await t.cancelQueries(yo());const s=t.getQueryData(yo().queryKey);return t.setQueryData(yo().queryKey,o=>o&&{...o,settings:{...o.settings,[n]:r}}),{previousValue:s}}},onError:(n,r,s)=>{e&&s!==void 0&&t.setQueryData(yo().queryKey,s.previousValue)},onSuccess:(n,{setting:r})=>{t.invalidateQueries(yo()),r===Df.DeveloperMode&&t.invalidateQueries({queryKey:KM()})}})}function Ng(e,t){return Tt({queryKey:["workspace-settings",e],queryFn:e?()=>Q.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):vB,select:n=>n&&t?t(n):n})}const JM=["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CO","CR","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GF","GH","GM","GN","GP","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MQ","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PR","PS","PT","PW","PY","QA","RE","RO","RS","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VN","VU","WS","XK","YE","YT","ZA","ZM","ZW"],LK=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GF","GP","GR","HU","IS","IE","IT","LV","LI","LT","LU","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SK","SI","ES","SE","YT"]),FK=new Set(["GF","GP","MF","MQ","RE","YT"]),zh="US",jK="GB",UK="CH",BK="IN",qK={AL:"Albania",DZ:"Algeria",AF:"Afghanistan",AD:"Andorra",AO:"Angola",AG:"Antigua & Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia & Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cape Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CF:"Central African Republic",TD:"Chad",CL:"Chile",CO:"Colombia",KM:"Comoros",CG:"Congo - Brazzaville",CD:"Congo - Kinshasa",CR:"Costa Rica",CI:"Côte d’Ivoire",HR:"Croatia",CY:"Cyprus",CZ:"Czechia",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GP:"Guadeloupe",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",VA:"Vatican City",HN:"Honduras",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",MK:"North Macedonia",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PL:"Poland",PR:"Puerto Rico",PT:"Portugal",QA:"Qatar",RE:"Réunion",RO:"Romania",RW:"Rwanda",KN:"St. Kitts & Nevis",LC:"St. Lucia",VC:"St. Vincent & Grenadines",MF:"Saint Martin",WS:"Samoa",SM:"San Marino",ST:"São Tomé & Príncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SR:"Suriname",SE:"Sweden",CH:"Switzerland",SD:"Sudan",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TO:"Tonga",TT:"Trinidad & Tobago",TN:"Tunisia",TR:"Türkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VN:"Vietnam",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function GK(e){return JM.includes(e)}function G6e({country:e,shouldUseDefaultCountryCode:t}){return t?(U.addAction(`Force using ${zh}`,{user_country:e}),zh):e==null||!GK(e)?(U.addError(`User country is null or unrecognized - will use ${zh}`,{user_country:e}),zh):e}function VK(e){try{const t=new Intl.DisplayNames([e],{type:"region"});return n=>t.of(n)??""}catch(t){return U.addError("Failed to create country display name formatter, will fallback to en_US locale display name",{cause:t}),n=>qK[n]??""}}function HK(){const e=ae(),t=hr(e);return h.useMemo(()=>VK(t.locale),[t.locale])}function V6e(){const e=HK();return h.useMemo(()=>[...JM].sort((n,r)=>{const s=e(n),o=e(r);return s.localeCompare(o)}),[e])}function zK(e){return LK.has(e)}function H6e(e){return e==null?(U.addError(new Error("nullish_country_for_vat_collection_exclusion_check"),{country:e}),!1):FK.has(e)}const z6e=["USD","GBP","EUR","INR"],XM="USD",$K="GBP",pw="EUR",WK="INR";function $6e(e,t=[]){return zK(e)||e===UK?pw:e===jK?$K:t.includes(e)&&e===BK?WK:XM}const ia=St({dollarSign:{id:"currencyCodes.dollarSign",defaultMessage:"$"},dollarCode:{id:"currencyCodes.dollarCode",defaultMessage:"USD"},poundSign:{id:"currencyCodes.poundSign",defaultMessage:"£"},poundCode:{id:"currencyCodes.poundCode",defaultMessage:"GBP"},euroSign:{id:"currencyCodes.euroSign",defaultMessage:"€"},euroCode:{id:"currencyCodes.euroCode",defaultMessage:"EUR"},inrSign:{id:"currencyCodes.inrSign",defaultMessage:"₹"},inrCode:{id:"currencyCodes.inrCode",defaultMessage:"INR"}}),W6e={sign:ia.dollarSign,code:ia.dollarCode},K6e={sign:ia.poundSign,code:ia.poundCode},Y6e={sign:ia.euroSign,code:ia.euroCode},Z6e={sign:ia.inrSign,code:ia.inrCode};function Bf(e){return e===it.EDUCATION||e===it.DEPRECATED_EDU}function KK(e){return e===it.QUORUM}function Pg(e){return e===it.BUSINESS||e===it.DEPRECATED_ENTERPRISE||Bf(e)||KK(e)}var h0,mw;function YK(){if(mw)return h0;mw=1;function e(){this.__data__=[],this.size=0}return h0=e,h0}var p0,gw;function i5(){if(gw)return p0;gw=1;function e(t,n){return t===n||t!==t&&n!==n}return p0=e,p0}var m0,vw;function Dg(){if(vw)return m0;vw=1;var e=i5();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return m0=t,m0}var g0,_w;function ZK(){if(_w)return g0;_w=1;var e=Dg(),t=Array.prototype,n=t.splice;function r(s){var o=this.__data__,i=e(o,s);if(i<0)return!1;var a=o.length-1;return i==a?o.pop():n.call(o,i,1),--this.size,!0}return g0=r,g0}var v0,yw;function JK(){if(yw)return v0;yw=1;var e=Dg();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return v0=t,v0}var _0,bw;function XK(){if(bw)return _0;bw=1;var e=Dg();function t(n){return e(this.__data__,n)>-1}return _0=t,_0}var y0,Cw;function QK(){if(Cw)return y0;Cw=1;var e=Dg();function t(n,r){var s=this.__data__,o=e(s,n);return o<0?(++this.size,s.push([n,r])):s[o][1]=r,this}return y0=t,y0}var b0,Sw;function Lg(){if(Sw)return b0;Sw=1;var e=YK(),t=ZK(),n=JK(),r=XK(),s=QK();function o(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var c=i[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,b0=o,b0}var C0,ww;function eY(){if(ww)return C0;ww=1;var e=Lg();function t(){this.__data__=new e,this.size=0}return C0=t,C0}var S0,Ew;function tY(){if(Ew)return S0;Ew=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return S0=e,S0}var w0,xw;function nY(){if(xw)return w0;xw=1;function e(t){return this.__data__.get(t)}return w0=e,w0}var E0,Tw;function rY(){if(Tw)return E0;Tw=1;function e(t){return this.__data__.has(t)}return E0=e,E0}var x0,kw;function QM(){if(kw)return x0;kw=1;var e=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah;return x0=e,x0}var T0,Ow;function oo(){if(Ow)return T0;Ow=1;var e=QM(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return T0=n,T0}var k0,Aw;function Ou(){if(Aw)return k0;Aw=1;var e=oo(),t=e.Symbol;return k0=t,k0}var O0,Mw;function sY(){if(Mw)return O0;Mw=1;var e=Ou(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function o(i){var a=n.call(i,s),l=i[s];try{i[s]=void 0;var c=!0}catch{}var u=r.call(i);return c&&(a?i[s]=l:delete i[s]),u}return O0=o,O0}var A0,Iw;function oY(){if(Iw)return A0;Iw=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return A0=n,A0}var M0,Rw;function Au(){if(Rw)return M0;Rw=1;var e=Ou(),t=sY(),n=oY(),r="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function i(a){return a==null?a===void 0?s:r:o&&o in Object(a)?t(a):n(a)}return M0=i,M0}var I0,Nw;function mi(){if(Nw)return I0;Nw=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return I0=e,I0}var R0,Pw;function eI(){if(Pw)return R0;Pw=1;var e=Au(),t=mi(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function i(a){if(!t(a))return!1;var l=e(a);return l==r||l==s||l==n||l==o}return R0=i,R0}var N0,Dw;function iY(){if(Dw)return N0;Dw=1;var e=oo(),t=e["__core-js_shared__"];return N0=t,N0}var P0,Lw;function aY(){if(Lw)return P0;Lw=1;var e=iY(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return P0=n,P0}var D0,Fw;function tI(){if(Fw)return D0;Fw=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return D0=n,D0}var L0,jw;function lY(){if(jw)return L0;jw=1;var e=eI(),t=aY(),n=mi(),r=tI(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,l=i.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var p=e(f)?u:o;return p.test(r(f))}return L0=d,L0}var F0,Uw;function cY(){if(Uw)return F0;Uw=1;function e(t,n){return t?.[n]}return F0=e,F0}var j0,Bw;function ql(){if(Bw)return j0;Bw=1;var e=lY(),t=cY();function n(r,s){var o=t(r,s);return e(o)?o:void 0}return j0=n,j0}var U0,qw;function a5(){if(qw)return U0;qw=1;var e=ql(),t=oo(),n=e(t,"Map");return U0=n,U0}var B0,Gw;function Fg(){if(Gw)return B0;Gw=1;var e=ql(),t=e(Object,"create");return B0=t,B0}var q0,Vw;function uY(){if(Vw)return q0;Vw=1;var e=Fg();function t(){this.__data__=e?e(null):{},this.size=0}return q0=t,q0}var G0,Hw;function dY(){if(Hw)return G0;Hw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return G0=e,G0}var V0,zw;function fY(){if(zw)return V0;zw=1;var e=Fg(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(o){var i=this.__data__;if(e){var a=i[o];return a===t?void 0:a}return r.call(i,o)?i[o]:void 0}return V0=s,V0}var H0,$w;function hY(){if($w)return H0;$w=1;var e=Fg(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var o=this.__data__;return e?o[s]!==void 0:n.call(o,s)}return H0=r,H0}var z0,Ww;function pY(){if(Ww)return z0;Ww=1;var e=Fg(),t="__lodash_hash_undefined__";function n(r,s){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&s===void 0?t:s,this}return z0=n,z0}var $0,Kw;function mY(){if(Kw)return $0;Kw=1;var e=uY(),t=dY(),n=fY(),r=hY(),s=pY();function o(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var c=i[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,$0=o,$0}var W0,Yw;function gY(){if(Yw)return W0;Yw=1;var e=mY(),t=Lg(),n=a5();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return W0=r,W0}var K0,Zw;function vY(){if(Zw)return K0;Zw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return K0=e,K0}var Y0,Jw;function jg(){if(Jw)return Y0;Jw=1;var e=vY();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return Y0=t,Y0}var Z0,Xw;function _Y(){if(Xw)return Z0;Xw=1;var e=jg();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Z0=t,Z0}var J0,Qw;function yY(){if(Qw)return J0;Qw=1;var e=jg();function t(n){return e(this,n).get(n)}return J0=t,J0}var X0,e7;function bY(){if(e7)return X0;e7=1;var e=jg();function t(n){return e(this,n).has(n)}return X0=t,X0}var Q0,t7;function CY(){if(t7)return Q0;t7=1;var e=jg();function t(n,r){var s=e(this,n),o=s.size;return s.set(n,r),this.size+=s.size==o?0:1,this}return Q0=t,Q0}var ev,n7;function l5(){if(n7)return ev;n7=1;var e=gY(),t=_Y(),n=yY(),r=bY(),s=CY();function o(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var c=i[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,ev=o,ev}var tv,r7;function SY(){if(r7)return tv;r7=1;var e=Lg(),t=a5(),n=l5(),r=200;function s(o,i){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,i]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,i),this.size=a.size,this}return tv=s,tv}var nv,s7;function c5(){if(s7)return nv;s7=1;var e=Lg(),t=eY(),n=tY(),r=nY(),s=rY(),o=SY();function i(a){var l=this.__data__=new e(a);this.size=l.size}return i.prototype.clear=t,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=s,i.prototype.set=o,nv=i,nv}var rv,o7;function wY(){if(o7)return rv;o7=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return rv=t,rv}var sv,i7;function EY(){if(i7)return sv;i7=1;function e(t){return this.__data__.has(t)}return sv=e,sv}var ov,a7;function nI(){if(a7)return ov;a7=1;var e=l5(),t=wY(),n=EY();function r(s){var o=-1,i=s==null?0:s.length;for(this.__data__=new e;++o<i;)this.add(s[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,ov=r,ov}var iv,l7;function xY(){if(l7)return iv;l7=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return iv=e,iv}var av,c7;function rI(){if(c7)return av;c7=1;function e(t,n){return t.has(n)}return av=e,av}var lv,u7;function sI(){if(u7)return lv;u7=1;var e=nI(),t=xY(),n=rI(),r=1,s=2;function o(i,a,l,c,u,d){var f=l&r,p=i.length,g=a.length;if(p!=g&&!(f&&g>p))return!1;var v=d.get(i),_=d.get(a);if(v&&_)return v==a&&_==i;var y=-1,b=!0,w=l&s?new e:void 0;for(d.set(i,a),d.set(a,i);++y<p;){var C=i[y],S=a[y];if(c)var E=f?c(S,C,y,a,i,d):c(C,S,y,i,a,d);if(E!==void 0){if(E)continue;b=!1;break}if(w){if(!t(a,function(x,T){if(!n(w,T)&&(C===x||u(C,x,l,c,d)))return w.push(T)})){b=!1;break}}else if(!(C===S||u(C,S,l,c,d))){b=!1;break}}return d.delete(i),d.delete(a),b}return lv=o,lv}var cv,d7;function oI(){if(d7)return cv;d7=1;var e=oo(),t=e.Uint8Array;return cv=t,cv}var uv,f7;function TY(){if(f7)return uv;f7=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,o){r[++n]=[o,s]}),r}return uv=e,uv}var dv,h7;function u5(){if(h7)return dv;h7=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return dv=e,dv}var fv,p7;function kY(){if(p7)return fv;p7=1;var e=Ou(),t=oI(),n=i5(),r=sI(),s=TY(),o=u5(),i=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",g="[object Set]",v="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w=e?e.prototype:void 0,C=w?w.valueOf:void 0;function S(E,x,T,k,O,A,M){switch(T){case b:if(E.byteLength!=x.byteLength||E.byteOffset!=x.byteOffset)return!1;E=E.buffer,x=x.buffer;case y:return!(E.byteLength!=x.byteLength||!A(new t(E),new t(x)));case l:case c:case f:return n(+E,+x);case u:return E.name==x.name&&E.message==x.message;case p:case v:return E==x+"";case d:var I=s;case g:var N=k&i;if(I||(I=o),E.size!=x.size&&!N)return!1;var q=M.get(E);if(q)return q==x;k|=a,M.set(E,x);var P=r(I(E),I(x),k,O,A,M);return M.delete(E),P;case _:if(C)return C.call(E)==C.call(x)}return!1}return fv=S,fv}var hv,m7;function d5(){if(m7)return hv;m7=1;function e(t,n){for(var r=-1,s=n.length,o=t.length;++r<s;)t[o+r]=n[r];return t}return hv=e,hv}var pv,g7;function Ss(){if(g7)return pv;g7=1;var e=Array.isArray;return pv=e,pv}var mv,v7;function iI(){if(v7)return mv;v7=1;var e=d5(),t=Ss();function n(r,s,o){var i=s(r);return t(r)?i:e(i,o(r))}return mv=n,mv}var gv,_7;function OY(){if(_7)return gv;_7=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,o=0,i=[];++r<s;){var a=t[r];n(a,r,t)&&(i[o++]=a)}return i}return gv=e,gv}var vv,y7;function aI(){if(y7)return vv;y7=1;function e(){return[]}return vv=e,vv}var _v,b7;function f5(){if(b7)return _v;b7=1;var e=OY(),t=aI(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(i){return i==null?[]:(i=Object(i),e(s(i),function(a){return r.call(i,a)}))}:t;return _v=o,_v}var yv,C7;function AY(){if(C7)return yv;C7=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return yv=e,yv}var bv,S7;function wa(){if(S7)return bv;S7=1;function e(t){return t!=null&&typeof t=="object"}return bv=e,bv}var Cv,w7;function MY(){if(w7)return Cv;w7=1;var e=Au(),t=wa(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return Cv=r,Cv}var Sv,E7;function h5(){if(E7)return Sv;E7=1;var e=MY(),t=wa(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(i){return t(i)&&r.call(i,"callee")&&!s.call(i,"callee")};return Sv=o,Sv}var pd={exports:{}},wv,x7;function IY(){if(x7)return wv;x7=1;function e(){return!1}return wv=e,wv}pd.exports;var T7;function p5(){return T7||(T7=1,function(e,t){var n=oo(),r=IY(),s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===s,a=i?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}(pd,pd.exports)),pd.exports}var Ev,k7;function m5(){if(k7)return Ev;k7=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var o=typeof r;return s=s??e,!!s&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return Ev=n,Ev}var xv,O7;function g5(){if(O7)return xv;O7=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return xv=t,xv}var Tv,A7;function RY(){if(A7)return Tv;A7=1;var e=Au(),t=g5(),n=wa(),r="[object Arguments]",s="[object Array]",o="[object Boolean]",i="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",g="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",x="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",O="[object Uint32Array]",A={};A[b]=A[w]=A[C]=A[S]=A[E]=A[x]=A[T]=A[k]=A[O]=!0,A[r]=A[s]=A[_]=A[o]=A[y]=A[i]=A[a]=A[l]=A[c]=A[u]=A[d]=A[f]=A[p]=A[g]=A[v]=!1;function M(I){return n(I)&&t(I.length)&&!!A[e(I)]}return Tv=M,Tv}var kv,M7;function v5(){if(M7)return kv;M7=1;function e(t){return function(n){return t(n)}}return kv=e,kv}var md={exports:{}};md.exports;var I7;function _5(){return I7||(I7=1,function(e,t){var n=QM(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,i=o&&n.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=a}(md,md.exports)),md.exports}var Ov,R7;function lI(){if(R7)return Ov;R7=1;var e=RY(),t=v5(),n=_5(),r=n&&n.isTypedArray,s=r?t(r):e;return Ov=s,Ov}var Av,N7;function cI(){if(N7)return Av;N7=1;var e=AY(),t=h5(),n=Ss(),r=p5(),s=m5(),o=lI(),i=Object.prototype,a=i.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&t(c),p=!d&&!f&&r(c),g=!d&&!f&&!p&&o(c),v=d||f||p||g,_=v?e(c.length,String):[],y=_.length;for(var b in c)(u||a.call(c,b))&&!(v&&(b=="length"||p&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||s(b,y)))&&_.push(b);return _}return Av=l,Av}var Mv,P7;function y5(){if(P7)return Mv;P7=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return Mv=t,Mv}var Iv,D7;function uI(){if(D7)return Iv;D7=1;function e(t,n){return function(r){return t(n(r))}}return Iv=e,Iv}var Rv,L7;function NY(){if(L7)return Rv;L7=1;var e=uI(),t=e(Object.keys,Object);return Rv=t,Rv}var Nv,F7;function PY(){if(F7)return Nv;F7=1;var e=y5(),t=NY(),n=Object.prototype,r=n.hasOwnProperty;function s(o){if(!e(o))return t(o);var i=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&i.push(a);return i}return Nv=s,Nv}var Pv,j7;function Ug(){if(j7)return Pv;j7=1;var e=eI(),t=g5();function n(r){return r!=null&&t(r.length)&&!e(r)}return Pv=n,Pv}var Dv,U7;function Mu(){if(U7)return Dv;U7=1;var e=cI(),t=PY(),n=Ug();function r(s){return n(s)?e(s):t(s)}return Dv=r,Dv}var Lv,B7;function dI(){if(B7)return Lv;B7=1;var e=iI(),t=f5(),n=Mu();function r(s){return e(s,n,t)}return Lv=r,Lv}var Fv,q7;function DY(){if(q7)return Fv;q7=1;var e=dI(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(o,i,a,l,c,u){var d=a&t,f=e(o),p=f.length,g=e(i),v=g.length;if(p!=v&&!d)return!1;for(var _=p;_--;){var y=f[_];if(!(d?y in i:r.call(i,y)))return!1}var b=u.get(o),w=u.get(i);if(b&&w)return b==i&&w==o;var C=!0;u.set(o,i),u.set(i,o);for(var S=d;++_<p;){y=f[_];var E=o[y],x=i[y];if(l)var T=d?l(x,E,y,i,o,u):l(E,x,y,o,i,u);if(!(T===void 0?E===x||c(E,x,a,l,u):T)){C=!1;break}S||(S=y=="constructor")}if(C&&!S){var k=o.constructor,O=i.constructor;k!=O&&"constructor"in o&&"constructor"in i&&!(typeof k=="function"&&k instanceof k&&typeof O=="function"&&O instanceof O)&&(C=!1)}return u.delete(o),u.delete(i),C}return Fv=s,Fv}var jv,G7;function LY(){if(G7)return jv;G7=1;var e=ql(),t=oo(),n=e(t,"DataView");return jv=n,jv}var Uv,V7;function FY(){if(V7)return Uv;V7=1;var e=ql(),t=oo(),n=e(t,"Promise");return Uv=n,Uv}var Bv,H7;function fI(){if(H7)return Bv;H7=1;var e=ql(),t=oo(),n=e(t,"Set");return Bv=n,Bv}var qv,z7;function jY(){if(z7)return qv;z7=1;var e=ql(),t=oo(),n=e(t,"WeakMap");return qv=n,qv}var Gv,$7;function Bg(){if($7)return Gv;$7=1;var e=LY(),t=a5(),n=FY(),r=fI(),s=jY(),o=Au(),i=tI(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",p=i(e),g=i(t),v=i(n),_=i(r),y=i(s),b=o;return(e&&b(new e(new ArrayBuffer(1)))!=f||t&&b(new t)!=a||n&&b(n.resolve())!=c||r&&b(new r)!=u||s&&b(new s)!=d)&&(b=function(w){var C=o(w),S=C==l?w.constructor:void 0,E=S?i(S):"";if(E)switch(E){case p:return f;case g:return a;case v:return c;case _:return u;case y:return d}return C}),Gv=b,Gv}var Vv,W7;function UY(){if(W7)return Vv;W7=1;var e=c5(),t=sI(),n=kY(),r=DY(),s=Bg(),o=Ss(),i=p5(),a=lI(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function g(v,_,y,b,w,C){var S=o(v),E=o(_),x=S?u:s(v),T=E?u:s(_);x=x==c?d:x,T=T==c?d:T;var k=x==d,O=T==d,A=x==T;if(A&&i(v)){if(!i(_))return!1;S=!0,k=!1}if(A&&!k)return C||(C=new e),S||a(v)?t(v,_,y,b,w,C):n(v,_,x,y,b,w,C);if(!(y&l)){var M=k&&p.call(v,"__wrapped__"),I=O&&p.call(_,"__wrapped__");if(M||I){var N=M?v.value():v,q=I?_.value():_;return C||(C=new e),w(N,q,y,b,C)}}return A?(C||(C=new e),r(v,_,y,b,w,C)):!1}return Vv=g,Vv}var Hv,K7;function b5(){if(K7)return Hv;K7=1;var e=UY(),t=wa();function n(r,s,o,i,a){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,o,i,n,a)}return Hv=n,Hv}var zv,Y7;function BY(){if(Y7)return zv;Y7=1;var e=b5();function t(n,r){return e(n,r)}return zv=t,zv}var qY=BY();const GY=yn(qY);function hI(e){return e!==it.FREE}const VY="ext-oai-did",J6e="ext-login-allow-phone",X6e="ext-whatsapp-al-flow";function HY(e){return{[VY]:e}}const zY=k3.OpenAISidetron;function $Y(e){if(hr(e).isElectron)return zY}function WY(e,t){const n=$Y(e);return n??k3.OpenAI}function fu(e,{authType:t="signup",preserveAuthType:n=!1,callbackUrl:r="/",additionalAuthParams:s={},callback:o,shouldOpenPaymentModalOnAuth:i=!1}={}){const a=WY(e,new URL(window.location.href).searchParams);!n&&t!=="login_or_signup"&&Wt(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(t="login_or_signup"),i&&qe.setBooleanCookie(Re.ShowPaymentModal,!0,{maxAge:6*60*60});const l=Cs();qe.setCookie(Re.AuthSessionLoggingId,l),o?.(a),QC.signIn(a,{callbackUrl:r},{prompt:"login",screen_hint:t,...HY(Ca()),[AH]:l,...s})}const KY=it.FREE,YY=Ad.OWNER,ZY="AccountState";yq(ZY,e=>({...e,accountItems:e.accountItems.map(t=>new gm(t.data))}));function pI(e){return Date.parse(e)/1e3}function kc(e){if(e==null)return;const t=pI(e);if(!isNaN(t))return t}class gm{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get isHipaaCompliantWorkspace(){return this.data.isHipaaCompliantWorkspace??!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get name(){return this.data.name}get features(){return this.data.features}isEqual(t){return GY(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){return this.data.accountUserId?.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return Pg(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isPro(){return this.data.subscriptionStatus.planType===it.PRO}isEdu(){return Bf(this.data.subscriptionStatus.planType)}isTeam(){return this.data.subscriptionStatus.planType===it.TEAM}isGo(){return this.data.subscriptionStatus.planType===it.GO}isPlus(){return this.data.subscriptionStatus.planType===it.PLUS}isFree(){return this.data.subscriptionStatus.planType===it.FREE}isCBP(){return this.data.subscriptionStatus.planType===it.BUSINESS||this.data.subscriptionStatus.planType===it.EDUCATION}isWorkspaceAccount(){return this.data.structure===Nr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilPlanDiscountExpires(){const t=kc(this.data.subscriptionStatus.discount?.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}isPersonalAccount(){return this.data.structure===Nr.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(U.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),Qp(xt(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(U.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),Qp(xt(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),XM)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){const t=this.data.subscriptionStatus.scheduledPlanChange?.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getNextPlanType(){return this.data.subscriptionStatus.scheduledPlanChange?.planType??null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isTeam()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===Ad.OWNER}isAdminOfAccount(){return this.data.role===Ad.ADMIN}isStandardUserOfAccount(){return this.data.role===Ad.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}}class C5{constructor(t){this.data=t}static fromLightAccount(t,n){return new C5({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprisey(){return Pg(this.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isGo(){return this.planType===it.GO}isPro(){return this.planType===it.PRO}isEdu(){return Bf(this.planType)}isTeam(){return this.planType===it.TEAM}isBusiness(){return this.planType===it.BUSINESS}isPlus(){return this.planType===it.PLUS}isFree(){return this.planType===it.FREE}isCBP(){return this.planType===it.BUSINESS||this.planType===it.EDUCATION}hasPaidSubscription(){return hI(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===Nr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===Nr.PERSONAL}hasPlusFeatures(){return this.planType!==it.FREE}}function JY(e){return e.account_ordering.map(t=>{const n=e.accounts[t];return new gm({id:n.account.account_id,residencyRegion:n.account.account_residency_region,computeResidency:n.account.account_compute_residency,accountUserId:n.account.account_user_id,name:n.account.name??null,profilePictureId:n.account.profile_picture_id,profilePictureUrl:n.account.profile_picture_url,structure:n.account.structure,workspaceType:n.account.workspace_type,role:n.account.account_user_role??YY,organizationId:n.account.organization_id,deactivated:n.account.is_deactivated,eligibleForReactivation:n.account.eligible_for_reactivation,ekmConfig:n.account.ekm_config,isHipaaCompliantWorkspace:n.account.is_hipaa_compliant_workspace,subscriptionStatus:{billingPeriod:n.entitlement.billing_period,hasPaidSubscription:n.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:n.entitlement.is_active_subscription_gratis||!1,billingCurrency:n.entitlement.billing_currency,subscriptionPlan:n.entitlement.subscription_plan,planType:n.account.plan_type??KY,subscriptionRenewsAt:kc(n.entitlement.renews_at),subscriptionCancelsAt:kc(n.entitlement.cancels_at),subscriptionExpiresAt:kc(n.entitlement.expires_at),scheduledPlanChange:n.entitlement.scheduled_plan_change?{changesAt:pI(n.entitlement.scheduled_plan_change.changes_at),planType:n.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:n.account.has_previously_paid_subscription??!1,hasCustomerObject:n.account.processor?.a001.has_customer_object??!1,processorEntity:n.account.processor?.a001.processor_entity,lastActiveSubscription:n.last_active_subscription,isResellerHosted:n.account.reseller_hosted_account??!1,discount:n.entitlement.discount,isEligibleForCancellationPromotion:n.entitlement.is_eligible_for_cp??!1,isDelinquent:n.entitlement.is_delinquent,becameDelinquentAt:kc(n.entitlement.became_delinquent_timestamp),gracePeriodEndAt:kc(n.entitlement.grace_period_end_timestamp),gracePeriodId:n.entitlement.grace_period_id},features:[...n.features].sort(),canAccessWithCurrentSession:n.can_access_with_session!==!1,ssoConnectionName:n.sso_connection_name??null})})}function XY(e,t){const n=e.filter(s=>s.canAccessWithCurrentSession);if(typeof t=="string"){const s=n.find(o=>o.id===t);if(s!==void 0)return s;if(t===Ji){const o=n.find(i=>i.structure===Nr.PERSONAL);if(o!==void 0)return o}}if(n.length===1||!n.some(s=>s.structure===Nr.WORKSPACE))return n[0]}function QY(e,t){if(e){if(e.structure===Nr.WORKSPACE)return e.id;if(t.some(r=>r.structure===Nr.WORKSPACE))return Ji}}async function eZ(){const e=await Q.safeGet("/accounts/check/{version}",{parameters:{path:{version:mq},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},intercomEventOnError:"fetch-error:accounts:get",authOption:Qt.SendIfAvailable}),t=qe.getCookie(Re.Workspace)??void 0,n=JY(e),r=XY(n,t);return{accountItems:n,currentAccountId:r?.id}}function tZ(e,t){return e instanceof gm&&t instanceof gm&&e.isEqual(t)?e:_B(e,t)}const nZ=Xs({queryKey:["account-status"],queryFn:eZ,structuralSharing:tZ,staleTime:1/0});function ui(){return nZ}function qg(e){return e?.accountItems.find(t=>t.id===e.currentAccountId)??null}function rZ(e){const t=e.getQueryData(ui().queryKey);return qg(t)}function Ab(e){e!=null?qe.setCookie(Re.Workspace,e,{maxAge:bM}):qe.deleteCookie(Re.Workspace)}function sZ(e){qe.setCookie(Re.WorkspaceResidencyRegion,e,{maxAge:bM})}function mI(e,t){const n=qe.getCookie(Re.Workspace);return e.structure===Nr.WORKSPACE?(Ab(e.id),sZ(e.residencyRegion)):e.structure===Nr.PERSONAL&&t&&Ab(Ji),qe.deleteCookie(Re.DowngradeAccountEnabled),qe.deleteCookie(Re.DogfoodingAccountType),{accountCookieChanged:(n??Ji)!==(qe.getCookie(Re.Workspace)??Ji)}}function Q6e(e,t,n=!0){const r=e.getQueryData(ui().queryKey);if(r==null)return{updatedAccount:!1};const s=r.accountItems.find(o=>o.id===t);return s==null?{updatedAccount:!1}:(mI(s,n),e.setQueryData(ui().queryKey,{...r,currentAccountId:t}),{updatedAccount:!0})}function eSe(e,t,n,r,s,o=!0){const i=e.getQueryData(ui().queryKey);if(i==null)return{willRedirect:!1,updatedAccount:!1};const a=i.accountItems.find(c=>c.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const{accountCookieChanged:l}=mI(a,o);if(!a.canAccessWithCurrentSession){const c=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,u=r.formatMessage(Z7.workspacePlaceholder),d=a.data.name||u;return s.info(r.formatMessage(Z7.authenticateNotice,{workspaceName:d})),fu(n,{authType:"login",additionalAuthParams:c}),{willRedirect:!0,updatedAccount:!0}}return l?r5():e.setQueryData(ui().queryKey,{...i,currentAccountId:t}),{willRedirect:!1,updatedAccount:!0}}function oZ(){return Tt(ui())}function sr(){return Tt({...ui(),select:qg}).data??null}const fn=en(e=>{const t=If(e),n=t?.user?.id,r=t?.account??null;return r?C5.fromLightAccount(r,n):null});function tSe(){return sr()?.isHipaaCompliantWorkspace??!1}function gI(){return sr()?.features}function nSe(e){return gI()?.includes(e)??!1}function rSe(){const e=sr(),t=Ng(e?.getWorkspaceId()),n=t.isLoading?null:t.data?.allow_third_party_gpts==="allow_specific";return e?.isOwnerOfAccount()&&n}function iZ(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function sSe(e){"use forget";const t=ke.c(5),n=sr();let r;t[0]!==n?(r=n?.isRBACEnabled(),t[0]=n,t[1]=r):r=t[1];const s=r,o=YM(s);if(!s)return!0;let i;return t[2]!==e||t[3]!==o.data?(i=o.data!=null&&o.data.some(a=>a.systemHint===e),t[2]=e,t[3]=o.data,t[4]=i):i=t[4],i}const Z7=St({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}}),aZ=["default","blue","green","yellow","pink","orange"],lZ=["purple"],cZ=["black"],uZ=e=>{const t=fn(e)?.planType,n=t===it.PLUS,r=t===it.PRO,s=t===it.TEAM||Pg(t),i=!Bf(t)&&(n||r||s);return[...aZ,...i?lZ:[],...r?cZ:[]]};function vI(e){return Wt(e,"1187049270").get("themes_enabled",!1)}const _I=en(e=>cn(()=>qt.getItem(Et.ChatTheme,{userId:fn(e)?.normalizedAccountUserId})??"default")),yI=(e,t)=>{_I(e).setState(t),qt.setItem(Et.ChatTheme,t,{userId:fn(e)?.normalizedAccountUserId})};function dZ(){const e=ae();return _I(e)()}function oSe(){const e=ae(),t=vI(e),n=dZ(),r=DK();return t?{isLoading:!1,value:n,setValue:s=>{r.mutate({setting:Df.ChatTheme,value:s}),yI(e,s)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const fZ=({cspScriptNonce:e})=>{const t=ae();if(!vI(t))return null;const n=kp(Et.ChatTheme,{userId:fn(t)?.normalizedAccountUserId});return m.jsx("script",{nonce:e,suppressHydrationWarning:!0,children:`!function(){try{const t=localStorage.getItem(${JSON.stringify(n)});document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();`})};function hZ(e){const t=uZ(e),n=ya(()=>{const s=NK(e)().data?.settings[Df.ChatTheme]??qt.getItem(Et.ChatTheme,{userId:fn(e)?.normalizedAccountUserId});return jA(s,t,"default")});return ZV(()=>{const r=n();document.documentElement.dataset.chatTheme=r,yI(e,r)})}var pZ=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(pZ||{});const qf={small:640,medium:768,large:1024,xlarge:1280};function mZ(e,t){const n=VA(),r=h.useRef(null),s=h.useCallback(o=>{if(n==null)return()=>{};const i=n.matchMedia(e),a=new AbortController;return i.addEventListener("change",l=>{const c=l.matches,u=c!==r.current?.result;r.current={win:n,query:e,result:c},u&&o()},{signal:a.signal}),()=>{a.abort()}},[e,n]);return h.useSyncExternalStore(s,()=>{const o=eo(n);if(r.current?.win!==o||r.current?.query!==e){const i=o.matchMedia(e).matches;r.current={win:o,query:e,result:i}}return r.current.result},t)}function gZ(e,t){return window.matchMedia(e).matches}function Gl(e,t){return[()=>mZ(e,t),()=>gZ(e)]}const[vZ]=Gl("(prefers-reduced-motion: reduce)",()=>!1),J7=`(max-width: ${qf.medium-1}px)`,iSe=en(()=>ba(t=>{const n=window.matchMedia(J7);return n.addEventListener("change",t),()=>n.removeEventListener("change",t)},()=>window.matchMedia(J7).matches,{getServerFallback:()=>lO()})),[Gg,aSe]=Gl(`(min-width: ${qf.small}px)`,()=>!lO()),[bI,_Z]=Gl(`(min-width: ${qf.medium}px)`,()=>o3()||i3()),[lSe,cSe]=Gl(`(min-width: ${qf.large}px)`,i3),[uSe]=Gl(`(min-width: ${qf.xlarge}px)`,()=>!1),[dSe,CI]=Gl("(pointer: coarse)",cO),[yZ,fSe]=Gl("(hover: hover)",i3);function hSe(){return!bI()}function pSe(){return Ff()?typeof CSS<"u"&&CSS.supports("container-type: inline-size"):!0}function bZ(){const e={composer:{autofocusDisabled$:wt(sg()||u4()),reset:()=>{e.composer.autofocusDisabled$.set(CI()||u4())}},projects:{createOrUpdateProject$:wt(void 0),moveConversationToProject$:wt(void 0),renamingProjectId$:wt(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const CZ=en(bZ),SZ="/assets/chatgpt-share-og-u7j5uyao.webp",wZ={src:SZ},EZ="/assets/favicon-180x180-od45eci6.webp",xZ={src:EZ},TZ="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",kZ="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",OZ="/assets/favicon-eex17e9e.ico",AZ="/assets/favicon-l4nq08hd.svg",MZ=Object.prototype.toString;function IZ(e,t){try{return e instanceof t}catch{return!1}}function RZ(e){switch(MZ.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return IZ(e,Error)}}const X7={componentStack:null,error:null};function NZ(e,t){const n=new WeakMap;function r(s,o){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,o);s.cause=o}}r(e,t)}const PZ=["The node to be removed is not a child of this node","The object can not be found here."];function DZ(e){return PZ.some(t=>e.message?.includes(t))}let S5=class extends h.Component{state;constructor(t){super(t),this.state=X7}componentDidCatch(t,{componentStack:n}){if(RZ(t)){const r=new Error(t.message);r.name=`React ErrorBoundary ${r.name}`,r.stack=n??"",NZ(t,r)}if(!DZ(t)&&(this.props.logRequestErrors===!0||!(t instanceof ft))){const r=new Error(t.message);r.name="ReactRenderingError",r.stack=n??"",r.cause=t,U.addError(r,{error_boundary:this.props.name})}jM(),this.props.onError&&this.props.onError(t,n??""),this.setState({error:t,componentStack:n})}resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r}=this.state;t&&t(n,r??""),this.setState(X7)};render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack??"",resetError:this.resetErrorBoundary}):s=t,h.isValidElement(s)?s:null}return typeof n=="function"?n():n}};function LZ(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function FZ(e){return`data:image/svg+xml;utf8,${encodeURIComponent(e)}`}const gSe=({svgString:e,...t})=>{const n=h.useMemo(()=>LZ(e),[e]);return n?m.jsx("img",{src:FZ(n),...t}):null},vSe=({svgString:e,className:t,color:n})=>m.jsx(S5,{name:"StringToSVG",fallback:m.jsx("div",{className:t}),children:m.jsx("div",{className:he("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),hc=St({description:{id:"meta.description",defaultMessage:"ChatGPT helps you get answers, find inspiration and be more productive. It is free to use and easy to try. Just ask and ChatGPT can help with writing, learning, brainstorming and more."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription",defaultMessage:"A conversational AI system that listens, learns, and challenges"}}),jZ=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:wZ.src}];function pc(e,t){const n=new URL(e,window.location.origin);return t&&n.searchParams.set("locale",t),n.toString()}function UZ(){const e=ht(),t=ae(),n=ss(t).checkGate("3125419433"),r=rs();return tg().some(i=>i.handle?.hasRouteMeta)?null:n?m.jsxs(m.Fragment,{children:[m.jsx("meta",{name:"description",content:e.formatMessage(hc.description)}),m.jsx("meta",{name:"keyword",content:e.formatMessage(hc.keywords)}),m.jsx("meta",{property:"og:description",content:e.formatMessage(hc.ogDescription)}),m.jsx("meta",{property:"og:url",content:pc("/",hr(t).locale)}),m.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),oK().map(i=>m.jsx("link",{rel:"alternate",hrefLang:i,href:pc(r.pathname,i)},i)),m.jsx("link",{rel:"alternate",hrefLang:"x-default",href:pc(r.pathname)}),m.jsx("link",{rel:"canonical",href:pc(r.pathname)})]}):m.jsxs(m.Fragment,{children:[m.jsx("meta",{name:"description",content:hc.description.defaultMessage}),m.jsx("meta",{name:"keyword",content:hc.keywords.defaultMessage}),m.jsx("meta",{property:"og:description",content:hc.ogDescription.defaultMessage}),m.jsx("meta",{property:"og:url",content:pc("/")}),m.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),m.jsx("link",{rel:"canonical",href:pc("/")})]})}function BZ(){"use forget";const e=ke.c(6),t=ae();let n;e[0]!==t?(n=Wt(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let s;e[2]!==r?(s=r&&m.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=s):s=e[3];let o;return e[4]!==s?(o=m.jsx(m.Fragment,{children:s}),e[4]=s,e[5]=o):o=e[5],o}function qZ({pathname:e}){if(e!=="/")return null;const t={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};return m.jsx("script",{id:"website-ld",type:"application/ld+json",children:JSON.stringify(t)})}function GZ(){"use forget";const e=ke.c(12),t=ae(),{pathname:n}=rs(),r=!n.startsWith("/share")&&!n.startsWith("/s")&&!n.startsWith("/canvas/shared");let s;e[0]!==t?(s=Wt(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=s):s=e[1];const o=s;let i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=m.jsx("link",{rel:"preconnect",href:""}),a=m.jsx("link",{rel:"preconnect",href:window.location.origin}),e[2]=i,e[3]=a):(i=e[2],a=e[3]);let l;e[4]!==r?(l=r&&m.jsx("meta",{name:"robots",content:"index, follow"}),e[4]=r,e[5]=l):l=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=m.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[6]=c):c=e[6];let u;e[7]!==o?(u=o&&m.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[7]=o,e[8]=u):u=e[8];let d;return e[9]!==l||e[10]!==u?(d=m.jsxs(m.Fragment,{children:[i,a,l,c,u]}),e[9]=l,e[10]=u,e[11]=d):d=e[11],d}function Q7({href:e}){return m.jsxs(m.Fragment,{children:[m.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),m.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function VZ(){"use forget";const e=ke.c(5),{pathname:t}=rs();let n;e[0]!==t?(n=t.startsWith("/codex")?m.jsxs(m.Fragment,{children:[m.jsx("link",{rel:"icon",href:TZ,sizes:"32x32"}),m.jsx(Q7,{href:kZ})]}):m.jsxs(m.Fragment,{children:[m.jsx("link",{rel:"icon",href:OZ,sizes:"32x32"}),m.jsx(Q7,{href:AZ})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=m.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:xZ.src}),e[2]=r):r=e[2];let s;return e[3]!==n?(s=m.jsxs(m.Fragment,{children:[n,r]}),e[3]=n,e[4]=s):s=e[4],s}const Mb=e=>e;var hu=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(hu||{});const SI={errType:"warning",errCode:"content_policy"},HZ={errType:"danger",errCode:"model_incompatibility"},zZ={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},wI={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},$Z={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},WZ={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},EI=(e,t)=>!e.length||t?null:{disclaimers:e},xI=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?WZ:$Z:t?wI:n?HZ:zZ;class KZ{isMultimodalTextMessage(t){return t.content.content_type===Xe.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===Kn.ImageAssetPointer||t.content_type===Kn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===Kn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===Kn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===Kn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===Kn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===Kn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===Kn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case Kn.AudioAssetPointer:return n;case Kn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===Kn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){const n=t.metadata?.dalle?.from_client?.operation??t.metadata?.generation?.from_client?.operation;return n?.type==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:n?.type==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return`[media pointer="${r.asset_pointer}"]`;if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const s=r.audio_asset_pointer?.asset_pointer;return s&&`[media pointer="${s}"]`}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join(`
`):""}}const w5=new KZ,YZ=["image_gen"];var we=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.ImagePreloadTool=13]="ImagePreloadTool",e[e.ModelEditableContext=14]="ModelEditableContext",e[e.MultimodalText=15]="MultimodalText",e[e.ParallelBrowsing=16]="ParallelBrowsing",e[e.ParallelBrowsingTool=17]="ParallelBrowsingTool",e[e.RetrievalBrowsing=18]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=19]="RetrievalBrowsingTool",e[e.SearchResultTool=20]="SearchResultTool",e[e.SearchGPTQuery=21]="SearchGPTQuery",e[e.System=22]="System",e[e.SystemContent=23]="SystemContent",e[e.DeveloperContent=24]="DeveloperContent",e[e.Text=25]="Text",e[e.StructuredThoughts=26]="StructuredThoughts",e[e.ReasoningRecap=27]="ReasoningRecap",e[e.UserEditableContext=28]="UserEditableContext",e[e.UserModelBio=29]="UserModelBio",e[e.UserModelBioTool=30]="UserModelBioTool",e[e.Unknown=31]="Unknown",e[e.de1d73e=32]="de1d73e",e[e.a8km123=33]="a8km123",e[e.f959b8c=34]="f959b8c",e[e.b1de6e2_c=35]="b1de6e2_c",e[e.b1de6e2_s=36]="b1de6e2_s",e[e.b1de6e2_d=37]="b1de6e2_d",e[e.b1de6e2_rm=38]="b1de6e2_rm",e[e.l1p9k3u=39]="l1p9k3u",e[e.l1239dk1=40]="l1239dk1",e[e.l1239dk2=41]="l1239dk2",e[e.kanzi=42]="kanzi",e[e.is_loading_message=43]="is_loading_message",e[e.b47u8ra0_t=44]="b47u8ra0_t",e[e.oiw209h=45]="oiw209h",e[e.oiw209h_c=46]="oiw209h_c",e[e.t2uay3k=47]="t2uay3k",e[e.t2uay3k_c=48]="t2uay3k_c",e[e.c12k321=49]="c12k321",e[e.Oboe=50]="Oboe",e[e.CoTSearchToolCall=51]="CoTSearchToolCall",e[e.CoTSearchToolResult=52]="CoTSearchToolResult",e[e.n7jupd_c=53]="n7jupd_c",e[e.n7jupd_r=54]="n7jupd_r",e[e.n7jupd_t=55]="n7jupd_t",e[e.n7jupd_m=56]="n7jupd_m",e[e.n7jupd_x=57]="n7jupd_x",e[e.n7jupd_i=58]="n7jupd_i",e[e.n7jupd_a=59]="n7jupd_a",e[e.n7jupd_n=60]="n7jupd_n",e[e.n7jupd_p=61]="n7jupd_p",e[e.n7jupd_image_gen=62]="n7jupd_image_gen",e[e.PIMBlock=63]="PIMBlock",e[e.Mochi=64]="Mochi",e[e.SuperWidget=65]="SuperWidget",e[e.Croquette=66]="Croquette",e[e.kaur1br5=67]="kaur1br5",e))(we||{}),ll=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.KANZI="kanzi",e.KANZI_CREATE="kanzi.create",e.CONTAINER="container",e.COMPUTER="computer",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e))(ll||{});function e9(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>Mr(t,e))}function ZZ(e){const n=Ib(e.author.name)?.namespace,r=["browser","container","computer"];return e.metadata?.n7jupd_message&&r.includes(n)&&e.content.content_type===Xe.Text}function JZ(e,t){return e&&Mr(t,e.split(".")[0])}function Mo(e){if(e.metadata?.n7jupd_subtool&&(e.metadata.n7jupd_subtool.subtool?.includes("api_tool")||e.metadata.n7jupd_subtool.result_of_subtool?.includes("api_tool")))return 59;if(e.metadata?.is_pim_warning)return 63;if(e.metadata?.n7jupd_message&&e.content.content_type===Xe.StructuredThoughts)return 55;if(e.metadata?.is_auto_proceed_message)return 61;if(e.metadata?.is_takeover_ended_message)return 60;if(e.content.content_type===Xe.StructuredThoughts)return 26;if(e.content.content_type===Xe.ReasoningRecap)return 27;if(e.metadata?.b1de6e2_c)return 35;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 39;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 40;if(e.author.name?.startsWith("container"))return Mr(3061204740,e.author.name)&&e?.metadata?.n7jupd_message?6:4;if(e.author.role===Ue.Assistant&&e.metadata?.async_task_id!=null&&e.metadata?.async_task_turn_id!=null)return 41;if(e.metadata?.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 36;if(e.metadata?.b1de6e2_d)return 37;if(e.metadata?.b1de6e2_rm)return 38;if(e.metadata?.is_loading_message)return 43;if(e.metadata?.b47u8ra0_t)return 44;if(e.metadata?.f959b8c)return 34;if(e9(e.author.name)||e9(e.recipient)||ZZ(e))return 0;const t="kaur1br5";if(e.recipient?.startsWith(t)||e.author.name?.startsWith(t))return 67;if(e.author.role===Ue.Assistant&&JZ(e.recipient,724319625))return 53;if(e.content.content_type===Xe.ComputerOutput)return 54;if(e.author.role===Ue.Assistant){if(YZ.some(r=>e.recipient?.startsWith(r)))return 31;const n=Ib(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||n?.namespace==="mtbrowser")return 2;if(e.recipient==="web"||e.recipient?.startsWith("web."))return 21;if(e.recipient==="web.run"&&(e?.metadata?.search_queries?.length??0)>0)return 51;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 18;if(e.recipient==="browsing_team")return 16;if(e.recipient==="bio")return 29;if(e.recipient==="python")return 5;if(e?.metadata?.n7jupd_message&&(Mr(3179801956,e.recipient)||Mr(3061204740,e.recipient)))return 5;if(n?.namespace==="dalle"||e.recipient==="dalle")return 7;if(n?.namespace==="t2uay3k"||e.recipient==="t2uay3k")return 47;if(n?.namespace==="oiw209h"||e.recipient==="oiw209h")return 45;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="container")return 4;if(n?.namespace==="canmore")return 3;if(n?.namespace==="de1d73e")return 32;if(r9(n?.namespace)||n9(n?.namespace)||s9(n?.namespace))return 10;if(n!=null)return 31;if(e.content.content_type===Xe.ModelEditableContext)return 14}else if(e.author.role===Ue.Tool){const n=Ib(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||n?.namespace==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 19;if(e.author.name==="browsing_team")return 17;if(e.author.name==="web.run"&&(e?.metadata?.search_result_groups?.length??0)>0)return 52;if(e.author.name==="search_result"&&e.content.content_type===Xe.TetherQuote)return 20;if(e.author.name==="search_results"&&e.content.content_type===Xe.TetherBrowsingDisplay)return 13;if(e.author.name==="bio")return 30;if(e.author.name==="a8km123")return 33;if(e.author.name==="python")return 6;if(Mr(3179801956,e.author.name))return 6;if(n?.namespace==="dalle"||e.author.name==="dalle")return 8;if(n?.namespace==="t2uay3k"||e.author.name==="image_gen")return 48;if(e.metadata?.image_gen_async)return 47;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="canmore")return 3;if(r9(n?.namespace)||n9(n?.namespace))return 11;if(s9(n?.namespace))return 12;if(n?.namespace==="de1d73e")return 32;if(n?.namespace==="oiw209h")return 46;if(e.author.name?.startsWith("web."))return 22;if(e.author.name==="research_kickoff_tool.start_research_task")return 36;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 56;if(e.author.name==="imagegen.make_image")return 62;if(n?.namespace==="browser")return 57;if(e.author.name==="super_widget")return 65;if(n!=null||e.author.name==="plugin_service")return XZ(e)}else{if(e.author.role===Ue.System||e.author.role===Ue.Developer)return e.metadata?.n7jupd_message?22:e.metadata?.rebase_system_message||e.content.content_type===Xe.SystemMessage||e.content.content_type===Xe.SystemContent?23:e.metadata?.rebase_developer_message||e.content.content_type===Xe.DeveloperContent?24:22;if(e.author.role===Ue.User&&(e.content.content_type===Xe.UserEditableContext||e.metadata?.is_user_system_message))return 28}return e.content.content_type===Xe.Text||e.content.content_type===Xe.MultimodalText?25:31}function XZ(e){return e.create_time&&e.create_time>17172e5?U.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):U.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),31}function QZ(e){return e.metadata?.finish_details!=null}function E5(e){return e.content.content_type===Xe.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===Xe.MultimodalText?w5.getPartsAsString(e).length>0:!1}function eJ(e){return E5(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!1}function tJ(e){return e.metadata?.finish_details?.type==="stop"}function nJ(e){return e?.metadata?.finish_details?.type==="max_tokens"}function _Se(e){return e.metadata?.finish_details?.type==="interrupted"}function rJ(e){return e.metadata?.message_type==="continue"}function Ib(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function sJ(e,t){return{id:Cs(),author:{role:Ue.System},content:{content_type:Xe.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function t9(e,t,n,r=Cs()){return{id:r,author:{role:Ue.Assistant},content:{content_type:Xe.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function Vg(e,t,n){const r={role:Ue.User};return n&&(r.metadata=n),{id:Cs(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:Xe.Text,parts:[e]}:e,metadata:t}}function ySe(e){return sJ([`The user is referring to this in particular:
${e}`],{exclude_after_next_user_message:!0})}function bSe(e){return Vg(e,{is_visually_hidden_from_conversation:!0})}function CSe(e){return{id:Cs(),author:{role:Ue.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function n9(e){return e==="api_tool"||e==="ecosystem_demo"||e==="kanzi_app"}function r9(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function s9(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function o9(e){return e.author.role===Ue.Assistant?e.metadata?.gizmo_id:void 0}function Oc(e){return e.author.role===Ue.User&&!e.metadata?.is_user_system_message}function oJ(e){return e.metadata?.is_contextual_retry_user_message}function TI(e){return Oc(e)&&!oJ(e)||e.author.metadata?.is_system_initiated_conversation===!0}function kI(e){return e.metadata?.reasoning_status!=null}function aa(e){const t=Mo(e);return t===22||t===23||t===24||t===29||t===30||t===14||t===28||t===31||!(t===47||t===48)&&!(t===60)&&e.metadata?.is_visually_hidden_from_conversation===!0}function OI(e){switch(Mo(e)){case 23:case 24:case 28:case 14:return!0;default:return!1}}function vm(e){if(aa(e))return!1;if((e.metadata?.attachments?.length??0)>0)return!0;if(e.metadata?.reasoning_status)return!1;if(e.clientMetadata?.errCode&&Object.values(hu).some(t=>t===e.clientMetadata?.errCode))return!0;switch(Mo(e)){case 25:case 63:return E5(e);case 3:return eJ(e);case 47:case 61:case 60:case 5:case 6:return!0;default:return!1}}function AI(e){return aa(e)?!1:Mo(e)===25&&E5(e)}function SSe(e){return aa(e)?!1:Mo(e)===48&&e.status==="finished_successfully"&&e.recipient==="all"}function iJ(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}class aJ{cacheK1=new WeakMap;get(t,n){return this.cacheK1.get(t)?.get(n)}set(t,n,r){let s=this.cacheK1.get(t);s||(s=new WeakMap,this.cacheK1.set(t,s)),s.set(n,r)}}var $v,i9;function lJ(){if(i9)return $v;i9=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return $v=e,$v}var cJ=lJ();const pu=yn(cJ),uJ="contentReference";function wSe(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const s of n)r.push(s.segment);return r}catch{return e.split("")}}function dJ(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function a9(e){return String.fromCodePoint(...e)}function ESe(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}function fJ(e,t=[]){const n=Hg(t);return x5(n,e,{includeDirectives:!1})}function xSe(e,t=[]){const n=Hg(t);return x5(n,e,{includeDirectives:!0})}function TSe(e,t=[],n,r,s=!0,o){const i=Hg(t,r);let a=0,l=i.filter(({index:u,displayType:d})=>u!=null&&d).reduce((u,{index:d,newContentReference:f})=>((f.type==="grouped_webpages"||f.type==="grouped_webpages_v2"||f.type==="grouped_webpages_model_predicted_fallback")&&(f.items=f.items.map(p=>({...p,section_index:a++}))),u[d]=f,u),[]),c=x5(i,e);return s&&(c=hJ(c)),l=pJ(o,l),n&&(o?.length??0)===0&&({updatedText:c,updatedReferences:l}=mJ(n,l,c)),{processedText:c,displayedContentReferences:l}}function Hg(e=[],t){return[...e.entries()].sort(([,s],[,o])=>s.start_idx-o.start_idx||s.end_idx-o.end_idx).reduce((s,[o,i])=>{let a,l;switch(i.type){case"invalid":case"hidden":a={...i,type:"hidden",invalid:i.type==="invalid"};break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":i.type==="tldr"&&i.used_as_navigation||i.type==="navigation"?a={...i,type:"hidden",invalid:!0}:(l="block",a={...i});break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":l="inline",a={...i};break;case"webpage":case"webpage_extended":l="inline",a={type:"grouped_webpages",matched_text:i.matched_text,start_idx:i.start_idx,end_idx:i.end_idx,alt:i.alt,refs:i.refs,prompt_text:i.prompt_text,items:[{...i}],safe_urls:i.safe_urls};break;case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":l="block",a={...i};break;default:a={...i,type:"hidden",invalid:!0},l="alt";break}return s.push({originalContentReference:i,newContentReference:a,index:o,displayType:l}),t&&s.push({originalContentReference:i,newContentReference:{type:"debug",matched_text:i.matched_text.replace(/(^【|】$)/g,""),...i.type==="webpage_extended"&&i.pub_date&&{pub_date:new Date(i.pub_date*1e3).toLocaleString()}},index:o}),s},[])}const Rb="​",kSe="";function x5(e,t,n={includeDirectives:!0}){let r="",s=0;const o=dJ(t);for(const i of e){const{originalContentReference:a,displayType:l,index:c}=i,{start_idx:u,end_idx:d}=a,f=o.slice(s,u);if(r+=a9(f),s=d,l)if(n.includeDirectives)switch(l){case"block":r+=`
`+Nb(c,"leaf")+`
`;break;case"inline":{r.endsWith("```")&&(r+=`
`),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=Rb),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=Nb(c,"inline");break}case"alt":r+=a.alt??"";break}else r+=a.alt??""}return r+=a9(o.slice(s)),r}function Nb(e,t){return`${t==="leaf"?"::":":"}${uJ}[oaicite:${e}]{index=${e}}`}function hJ(e){let t=e;t=t.replace(/【[^】]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+=`
:::`),t=t.replace(/^\d+$/,""),t}function pJ(e,t){return t.map(r=>{if(r.type==="python"){const s=e?.find(o=>o.metadata?.python_citation?.citation_id===r.citation_id);return{...r,cited_message:s,highlighted_text:l9(s?.metadata?.python_citation?.annotated_text??"",r.starting_line,r.ending_line)}}else if(r.type==="container"){const s=e?.find(o=>o.metadata?.container_citation?.citation_id===r.citation_id);return{...r,cited_message:s,highlighted_text:l9(s?.metadata?.container_citation?.annotated_parts?.join(`
`)??"",r.starting_line,r.ending_line)}}return r})}function mJ(e,t,n){const r=e.find(o=>Mo(o)===we.CodeInterpreter),s=e.find(o=>Mo(o)===we.CodeInterpreterTool);if(r!=null&&s!=null){const o=t.length;n.endsWith("```")&&(n+=`
`),n+=" "+Rb+Nb(o,"inline")+Rb,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:s})}return{updatedText:n,updatedReferences:t}}function l9(e,t,n){const r=e.split(`
`),s=r.findIndex(l=>l.startsWith(`${t}:`)),o=r.findIndex(l=>l.startsWith(`${n}:`));return s===-1||o===-1||o<s?null:r.slice(s,o+1).map(l=>l.replace(/^L\d+:\s*/,"").trim()).join(`
`)}function zg(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){if(t.shouldGetVisibleText&&!AI(e))return"";switch(e.content.content_type){case Xe.Text:{const n=e.content.parts.join("");return t.shouldGetTextFromContentReferences&&e.metadata?.content_references?fJ(n,e.metadata.content_references):n}case Xe.MultimodalText:return w5.getPartsAsString(e,!t.shouldGetVisibleText);case Xe.TetherBrowsingDisplay:return e.content.result;case Xe.TetherQuote:case Xe.TetherBrowsingCode:case Xe.Code:case Xe.ExecutionOutput:case Xe.SystemError:return e.content.text;case Xe.SystemMessage:case Xe.SystemContent:return e?.metadata?.__internal?.rendered_harmony_string??JSON.stringify(e.content,null,2);case Xe.UserEditableContext:return`${e.content.user_profile}
${e.content.user_instructions}`;case Xe.SonicWebpage:return`[${e.content.ref_id}] ${e.content.title} (${e.content.url})`;case Xe.StructuredThoughts:return e.content.thoughts.map(n=>`**${n.summary}**

${n.content}`).join(`

`);case Xe.ReasoningRecap:return e.content.content;default:return""}}var Wv,c9;function gJ(){if(c9)return Wv;c9=1;var e=c5(),t=b5(),n=1,r=2;function s(o,i,a,l){var c=a.length,u=c,d=!l;if(o==null)return!u;for(o=Object(o);c--;){var f=a[c];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<u;){f=a[c];var p=f[0],g=o[p],v=f[1];if(d&&f[2]){if(g===void 0&&!(p in o))return!1}else{var _=new e;if(l)var y=l(g,v,p,o,i,_);if(!(y===void 0?t(v,g,n|r,l,_):y))return!1}}return!0}return Wv=s,Wv}var Kv,u9;function MI(){if(u9)return Kv;u9=1;var e=mi();function t(n){return n===n&&!e(n)}return Kv=t,Kv}var Yv,d9;function vJ(){if(d9)return Yv;d9=1;var e=MI(),t=Mu();function n(r){for(var s=t(r),o=s.length;o--;){var i=s[o],a=r[i];s[o]=[i,a,e(a)]}return s}return Yv=n,Yv}var Zv,f9;function II(){if(f9)return Zv;f9=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Zv=e,Zv}var Jv,h9;function _J(){if(h9)return Jv;h9=1;var e=gJ(),t=vJ(),n=II();function r(s){var o=t(s);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(i){return i===s||e(i,s,o)}}return Jv=r,Jv}var Xv,p9;function $g(){if(p9)return Xv;p9=1;var e=Au(),t=wa(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return Xv=r,Xv}var Qv,m9;function T5(){if(m9)return Qv;m9=1;var e=Ss(),t=$g(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,i){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||i!=null&&o in Object(i)}return Qv=s,Qv}var e_,g9;function yJ(){if(g9)return e_;g9=1;var e=l5(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var o=function(){var i=arguments,a=s?s.apply(this,i):i[0],l=o.cache;if(l.has(a))return l.get(a);var c=r.apply(this,i);return o.cache=l.set(a,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,e_=n,e_}var t_,v9;function bJ(){if(v9)return t_;v9=1;var e=yJ(),t=500;function n(r){var s=e(r,function(i){return o.size===t&&o.clear(),i}),o=s.cache;return s}return t_=n,t_}var n_,_9;function CJ(){if(_9)return n_;_9=1;var e=bJ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(t,function(i,a,l,c){o.push(l?c.replace(n,"$1"):a||i)}),o});return n_=r,n_}var r_,y9;function RI(){if(y9)return r_;y9=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,o=Array(s);++r<s;)o[r]=n(t[r],r,t);return o}return r_=e,r_}var s_,b9;function SJ(){if(b9)return s_;b9=1;var e=Ou(),t=RI(),n=Ss(),r=$g(),s=e?e.prototype:void 0,o=s?s.toString:void 0;function i(a){if(typeof a=="string")return a;if(n(a))return t(a,i)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return s_=i,s_}var o_,C9;function wJ(){if(C9)return o_;C9=1;var e=SJ();function t(n){return n==null?"":e(n)}return o_=t,o_}var i_,S9;function Wg(){if(S9)return i_;S9=1;var e=Ss(),t=T5(),n=CJ(),r=wJ();function s(o,i){return e(o)?o:t(o,i)?[o]:n(r(o))}return i_=s,i_}var a_,w9;function Gf(){if(w9)return a_;w9=1;var e=$g();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return a_=t,a_}var l_,E9;function k5(){if(E9)return l_;E9=1;var e=Wg(),t=Gf();function n(r,s){s=e(s,r);for(var o=0,i=s.length;r!=null&&o<i;)r=r[t(s[o++])];return o&&o==i?r:void 0}return l_=n,l_}var c_,x9;function EJ(){if(x9)return c_;x9=1;var e=k5();function t(n,r,s){var o=n==null?void 0:e(n,r);return o===void 0?s:o}return c_=t,c_}var u_,T9;function xJ(){if(T9)return u_;T9=1;function e(t,n){return t!=null&&n in Object(t)}return u_=e,u_}var d_,k9;function TJ(){if(k9)return d_;k9=1;var e=Wg(),t=h5(),n=Ss(),r=m5(),s=g5(),o=Gf();function i(a,l,c){l=e(l,a);for(var u=-1,d=l.length,f=!1;++u<d;){var p=o(l[u]);if(!(f=a!=null&&c(a,p)))break;a=a[p]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&s(d)&&r(p,d)&&(n(a)||t(a)))}return d_=i,d_}var f_,O9;function NI(){if(O9)return f_;O9=1;var e=xJ(),t=TJ();function n(r,s){return r!=null&&t(r,s,e)}return f_=n,f_}var h_,A9;function kJ(){if(A9)return h_;A9=1;var e=b5(),t=EJ(),n=NI(),r=T5(),s=MI(),o=II(),i=Gf(),a=1,l=2;function c(u,d){return r(u)&&s(d)?o(i(u),d):function(f){var p=t(f,u);return p===void 0&&p===d?n(f,u):e(d,p,a|l)}}return h_=c,h_}var p_,M9;function O5(){if(M9)return p_;M9=1;function e(t){return t}return p_=e,p_}var m_,I9;function OJ(){if(I9)return m_;I9=1;function e(t){return function(n){return n?.[t]}}return m_=e,m_}var g_,R9;function AJ(){if(R9)return g_;R9=1;var e=k5();function t(n){return function(r){return e(r,n)}}return g_=t,g_}var v_,N9;function MJ(){if(N9)return v_;N9=1;var e=OJ(),t=AJ(),n=T5(),r=Gf();function s(o){return n(o)?e(r(o)):t(o)}return v_=s,v_}var __,P9;function Vf(){if(P9)return __;P9=1;var e=_J(),t=kJ(),n=O5(),r=Ss(),s=MJ();function o(i){return typeof i=="function"?i:i==null?n:typeof i=="object"?r(i)?t(i[0],i[1]):e(i):s(i)}return __=o,__}var y_,D9;function IJ(){if(D9)return y_;D9=1;var e=Vf(),t=Ug(),n=Mu();function r(s){return function(o,i,a){var l=Object(o);if(!t(o)){var c=e(i,3);o=n(o),i=function(d){return c(l[d],d,l)}}var u=s(o,i,a);return u>-1?l[c?o[u]:u]:void 0}}return y_=r,y_}var b_,L9;function PI(){if(L9)return b_;L9=1;function e(t,n,r,s){for(var o=t.length,i=r+(s?1:-1);s?i--:++i<o;)if(n(t[i],i,t))return i;return-1}return b_=e,b_}var C_,F9;function RJ(){if(F9)return C_;F9=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return C_=t,C_}var S_,j9;function NJ(){if(j9)return S_;j9=1;var e=RJ(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return S_=n,S_}var w_,U9;function DI(){if(U9)return w_;U9=1;var e=NJ(),t=mi(),n=$g(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||i.test(c)?a(c.slice(2),d?2:8):s.test(c)?r:+c}return w_=l,w_}var E_,B9;function PJ(){if(B9)return E_;B9=1;var e=DI(),t=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-1/0){var o=s<0?-1:1;return o*n}return s===s?s:0}return E_=r,E_}var x_,q9;function DJ(){if(q9)return x_;q9=1;var e=PJ();function t(n){var r=e(n),s=r%1;return r===r?s?r-s:r:0}return x_=t,x_}var T_,G9;function LJ(){if(G9)return T_;G9=1;var e=PI(),t=Vf(),n=DJ(),r=Math.max,s=Math.min;function o(i,a,l){var c=i==null?0:i.length;if(!c)return-1;var u=c-1;return l!==void 0&&(u=n(l),u=l<0?r(c+u,0):s(u,c-1)),e(i,t(a,3),u,!0)}return T_=o,T_}var k_,V9;function FJ(){if(V9)return k_;V9=1;var e=IJ(),t=LJ(),n=e(t);return k_=n,k_}var jJ=FJ();const Op=yn(jJ),O_=-1;var UJ=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.RetrievalBrowsing=7]="RetrievalBrowsing",e[e.ParallelBrowsing=8]="ParallelBrowsing",e[e.Dalle=9]="Dalle",e[e.Canmore=10]="Canmore",e[e.Container=11]="Container",e[e.GizmoEditor=12]="GizmoEditor",e[e.SearchResult=13]="SearchResult",e[e.Debug=14]="Debug",e[e.SearchGPTQuery=15]="SearchGPTQuery",e[e.l1p9k3u=16]="l1p9k3u",e[e.a8km123=17]="a8km123",e[e.f959b8c=18]="f959b8c",e[e.b1de6e2_c=19]="b1de6e2_c",e[e.b1de6e2_s=20]="b1de6e2_s",e[e.b1de6e2_d=21]="b1de6e2_d",e[e.b1de6e2_rm=22]="b1de6e2_rm",e[e.kanzi=23]="kanzi",e[e.is_loading_message=24]="is_loading_message",e[e.b47u8ra0_t=25]="b47u8ra0_t",e[e.de1d73e=26]="de1d73e",e[e.oiw209h=27]="oiw209h",e[e.c12k321=28]="c12k321",e[e.t2uay3k=29]="t2uay3k",e[e.Oboe=30]="Oboe",e[e.CoTSearchTool=31]="CoTSearchTool",e[e.n7jupd=32]="n7jupd",e[e.n7jupd_x=33]="n7jupd_x",e[e.n7jupd_i=34]="n7jupd_i",e[e.n7jupd_a=35]="n7jupd_a",e[e.n7jupd_n=36]="n7jupd_n",e[e.n7jupd_p=37]="n7jupd_p",e[e.n7jupd_image_gen=38]="n7jupd_image_gen",e[e.PIMBlock=39]="PIMBlock",e[e.Mochi=40]="Mochi",e[e.SuperWidget=41]="SuperWidget",e[e.Croquette=42]="Croquette",e[e.kaur1br5=43]="kaur1br5",e))(UJ||{});const BJ={[we.StructuredThoughts]:2,[we.ReasoningRecap]:3,[we.Browsing]:4,[we.BrowseTool]:4,[we.SearchGPTQuery]:15,[we.RetrievalBrowsing]:7,[we.RetrievalBrowsingTool]:7,[we.ParallelBrowsing]:8,[we.ParallelBrowsingTool]:8,[we.JITPlugin]:6,[we.JITPluginTool]:6,[we.JITPluginGoogleTool]:6,[we.Dalle]:9,[we.DalleTool]:9,[we.t2uay3k]:29,[we.t2uay3k_c]:29,[we.oiw209h]:27,[we.oiw209h_c]:27,[we.kanzi]:23,[we.Container]:11,[we.CodeInterpreter]:5,[we.CodeInterpreterTool]:5,[we.a8km123]:17,[we.f959b8c]:18,[we.b1de6e2_c]:19,[we.b1de6e2_s]:20,[we.b1de6e2_d]:21,[we.b1de6e2_rm]:22,[we.l1p9k3u]:16,[we.is_loading_message]:24,[we.b47u8ra0_t]:25,[we.de1d73e]:26,[we.GizmoEditor]:12,[we.SearchResultTool]:13,[we.ImagePreloadTool]:13,[we.CanmoreTool]:10,[we.c12k321]:28,[we.CoTSearchToolCall]:31,[we.CoTSearchToolResult]:31,[we.n7jupd_c]:32,[we.n7jupd_r]:32,[we.n7jupd_t]:32,[we.n7jupd_m]:32,[we.n7jupd_x]:33,[we.n7jupd_i]:32,[we.n7jupd_a]:35,[we.n7jupd_n]:36,[we.n7jupd_p]:37,[we.kaur1br5]:43,[we.PIMBlock]:39,[we.Mochi]:40,[we.SuperWidget]:41,[we.Croquette]:42,[we.n7jupd_image_gen]:38};function qJ(e){switch(e){case we.JITPlugin:case we.Dalle:case we.t2uay3k:case we.oiw209h:case we.CoTSearchToolCall:case we.CodeInterpreter:case we.PIMBlock:return!0;default:return!1}}function GJ(e,t,n){return!e||e.type!==t||qJ(Mo(n))||e.type===11&&!n.author.name?.startsWith(ll.CONTAINER)?!1:e.type===t}function H9(e,t){return Ps(e,n=>{if(kI(t)){let a;const l=t.metadata?.reasoning_group_id;l?a=Op(n,u=>u.type===O_&&u.reasoningGroupId===l):a=pu(n);let c;a?.type===O_?c=a:(c={type:O_,groups:[],reasoningGroupId:l},n.push(c)),n=c.groups}const r=Mo(t),s=BJ[r],o=pu(n),i=o?.type!==14?o:Op(n,a=>a.type!==14);r===we.Text&&(i?.type===1||i?.type===0)&&zg(t)!=null&&(rJ(t)||nJ(i.messages[i.messages.length-1]))?(i.type=1,i.messages.push(t)):s===17&&n.some(a=>a.type===17)?Op(n,l=>l.type===17).messages.push(t):GJ(i,s,t)?i.messages.push(t):n.push({type:s??(aa(t)?14:0),messages:[t]})})}const z9=new aJ,VJ=Object.freeze([]);function LI(e,t,n=!1){const r=e.getNodeByIdOrMessageId(t),s=r.id!==e.rootId?LI(e,r.parentId,n):VJ,o=r.message,i=z9.get(s,o);if(i)return i;const a=HJ(s,o,n);return z9.set(s,o,a),a}function HJ(e,t,n=!1){const r=[...e],s=pu(r),o=TI(t);if(s&&zJ(s,t)){const i=[...s.messages,t],a=H9(s.messageGroups,t),l=s.role===Ue.System?$9(t,n):s.role,c=o9(t)??s.gizmoId;let u=s.authorId,d=s.modelSlug;r[r.length-1]={...s,messages:i,messageGroups:a,role:l,isPrompt:s.isPrompt||o,gizmoId:c,authorId:u,modelSlug:d}}else{const i=t.clientMetadata?.requestId,a=$9(t,n),l=a===Ue.Assistant&&i&&i!==s?.id?i:t.id;r.push({id:l,role:a,messages:[t],messageGroups:H9([],t),isPrompt:o,gizmoId:o9(t)})}return r}function $9(e,t){return OI(e)?Ue.System:e.author.role===Ue.Tool?Ue.Assistant:e.author.role===Ue.Developer&&!t?Ue.System:e.author.role}function zJ(e,t,n){return t.metadata?.is_indepth_feedback?!1:pu(e.messages)?.metadata?.reasoning_status&&t.metadata?.reasoning_status||e.role===t.author.role?!0:e.role===Ue.User&&t.recipient==="bio"?!1:OI(t)?e.role===Ue.Root||e.role===Ue.System:aa(t)||(e.role===Ue.System||e.role===Ue.Developer)&&!e.isPrompt?!0:t.author.role===Ue.Tool?e.role===Ue.Assistant:!1}function A5(){const e=rs();return KJ(e.pathname)}function $J(e){const n=new URL(`http://example.com${e}`).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function WJ(e){const t=e.split("-");return t.length>1&&t[0]==="g"?t?.[1]==="p"?`g-p-${t[2]}`:`g-${t[1]}`:t[0]}function KJ(e){const t=$J(e);if(t)return WJ(t)}function Hf(){"use forget";const e=ke.c(2),t=ae(),n=!vn(t);let r;return e[0]!==n?(r={isUnauthenticated:n,isLoading:!1},e[0]=n,e[1]=r):r=e[1],r}function YJ(){qe.deleteCookie(Re.SegmentUserId),qe.deleteCookie(Re.SegmentUserTraits),qt.removeItem(Et.SegmentUserId),qt.removeItem(Et.SegmentUserTraits)}const Pb=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var M5=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(M5||{}),la=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(la||{}),Kg=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(Kg||{}),FI=(e=>(e.MICROPHONE="MICROPHONE",e))(FI||{});function OSe(){jn?.publish(la.ZOOM,{command:Kg.ZOOM_IN})}function ASe(){jn?.publish(la.ZOOM,{command:Kg.ZOOM_OUT})}function MSe(){jn?.publish(la.ZOOM,{command:Kg.ZOOM_RESET})}function W9(e){if(og){const t=Date.now();jn?.publish(la.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}function jI(){return qe.getCookie(Re.PunchOutInfoToken)}function ISe(){return jI()!=null}class ZJ{analytics;appName;appVersion;deviceId;browserLocale;options;settings;user;constructor({appName:t,appVersion:n,deviceId:r,browserLocale:s,options:o,settings:i}){this.analytics=new Promise(a=>{le(()=>import("./ds78z60mr0lkguj5.js").then(l=>l.v),__vite__mapDeps([3,1])).then(l=>{if(!l){U.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const c=new l.AnalyticsBrowser;c.addSourceMiddleware(JJ(this)),a([c])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=s,this.options=o,this.settings=i}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};U.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{U.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{U.addAction("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics;r.track(t,n,{page:Pb()}),W9(`Web Client Event: ${t} with data: ${JSON.stringify(n)}`)}async trackPageView(){const t=Pb(),[n]=await this.analytics;n.page(void 0,t,{page:t}),W9(`Web Client Page View: ${t.path}`)}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}buildEnvelope(t,n){const r=this.getExtraContext(),s=t.$type;return{eventName:(s.split(".").pop()??"structured_event").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase(),eventClass:"chatgpt_web",eventId:Cs(),eventCreatedAt:new Date().toISOString(),eventType:"client",userParams:{userId:this.user?.userId??"",authStatus:String(r.auth_status??""),planType:String(r.user_traits?.plan_type??""),workspaceId:String(r.user_traits?.workspace_id??"")},deviceParams:{deviceId:this.deviceId,locale:this.browserLocale,appEnvironment:String(r.app_name??""),appVersion:this.appVersion},eventParams:{"@type":`openai.buf.dev/openai/protobuf-analytics-events/${s}`,...n}}}trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n);this.track("__protobuf_structured_event__",r)}getExtraContext(){return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?cr.LoggedIn:cr.LoggedOut,user_traits:this.user?.traits,punch_out_info_token:jI()}}}function JJ(e){return({payload:t,next:n})=>{t.obj.context={...t.obj.context,...e.getExtraContext()},n(t)}}const XJ=Ca(),QJ=navigator.language,Db="b75083646cc93698cf8032b6afb1acf9ad5d8b7d",ed=new ZJ({appName:"chatgpt",appVersion:Db,deviceId:XJ,browserLocale:QJ,options:hq,settings:pq});function eX(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const V={initialize({userInfo:e}={}){const t=e?.currentAccount?.structure===Nr.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:e.currentAccount?.planType??null,workspace_id:t,workspace_type:e.currentAccount?.workspaceType??null}}:null;ed.initialize({user:n})},logEvent(e,t){ed.track(e,{...t,origin:"chat",app_version:Db})},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const s={...t!=null?{value:t}:{},...r,origin:"chat",app_version:Db};ed.track(e,s);const o=eX(s);at.logEvent(n,t??null,o)},logPageView(){ed.trackPageView()},logStructuredEvent(e,t){ed.trackStructuredEvent(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),at.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e){this.logEvent("Auth: Error",{error_code:e}),at.logEvent("chatgpt_auth_error",e)},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),at.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),at.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e){this.logEvent("Auth: Login",e),at.logEvent("chatgpt_auth_log_in",null,e)},logSignUpButtonClicked(e){this.logEvent("Auth: Signup",e),at.logEvent("chatgpt_auth_sign_up",null,e)},logLoginOrSignUpButtonClicked(e){this.logEvent("Auth: Login or Signup",e),at.logEvent("chatgpt_auth_log_in_or_sign_up",null,e)},logLogOutButtonClicked(e){this.logEvent("Auth: Logout",e),at.logEvent("chatgpt_auth_log_out",null,e)},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const{call_to_action:r,...s}=e,o=s;r?.forEach((i,a)=>{o[`call_to_action.${a}`]=i}),at.logEvent(n,null,{...o,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),at.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()})},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),at.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logPopoverHover(e){this.logEvent("Popover Hover",e),at.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),at.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),at.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),at.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),at.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),at.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),at.logEvent("chatgpt_web_failed_to_fetch",null,e)}},UI=Et.IsNoAuthChatTrainingEnabled,Vi=hi(()=>{let e=null;return typeof window<"u"&&(e=iX()??null),{isNoAuthChatTrainingEnabled:e,isTemporaryChatEnabled:!1,isAnonModeEnabled:!1}}),I5=e=>Ul(Vi,e);function tX(){const e=nX(),t=rX(),{isUnauthenticated:n}=Hf();return!!(e||n&&!t)}function R5(e){return N5()||!vn(e)&&!sX(e)}function nX(){return I5(e=>e.isTemporaryChatEnabled)}function N5(){return Vi.getState().isTemporaryChatEnabled}function BI(e){return $e(e,"1656345175")}function rX(){const e=ae(),t=I5(n=>n.isNoAuthChatTrainingEnabled);return t??BI(e)}function sX(e){const t=Vi.getState().isNoAuthChatTrainingEnabled;return t??BI(e)}function RSe(){return I5(e=>e.isAnonModeEnabled)}function oX(){return Vi.getState().isAnonModeEnabled}const K9={setIsTemporaryChatEnabled(e){Vi.setState({isTemporaryChatEnabled:e}),e&&V.logEvent("Enable Temporary Chat")},setIsAnonModeEnabled(e){Vi.setState({isAnonModeEnabled:e})},toggleIsTemporaryChatEnabled(){K9.setIsTemporaryChatEnabled(!Vi.getState().isTemporaryChatEnabled)},disableTemporaryChat(){K9.setIsTemporaryChatEnabled(!1)},setIsNoAuthChatTrainingEnabled(e){Vi.setState({isNoAuthChatTrainingEnabled:e}),qt.setItem(UI,e)}};function iX(){const e=qt.getItem(UI);return e==="true"||e===!0?!0:e==="false"||e===!1?!1:void 0}function xl(e,t){for(const[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function NSe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}function aX(e,t){let n;const r=()=>qt.getItem(e)??t(),s=ba(o=>(n=o,xl(window,{storage:({key:i})=>{i===e&&o()}})),r,{name:`localStorage:${e}`,getServerFallback:t});return s.set=o=>{qt.setItem(e,CA(o)?o(r()):o),n?.()},s}const Lb={},lX=["added","updated","removed"];let Y9=!1;function cX(e){Y9||(Y9=!0,e.getQueryCache().subscribe(t=>{const n=t.query.queryHash;if(t.query.state.status==="success"&&n in Lb&&lX.includes(t.type)){const{cacheKey:r,cacheVersion:s}=Lb[n];_K(rZ(e)?.id??null,r,t.query.state.data,s)}}))}function uX(e,t,n,r){cX(e),Lb[gO(t)]={cacheKey:n,cacheVersion:r}}function Yg(e,t,n){const r=Ff(),s=ae();if(r)return qI(s,e,t,n)}function qI(e,t,n,r){const s=fn(e),o=ma(e);return uX(o,r,t,n),()=>{const i=vK(s?.id??null,t,n);if(i!=null)return i}}const zf=e=>["models",{IIM:e?.IIM??!1,isGizmo:e?.isGizmo??!1}],dX=()=>["gizmo-models"],GI="models",VI=1;function HI(e){const t=Tt(_m(e));return tX()&&t.data?{...t,data:yX(t.data)}:t}function zI({isGizmo:e}){const t=Yg(GI,VI,zf());return HI({isGizmo:e,placeholderData:e?void 0:t})}function fX({isGizmo:e}){return HI({IIM:!0,isGizmo:e,enabled:!1})}const _m=e=>Xs({retry:5,enabled:e?.enabled??!0,queryKey:zf(e),queryFn:async()=>{const t=eo(await Q.safeGet("/models",{authOption:Qt.SendIfAvailable,parameters:{query:{iim:e?.IIM,is_gizmo:e?.isGizmo}}}));return mX(t)},placeholderData:e?.placeholderData});function P5({isGizmo:e=!1}={}){const{data:t,isLoading:n}=zI({isGizmo:e}),{data:r,isLoading:s}=fX({isGizmo:e});return{modelsData:r??t,externalModelsLoading:n,fullModelsLoading:s||n}}function hX({enabled:e=!0}={}){const{data:t,isLoading:n}=Tt(Xs({retry:5,enabled:e,queryKey:dX(),queryFn:async()=>{const r=eo(await Q.safeGet("/models/gpts",{authOption:Qt.SendIfAvailable}));return gX(r)}}));return{gizmoModelsData:t,gizmoModelsLoading:n}}const PSe=en(e=>Af(e,()=>_m({IIM:!1,placeholderData:qI(e,GI,VI,zf())}),{forcePendingOnServer:!0}));function pX({isGizmo:e=!1}={}){return zI({isGizmo:e})}function $I(e){return e.getQueryData(zf())}function mX(e){return{categories:e.categories.concat().reverse().map(vX),groups:e.internal_groups?.map(_X)??[],defaultModelSlug:e.default_model_slug??null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(t=>[t.slug,WI(t)])),title:e.title}}function gX(e){return{editor:e.editor,model_override:e.model_override}}function WI(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type}}function vX({default_model:e,tagline:t,color:n,human_category_name:r,category:s,human_category_short_name:o,human_category_shorter_name:i,subscription_level:a,short_explainer:l,subcategory:c,render_header_type:u,title:d,is_beta:f,is_alpha:p,model_badge:g,supported_features:v,supported_models:_,disabled_by_admin:y,date_updated:b,action_pill_short_name:w,slash_command_enabled:C,...S}){return{color:n,tagline:t,defaultModel:e,label:r,shortLabel:o,description:l,shorterLabel:i??o,subscriptionLevel:a,categoryId:s,subcategory:c,renderHeaderType:u,isBeta:f,isAlpha:p,modelBadge:g,title:d,supportedFeatures:v,supportedModels:_??[],dateUpdated:b,actionPillShortName:w,slashCommandEnabled:C,disabledByAdmin:y??!1,...S}}function _X({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const Z9=new WeakMap;function yX(e){let t=Z9.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>({...r,modelIds:r.modelIds.filter(s=>n.has(s))})).filter(r=>r.modelIds.length>0)},Z9.set(e,t)}return t}const KI=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},h.createElement("path",{d:"M6.02925 3.02929C6.25652 2.80202 6.60803 2.77382 6.86616 2.94433L6.97065 3.02929L11.4707 7.52929C11.7304 7.78899 11.7304 8.211 11.4707 8.4707L6.97065 12.9707C6.71095 13.2304 6.28895 13.2304 6.02925 12.9707C5.76955 12.711 5.76955 12.289 6.02925 12.0293L10.0585 7.99999L6.02925 3.9707L5.94429 3.8662C5.77378 3.60807 5.80198 3.25656 6.02925 3.02929Z"})),bX=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M8 9.93359C8.40501 9.93359 8.7334 10.262 8.7334 10.667C8.73322 11.0718 8.4049 11.4004 8 11.4004C7.59524 11.4002 7.26678 11.0718 7.2666 10.667C7.2666 10.2621 7.59512 9.93375 8 9.93359Z"}),h.createElement("path",{d:"M8 4.66699C9.00983 4.66699 9.71143 5.3376 9.91113 6.12598C10.1119 6.91849 9.80668 7.84168 8.89453 8.29785C8.75494 8.36765 8.66699 8.51093 8.66699 8.66699C8.66681 9.03503 8.36808 9.33301 8 9.33301C7.63194 9.33299 7.33319 9.03502 7.33301 8.66699C7.33301 8.00598 7.70668 7.40116 8.29785 7.10547C8.60101 6.95389 8.6789 6.69288 8.61816 6.45312C8.55627 6.20931 8.35206 6 8 6C7.74846 6.00001 7.52816 6.13905 7.41406 6.34766C7.23735 6.67059 6.83275 6.78894 6.50977 6.6123C6.18684 6.43568 6.0677 6.03099 6.24414 5.70801C6.58269 5.08904 7.24177 4.667 8 4.66699Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),CX=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},h.createElement("path",{d:"M11.3349 10.3301V5.60547L4.47065 12.4707C4.21095 12.7304 3.78895 12.7304 3.52925 12.4707C3.26955 12.211 3.26955 11.789 3.52925 11.5293L10.3945 4.66504H5.66011C5.29284 4.66504 4.99507 4.36727 4.99507 4C4.99507 3.63273 5.29284 3.33496 5.66011 3.33496H11.9999L12.1337 3.34863C12.4369 3.41057 12.665 3.67857 12.665 4V10.3301C12.6649 10.6973 12.3672 10.9951 11.9999 10.9951C11.6327 10.9951 11.335 10.6973 11.3349 10.3301ZM11.333 4.66699L11.3349 4.66797L11.332 4.66504H11.331L11.333 4.66699Z"}));function fs(e){return e?"":void 0}function YI(e,t){return e.getAttribute(t)!=null}function DSe(e,t,n){e&&n!==YI(e,t)&&(n?e.setAttribute(t,""):e.removeAttribute(t))}function SX(){return aO()?8:1}function ZI(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function wX(e){return!Zg(e)&&!ZI(e)}function Zg(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function EX(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return wX(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const gi=e=>{"use forget";const t=ke.c(113);let n,r,s,o,i,a,l,c,u,d,f,p,g,v,_,y,b,w,C,S,E;t[0]!==e?({as:o,icon:r,trailing:s,highlightTrailing:n,showHighlightTrailing:g,trailingColor:v,label:d,badge:i,secondary:p,className:l,color:c,size:_,active:y,highlighted:b,hasManagedFocus:w,subMenu:C,fillContainer:S,children:a,iconOnly:E,iconAriaLabel:u,...f}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=p,t[13]=g,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=w,t[19]=C,t[20]=S,t[21]=E):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],v=t[14],_=t[15],y=t[16],b=t[17],w=t[18],C=t[19],S=t[20],E=t[21]);const x=g===void 0?!1:g,T=v===void 0?"tertiary":v,k=_===void 0?"default":_,O=y===void 0?!1:y,A=b===void 0?!1:b,M=w===void 0?!1:w,I=C===void 0?!1:C,N=S===void 0?!1:S,q=E===void 0?!1:E;let P;if(h.isValidElement(a)&&!d&&!i)P=a;else{let re;t[22]!==d?(re=d&&m.jsx(TX,{children:d}),t[22]=d,t[23]=re):re=t[23];let H;t[24]!==i?(H=i&&m.jsx(L5,{children:i}),t[24]=i,t[25]=H):H=t[25];let j;t[26]!==a||t[27]!==re||t[28]!==H?(j=m.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5 group-data-no-contents-gap:gap-0",children:[re,a,H]}),t[26]=a,t[27]=re,t[28]=H,t[29]=j):j=t[29],P=j}if(p){let re;t[30]!==p?(re=m.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:p}),t[30]=p,t[31]=re):re=t[31];let H;t[32]!==P||t[33]!==re?(H=m.jsxs("div",{className:"min-w-0",children:[P,re]}),t[32]=P,t[33]=re,t[34]=H):H=t[34],P=H}if(r){const re=k==="large"?"icon-lg":"icon";let H;t[35]!==re?(H=he("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",re),t[35]=re,t[36]=H):H=t[36];let j;t[37]!==r||t[38]!==u||t[39]!==q?(j=typeof r!="function"?r:m.jsx(r,{className:"icon","aria-hidden":q?"false":"true","aria-label":q?u:void 0}),t[37]=r,t[38]=u,t[39]=q,t[40]=j):j=t[40];let xe;t[41]!==H||t[42]!==j?(xe=m.jsx("div",{className:H,children:j}),t[41]=H,t[42]=j,t[43]=xe):xe=t[43];const ye=!q&&P;let yt;t[44]!==xe||t[45]!==ye?(yt=m.jsxs(m.Fragment,{children:[xe,ye]}),t[44]=xe,t[45]=ye,t[46]=yt):yt=t[46],P=yt}let D;if(s){const re=T==="tertiary"&&"text-token-text-tertiary";let H;t[47]!==re?(H=he("trailing",re),t[47]=re,t[48]=H):H=t[48];const j=n?-1:void 0;let xe;t[49]!==s?(xe=typeof s!="function"?s:m.jsx(s,{className:"icon","aria-hidden":"true"}),t[49]=s,t[50]=xe):xe=t[50];let ye;t[51]!==H||t[52]!==j||t[53]!==xe?(ye=m.jsx("div",{className:H,tabIndex:j,children:xe}),t[51]=H,t[52]=j,t[53]=xe,t[54]=ye):ye=t[54],D=ye}if(n){const re=T==="tertiary"&&"text-token-text-tertiary";let H;t[55]!==re?(H=he("trailing highlight",re),t[55]=re,t[56]=H):H=t[56];let j;t[57]!==n?(j=typeof n!="function"?n:m.jsx(n,{className:"icon","aria-hidden":"true"}),t[57]=n,t[58]=j):j=t[58];let xe;t[59]!==H||t[60]!==j?(xe=m.jsx("div",{className:H,children:j}),t[59]=H,t[60]=j,t[61]=xe):xe=t[61];const ye=xe;let yt;t[62]!==ye||t[63]!==D?(yt=D?m.jsxs("div",{className:"trailing-pair",children:[ye,D]}):ye,t[62]=ye,t[63]=D,t[64]=yt):yt=t[64],D=yt}if(I){let re;t[65]===Symbol.for("react.memo_cache_sentinel")?(re=m.jsx(KI,{className:"icon-sm -me-0.25"}),t[65]=re):re=t[65];const H=re;let j;t[66]!==D?(j=D?m.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[D,H]}):H,t[66]=D,t[67]=j):j=t[67],D=j}if(D&&!q){if(r){const H=k==="large"?"gap-2":"gap-1.5";let j;t[68]!==H?(j=he("flex min-w-0 items-center",H),t[68]=H,t[69]=j):j=t[69];let xe;t[70]!==P||t[71]!==j?(xe=m.jsx("div",{className:j,children:P}),t[70]=P,t[71]=j,t[72]=xe):xe=t[72],P=xe}let re;t[73]!==P||t[74]!==D?(re=m.jsxs(m.Fragment,{children:[P,D]}),t[73]=P,t[74]=D,t[75]=re):re=t[75],P=re}const R=o,B=h.useRef(null),Y=h.useRef(!1);let Me,Fe;t[76]!==A?(Me=()=>{if(Y.current){Y.current=!1;return}A&&requestAnimationFrame(()=>{B.current?.scrollIntoView({block:"nearest"})})},Fe=[A],t[76]=A,t[77]=Me,t[78]=Fe):(Me=t[77],Fe=t[78]),h.useEffect(Me,Fe);const pe=f.disabled?-1:0,ge=f.disabled??!1;let Se;t[79]!==ge?(Se=fs(ge),t[79]=ge,t[80]=Se):Se=t[80];let se;t[81]!==O?(se=fs(O),t[81]=O,t[82]=se):se=t[82];let K;t[83]!==A?(K=fs(A),t[83]=A,t[84]=K):K=t[84];let G;t[85]!==I?(G=fs(I),t[85]=I,t[86]=G):G=t[86];let ue;t[87]!==N?(ue=fs(N),t[87]=N,t[88]=ue):ue=t[88];let oe;t[89]!==x?(oe=fs(x),t[89]=x,t[90]=oe):oe=t[90];const _e=k==="large"?"large":void 0,st=c!=="default"?c:void 0,ee=!M&&"hoverable",Ie=r&&!D&&(k==="large"?"gap-2":"gap-1.5"),X=k==="large"&&q&&"p-2";let W;t[91]!==l||t[92]!==ee||t[93]!==Ie||t[94]!==X?(W=he("group __menu-item",ee,Ie,X,l),t[91]=l,t[92]=ee,t[93]=Ie,t[94]=X,t[95]=W):W=t[95];let de;t[96]!==f?(de=re=>{Y.current=!0,f.onPointerMoveCapture?.(re)},t[96]=f,t[97]=de):de=t[97];let ze;return t[98]!==R||t[99]!==P||t[100]!==f||t[101]!==pe||t[102]!==Se||t[103]!==se||t[104]!==K||t[105]!==G||t[106]!==ue||t[107]!==oe||t[108]!==_e||t[109]!==st||t[110]!==W||t[111]!==de?(ze=m.jsx(R,{ref:B,tabIndex:pe,"data-disabled":Se,"data-active":se,"data-highlighted":K,"data-has-submenu":G,"data-fill":ue,"data-revealed":oe,"data-size":_e,"data-color":st,className:W,...f,onPointerMoveCapture:de,children:P}),t[98]=R,t[99]=P,t[100]=f,t[101]=pe,t[102]=Se,t[103]=se,t[104]=K,t[105]=G,t[106]=ue,t[107]=oe,t[108]=_e,t[109]=st,t[110]=W,t[111]=de,t[112]=ze):ze=t[112],ze},xX=({external:e,...t})=>m.jsx(gi,{as:bf,...e?{highlightTrailing:m.jsx(CX,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null,...t}),D5=e=>{const{row:t,className:n,...r}=e,s=e.as??"button";return m.jsx(gi,{"data-sheet-item":!0,...r,as:s,className:he("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)})},TX=h.memo(function({children:t}){return m.jsx("div",{className:"truncate",ref:n=>{n?.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),L5=({children:e})=>m.jsx("span",{className:"__menu-item-badge",children:e}),LSe=({disabled:e,icon:t,children:n,className:r,...s})=>m.jsx("button",{disabled:e,tabIndex:e?void 0:0,"data-trailing-button":fs(!0),className:he("__menu-item-trailing-btn",r),...s,onClick:o=>{o.preventDefault(),o.stopPropagation(),s.onClick?.(o)},onDoubleClick:o=>{o.preventDefault(),o.stopPropagation(),s.onDoubleClick?.(o)},onPointerDown:o=>{s.onPointerDown?.(o),o.preventDefault(),o.stopPropagation()},onMouseDown:o=>{s.onMouseDown?.(o),o.preventDefault(),o.stopPropagation()},children:m.jsx("div",{children:t?m.jsx(t,{className:"icon","aria-hidden":"true"}):n})}),FSe=({children:e,className:t,...n})=>m.jsx(bf,{"data-trailing-button":fs(!0),className:he("__menu-item-trailing-lnk",t),...n,onClick:r=>{r.preventDefault(),r.stopPropagation(),n.onClick?.(r)},onDoubleClick:r=>{r.preventDefault(),r.stopPropagation(),n.onDoubleClick?.(r)},children:e}),kX=({as:e,className:t,...n})=>{const r=e;return m.jsx(r,{className:he("__menu-label",t),...n})};function OX({size:e="long"}){const t=e==="long"?220:120,[n]=h.useState(()=>.75+.25*Math.random());return m.jsx(gi,{as:"div",disabled:!0,children:m.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const AX=e=>{"use forget";const t=ke.c(44);let n,r,s,o,i,a,l,c,u,d;t[0]!==e?({holdFocus:c,selectAllOnFocus:u,submitIcon:n,onClick:s,onFocus:o,onKeyDownCapture:i,onSubmit:a,border:d,className:r,...l}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10]);const f=c===void 0?!1:c,p=u===void 0?!0:u,g=d===void 0?!0:d,v=ht();let _;t[11]!==r?(_=he("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default m-[-1px] w-full min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 data-submit-icon:ps-2.5 data-submit-icon:pe-9 dark:bg-transparent",r),t[11]=r,t[12]=_):_=t[12];let y;t[13]!==f?(y=fs(f),t[13]=f,t[14]=y):y=t[14];let b;t[15]!==g?(b=fs(g),t[15]=g,t[16]=b):b=t[16];const w=!!n;let C;t[17]!==w?(C=fs(w),t[17]=w,t[18]=C):C=t[18];let S;t[19]!==s?(S=M=>{s?.(M),M.preventDefault()},t[19]=s,t[20]=S):S=t[20];let E;t[21]!==o||t[22]!==p?(E=M=>{o?.(M),p&&M.currentTarget.select()},t[21]=o,t[22]=p,t[23]=E):E=t[23];let x;t[24]!==i||t[25]!==a?(x=M=>{i?.(M);const{key:I}=M;EX(M)||(M.stopPropagation(),I==="Enter"&&a?.(M))},t[24]=i,t[25]=a,t[26]=x):x=t[26];let T;t[27]!==l||t[28]!==E||t[29]!==x||t[30]!==_||t[31]!==y||t[32]!==b||t[33]!==C||t[34]!==S?(T=m.jsx("input",{type:"text",className:_,"data-hold-focus":y,"data-border":b,"data-submit-icon":C,autoComplete:"off",onClick:S,onFocus:E,onKeyDownCapture:x,...l}),t[27]=l,t[28]=E,t[29]=x,t[30]=_,t[31]=y,t[32]=b,t[33]=C,t[34]=S,t[35]=T):T=t[35];const k=T;let O;t[36]!==n||t[37]!==v||t[38]!==a||t[39]!==l?.value?(O=n&&m.jsx("div",{className:"absolute end-2.5 top-1/2 flex -translate-y-1/2 items-center justify-center",children:m.jsx("button",{className:"icon composer-submit-btn size-5",disabled:l?.value?.toString().trim()==="",onClick:a,"aria-label":v.formatMessage({defaultMessage:"Submit",id:"aria.submit"}),"data-in-menu":fs(!0),children:m.jsx(n,{className:"icon-xs"})})}),t[36]=n,t[37]=v,t[38]=a,t[39]=l?.value,t[40]=O):O=t[40];let A;return t[41]!==k||t[42]!==O?(A=m.jsxs("div",{className:"relative mx-1.5 mb-1 w-[calc(100%---spacing(3))]",children:[O,k]}),t[41]=k,t[42]=O,t[43]=A):A=t[43],A};function MX(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function JI(e){const[t,n]=h.useState(void 0);return Sl(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var F5="Switch",[IX,jSe]=ku(F5),[RX,NX]=IX(F5),XI=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[f,p]=h.useState(null),g=En(t,w=>p(w)),v=h.useRef(!1),_=f?u||!!f.closest("form"):!0,[y=!1,b]=Bl({prop:s,defaultProp:o,onChange:c});return m.jsxs(RX,{scope:n,checked:y,disabled:a,children:[m.jsx(Gt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":tR(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:We(e.onClick,w=>{b(C=>!C),_&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),_&&m.jsx(PX,{control:f,bubbles:!v.current,name:r,value:l,checked:y,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});XI.displayName=F5;var QI="SwitchThumb",eR=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=NX(QI,n);return m.jsx(Gt.span,{"data-state":tR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});eR.displayName=QI;var PX=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=h.useRef(null),i=MX(n),a=JI(t);return h.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[i,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tR(e){return e?"checked":"unchecked"}var DX=XI,LX=eR;const nR=({size:e,className:t,icon:n,withinLabel:r,...s})=>m.jsx(DX,{className:he("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t),...s,children:m.jsx(LX,{className:"radix-state-checked:translate-x-[calc(var(--dir,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100 rtl:[--dir:-1]",children:n})});function j5(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];function c(d){const{scope:f,children:p,...g}=d,v=f?.[e][l]||a,_=h.useMemo(()=>g,Object.values(g));return m.jsx(v.Provider,{value:_,children:p})}function u(d,f){const p=f?.[e][l]||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=a?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,FX(s,...t)]}function FX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function rR(e){const t=e+"CollectionProvider",[n,r]=j5(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:v}=p,_=Ee.useRef(null),y=Ee.useRef(new Map).current;return m.jsx(s,{scope:g,itemMap:y,collectionRef:_,children:v})};i.displayName=t;const a=e+"CollectionSlot",l=Ee.forwardRef((p,g)=>{const{scope:v,children:_}=p,y=o(a,v),b=En(g,y.collectionRef);return m.jsx(lu,{ref:b,children:_})});l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Ee.forwardRef((p,g)=>{const{scope:v,children:_,...y}=p,b=Ee.useRef(null),w=En(g,b),C=o(c,v);return Ee.useEffect(()=>(C.itemMap.set(b,{ref:b,...y}),()=>void C.itemMap.delete(b))),m.jsx(lu,{[u]:"",ref:w,children:_})});d.displayName=c;function f(p){const g=o(e+"CollectionConsumer",p);return Ee.useCallback(()=>{const _=g.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((C,S)=>y.indexOf(C.ref.current)-y.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:l,ItemSlot:d},f,r]}var sR=h.createContext(void 0),jX=e=>{const{dir:t,children:n}=e;return m.jsx(sR.Provider,{value:t,children:n})};function U5(e){const t=h.useContext(sR);return e||t||"ltr"}var A_="rovingFocusGroup.onEntryFocus",UX={bubbles:!1,cancelable:!0},Jg="RovingFocusGroup",[Fb,oR,BX]=rR(Jg),[qX,Xg]=j5(Jg,[BX]),[GX,VX]=qX(Jg),iR=h.forwardRef((e,t)=>m.jsx(Fb.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(Fb.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(HX,{...e,ref:t})})}));iR.displayName=Jg;var HX=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=h.useRef(null),p=En(t,f),g=U5(o),[v=null,_]=Bl({prop:i,defaultProp:a,onChange:l}),[y,b]=h.useState(!1),w=bs(c),C=oR(n),S=h.useRef(!1),[E,x]=h.useState(0);return h.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(A_,w),()=>T.removeEventListener(A_,w)},[w]),m.jsx(GX,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:v,onItemFocus:h.useCallback(T=>_(T),[_]),onItemShiftTab:h.useCallback(()=>b(!0),[]),onFocusableItemAdd:h.useCallback(()=>x(T=>T+1),[]),onFocusableItemRemove:h.useCallback(()=>x(T=>T-1),[]),children:m.jsx(Gt.div,{tabIndex:y||E===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{S.current=!0}),onFocus:We(e.onFocus,T=>{const k=!S.current;if(T.target===T.currentTarget&&k&&!y){const O=new CustomEvent(A_,UX);if(T.currentTarget.dispatchEvent(O),!O.defaultPrevented){const A=C().filter(P=>P.focusable),M=A.find(P=>P.active),I=A.find(P=>P.id===v),q=[M,I,...A].filter(Boolean).map(P=>P.ref.current);cR(q,u)}}S.current=!1}),onBlur:We(e.onBlur,()=>b(!1))})})}),aR="RovingFocusGroupItem",lR=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=ko(),l=o||a,c=VX(aR,n),u=c.currentTabStopId===l,d=oR(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return h.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),m.jsx(Fb.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:m.jsx(Gt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:We(e.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:We(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:We(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=WX(g,c.orientation,c.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const b=y.indexOf(g.currentTarget);y=c.loop?KX(y,b+1):y.slice(b+1)}setTimeout(()=>cR(y))}})})})});lR.displayName=aR;var zX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $X(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WX(e,t,n){const r=$X(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zX[r]}function cR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function KX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uR=iR,dR=lR,B5="Tabs",[YX,USe]=ku(B5,[Xg]),fR=Xg(),[ZX,q5]=YX(B5),hR=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=U5(a),[d,f]=Bl({prop:r,onChange:s,defaultProp:o});return m.jsx(ZX,{scope:n,baseId:ko(),value:d,onValueChange:f,orientation:i,dir:u,activationMode:l,children:m.jsx(Gt.div,{dir:u,"data-orientation":i,...c,ref:t})})});hR.displayName=B5;var pR="TabsList",mR=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=q5(pR,n),i=fR(n);return m.jsx(uR,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:m.jsx(Gt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});mR.displayName=pR;var gR="TabsTrigger",vR=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=q5(gR,n),a=fR(n),l=bR(i.baseId,r),c=CR(i.baseId,r),u=r===i.value;return m.jsx(dR,{asChild:!0,...a,focusable:!s,active:u,children:m.jsx(Gt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:We(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?i.onValueChange(r):d.preventDefault()}),onKeyDown:We(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(r)}),onFocus:We(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!s&&d&&i.onValueChange(r)})})})});vR.displayName=gR;var _R="TabsContent",yR=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=q5(_R,n),l=bR(a.baseId,r),c=CR(a.baseId,r),u=r===a.value,d=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),m.jsx(ro,{present:s||u,children:({present:f})=>m.jsx(Gt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&o})})});yR.displayName=_R;function bR(e,t){return`${e}-trigger-${t}`}function CR(e,t){return`${e}-content-${t}`}var BSe=hR,qSe=mR,JX=vR,XX=yR;function QX(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=SR(t))&&(r&&(r+=" "),r+=n);return r}function SR(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=SR(e[r]))&&(n&&(n+=" "),n+=t);return n}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(this,arguments)}function eQ(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set:function(i,a){n.has(i)?n.set(i,a):s(i,a)}}}var G5="-";function tQ(e){var t=rQ(e);function n(s){var o=s.split(G5);return o[0]===""&&o.length!==1&&o.shift(),wR(o,t)||nQ(s)}function r(s){return e.conflictingClassGroups[s]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function wR(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),o=s?wR(e.slice(1),s):void 0;if(o)return o;if(t.validators.length!==0){var i=e.join(G5);return(n=t.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:n.classGroupId}}var J9=/^\[(.+)\]$/;function nQ(e){if(J9.test(e)){var t=J9.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function rQ(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=oQ(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],a=o[1];Ub(a,r,i,t)}),r}function Ub(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:X9(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(sQ(s)){Ub(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var a=i[0],l=i[1];Ub(l,X9(t,a),n,r)})})}function X9(e,t){var n=e;return t.split(G5).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function sQ(e){return e.isThemeGetter}function oQ(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):i});return[r,o]}):e}var ER="!";function iQ(e){var t=e.separator||":";return function(r){for(var s=0,o=[],i=0,a=0;a<r.length;a++){var l=r[a];s===0&&l===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(o.push(r.slice(i,a)),i=a+t.length),l==="["?s++:l==="]"&&s--}var c=o.length===0?r:r.substring(i),u=c.startsWith(ER),d=u?c.substring(1):c;return{modifiers:o,hasImportantModifier:u,baseClassName:d}}}function aQ(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function lQ(e){return jb({cache:eQ(e.cacheSize),splitModifiers:iQ(e)},tQ(e))}var cQ=/\s+/;function uQ(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(cQ).map(function(i){var a=n(i),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:i};var f=aQ(l).join(":"),p=c?f+ER:f;return{isTailwindClass:!0,modifierId:p,classGroupId:d,originalClassName:i}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var a=i.modifierId,l=i.classGroupId,c=a+l;return o.has(c)?!1:(o.add(c),s(l).forEach(function(u){return o.add(a+u)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function dQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=a;function a(c){var u=t[0],d=t.slice(1),f=d.reduce(function(p,g){return g(p)},u());return r=lQ(f),s=r.cache.get,o=r.cache.set,i=l,l(c)}function l(c){var u=s(c);if(u)return u;var d=uQ(c,r);return o(c,d),d}return function(){return i(QX.apply(null,arguments))}}function nn(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Ea=/^\[(.+)\]$/,fQ=/^\d+\/\d+$/,hQ=new Set(["px","full","screen"]),pQ=/^(\d+)?(xs|sm|md|lg|xl)$/,mQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,gQ=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ks(e){return!Number.isNaN(Number(e))||hQ.has(e)||fQ.test(e)||Ha(e)}function Ha(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||mQ.test(n):!1}function vQ(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function _Q(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function yQ(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function Q9(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function vr(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Hn(e){return Ea.test(e)}function td(){return!0}function Ai(e){return pQ.test(e)}function bQ(e){var t,n=(t=Ea.exec(e))==null?void 0:t[1];return n?gQ.test(n):!1}function CQ(){var e=nn("colors"),t=nn("spacing"),n=nn("blur"),r=nn("brightness"),s=nn("borderColor"),o=nn("borderRadius"),i=nn("borderSpacing"),a=nn("borderWidth"),l=nn("contrast"),c=nn("grayscale"),u=nn("hueRotate"),d=nn("invert"),f=nn("gap"),p=nn("gradientColorStops"),g=nn("inset"),v=nn("margin"),_=nn("opacity"),y=nn("padding"),b=nn("saturate"),w=nn("scale"),C=nn("sepia"),S=nn("skew"),E=nn("space"),x=nn("translate"),T=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",t]},A=function(){return["",ks]},M=function(){return["auto",vr]},I=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},N=function(){return["solid","dashed","dotted","double","none"]},q=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly"]},D=function(){return["","0",Hn]},R=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[td],spacing:[ks],blur:["none","",Ai,Ha],brightness:[vr],borderColor:[e],borderRadius:["none","","full",Ai,Ha],borderSpacing:[t],borderWidth:A(),contrast:[vr],grayscale:D(),hueRotate:[vr],invert:D(),gap:[t],gradientColorStops:[e],inset:O(),margin:O(),opacity:[vr],padding:[t],saturate:[vr],scale:[vr],sepia:D(),skew:[vr,Hn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Hn]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(I(),[Hn])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:[vr]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Hn]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",vr]}],"grid-cols":[{"grid-cols":[td]}],"col-start-end":[{col:["auto",{span:[vr]}]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[td]}],"row-start-end":[{row:["auto",{span:[vr]}]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Hn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Hn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:P()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",ks]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ai]},Ai,Ha]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ks]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",Ai,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Q9]}],"font-family":[{font:[td]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ha]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks]}],"list-style-type":[{list:["none","disc","decimal",Hn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(N(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ks]}],"underline-offset":[{"underline-offset":["auto",ks]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ha]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(I(),[_Q])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yQ]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(N(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:N()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(N())}],"outline-offset":[{"outline-offset":[ks]}],"outline-w":[{outline:[ks]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ks]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ai,bQ]}],"shadow-color":[{shadow:[td]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":q()}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ai,Hn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Hn]}],duration:[{duration:[vr]}],ease:[{ease:["linear","in","out","in-out",Hn]}],delay:[{delay:[vr]}],animate:[{animate:["none","spin","ping","pulse","bounce",Hn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[vr,Hn]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Hn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ks,Q9]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var SQ=dQ(CQ),wQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],EQ=wQ,xR=Symbol("isTwElement?"),xQ=(e,t)=>e.reduce((n,r,s)=>n.concat(r||[],t[s]||[]),[]),TQ=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(s=>s!==","),r=t?t.split(" "):[];return SQ(...n.concat(r).filter(s=>s!==" "))},kQ=([e])=>e.charAt(0)!=="$",M_=e=>e[xR]===!0,TR=e=>(t,...n)=>{let r=(s=[])=>{let o=Ee.forwardRef((i,a)=>{let{$as:l=e,style:c={},...u}=i,d=M_(e)?e:l,f=s?s.reduce((g,v)=>Object.assign(g,typeof v=="function"?v(i):v),{}):{},p=M_(d)?u:Object.fromEntries(Object.entries(u).filter(kQ));return Ee.createElement(d,{...p,style:{...f,...c},ref:a,className:TQ(xQ(t,n.map(g=>g({...u,$as:l}))),u.className),...M_(e)?{$as:l}:{}})});return o[xR]=!0,typeof e!="string"?o.displayName=e.displayName||e.name||"tw.Component":o.displayName="tw."+e,o.withStyle=i=>r(s.concat(i)),o};return r()},OQ=EQ.reduce((e,t)=>({...e,[t]:TR(t)}),{}),AQ=Object.assign(TR,OQ),Vl=AQ;function eE(){return m.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:m.jsx(ie,{id:"PoPvGE",defaultMessage:"Alpha"})})}function tE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kR(...e){return t=>{let n=!1;const r=e.map(s=>{const o=tE(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():tE(e[s],null)}}}}function GSe(...e){return h.useCallback(kR(...e),e)}function MQ(e){const t=IQ(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,a=h.Children.toArray(o),l=a.find(NQ);if(l){const c=l.props.children,u=a.map(d=>d===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:d);return m.jsx(t,{...i,ref:s,children:h.isValidElement(c)?h.cloneElement(c,void 0,u):null})}return m.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var OR=MQ("Slot");function IQ(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=DQ(s),a=PQ(o,s.props);return s.type!==h.Fragment&&(a.ref=r?kR(r,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RQ=Symbol("radix.slottable");function NQ(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RQ}function PQ(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function DQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const LQ=["top","right","bottom","left"],ca=Math.min,zr=Math.max,ym=Math.round,$h=Math.floor,ua=e=>({x:e,y:e}),FQ={left:"right",right:"left",bottom:"top",top:"bottom"},jQ={start:"end",end:"start"};function Bb(e,t,n){return zr(e,ca(t,n))}function di(e,t){return typeof e=="function"?e(t):e}function fi(e){return e.split("-")[0]}function Iu(e){return e.split("-")[1]}function V5(e){return e==="x"?"y":"x"}function H5(e){return e==="y"?"height":"width"}function Ru(e){return["top","bottom"].includes(fi(e))?"y":"x"}function z5(e){return V5(Ru(e))}function UQ(e,t,n){n===void 0&&(n=!1);const r=Iu(e),s=z5(e),o=H5(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=bm(i)),[i,bm(i)]}function BQ(e){const t=bm(e);return[qb(e),t,qb(t)]}function qb(e){return e.replace(/start|end/g,t=>jQ[t])}function qQ(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function GQ(e,t,n,r){const s=Iu(e);let o=qQ(fi(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(qb)))),o}function bm(e){return e.replace(/left|right|bottom|top/g,t=>FQ[t])}function VQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function AR(e){return typeof e!="number"?VQ(e):{top:e,right:e,bottom:e,left:e}}function Cm(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function nE(e,t,n){let{reference:r,floating:s}=e;const o=Ru(t),i=z5(t),a=H5(i),l=fi(t),c=o==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Iu(t)){case"start":p[i]-=f*(n&&c?-1:1);break;case"end":p[i]+=f*(n&&c?-1:1);break}return p}const HQ=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=nE(c,r,l),f=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:_,fn:y}=a[v],{x:b,y:w,data:C,reset:S}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});u=b??u,d=w??d,p={...p,[_]:{...p[_],...C}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:u,y:d}=nE(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function nf(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=di(t,e),g=AR(p),_=a[f?d==="floating"?"reference":"floating":d],y=Cm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{...i.floating,x:r,y:s}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Cm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-S.top+g.top)/C.y,bottom:(S.bottom-y.bottom+g.bottom)/C.y,left:(y.left-S.left+g.left)/C.x,right:(S.right-y.right+g.right)/C.x}}const zQ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=di(e,t)||{};if(c==null)return{};const d=AR(u),f={x:n,y:r},p=z5(s),g=H5(p),v=await i.getDimensions(c),_=p==="y",y=_?"top":"left",b=_?"bottom":"right",w=_?"clientHeight":"clientWidth",C=o.reference[g]+o.reference[p]-f[p]-o.floating[g],S=f[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let x=E?E[w]:0;(!x||!await(i.isElement==null?void 0:i.isElement(E)))&&(x=a.floating[w]||o.floating[g]);const T=C/2-S/2,k=x/2-v[g]/2-1,O=ca(d[y],k),A=ca(d[b],k),M=O,I=x-v[g]-A,N=x/2-v[g]/2+T,q=Bb(M,N,I),P=!l.arrow&&Iu(s)!=null&&N!==q&&o.reference[g]/2-(N<M?O:A)-v[g]/2<0,D=P?N<M?N-M:N-I:0;return{[p]:f[p]+D,data:{[p]:q,centerOffset:N-q-D,...P&&{alignmentOffset:D}},reset:P}}}),$Q=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,..._}=di(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=fi(s),b=fi(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(b||!v?[bm(a)]:BQ(a));!f&&g!=="none"&&C.push(...GQ(a,v,g,w));const S=[a,...C],E=await nf(t,_),x=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&x.push(E[y]),d){const M=UQ(s,i,w);x.push(E[M[0]],E[M[1]])}if(T=[...T,{placement:s,overflows:x}],!x.every(M=>M<=0)){var k,O;const M=(((k=o.flip)==null?void 0:k.index)||0)+1,I=S[M];if(I)return{data:{index:M,overflows:T},reset:{placement:I}};let N=(O=T.filter(q=>q.overflows[0]<=0).sort((q,P)=>q.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!N)switch(p){case"bestFit":{var A;const q=(A=T.map(P=>[P.placement,P.overflows.filter(D=>D>0).reduce((D,R)=>D+R,0)]).sort((P,D)=>P[1]-D[1])[0])==null?void 0:A[0];q&&(N=q);break}case"initialPlacement":N=a;break}if(s!==N)return{reset:{placement:N}}}return{}}}};function rE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sE(e){return LQ.some(t=>e[t]>=0)}const WQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=di(e,t);switch(r){case"referenceHidden":{const o=await nf(t,{...s,elementContext:"reference"}),i=rE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:sE(i)}}}case"escaped":{const o=await nf(t,{...s,altBoundary:!0}),i=rE(o,n.floating);return{data:{escapedOffsets:i,escaped:sE(i)}}}default:return{}}}}};async function KQ(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=fi(n),a=Iu(n),l=Ru(n)==="y",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,d=di(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const YQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await KQ(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},ZQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:_=>{let{x:y,y:b}=_;return{x:y,y:b}}},...l}=di(e,t),c={x:n,y:r},u=await nf(t,l),d=Ru(fi(s)),f=V5(d);let p=c[f],g=c[d];if(o){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+u[_],w=p-u[y];p=Bb(b,p,w)}if(i){const _=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+u[_],w=g-u[y];g=Bb(b,g,w)}const v=a.fn({...t,[f]:p,[d]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}},JQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=di(e,t),u={x:n,y:r},d=Ru(s),f=V5(d);let p=u[f],g=u[d];const v=di(a,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=f==="y"?"height":"width",C=o.reference[f]-o.floating[w]+_.mainAxis,S=o.reference[f]+o.reference[w]-_.mainAxis;p<C?p=C:p>S&&(p=S)}if(c){var y,b;const w=f==="y"?"width":"height",C=["top","left"].includes(fi(s)),S=o.reference[d]-o.floating[w]+(C&&((y=i.offset)==null?void 0:y[d])||0)+(C?0:_.crossAxis),E=o.reference[d]+o.reference[w]+(C?0:((b=i.offset)==null?void 0:b[d])||0)-(C?_.crossAxis:0);g<S?g=S:g>E&&(g=E)}return{[f]:p,[d]:g}}}},XQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:o}=t,{apply:i=()=>{},...a}=di(e,t),l=await nf(t,a),c=fi(n),u=Iu(n),d=Ru(n)==="y",{width:f,height:p}=r.floating;let g,v;c==="top"||c==="bottom"?(g=c,v=u===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=c,g=u==="end"?"top":"bottom");const _=p-l[g],y=f-l[v],b=!t.middlewareData.shift;let w=_,C=y;if(d){const E=f-l.left-l.right;C=u||b?ca(y,E):E}else{const E=p-l.top-l.bottom;w=u||b?ca(_,E):E}if(b&&!u){const E=zr(l.left,0),x=zr(l.right,0),T=zr(l.top,0),k=zr(l.bottom,0);d?C=f-2*(E!==0||x!==0?E+x:zr(l.left,l.right)):w=p-2*(T!==0||k!==0?T+k:zr(l.top,l.bottom))}await i({...t,availableWidth:C,availableHeight:w});const S=await s.getDimensions(o.floating);return f!==S.width||p!==S.height?{reset:{rects:!0}}:{}}}};function Qg(){return typeof window<"u"}function Nu(e){return MR(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Do(e){var t;return(t=(MR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MR(e){return Qg()?e instanceof Node||e instanceof Yr(e).Node:!1}function Ws(e){return Qg()?e instanceof Element||e instanceof Yr(e).Element:!1}function Io(e){return Qg()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function oE(e){return!Qg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}function $f(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ks(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function QQ(e){return["table","td","th"].includes(Nu(e))}function e1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $5(e){const t=W5(),n=Ws(e)?Ks(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eee(e){let t=da(e);for(;Io(t)&&!mu(t);){if($5(t))return t;if(e1(t))return null;t=da(t)}return null}function W5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mu(e){return["html","body","#document"].includes(Nu(e))}function Ks(e){return Yr(e).getComputedStyle(e)}function t1(e){return Ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function da(e){if(Nu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oE(e)&&e.host||Do(e);return oE(t)?t.host:t}function IR(e){const t=da(e);return mu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Io(t)&&$f(t)?t:IR(t)}function rf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=IR(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Yr(s);if(o){const a=Gb(i);return t.concat(i,i.visualViewport||[],$f(s)?s:[],a&&n?rf(a):[])}return t.concat(s,rf(s,[],n))}function Gb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RR(e){const t=Ks(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Io(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=ym(n)!==o||ym(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function K5(e){return Ws(e)?e:e.contextElement}function $c(e){const t=K5(e);if(!Io(t))return ua(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=RR(t);let i=(o?ym(n.width):n.width)/r,a=(o?ym(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const tee=ua(0);function NR(e){const t=Yr(e);return!W5()||!t.visualViewport?tee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yr(e)?!1:t}function Tl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=K5(e);let i=ua(1);t&&(r?Ws(r)&&(i=$c(r)):i=$c(e));const a=nee(o,n,r)?NR(o):ua(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(o){const f=Yr(o),p=r&&Ws(r)?Yr(r):r;let g=f,v=Gb(g);for(;v&&r&&p!==g;){const _=$c(v),y=v.getBoundingClientRect(),b=Ks(v),w=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*_.x,C=y.top+(v.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=w,c+=C,g=Yr(v),v=Gb(g)}}return Cm({width:u,height:d,x:l,y:c})}function ree(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Do(r),a=t?e1(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=ua(1);const u=ua(0),d=Io(r);if((d||!d&&!o)&&((Nu(r)!=="body"||$f(i))&&(l=t1(r)),Io(r))){const f=Tl(r);c=$c(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function see(e){return Array.from(e.getClientRects())}function Vb(e,t){const n=t1(e).scrollLeft;return t?t.left+n:Tl(Do(e)).left+n}function oee(e){const t=Do(e),n=t1(e),r=e.ownerDocument.body,s=zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Vb(e);const a=-n.scrollTop;return Ks(r).direction==="rtl"&&(i+=zr(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function iee(e,t){const n=Yr(e),r=Do(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=W5();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function aee(e,t){const n=Tl(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Io(e)?$c(e):ua(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function iE(e,t,n){let r;if(t==="viewport")r=iee(e,n);else if(t==="document")r=oee(Do(e));else if(Ws(t))r=aee(t,n);else{const s=NR(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Cm(r)}function PR(e,t){const n=da(e);return n===t||!Ws(n)||mu(n)?!1:Ks(n).position==="fixed"||PR(n,t)}function lee(e,t){const n=t.get(e);if(n)return n;let r=rf(e,[],!1).filter(a=>Ws(a)&&Nu(a)!=="body"),s=null;const o=Ks(e).position==="fixed";let i=o?da(e):e;for(;Ws(i)&&!mu(i);){const a=Ks(i),l=$5(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$f(i)&&!l&&PR(e,i))?r=r.filter(u=>u!==i):s=a,i=da(i)}return t.set(e,r),r}function cee(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?e1(t)?[]:lee(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=iE(t,u,s);return c.top=zr(d.top,c.top),c.right=ca(d.right,c.right),c.bottom=ca(d.bottom,c.bottom),c.left=zr(d.left,c.left),c},iE(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uee(e){const{width:t,height:n}=RR(e);return{width:t,height:n}}function dee(e,t,n){const r=Io(t),s=Do(t),o=n==="fixed",i=Tl(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ua(0);if(r||!r&&!o)if((Nu(t)!=="body"||$f(s))&&(a=t1(t)),r){const p=Tl(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=Vb(s));let c=0,u=0;if(s&&!r&&!o){const p=s.getBoundingClientRect();u=p.top+a.scrollTop,c=p.left+a.scrollLeft-Vb(s,p)}const d=i.left+a.scrollLeft-l.x-c,f=i.top+a.scrollTop-l.y-u;return{x:d,y:f,width:i.width,height:i.height}}function I_(e){return Ks(e).position==="static"}function aE(e,t){if(!Io(e)||Ks(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Do(e)===n&&(n=n.ownerDocument.body),n}function DR(e,t){const n=Yr(e);if(e1(e))return n;if(!Io(e)){let s=da(e);for(;s&&!mu(s);){if(Ws(s)&&!I_(s))return s;s=da(s)}return n}let r=aE(e,t);for(;r&&QQ(r)&&I_(r);)r=aE(r,t);return r&&mu(r)&&I_(r)&&!$5(r)?n:r||eee(e)||n}const fee=async function(e){const t=this.getOffsetParent||DR,n=this.getDimensions,r=await n(e.floating);return{reference:dee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hee(e){return Ks(e).direction==="rtl"}const pee={convertOffsetParentRelativeRectToViewportRelativeRect:ree,getDocumentElement:Do,getClippingRect:cee,getOffsetParent:DR,getElementRects:fee,getClientRects:see,getDimensions:uee,getScale:$c,isElement:Ws,isRTL:hee};function mee(e,t){let n=null,r;const s=Do(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const p=$h(u),g=$h(s.clientWidth-(c+d)),v=$h(s.clientHeight-(u+f)),_=$h(c),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-_+"px",threshold:zr(0,ca(1,l))||1};let w=!0;function C(S){const E=S[0].intersectionRatio;if(E!==l){if(!w)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return i(!0),o}function gee(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=K5(e),u=s||o?[...c?rf(c):[],...rf(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&a?mee(c,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,v=l?Tl(e):null;l&&_();function _(){const y=Tl(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,g=requestAnimationFrame(_)}return n(),()=>{var y;u.forEach(b=>{s&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),d?.(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const vee=YQ,_ee=ZQ,yee=$Q,bee=XQ,Cee=WQ,lE=zQ,See=JQ,wee=(e,t,n)=>{const r=new Map,s={platform:pee,...n},o={...s.platform,_c:r};return HQ(e,t,{...s,platform:o})};var Ap=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Sm(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Sm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function LR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cE(e,t){const n=LR(e);return Math.round(t*n)/n}function R_(e){const t=h.useRef(e);return Ap(()=>{t.current=e}),t}function Eee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(r);Sm(f,r)||p(r);const[g,v]=h.useState(null),[_,y]=h.useState(null),b=h.useCallback(R=>{R!==E.current&&(E.current=R,v(R))},[]),w=h.useCallback(R=>{R!==x.current&&(x.current=R,y(R))},[]),C=o||g,S=i||_,E=h.useRef(null),x=h.useRef(null),T=h.useRef(u),k=l!=null,O=R_(l),A=R_(s),M=R_(c),I=h.useCallback(()=>{if(!E.current||!x.current)return;const R={placement:t,strategy:n,middleware:f};A.current&&(R.platform=A.current),wee(E.current,x.current,R).then(B=>{const Y={...B,isPositioned:M.current!==!1};N.current&&!Sm(T.current,Y)&&(T.current=Y,JC.flushSync(()=>{d(Y)}))})},[f,t,n,A,M]);Ap(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const N=h.useRef(!1);Ap(()=>(N.current=!0,()=>{N.current=!1}),[]),Ap(()=>{if(C&&(E.current=C),S&&(x.current=S),C&&S){if(O.current)return O.current(C,S,I);I()}},[C,S,I,O,k]);const q=h.useMemo(()=>({reference:E,floating:x,setReference:b,setFloating:w}),[b,w]),P=h.useMemo(()=>({reference:C,floating:S}),[C,S]),D=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!P.floating)return R;const B=cE(P.floating,u.x),Y=cE(P.floating,u.y);return a?{...R,transform:"translate("+B+"px, "+Y+"px)",...LR(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,a,P.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:I,refs:q,elements:P,floatingStyles:D}),[u,I,q,P,D])}const xee=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lE({element:r.current,padding:s}).fn(n):{}:r?lE({element:r,padding:s}).fn(n):{}}}},Tee=(e,t)=>({...vee(e),options:[e,t]}),kee=(e,t)=>({..._ee(e),options:[e,t]}),Oee=(e,t)=>({...See(e),options:[e,t]}),Aee=(e,t)=>({...yee(e),options:[e,t]}),Mee=(e,t)=>({...bee(e),options:[e,t]}),Iee=(e,t)=>({...Cee(e),options:[e,t]}),Ree=(e,t)=>({...xee(e),options:[e,t]});var Nee="Arrow",FR=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return m.jsx(Gt.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});FR.displayName=Nee;var Pee=FR,Y5="Popper",[jR,n1]=j5(Y5),[Dee,UR]=jR(Y5),BR=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return m.jsx(Dee,{scope:t,anchor:r,onAnchorChange:s,children:n})};BR.displayName=Y5;var qR="PopperAnchor",GR=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=UR(qR,n),i=h.useRef(null),a=En(t,i);return h.useEffect(()=>{o.onAnchorChange(r?.current||i.current)}),r?null:m.jsx(Gt.div,{...s,ref:a})});GR.displayName=qR;var Z5="PopperContent",[Lee,Fee]=jR(Z5),VR=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,_=UR(Z5,n),[y,b]=h.useState(null),w=En(t,K=>b(K)),[C,S]=h.useState(null),E=JI(C),x=E?.width??0,T=E?.height??0,k=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],M=A.length>0,I={padding:O,boundary:A.filter(Uee),altBoundary:M},{refs:N,floatingStyles:q,placement:P,isPositioned:D,middlewareData:R}=Eee({strategy:"fixed",placement:k,whileElementsMounted:(...K)=>gee(...K,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[Tee({mainAxis:s+T,alignmentAxis:i}),l&&kee({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Oee():void 0,...I}),l&&Aee({...I}),Mee({...I,apply:({elements:K,rects:G,availableWidth:ue,availableHeight:oe})=>{const{width:_e,height:st}=G.reference,ee=K.floating.style;ee.setProperty("--radix-popper-available-width",`${ue}px`),ee.setProperty("--radix-popper-available-height",`${oe}px`),ee.setProperty("--radix-popper-anchor-width",`${_e}px`),ee.setProperty("--radix-popper-anchor-height",`${st}px`)}}),C&&Ree({element:C,padding:a}),Bee({arrowWidth:x,arrowHeight:T}),f&&Iee({strategy:"referenceHidden",...I})]}),[B,Y]=$R(P),Me=bs(g);Sl(()=>{D&&Me?.()},[D,Me]);const Fe=R.arrow?.x,pe=R.arrow?.y,ge=R.arrow?.centerOffset!==0,[Se,se]=h.useState();return Sl(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),m.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:D?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(Lee,{scope:n,placedSide:B,onArrowChange:S,arrowX:Fe,arrowY:pe,shouldHideArrow:ge,children:m.jsx(Gt.div,{"data-side":B,"data-align":Y,...v,ref:w,style:{...v.style,animation:D?void 0:"none"}})})})});VR.displayName=Z5;var HR="PopperArrow",jee={top:"bottom",right:"left",bottom:"top",left:"right"},zR=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=Fee(HR,r),i=jee[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(Pee,{...s,ref:n,style:{...s.style,display:"block"}})})});zR.displayName=HR;function Uee(e){return e!==null}var Bee=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=$R(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(s.arrow?.x??0)+a/2,p=(s.arrow?.y??0)+l/2;let g="",v="";return c==="bottom"?(g=i?d:`${f}px`,v=`${-l}px`):c==="top"?(g=i?d:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=i?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,v=i?d:`${p}px`),{data:{x:g,y:v}}}});function $R(e){const[t,n="center"]=e.split("-");return[t,n]}var J5=BR,WR=GR,KR=VR,YR=zR,[r1,VSe]=ku("Tooltip",[n1]),s1=n1(),ZR="TooltipProvider",qee=700,Hb="tooltip.open",[Gee,X5]=r1(ZR),JR=e=>{const{__scopeTooltip:t,delayDuration:n=qee,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=h.useState(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),m.jsx(Gee,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};JR.displayName=ZR;var o1="Tooltip",[Vee,Wf]=r1(o1),XR=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=X5(o1,e.__scopeTooltip),c=s1(t),[u,d]=h.useState(null),f=ko(),p=h.useRef(0),g=i??l.disableHoverableContent,v=a??l.delayDuration,_=h.useRef(!1),[y=!1,b]=Bl({prop:r,defaultProp:s,onChange:x=>{x?(l.onOpen(),document.dispatchEvent(new CustomEvent(Hb))):l.onClose(),o?.(x)}}),w=h.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),C=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_.current=!1,b(!0)},[b]),S=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),E=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,b(!0),p.current=0},v)},[v,b]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),m.jsx(J5,{...c,children:m.jsx(Vee,{scope:t,contentId:f,open:y,stateAttribute:w,trigger:u,onTriggerChange:d,onTriggerEnter:h.useCallback(()=>{l.isOpenDelayed?E():C()},[l.isOpenDelayed,E,C]),onTriggerLeave:h.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:C,onClose:S,disableHoverableContent:g,children:n})})};XR.displayName=o1;var zb="TooltipTrigger",QR=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Wf(zb,n),o=X5(zb,n),i=s1(n),a=h.useRef(null),l=En(t,a,s.onTriggerChange),c=h.useRef(!1),u=h.useRef(!1),d=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),m.jsx(WR,{asChild:!0,...i,children:m.jsx(Gt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:We(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:We(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:We(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:We(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:We(e.onBlur,s.onClose),onClick:We(e.onClick,s.onClose)})})});QR.displayName=zb;var Q5="TooltipPortal",[Hee,zee]=r1(Q5,{forceMount:void 0}),eN=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,o=Wf(Q5,t);return m.jsx(Hee,{scope:t,forceMount:n,children:m.jsx(ro,{present:n||o.open,children:m.jsx(Uf,{asChild:!0,container:s,children:r})})})};eN.displayName=Q5;var gu="TooltipContent",tN=h.forwardRef((e,t)=>{const n=zee(gu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Wf(gu,e.__scopeTooltip);return m.jsx(ro,{present:r||i.open,children:i.disableHoverableContent?m.jsx(nN,{side:s,...o,ref:t}):m.jsx($ee,{side:s,...o,ref:t})})}),$ee=h.forwardRef((e,t)=>{const n=Wf(gu,e.__scopeTooltip),r=X5(gu,e.__scopeTooltip),s=h.useRef(null),o=En(t,s),[i,a]=h.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,f=h.useCallback(()=>{a(null),d(!1)},[d]),p=h.useCallback((g,v)=>{const _=g.currentTarget,y={x:g.clientX,y:g.clientY},b=Yee(y,_.getBoundingClientRect()),w=Zee(y,b),C=Jee(v.getBoundingClientRect()),S=Qee([...w,...C]);a(S),d(!0)},[d]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(l&&u){const g=_=>p(_,u),v=_=>p(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,f]),h.useEffect(()=>{if(i){const g=v=>{const _=v.target,y={x:v.clientX,y:v.clientY},b=l?.contains(_)||u?.contains(_),w=!Xee(y,i);b?f():w&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,i,c,f]),m.jsx(nN,{...e,ref:o})}),[Wee,Kee]=r1(o1,{isInside:!1}),nN=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Wf(gu,n),c=s1(n),{onClose:u}=l;return h.useEffect(()=>(document.addEventListener(Hb,u),()=>document.removeEventListener(Hb,u)),[u]),h.useEffect(()=>{if(l.trigger){const d=f=>{f.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),m.jsx(jf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:m.jsxs(KR,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(HA,{children:r}),m.jsx(Wee,{scope:n,isInside:!0,children:m.jsx(Y$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});tN.displayName=gu;var rN="TooltipArrow",sN=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=s1(n);return Kee(rN,n).isInside?null:m.jsx(YR,{...s,...r,ref:t})});sN.displayName=rN;function Yee(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Zee(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Jee(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Xee(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,l=t[o].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Qee(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ete(t)}function ete(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var tte=JR,nte=XR,rte=QR,ste=eN,ote=tN,ite=sN;const ate=()=>document?.body??null,oN=h.createContext(ate);function HSe(e){"use forget";const t=ke.c(17),{children:n,className:r,open:s,onClose:o,closedBy:i}=e,a=h.useRef(null);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>a.current,t[0]=l):l=t[0];const c=l;let u,d;t[1]!==s?(u=()=>{const w=a.current;if(!(!s||!w))return s==="modal"?w.showModal():w.show(),()=>{w.close()}},d=[s],t[1]=s,t[2]=u,t[3]=d):(u=t[2],d=t[3]),h.useEffect(u,d);let f;t[4]!==o?(f=w=>{w.target===w.currentTarget&&o?.()},t[4]=o,t[5]=f):f=t[5];const p=f;let g;t[6]!==i||t[7]!==o?(g=w=>{i&&["any","closerequest"].includes(i)&&w.key==="Escape"&&o?.()},t[6]=i,t[7]=o,t[8]=g):g=t[8];const v=g,_=s===!0;let y;t[9]!==n?(y=m.jsx(oN,{value:c,children:n}),t[9]=n,t[10]=y):y=t[10];let b;return t[11]!==r||t[12]!==p||t[13]!==v||t[14]!==_||t[15]!==y?(b=m.jsx("dialog",{className:r,open:_,ref:a,onClick:p,onKeyUp:v,children:y}),t[11]=r,t[12]=p,t[13]=v,t[14]=_,t[15]=y,t[16]=b):b=t[16],b}function iN(){"use forget";const e=ke.c(7),[t,n]=h.useState(null),r=h.use(oN);let s;e[0]!==r?(s=r(),e[0]=r,e[1]=s):s=e[1];const o=s;let i,a;e[2]!==o?(i=()=>{n(o)},a=[o],e[2]=o,e[3]=i,e[4]=a):(i=e[3],a=e[4]),_O(i,a);let l;return e[5]!==t?(l=t!=null?{container:t}:{},e[5]=t,e[6]=l):l=e[6],l}const ns=e=>{"use forget";const t=ke.c(69),{ariaLive:n,triggerAs:r,disabled:s,label:o,secondaryLabel:i,contentClassName:a,customPaddingClassName:l,customBorderClassName:c,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:p,sideOffset:g,align:v,alignOffset:_,withArrow:y,wide:b,interactive:w,usePortal:C,className:S,children:E,delayDuration:x,closeOnOutsideClick:T,open:k,onOpenChange:O,onDismissClick:A,isLeftArrow:M,labelTextAlign:I,ignoreTriggerOnOutsideClick:N,labelOrientation:q,defaultOpen:P,labelClassName:D}=e,R=r===void 0?"span":r,B=d===void 0?"default":d,Y=f===void 0?"lg":f,Me=p===void 0?"bottom":p,Fe=g===void 0?8:g,pe=v===void 0?"center":v,ge=_===void 0?0:_,Se=y===void 0?!1:y,se=b===void 0?!1:b,K=w===void 0?!1:w,G=C===void 0?!0:C,ue=x===void 0?0:x,oe=T===void 0?!0:T,_e=M===void 0?!1:M,st=I===void 0?"center":I,ee=N===void 0?!1:N,Ie=q===void 0?"vertical":q,X=P===void 0?!1:P,W=ht(),de=h.useRef(null);if(s){let un;return t[0]!==E?(un=m.jsx(m.Fragment,{children:E}),t[0]=E,t[1]=un):un=t[1],un}if(!o){let un;return t[2]!==R||t[3]!==E||t[4]!==S?(un=R?m.jsx(R,{className:S,children:E}):E,t[2]=R,t[3]=E,t[4]=S,t[5]=un):un=t[5],un}let ze;e:switch(B){case"white":{ze="light bg-white";break e}case"primary":{ze="bg-token-main-surface-primary";break e}case"default":ze="dark bg-black"}u!=null&&(ze=u);const re=st==="left"?"text-start":"text-center";let H;t[6]!==oe||t[7]!==ee?(H=oe?ee?un=>{de.current?.contains(un.target)&&un.preventDefault()}:void 0:mte,t[6]=oe,t[7]=ee,t[8]=H):H=t[8];const j=l??"px-2 py-1",xe=B==="white"&&"shadow-xs",ye=`rounded-${Y}`,yt=!Se&&"overflow-hidden",Ye=se?"max-w-sm":"max-w-xs";let lt;t[9]!==ze||t[10]!==a||t[11]!==c||t[12]!==j||t[13]!==xe||t[14]!==ye||t[15]!==yt||t[16]!==Ye?(lt=he("relative z-50 transition-opacity select-none",j,xe,ye,yt,c,ze,Ye,a),t[9]=ze,t[10]=a,t[11]=c,t[12]=j,t[13]=xe,t[14]=ye,t[15]=yt,t[16]=Ye,t[17]=lt):lt=t[17];const Ne=Ie==="horizontal"?"flex gap-2":void 0;let bt;t[18]!==D||t[19]!==re?(bt=he("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",re,D),t[18]=D,t[19]=re,t[20]=bt):bt=t[20];let gt;t[21]!==o||t[22]!==bt?(gt=m.jsx("div",{className:bt,children:o}),t[21]=o,t[22]=bt,t[23]=gt):gt=t[23];let Ft;t[24]!==i||t[25]!==re?(Ft=i&&m.jsx("div",{className:he("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",re),children:i}),t[24]=i,t[25]=re,t[26]=Ft):Ft=t[26];let $t;t[27]!==ze||t[28]!==_e||t[29]!==Se?($t=Se&&m.jsx(ite,{asChild:!0,children:_e?m.jsx(ute,{className:ze}):m.jsx(cte,{className:ze})}),t[27]=ze,t[28]=_e,t[29]=Se,t[30]=$t):$t=t[30];let Vt;t[31]!==Ne||t[32]!==gt||t[33]!==Ft||t[34]!==$t?(Vt=m.jsxs("div",{className:Ne,children:[gt,Ft,$t]}),t[31]=Ne,t[32]=gt,t[33]=Ft,t[34]=$t,t[35]=Vt):Vt=t[35];let pt;t[36]!==W||t[37]!==A?(pt=A&&m.jsx(yM,{role:"button","aria-label":W.formatMessage(dte.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:A}),t[36]=W,t[37]=A,t[38]=pt):pt=t[38];let jt;t[39]!==Vt||t[40]!==pt?(jt=m.jsxs("div",{className:"flex items-center gap-1",children:[Vt,pt]}),t[39]=Vt,t[40]=pt,t[41]=jt):jt=t[41];let bn;t[42]!==pe||t[43]!==ge||t[44]!==n||t[45]!==Me||t[46]!==Fe||t[47]!==H||t[48]!==lt||t[49]!==jt?(bn=m.jsx(ote,{collisionPadding:8,onPointerDownOutside:H,"aria-live":n,side:Me,sideOffset:Fe,alignOffset:ge,align:pe,className:lt,children:jt}),t[42]=pe,t[43]=ge,t[44]=n,t[45]=Me,t[46]=Fe,t[47]=H,t[48]=lt,t[49]=jt,t[50]=bn):bn=t[50];const Yt=bn,Nt=!K,hn=ee?gte:void 0;let Tn;t[51]!==R||t[52]!==E||t[53]!==S?(Tn=R?m.jsx(fte,{as:R,className:S,children:E}):E,t[51]=R,t[52]=E,t[53]=S,t[54]=Tn):Tn=t[54];let kn;t[55]!==hn||t[56]!==Tn?(kn=m.jsx(rte,{asChild:!0,ref:de,onClick:hn,children:Tn}),t[55]=hn,t[56]=Tn,t[57]=kn):kn=t[57];let Pt;t[58]!==Yt||t[59]!==G?(Pt=G?m.jsx(lte,{children:m.jsx(uE,{children:Yt})}):m.jsx(uE,{children:Yt}),t[58]=Yt,t[59]=G,t[60]=Pt):Pt=t[60];let ws;return t[61]!==X||t[62]!==ue||t[63]!==O||t[64]!==k||t[65]!==Nt||t[66]!==kn||t[67]!==Pt?(ws=m.jsxs(nte,{delayDuration:ue,disableHoverableContent:Nt,defaultOpen:X,open:k,onOpenChange:O,children:[kn,Pt]}),t[61]=X,t[62]=ue,t[63]=O,t[64]=k,t[65]=Nt,t[66]=kn,t[67]=Pt,t[68]=ws):ws=t[68],ws};function lte(e){"use forget";const t=ke.c(3),{children:n}=e,r=iN();let s;return t[0]!==n||t[1]!==r?(s=m.jsx(ste,{...r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}const cte=Vl.div`relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,ute=Vl.div`relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,dte=St({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),fte=e=>{"use forget";const t=ke.c(15);let n,r,s;if(t[0]!==e?({as:n,children:r,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]),!h.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==s?(l=m.jsx(n,{...s,children:r}),t[4]=n,t[5]=r,t[6]=s,t[7]=l):l=t[7],l}const o=s["aria-describedby"];let i;t[8]!==r||t[9]!==o?(i=m.jsx(OR,{"aria-describedby":o,children:r}),t[8]=r,t[9]=o,t[10]=i):i=t[10];let a;return t[11]!==n||t[12]!==s||t[13]!==i?(a=m.jsx(n,{...s,onFocusCapture:s.onFocus,children:i}),t[11]=n,t[12]=s,t[13]=i,t[14]=a):a=t[14],a},wm=h.createContext(!1),uE=e=>{"use forget";const t=ke.c(5),{children:n}=e,s=h.use(wm)&&"sr-only!";let o;t[0]!==s?(o=he(s),t[0]=s,t[1]=o):o=t[1];let i;return t[2]!==n||t[3]!==o?(i=m.jsx(OR,{className:o,children:n}),t[2]=n,t[3]=o,t[4]=i):i=t[4],i},hte=({children:e})=>m.jsx(wm.Provider,{value:!1,children:e}),pte=e=>{"use forget";const t=ke.c(6),{children:n}=e,r=h.use(wm),[s,o]=h.useState(!1);let i;t[0]!==r||t[1]!==n?(i=r?n:h.cloneElement(n,{onOpenChange:d=>{o(d),n.props.onOpenChange?.(d)}}),t[0]=r,t[1]=n,t[2]=i):i=t[2];const a=i,l=n.props.open??s,c=r===!0||l;let u;return t[3]!==a||t[4]!==c?(u=m.jsx(wm.Provider,{value:c,children:a}),t[3]=a,t[4]=c,t[5]=u):u=t[5],u};function mte(e){return e.preventDefault()}function gte(e){e.preventDefault()}var Kf=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.Account="Account",e.Internal="Internal",e))(Kf||{});function vte(e){return e.startsWith("#settings")}function zSe(e){if(!vte(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(Kf).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization"}return"General"}function $Se(e){return{hash:e&&e!=="General"?`settings/${e}`:"settings"}}const WSe=e=>m.jsx(gi,{as:JX,fillContainer:!0,...e});function KSe({value:e,children:t}){return m.jsx(XX,{className:"text-token-text-primary relative flex max-h-[calc(100vh-150px)] w-full flex-col overflow-y-auto px-4 text-sm md:min-h-[380px]",value:e,children:t})}const _te=({title:e,description:t,learnMoreHref:n,children:r,noBorder:s=!1})=>{let o;return e&&(o=m.jsx("div",{className:"truncate select-none",children:e}),n&&(o=m.jsxs("div",{className:"touch:justify-between flex items-center gap-2",children:[o,m.jsx(ns,{label:m.jsx(ie,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:m.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:[m.jsx("span",{className:"not-touch:hidden",children:m.jsx(ie,{id:"WbGW2C",defaultMessage:"Learn more"})}),m.jsx(bX,{className:"icon-sm"})]})})]})),o=m.jsxs("h3",{className:he("min-h-header-height justify-center py-3 text-lg font-normal",!s&&"border-token-border-default border-b"),children:[o,t&&m.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t})]})),m.jsxs("section",{className:"relative mb-4 not-has-[>div]:hidden",children:[o,r]})};function yte({children:e}){return m.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:m.jsx("div",{className:"w-full",children:e})})}const $b=Vl.div`text-xs text-token-text-tertiary pe-15 my-1`;function YSe({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:o,isLoading:i=!1,testId:a,compactDescription:l=!1,centerToggleVertically:c=!1,showAlphaPill:u=!1,ariaLabel:d}){const f=m.jsx(nR,{disabled:t,checked:n,onCheckedChange:r,"aria-label":d??e,size:"normal","data-testid":a}),p=o?m.jsx(ns,{label:o,side:"top",children:f}):f;return c?m.jsxs("div",{className:"flex justify-between gap-2",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&m.jsx(eE,{})]}),s!=null&&m.jsx($b,{className:l?"mt-0.5":void 0,children:s})]}),m.jsx("div",{className:"flex items-center",children:i?m.jsx(Yd,{}):p})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&m.jsx(eE,{})]}),i?m.jsx(Yd,{}):p]}),s!=null&&m.jsx($b,{className:l?"mt-0.5":void 0,children:s})]})}function ZSe({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:o,testId:i}){const a=o?"items-start":"items-center";return m.jsxs("div",{className:he("flex",a,"justify-between"),children:[m.jsxs("div",{children:[m.jsx("div",{children:n}),o!=null&&m.jsx($b,{children:o})]}),m.jsx(sn,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":i,children:r})]})}function JSe({onClick:e,label:t,stateLabel:n,testId:r}){return m.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{children:t}),m.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&m.jsx("div",{className:"me-1 flex items-center",children:n}),m.jsx(KI,{className:"icon-sm"})]})]})})}function XSe(e){return Q.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}function bte(e){"use forget";const t=ke.c(108);let n,r,s,o,i,a,l,c,u,d,f,p,g,v,_,y,b,w,C,S,E,x,T,k,O,A,M,I,N,q,P,D;t[0]!==e?({name:v,placeholder:T,type:P,role:O,list:p,ariaLabel:r,displayName:u,onChange:y,onFocus:b,onBlur:_,value:D,saveOnBlur:A,icon:n,iconPosition:I,onInputIconClick:w,className:a,inputClassName:d,containerInputClassName:l,autoComplete:o,autoCapitalize:s,spellCheck:M,autoFocus:i,onPressEnter:E,onPaste:S,disabled:c,maxLength:g,color:N,onKeyDown:C,suppressFocus:q,ref:k,insideContainerChildren:f,...x}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=p,t[13]=g,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=w,t[19]=C,t[20]=S,t[21]=E,t[22]=x,t[23]=T,t[24]=k,t[25]=O,t[26]=A,t[27]=M,t[28]=I,t[29]=N,t[30]=q,t[31]=P,t[32]=D):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],v=t[14],_=t[15],y=t[16],b=t[17],w=t[18],C=t[19],S=t[20],E=t[21],x=t[22],T=t[23],k=t[24],O=t[25],A=t[26],M=t[27],I=t[28],N=t[29],q=t[30],P=t[31],D=t[32]);const R=I===void 0?"right":I,B=N===void 0?"tertiary":N,Y=q===void 0?!1:q,[Me,Fe]=h.useState(D);let pe;t[33]!==_||t[34]!==A?(pe=pt=>{_?.(pt),A&&Fe(pt.target.value)},t[33]=_,t[34]=A,t[35]=pe):pe=t[35];const ge=pe;let Se;t[36]!==y||t[37]!==A?(Se=pt=>{y?.(pt),A&&Fe(pt.target.value)},t[36]=y,t[37]=A,t[38]=Se):Se=t[38];const se=Se;let K;t[39]!==Me||t[40]!==C||t[41]!==E?(K=pt=>{C?.(pt),!pt.nativeEvent.isComposing&&pt.key==="Enter"&&E&&(pt.preventDefault(),E(Me,pt))},t[39]=Me,t[40]=C,t[41]=E,t[42]=K):K=t[42];const G=K;let ue,oe;t[43]!==D?(ue=()=>{Fe(D)},oe=[D],t[43]=D,t[44]=ue,t[45]=oe):(ue=t[44],oe=t[45]),h.useEffect(ue,oe);let _e;t[46]!==A||t[47]!==D?(_e=A?{}:{value:D},t[46]=A,t[47]=D,t[48]=_e):_e=t[48];let st;t[49]!==Me||t[50]!==A?(st=A?{value:Me}:{},t[49]=Me,t[50]=A,t[51]=st):st=t[51];let ee;t[52]!==st||t[53]!==_e?(ee={..._e,...st},t[52]=st,t[53]=_e,t[54]=ee):ee=t[54];const Ie=ee,X=B==="neutral"&&(Y?"-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2":"focus-within:bg-token-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2 focus-within:border-green-500 focus-within:ring-1 focus-within:ring-transparent"),W=B==="tertiary"&&(Y?"border-token-border-medium px-3 py-2":"border-token-border-medium focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1"),de=B==="search"&&(Y?"border-token-border-medium bg-token-main-surface-primary dark:border-token-border-medium rounded-xl p-4":"border-token-border-medium bg-token-main-surface-primary focus-within:border-token-border-xheavy dark:border-token-border-medium dark:focus-within:border-token-border-xheavy rounded-xl p-4 focus-within:ring-0 dark:focus-within:ring-0"),ze=B==="quaternary"&&(Y?"border-token-main-surface-quaternary text-token-text-quaternary px-3 py-2":"border-token-main-surface-quaternary text-token-text-quaternary focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1");let re;t[55]!==a||t[56]!==X||t[57]!==W||t[58]!==de||t[59]!==ze?(re=he("rounded-md border shadow-none",X,W,de,ze,a),t[55]=a,t[56]=X,t[57]=W,t[58]=de,t[59]=ze,t[60]=re):re=t[60];let H;t[61]!==u||t[62]!==v?(H=m.jsx("label",{htmlFor:v,className:"text-token-text-primary block text-xs font-semibold",children:u}),t[61]=u,t[62]=v,t[63]=H):H=t[63];const j=u&&"mt-1";let xe;t[64]!==l||t[65]!==j?(xe=he(j,"relative",l),t[64]=l,t[65]=j,t[66]=xe):xe=t[66];const ye=r||void 0,yt=n!=null&&R==="right"&&"pe-6",Ye=n!=null&&R==="left"&&"ps-6",lt=B==="neutral"||B==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary",Ne=B==="quaternary"?"placeholder:text-token-text-quaternary":"placeholder-gray-500";let bt;t[67]!==d||t[68]!==yt||t[69]!==Ye||t[70]!==lt||t[71]!==Ne?(bt=he("block w-full border-0 p-0 shadow-none outline-hidden focus-within:shadow-none focus-within:ring-0 focus-within:outline-hidden focus:border-none focus:ring-0 sm:text-sm",yt,Ye,lt,Ne,d),t[67]=d,t[68]=yt,t[69]=Ye,t[70]=lt,t[71]=Ne,t[72]=bt):bt=t[72];let gt;t[73]!==Ie||t[74]!==s||t[75]!==o||t[76]!==i||t[77]!==c||t[78]!==ge||t[79]!==se||t[80]!==G||t[81]!==p||t[82]!==g||t[83]!==v||t[84]!==b||t[85]!==S||t[86]!==x||t[87]!==T||t[88]!==k||t[89]!==O||t[90]!==M||t[91]!==ye||t[92]!==bt||t[93]!==P?(gt=m.jsx("input",{...x,ref:k,type:P,name:v,id:v,list:p,role:O,"aria-label":ye,onPaste:S,className:bt,placeholder:T,onBlur:ge,onFocus:b,onChange:se,onKeyDown:G,autoComplete:o,spellCheck:M,autoCapitalize:s,autoFocus:i,disabled:c,maxLength:g,...Ie}),t[73]=Ie,t[74]=s,t[75]=o,t[76]=i,t[77]=c,t[78]=ge,t[79]=se,t[80]=G,t[81]=p,t[82]=g,t[83]=v,t[84]=b,t[85]=S,t[86]=x,t[87]=T,t[88]=k,t[89]=O,t[90]=M,t[91]=ye,t[92]=bt,t[93]=P,t[94]=gt):gt=t[94];let Ft;t[95]!==n||t[96]!==R||t[97]!==w?(Ft=n!=null&&m.jsx("button",{className:he("absolute top-1/2 -translate-y-1/2",{"end-0":R==="right","start-0":R==="left"}),onClick:w,children:m.jsx(n,{className:"icon-sm"})}),t[95]=n,t[96]=R,t[97]=w,t[98]=Ft):Ft=t[98];let $t;t[99]!==f||t[100]!==xe||t[101]!==gt||t[102]!==Ft?($t=m.jsxs("div",{className:xe,children:[gt,Ft,f]}),t[99]=f,t[100]=xe,t[101]=gt,t[102]=Ft,t[103]=$t):$t=t[103];let Vt;return t[104]!==re||t[105]!==H||t[106]!==$t?(Vt=m.jsxs("div",{className:re,children:[H,$t]}),t[104]=re,t[105]=H,t[106]=$t,t[107]=Vt):Vt=t[107],Vt}function aN(e){return m.jsxs("div",{className:"relative w-full",children:[m.jsx(bte,{...e,className:he(e.className,e.error&&"border-red-500!")}),m.jsx("p",{className:"mt-1 flex items-center text-xs text-red-500",children:e.error})]})}var Cte={};async function lN(e){return Q.safePost("/accounts/add_email/begin",{requestBody:{email:e,auth0_client_id:Cte.AUTH0_CLIENT_ID},authOption:Qt.Required})}const Zr=St({sendEmailFailure:{id:"emailVerify.sendEmailFailure",defaultMessage:"Could not send email verification code, please try again later."},sendEmailFailureInvalidEmail:{id:"emailVerify.invalidEmail",defaultMessage:'The email address "{email}" is not formatted correctly.'},sendEmailFailureInvalidEmailEmpty:{id:"emailVerify.invalidEmailEmpty",defaultMessage:"Please enter a valid email address to continue."},sendEmailFailureRateLimited:{id:"emailVerify.sendEmailFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpFailure:{id:"emailVerify.verifyOtpFailure",defaultMessage:"Something went wrong, please try again later."},verifyOtpFailureInvalidOtp:{id:"emailVerify.verifyOtpFailure.invalidOtp",defaultMessage:"The code you entered is invalid. Please try again."},verifyOtpFailureInvalidFormat:{id:"emailVerify.verifyOtpFailure.invalidFormat",defaultMessage:"The code you entered is formatted incorrectly."},verifyOtpFailureEmailAlreadyLinked:{id:"emailVerify.verifyOtpFailure.emailAlreadyLinked",defaultMessage:'{branch, select, email {"{emailValue}"} other {Your email}} is already linked to another account.'},verifyOtpFailureRateLimited:{id:"emailVerify.verifyOtpFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpSuccess:{id:"emailVerify.verifyOtpSuccess",defaultMessage:"Email confirmed."}});class dE extends Error{constructor(t){super(t),this.name="EmailValidationError"}}const Ste=(e,t)=>t.trim()===""?e.formatMessage(Zr.sendEmailFailureInvalidEmailEmpty):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?null:e.formatMessage(Zr.sendEmailFailureInvalidEmail,{email:t}),cN=(e,t,n)=>{switch(n.status){case 429:throw new Error(e.formatMessage(Zr.sendEmailFailureRateLimited));case 403:throw new Error(e.formatMessage(Zr.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));default:return}};function wte(e){const t=ht(),[n,r]=h.useState(null),s=er({mutationFn:async o=>{try{const i=Ste(t,o);if(i)throw new dE(i);return await lN(o)}catch(i){throw i instanceof dE?i:(i instanceof ft&&cN(t,o,i),new Error(t.formatMessage(Zr.sendEmailFailure)))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:o=>{r(o.message),V.logEventWithStatsig("Email Verify Enter Email Step - Error Sending Verification Email","chatgpt_email_verify_enter_email_step_error",{error:o.message})}});return h.useEffect(()=>{V.logEventWithStatsig("Email Verify Enter Email Step - Shown","chatgpt_email_verify_enter_email_step_shown")},[]),m.jsx("form",{onSubmit:o=>{o.preventDefault(),s.mutate(e.email),V.logEventWithStatsig("Email Verify Enter Email Step - Attempted Continue","chatgpt_email_verify_enter_email_step_continue")},noValidate:!0,children:m.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[m.jsx("p",{className:"text-3xl font-semibold",children:e.title?e.title:m.jsx(ie,{id:"emailVerify.enterEmailTitle",defaultMessage:"Add your email"})}),e.description&&m.jsx("p",{className:"text-token-text-primary text-center text-base",children:e.description}),m.jsx(aN,{ariaLabel:t.formatMessage({id:"emailVerify.emailAddress",defaultMessage:"Email Address"}),placeholder:t.formatMessage({id:"emailVerify.emailAddressPlaceholder",defaultMessage:"Email Address"}),name:"email",type:"email",className:"mt-6 w-full",value:e.email,onChange:o=>{r(null),e.onEmailChange?.(o.target.value),V.logEventWithStatsig("Email Verify Enter Email Step - Typed","chatgpt_email_verify_enter_email_step_type")},autoFocus:!0,autoComplete:"email",error:n??void 0}),m.jsx(sn,{className:"w-full rounded-md",color:"green",type:"submit",loading:s.isPending,disabled:s.isPending,children:m.jsx(ie,{id:"emailVerify.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]})})}function Ete(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return Ff()?t:r}const fE=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M12.498 6.90887C12.7094 6.60867 13.1245 6.53642 13.4248 6.74774C13.7249 6.95913 13.7971 7.37424 13.5859 7.6745L9.62695 13.2995C9.51084 13.4644 9.32628 13.5681 9.125 13.5807C8.94863 13.5918 8.77583 13.5319 8.64453 13.4167L8.59082 13.364L6.50781 11.072L6.42773 10.9645C6.26956 10.6986 6.31486 10.3488 6.55273 10.1325C6.79045 9.91663 7.14198 9.9053 7.3916 10.0876L7.49219 10.1774L9.0166 11.8542L12.498 6.90887Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3333 2.08496C14.7046 2.08496 18.2483 5.62867 18.2483 10C18.2483 14.3713 14.7046 17.915 10.3333 17.915C5.96192 17.915 2.41821 14.3713 2.41821 10C2.41821 5.62867 5.96192 2.08496 10.3333 2.08496ZM10.3333 3.41504C6.69646 3.41504 3.74829 6.3632 3.74829 10C3.74829 13.6368 6.69646 16.585 10.3333 16.585C13.97 16.585 16.9182 13.6368 16.9182 10C16.9182 6.3632 13.97 3.41504 10.3333 3.41504Z"})),vu=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M10.0002 12.189C10.5523 12.1891 11 12.6369 11.0002 13.189C11.0002 13.7412 10.5524 14.1889 10.0002 14.189C9.44791 14.189 9.00019 13.7413 9.00019 13.189C9.00035 12.6368 9.44801 12.189 10.0002 12.189Z"}),h.createElement("path",{d:"M10.0002 7.02394C10.3673 7.02405 10.6651 7.32191 10.6652 7.68898V10.356C10.6651 10.723 10.3673 11.0209 10.0002 11.021C9.63303 11.021 9.33532 10.7231 9.33515 10.356V7.68898C9.33531 7.32184 9.63302 7.02394 10.0002 7.02394Z"}),h.createElement("path",{d:"M7.76484 3.14894C8.89036 1.56557 11.3015 1.61886 12.341 3.30812L18.6125 13.4995C19.7387 15.3305 18.4214 17.6879 16.2717 17.688H3.72871C1.57877 17.688 0.261434 15.3306 1.38789 13.4995L7.65937 3.30812L7.76484 3.14894ZM11.2082 4.00441C10.689 3.1609 9.50658 3.10813 8.90449 3.84621L8.79219 4.00441L2.5207 14.1958C1.93937 15.1408 2.61919 16.3579 3.72871 16.3579H16.2717C17.381 16.3578 18.0608 15.1407 17.4797 14.1958L11.2082 4.00441Z"})),QSe="https://help.openai.com/en/collections/3943089-billing",e4e="https://openai.com/chatgpt/enterprise",t4e="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",n4e="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",r4e="https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",s4e="https://help.openai.com/en/articles/11989085-chatgpt-go",uN="pricing",dN="team-pricing",o4e="plus-pricing",xte="team-pricing-direct",fN="account-payment-modal-open-from-location",i4e={MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android"};function a4e(e){return e.hash.split("#")[1]===uN}function l4e(e){return e.hash.split("#")[1]===dN}function c4e(e){return e.hash.split("#")[1]===xte}function e6(e,t){e({hash:uN,search:window.location.search},{state:{[fN]:t}})}function u4e(e){e({hash:""})}function d4e(){return Xo.upgradeToGo}function Tte(e){switch(Wt(e,"2788179050").get("plus_upsell_cta_copy","get_plus")){case"upgrade_to_plan":return Xo.upgradeToPlus;case"upgrade_your_plan":return Xo.upgradeYourPlan;case"upgrade":return Xo.upgrade;case"get_plus":default:return Xo.getPlus}}function f4e(e){switch(Wt(e,"2788179050").get("pro_upsell_cta_copy","get_pro")){case"upgrade_to_plan":return Xo.upgradeToPro;case"upgrade_your_plan":return Xo.upgradeYourPlan;case"upgrade":return Xo.upgrade;case"get_pro":default:return Xo.getPro}}function kte(e){return $e(e,"3600660324")}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hE.apply(null,arguments)}function Ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wb(e,t)}function Ate(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wb(e,t)}var N_={exports:{}},P_,pE;function Mte(){if(pE)return P_;pE=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P_=e,P_}var D_,mE;function Ite(){if(mE)return D_;mE=1;var e=Mte();function t(){}function n(){}return n.resetWarningCache=t,D_=function(){function r(i,a,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},D_}var gE;function Rte(){return gE||(gE=1,N_.exports=Ite()()),N_.exports}var Nte=Rte();const h4e=yn(Nte),vE={disabled:!1},hN=Ee.createContext(null);var Pte=function(t){return t.scrollTop},gd="unmounted",za="exited",$a="entering",Ac="entered",Kb="exiting",vi=function(e){Ate(t,e);function t(r,s){var o;o=e.call(this,r,s)||this;var i=s,a=i&&!i.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=za,o.appearStatus=$a):l=Ac:r.unmountOnExit||r.mountOnEnter?l=gd:l=za,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(s,o){var i=s.in;return i&&o.status===gd?{status:za}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==$a&&i!==Ac&&(o=$a):(i===$a||i===Ac)&&(o=Kb)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,i,a;return o=i=a=s,s!=null&&typeof s!="number"&&(o=s.exit,i=s.enter,a=s.appear!==void 0?s.appear:i),{exit:o,enter:i,appear:a}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===$a){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Qa.findDOMNode(this);i&&Pte(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:gd})},n.performEnter=function(s){var o=this,i=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Qa.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!s&&!i||vE.disabled){this.safeSetState({status:Ac},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:$a},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:Ac},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,o=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:Qa.findDOMNode(this);if(!o||vE.disabled){this.safeSetState({status:za},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Kb},function(){s.props.onExiting(a),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:za},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,o.nextCallback=null,s(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var i=this.props.nodeRef?this.props.nodeRef.current:Qa.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===gd)return null;var o=this.props,i=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Ote(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ee.createElement(hN.Provider,{value:null},typeof i=="function"?i(s,a):Ee.cloneElement(Ee.Children.only(i),a))},t}(Ee.Component);vi.contextType=hN;vi.propTypes={};function mc(){}vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mc,onEntering:mc,onEntered:mc,onExit:mc,onExiting:mc,onExited:mc};vi.UNMOUNTED=gd;vi.EXITED=za;vi.ENTERING=$a;vi.ENTERED=Ac;vi.EXITING=Kb;function p4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dte(e){const t=h.useRef(null);return h.useInsertionEffect(()=>{t.current=e},[e]),h.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const Lte=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M11.1152 3.91503C11.3868 3.73594 11.756 3.7658 11.9951 4.00488C12.2341 4.24395 12.264 4.61309 12.0849 4.88476L11.9951 4.99511L8.99018 7.99999L11.9951 11.0049L12.0849 11.1152C12.264 11.3869 12.2341 11.756 11.9951 11.9951C11.756 12.2342 11.3868 12.2641 11.1152 12.085L11.0048 11.9951L7.99995 8.99023L4.99506 11.9951C4.7217 12.2685 4.2782 12.2685 4.00483 11.9951C3.73146 11.7217 3.73146 11.2782 4.00483 11.0049L7.00971 7.99999L4.00483 4.99511L3.91499 4.88476C3.73589 4.61309 3.76575 4.24395 4.00483 4.00488C4.24391 3.7658 4.61305 3.73594 4.88471 3.91503L4.99506 4.00488L7.99995 7.00976L11.0048 4.00488L11.1152 3.91503Z"}));var mn=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(mn||{});const Fte=St({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),jte=Ee.memo(function(t){const n=ht(),{className:r,intent:s="info",fullWidth:o,children:i,icon:a,onRemove:l,testId:c}=t,u=he({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:o,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":s===mn.neutral||s===mn.info,"border-green-600 bg-green-600 text-white":s===mn.success,"border-orange-500 text-white bg-orange-500":s===mn.warning,"border-red-500 text-white bg-red-500":s===mn.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":s===mn.successNeutral},r);return m.jsxs("div",{className:u,role:"alert","data-testid":c,children:[a!=null&&m.jsx("div",{className:"mt-1 shrink-0 grow-0",children:m.jsx(a,{className:"icon-sm"})}),m.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof i=="string"?m.jsx("div",{className:"font-semibold",children:i}):i}),l?m.jsx("div",{className:"flex shrink-0 grow-0",children:m.jsx("button",{onClick:l,"aria-label":n.formatMessage(Fte.closeButtonLabel),className:"hover:opacity-80",children:m.jsx(Lte,{className:"icon-sm"})})}):null]})}),Ute={liveRegionAssertive:"",liveRegionPolite:""},Wh=cn()(()=>({...Ute}));let L_,F_;const Bte={setLiveRegionAssertive:e=>{window.clearTimeout(L_),Wh.setState({liveRegionAssertive:e}),L_=window.setTimeout(()=>{Wh.setState({liveRegionAssertive:""}),L_=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(F_),Wh.setState({liveRegionPolite:e}),F_=window.setTimeout(()=>{Wh.setState({liveRegionPolite:""}),F_=void 0},5e3)}};var t6=(e=>(e.file_upload_rate_limit_upsell_plus="file_upload_rate_limit_upsell_plus",e))(t6||{});const _E=e=>Object.hasOwnProperty.call(e,"id");let qte=0;class Gte{intl;constructor(t){this.intl=t}toasts=[];listeners=new Set;subscribe=t=>(this.listeners.add(t),()=>this.listeners.delete(t));toastsChanged(){this.listeners.forEach(t=>t())}announceToScreenReader(t,n){let r,s;try{switch(n.intent){case mn.success:s={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case mn.warning:s={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case mn.danger:s={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:s=void 0}s?r=this.intl.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:this.intl.formatMessage(s),message:t}):r=this.intl.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:t}),Bte.setLiveRegionPolite(r)}catch(o){U.addError(o)}}notify(t,n){if(_E(n))for(const s of this.toasts)String(s.id).startsWith(n.id)&&this.closeToast(s.id);const r=this.createToastInstance(t,n);return this.announceToScreenReader(t,n),this.toasts=[r,...this.toasts],this.toastsChanged(),r}createToastInstance(t,n){const r=++qte,s=_E(n)?`${n.id}-${r}`:r;return{id:s,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(s),onRemove:n.onRemove,intent:n.intent??mn.info,isShown:!0,testId:n.testId,action:n.action}}getToasts(){return this.toasts}closeToast(t){this.toasts=this.toasts.map(n=>n.id===t?{...n,isShown:!1}:n),this.toastsChanged()}removeToast(t){this.toasts.find(n=>n.id===t)?.onRemove?.(),this.toasts=this.toasts.filter(n=>n.id!==t),this.toastsChanged()}closeAll(){this.toasts.forEach(t=>t.close())}info(t,n){return this.notify(t,{...n,intent:mn.info})}success(t,n){return this.notify(t,{...n,intent:mn.success})}successNeutral(t,n){return this.notify(t,{...n,intent:mn.successNeutral})}warning(t,n){return this.notify(t,{...n,intent:mn.warning})}danger(t,n){let r="",s="",o="";return typeof t=="string"?(r=t,s=t):(r=this.intl.formatMessage(t),s=String(t.defaultMessage??""),o=String(t.description??"")),V.logEvent("error_toast_shown",{category:n?.toastId??"unknown",title:n?.loggingTitle??s,description:n?.loggingDescription??o}),this.notify(r,{...n,intent:mn.danger})}}const Vte={[mn.success]:fE,[mn.successNeutral]:fE,[mn.warning]:vu,[mn.danger]:vu},Hte=({zIndex:e,action:t,duration:n,onRemove:r,intent:s=mn.info,title:o,description:i,hasCloseButton:a,isShown:l=!0,testId:c})=>{const u=ae(),[d,f]=h.useState(0),p=Qs(),g=fn(u),[v,_]=h.useState(l),y=h.useRef(null),b=h.useRef(null),w=Dte(()=>{r?.(),S(),_(!1)}),C=h.useCallback(()=>{n&&(b.current=setTimeout(()=>{w()},n*1e3))},[w,n]);h.useEffect(()=>(C(),()=>{S()}),[v,C]);const S=()=>{b.current&&(clearTimeout(b.current),b.current=null)},E=()=>{S()},x=()=>{C()},T=A=>{if(A===null)return;const{height:M}=A.getBoundingClientRect();f(M)},k=Wt(u,"1916748563"),O=t&&t===t6.file_upload_rate_limit_upsell_plus&&k.get("is_upgrade_link_shown",!1);return m.jsx(vi,{appear:!0,unmountOnExit:!0,timeout:240,in:v,onExited:r,nodeRef:y,children:A=>m.jsx("div",{ref:y,"data-state":A,className:"toast-root",onMouseEnter:E,onMouseLeave:x,style:{height:d,zIndex:e,marginBottom:v?0:-d},children:m.jsx("div",{ref:T,className:"w-full p-1 text-center md:w-auto md:text-justify",children:m.jsx(jte,{icon:Vte[s]??void 0,intent:s,onRemove:a?()=>w():void 0,testId:c,children:O?m.jsxs("div",{className:"flex w-full items-center gap-3",children:[m.jsx("div",{className:"flex-1 text-start text-sm whitespace-pre-wrap",children:o}),m.jsx(sn,{onClick:M=>{M.preventDefault(),e6(p,"Plus upsell toast"),V.logRateLimitGetPlusButtonClicked({location:"toast",type:"upsell_plus",plan_type:g?.planType??"unknown",is_hard_block:!1,hard_block_reason:""})},color:"secondary",size:"small",className:"shrink-0",children:m.jsx(ie,{...Tte(u)})})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:he("text-start whitespace-pre-wrap",{"font-semibold":i!=null&&i!==""}),children:o}),i&&m.jsx("div",{children:i})]})})})})})},pN=h.createContext(null),{Provider:zte}=pN;function xn(){"use forget";return h.useContext(pN)}function $te(){"use forget";const e=ke.c(4),t=xn();let n;e[0]!==t?(n=s=>t.subscribe(s),e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==t.toasts?(r=()=>t.toasts,e[2]=t.toasts,e[3]=r):r=e[3],h.useSyncExternalStore(n,r,Wte)}function Wte(){return[]}function Kte(){"use forget";const e=ke.c(10),t=$te(),n=xn();let r,s,o;if(e[0]!==n||e[1]!==t){o=Symbol.for("react.early_return_sentinel");e:{const a=t.filter(Yte);if(a.length===0){o=null;break e}r="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[560px] flex-col items-stretch justify-start md:pb-5";let l;e[5]!==n?(l=c=>{const{id:u,...d}=c;return m.jsx(Hte,{...d,onRemove:()=>n.removeToast(u)},u)},e[5]=n,e[6]=l):l=e[6],s=a.map(l)}e[0]=n,e[1]=t,e[2]=r,e[3]=s,e[4]=o}else r=e[2],s=e[3],o=e[4];if(o!==Symbol.for("react.early_return_sentinel"))return o;let i;return e[7]!==r||e[8]!==s?(i=m.jsx("span",{className:r,children:s}),e[7]=r,e[8]=s,e[9]=i):i=e[9],i}function Yte(e){return e.isShown!==!1}function Zte(e){"use forget";const t=ke.c(6),{children:n}=e,r=ht();let s;t[0]!==r?(s=()=>new Gte(r),t[0]=r,t[1]=s):s=t[1];const[o]=h.useState(s);let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=m.jsx(Ete,{children:m.jsx(Kte,{})}),t[2]=i):i=t[2];let a;return t[3]!==n||t[4]!==o?(a=m.jsxs(zte,{value:o,children:[n,i]}),t[3]=n,t[4]=o,t[5]=a):a=t[5],a}class yE extends Error{constructor(t){super(t),this.name="OtpValidationError"}}const Jte=(e,t)=>{if(t.length!==6)return e.formatMessage(Zr.verifyOtpFailureInvalidFormat);try{parseInt(t)}catch{return e.formatMessage(Zr.verifyOtpFailureInvalidFormat)}return null},Xte=(e,t,n)=>{switch(n.status){case 403:throw new Error(e.formatMessage(Zr.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));case 429:throw new Error(e.formatMessage(Zr.verifyOtpFailureRateLimited));case 401:case 422:throw new Error(e.formatMessage(Zr.verifyOtpFailureInvalidOtp));default:return}};function Qte(e){const t=ae(),n=ht(),r=xn(),[s,o]=h.useState(null),i=e.showChangeEmailButton??!0,a=h.useCallback(u=>{const d=u.target.value.trim();if(typeof d=="string"){if(d.match(/\D/)){u.preventDefault();return}e.onOtpChange?.(d.substring(0,6))}},[e]),l=er({mutationFn:async()=>{try{return e.onResendOtp?await e.onResendOtp():await lN(e.email??"")}catch(u){throw u instanceof ft&&cN(n,e.email??"",u),new Error(n.formatMessage(Zr.sendEmailFailure))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:u=>{o(u.message),V.logEventWithStatsig("Email Verify Verify OTP Step - Error Resending OTP","chatgpt_email_verify_verify_otp_step_resend_error",{error:u.message})}}),c=er({mutationFn:async u=>{try{const d=Jte(n,u.code);if(d)throw new yE(d);if(e.onVerifyOtp)return await e.onVerifyOtp(u.code,u.email);await Q.safePost("/accounts/add_email/verify",{requestBody:u}),await MA(t,{reason:"verify_otp"})}catch(d){throw d instanceof yE?d:(d instanceof ft&&Xte(n,e.email,d),new Error(n.formatMessage(Zr.verifyOtpFailure)))}},onSuccess:()=>{r.success(n.formatMessage(Zr.verifyOtpSuccess)),e.onVerified?.()},onError:u=>{o(u.message),V.logEventWithStatsig("Email Verify Verify OTP Step - Error Verifying OTP","chatgpt_email_verify_verify_otp_step_error",{error:u.message})}});return h.useEffect(()=>{V.logEventWithStatsig("Email Verify Verify OTP Step - Shown","chatgpt_email_verify_verify_otp_step_shown")},[]),m.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[m.jsx("p",{className:"text-3xl font-semibold",children:m.jsx(ie,{id:"verifyOtp.title",defaultMessage:"Check your email"})}),m.jsxs("p",{className:"text-center",children:[m.jsx("span",{className:"text-token-text-primary text-base",children:m.jsx(ie,{id:"verifyOtp.description",defaultMessage:"Enter the verification code we just sent to"})}),e.email&&m.jsx("br",{}),m.jsx("span",{className:`text-token-text-primary text-base leading-snug ${e.email&&"font-semibold"}`,children:m.jsx(ie,{id:"verifyOtp.email",defaultMessage:"{branch, select, email {{emailValue}} other { your email.}}",values:{branch:e.email?"email":"other",emailValue:e.email}})})]}),m.jsxs("form",{onSubmit:u=>{u.preventDefault(),c.mutate({code:e.otp,email:e.email??""}),V.logEventWithStatsig("Email Verify Verify OTP Step - Attempted Continue","chatgpt_email_verify_verify_otp_step_continue")},className:"flex w-full flex-col items-center gap-3",children:[m.jsx(aN,{error:s??void 0,ariaLabel:n.formatMessage({id:"emailVerify.otpAriaLabel",defaultMessage:"OTP"}),value:e.otp,onChange:u=>{o(null),a(u),V.logEventWithStatsig("Email Verify Verify OTP Step - Typed","chatgpt_email_verify_verify_otp_step_type")},name:"otp",type:"text",placeholder:"XXXXXX",className:"mt-6 w-full",autoComplete:"off",autoFocus:!0}),m.jsx(sn,{className:"w-full rounded-md",color:"green",type:"submit",loading:c.isPending,disabled:c.isPending,children:m.jsx(ie,{id:"verifyOtp.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]}),m.jsxs("div",{className:"mt-6 flex w-full flex-col items-center gap-3",children:[m.jsx("p",{className:"text-token-text-primary text-sm",children:m.jsx(ie,{id:"verifyOtp.resendMessage",defaultMessage:"Didn't receive the code?"})}),m.jsx(sn,{className:"w-full rounded-md",color:"secondary",onClick:()=>{l.mutate(),V.logEventWithStatsig("Email Verify Verify OTP Step - Resend","chatgpt_email_verify_verify_otp_step_resend")},loading:l.isPending,disabled:l.isPending,children:m.jsx(ie,{id:"verifyOtp.resend",defaultMessage:"Resend code"})}),i&&m.jsx(sn,{className:"w-full rounded-md",color:"secondary",onClick:()=>{e.setStep("enterEmail"),V.logEventWithStatsig("Email Verify Verify OTP Step - Back to Enter Email Step","chatgpt_email_verify_verify_otp_step_change_email")},children:m.jsx(ie,{id:"verifyOtp.changeEmail",defaultMessage:"Change email"})})]})]})}function ene(e){const[t,n]=h.useState(e.initialStep??"enterEmail"),[r,s]=h.useState(""),[o,i]=h.useState(""),a=e.email?{email:e.email,onEmailChange:e.onEmailChange}:{email:r,onEmailChange:s},l=e.otp?{otp:e.otp,onOtpChange:e.onOtpChange}:{otp:o,onOtpChange:i};return t==="enterEmail"?m.jsx(wte,{title:e.enterEmailTitle,description:e.enterEmailDescription,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,...a}):m.jsx(Qte,{email:a.email,onVerified:e.onVerified,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,showChangeEmailButton:e.showChangeEmailButton,onResendOtp:e.onResendOtp,onVerifyOtp:e.onVerifyOtp,...l})}function tne({onVerify:e,onClose:t,onResendOtp:n}){const{session:r}=Rf(),[s,o]=h.useState("");return m.jsx(pi,{testId:"modal-connector-email-verify",isOpen:!0,onClose:t,type:"success",className:"max-w-sm",children:m.jsx(ene,{initialStep:"verifyOtp",email:r?.user?.email,otp:s,onOtpChange:o,onVerified:t,onResendOtp:n,onVerifyOtp:async(i,a)=>{await e(i)},showChangeEmailButton:!1,cancelFlowButton:m.jsx(sn,{className:"w-full rounded-md",color:"secondary",onClick:t,children:m.jsx(ie,{id:"ConnectorEmailVerifyModal.cancel",defaultMessage:"Cancel"})})})})}const Mp=new BroadcastChannel("plugin_oauth_channel"),m4e=e=>{Mp.postMessage(e)},g4e="connector_bd313622bce5485cb3d0b338715f7108",Yb={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector"},fr={[F.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[F.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[F.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[F.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[F.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[F.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[F.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[F.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[F.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[F.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[F.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[F.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[F.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[F.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[F.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[F.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[F.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010"},Yf={connector_5f3c8c41a1e54ad7a76272c89e2554fa:F.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:F.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:F.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:F.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:F.HUBSPOT_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:F.SHAREPOINT_CONNECTOR,connector_947e0d954944416db111db556030eea6:F.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:F.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:F.GOOGLE_CONTACTS_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:F.TEAMS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:F.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:F.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:F.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:F.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:F.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:F.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:F.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:F.SLACK_CONNECTOR};function nne(e){return Object.keys(Yf).includes(e)}function v4e(e){return!(e==="web"||e==="cloud"||e in fr||e in Yb)}function mN(e){return typeof window<"u"?`${window.location.origin}/connector_platform_oauth_redirect`:""}const rne="https://github.com/apps/chatgpt-codex-connector";function sne(e){return`${rne}/${e}`}const one={[F.GITHUB_CONNECTOR]:"github-connector",[F.GDRIVE_ACTION_CONNECTOR]:"gdrive-connector",[F.LINEAR_CONNECTOR]:"linear-connector",[F.DROPBOX_CONNECTOR]:"dropbox-connector",[F.HUBSPOT_CONNECTOR]:"hubspot-connector",[F.SHAREPOINT_CONNECTOR]:"sharepoint-connector",[F.GCAL_CONNECTOR]:"gcal-connector",[F.GMAIL_CONNECTOR]:"gmail-connector",[F.GOOGLE_CONTACTS_CONNECTOR]:"google-contacts-connector",[F.TEAMS_CONNECTOR]:"teams-connector",[F.OUTLOOK_EMAIL_CONNECTOR]:"outlook-email-connector",[F.OUTLOOK_CALENDAR_CONNECTOR]:"outlook-calendar-connector",[F.BOX_CONNECTOR]:"box-connector",[F.INTERCOM_CONNECTOR]:"intercom-connector",[F.NOTION_CONNECTOR]:"notion-connector",[F.CANVA_CONNECTOR]:"canva-connector",[F.SLACK_CONNECTOR]:"slack-connector"},_4e=({openPopup:e,connectorType:t,customRedirectUrl:n,onError:r,toaster:s,intl:o,productSku:i})=>{const a={connectorId:fr[t],name:t,actionNames:null,oauthClientId:null,oauthClientScopes:null},l=n??`#settings/${Kf.Connectors}?scroll=${one[t]}`;gN({redirectUri:mN(),connectorPlatformParams:a,redirectTo:l,onError:r,openPopup:e,toaster:s,intl:o,productSku:i})},ine={[F.GITHUB_CONNECTOR]:In.GitHub,[F.GDRIVE_ACTION_CONNECTOR]:In.GoogleDrive,[F.DROPBOX_CONNECTOR]:In.Dropbox,[F.LINEAR_CONNECTOR]:In.Linear,[F.SHAREPOINT_CONNECTOR]:In.Sharepoint,[F.TEAMS_CONNECTOR]:In.Teams,[F.OUTLOOK_EMAIL_CONNECTOR]:In.OutlookEmail,[F.OUTLOOK_CALENDAR_CONNECTOR]:In.OutlookCalendar,[F.BOX_CONNECTOR]:In.Box,[F.INTERCOM_CONNECTOR]:In.Intercom,[F.GCAL_CONNECTOR]:In.GoogleCalendar,[F.GMAIL_CONNECTOR]:In.Gmail,[F.GOOGLE_CONTACTS_CONNECTOR]:In.GoogleContacts,[F.HUBSPOT_CONNECTOR]:In.Hubspot,[F.CANVA_CONNECTOR]:In.Canva,[F.NOTION_CONNECTOR]:In.Notion,[F.SLACK_CONNECTOR]:In.Slack},ane=e=>[...Object.values(F),...Object.values(FA)].includes(e)?e:null,y4e=e=>e.map(t=>ane(t)).filter(t=>t!=null);async function gN({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:s=!1,toaster:o,intl:i,productSku:a}){V.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});try{const l={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n};let c=await Q.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[dr]:a}:void 0});c.email_challenge_sent&&await new Promise((f,p)=>{bg(xt(),({onClose:g})=>Ee.createElement(tne,{onClose:()=>{g(),p(null)},onVerify:async v=>{c=await Q.safePost("/aip/connectors/links/oauth",{requestBody:{...l,otp_code:v},additionalHeaders:a?{[dr]:a}:void 0}),g(),f()},onResendOtp:async()=>{await Q.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[dr]:a}:void 0})}}))});let u=null;nne(t.connectorId)&&Yf[t.connectorId]===F.HUBSPOT_CONNECTOR?u=c.redirect_url+"&utm_source=chatgpt":u=c.redirect_url;let d=null;if(s&&(d=window.open("about:blank","_blank")),!d)window.location.href=u;else if(d)return d.location.href=u,new Promise(f=>{const p=g=>{const{error:v,errorDesc:_,errorType:y,connectorId:b,success:w,linkId:C}=g.data;if(g.origin===window.location.origin&&!(b&&t.connectorId!==b)){if(w)V.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),o?.success(i.formatMessage(j_.createLinkSuccess,{connectorName:t.name})),f({success:!0,linkId:C,message:""});else{V.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:y}),y!=="oauth_failed_scope_mismatch"&&o?.danger(i.formatMessage(j_.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:j_.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"});const S=`${v}${_?`: ${_}`:""}`;f({errorType:y,success:w,message:S})}Mp.removeEventListener("message",p,!1)}};Mp.addEventListener("message",p,!1),d.addEventListener("beforeunload",()=>{Mp.removeEventListener("message",p,!1)})})}catch(l){if(r)r(l);else throw l}}const b4e={box:F.BOX_CONNECTOR,dropbox:F.DROPBOX_CONNECTOR,github:F.GITHUB_CONNECTOR,gmail:F.GMAIL_CONNECTOR,"google drive":F.GDRIVE_ACTION_CONNECTOR,"google calendar":F.GCAL_CONNECTOR,outlook:F.OUTLOOK_EMAIL_CONNECTOR,"outlook email":F.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":F.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:F.SHAREPOINT_CONNECTOR,linear:F.LINEAR_CONNECTOR,teams:F.TEAMS_CONNECTOR,intercom:F.INTERCOM_CONNECTOR,hubspot:F.HUBSPOT_CONNECTOR,notion:F.NOTION_CONNECTOR,canva:F.CANVA_CONNECTOR,slack:F.SLACK_CONNECTOR},j_=St({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function Kh(e){switch(e){case F.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case F.GMAIL_CONNECTOR:return"gmail";case F.GCAL_CONNECTOR:return"gcal";default:return null}}function lne(e){switch(e){case"gmail":return F.GMAIL_CONNECTOR;case"gcal":return F.GCAL_CONNECTOR;case"gcontacts":return F.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function C4e(e){switch(e){case"gmail":return fr[F.GMAIL_CONNECTOR];case"gcal":return fr[F.GCAL_CONNECTOR];case"gcontacts":return fr[F.GOOGLE_CONTACTS_CONNECTOR];default:return null}}const cne=[ve.Slurm,ve.Research,Hs],une=e=>{const t=new Map([[void 0,new Set(Object.keys(Yb))],[ve.Slurm,new Set(Object.keys(Yb))],[ve.Research,new Set(["web"])],[Hs,new Set(["web"])]]);try{const n=dne(e);n&&n.forEach((r,s)=>{cne.includes(s)&&t.set(s,new Set(r))})}catch{}return t},vN="v1.1",_N=e=>{const t=qt.getItem(Et.SelectedSources,e);if(!t)return{};try{const{version:n,data:r}=JSON.parse(t);if(n!==vN)return qt.removeItem(Et.SelectedSources),{};const s=new Map([...r.selected_sources].map(([i,a])=>[i,new Set(a)])),o=new Map((r.selected_mcp_sources??[]).map(([i,a])=>[i,new Set(a)]));return{selectedSources:s,selectedMCPSources:o}}catch{return{}}},dne=e=>_N(e).selectedSources,fne=e=>_N(e).selectedMCPSources,hne=e=>fne(e)??new Map,S4e=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){qt.removeItem(Et.SelectedSources);return}const r={selected_sources:[...e??new Map].map(([o,i])=>[o,[...i]]),selected_mcp_sources:[...t??new Map].map(([o,i])=>[o,[...i]])},s={version:vN,data:r};qt.setItem(Et.SelectedSources,JSON.stringify(s),n)},pne="placeholder-";class js{#e;rootId;constructor(t){const n={};let r;for(const s of t)n[s.id]=s,!r&&s.message.author.role===Ue.Root&&(r=s.id);if(!r)throw new Error("Missing root node");this.#e=n,this.rootId=r}static emptyTree(){return new js([js.createRootNode("client-created-root")])}static createNode(t,n,r=[],s){const o=s??t.id;if(o===n)throw new Error(`createNode: parent.id and node.id cannot be the same: ${o}`);return{id:o,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:Ue.Root},content:{content_type:Xe.Text,parts:[]}};return js.createNode(n,"")}get nodes(){return Object.values(this.#e)}messageIdToNodeId(t){return this.messageIdToExistingNodeId(t)??t}messageIdToExistingNodeId(t){if(this.#e[t]!=null)return t;for(const n of Object.values(this.#e))if(n.message?.id===t)return yN(n.id,n.message.id),n.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;throw V.logEvent("chatgpt_conversation_tree__node_not_found",{rootId:this.rootId,nodeOrMessageId:t}),new Error(`getNodeByIdOrMessageId - no node found by id: ${t}`)}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return this.#e[n]}findNode(t,n,r=this.rootId){const s=this.getNodeIfExists(r);let o=this.getNodeIfExists(n);for(;s&&o&&o!==s;){if(t(o))return o;o=this.getNodeIfExists(o.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,s=this.getNodeByIdOrMessageId(n);for(;s;)t(s)&&(r=s),s=this.getNodeIfExists(s.parentId);return r}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){U.addError(`Infinite loop detected in getBranchFromLeaf. Branch already contains node ${r?.id}. Parent id: ${r?.parentId}.`,{branch:n});break}if(n.push(r),r.message.author.role===Ue.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),o=js.createNode(n,s.id,[],r);return this.#e=Ps(this.#e,i=>{i[o.id]=o;const a=i[o.parentId];a.children.includes(o.id)||a.children.push(o.id)}),o.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),o=js.createNode(n,s.parentId,[s.id],r);this.#e=Ps(this.#e,i=>{i[o.id]=o;const a=i[o.parentId];a.children=a.children.filter(c=>c!==s.id),a.children.includes(o.id)||a.children.push(o.id);const l=i[s.id];l.parentId=o.id})}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);this.#e=Ps(this.#e,r=>{const s=n.parentId,o=n.children;for(const a of o){const l=r[this.messageIdToNodeId(a)];l.parentId=s}const i=r[this.messageIdToNodeId(s)];if(i==null){console.warn(`Cannot deleteNode with nodeId: ${t} - parent not found. Either this is root or in an orphaned branch`);return}i.children=i.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?o:[a]),delete r[n.id]})}clearNodeMessageParts(t){this.#e=Ps(this.#e,n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])})}updateNodeMetadata(t,n){this.#e=Ps(this.#e,r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.clientMetadata={...s?.message.clientMetadata,...n})})}updateNodeMessage(t,n){this.#e=Ps(this.#e,r=>{const s=r[this.messageIdToNodeId(t)];if(s){const o=s.message.clientMetadata;s.message=o?{...n,clientMetadata:o}:n}})}updateNodeMessageMetadata(t,n){this.#e=Ps(this.#e,r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.metadata={...s.message.metadata,...n})})}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),s=zg(r.message);let o=`${"	".repeat(n)}->${t} - ${s.replaceAll(`
`,"\\n")}
`;const i=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of i)o+=this.prettyPrint(a.id,n+1);return o}}const bE=new Set;function yN(e,t,n){const r=new Error(`Found TreeNode where message.id ${t} != node.id ${e}`);console.warn(r),bE.has(e)||(bE.add(e),n?U.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):U.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function mne(e,t){const n=new Set,r=new Set,s=new Set,o=new Map;return(e.moderation_results??[]).forEach(a=>{o.set(a.message_id,a),a.blocked?r.add(a.message_id):a.flagged&&n.add(a.message_id),a.disclaimers?.length&&!a.blocked&&s.add(a.message_id)}),{nodes:Object.values(e.mapping).map(({id:a,parent:l,children:c,message:u})=>{if(!l)return js.createRootNode(a);if(!u)throw new Error(`Missing message for node ${a}`);a!==u.id&&yN(a,u.id,t);const d={},f=o.get(u.id);let p=!1;if(r.has(u.id)){const v=f?.should_disable_conversation??!1,_=f?.blocked??!1,y=f?.metadata?.safety_limited??!1;Object.assign(d,{isSafetyLimited:y}),Object.assign(d,xI({isSafetyLimited:y,shouldDisableConversation:v,isModelIncompatibility:_})),p=!0}else n.has(u.id)&&Object.assign(d,SI);if(s.has(u.id)&&u.author.role!==Ue.User){const v=o.get(u.id);v?.disclaimers?.length&&Object.assign(d,EI(v.disclaimers,p))}const g={...u,clientMetadata:d};return js.createNode(g,l,c,a)},{}),initialCurrentLeafId:e.current_node}}var Yh={exports:{}},CE;function gne(){if(CE)return Yh.exports;CE=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,E,x){return Function.prototype.apply.call(S,E,x)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(S){return S!==S};function o(){o.init.call(this)}Yh.exports=o,Yh.exports.once=y,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function a(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");i=C}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(C){return C._maxListeners===void 0?o.defaultMaxListeners:C._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(S){for(var E=[],x=1;x<arguments.length;x++)E.push(arguments[x]);var T=S==="error",k=this._events;if(k!==void 0)T=T&&k.error===void 0;else if(!T)return!1;if(T){var O;if(E.length>0&&(O=E[0]),O instanceof Error)throw O;var A=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw A.context=O,A}var M=k[S];if(M===void 0)return!1;if(typeof M=="function")t(M,this,E);else for(var I=M.length,N=g(M,I),x=0;x<I;++x)t(N[x],this,E);return!0};function c(C,S,E,x){var T,k,O;if(a(E),k=C._events,k===void 0?(k=C._events=Object.create(null),C._eventsCount=0):(k.newListener!==void 0&&(C.emit("newListener",S,E.listener?E.listener:E),k=C._events),O=k[S]),O===void 0)O=k[S]=E,++C._eventsCount;else if(typeof O=="function"?O=k[S]=x?[E,O]:[O,E]:x?O.unshift(E):O.push(E),T=l(C),T>0&&O.length>T&&!O.warned){O.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=C,A.type=S,A.count=O.length,r(A)}return C}o.prototype.addListener=function(S,E){return c(this,S,E,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(S,E){return c(this,S,E,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(C,S,E){var x={fired:!1,wrapFn:void 0,target:C,type:S,listener:E},T=u.bind(x);return T.listener=E,x.wrapFn=T,T}o.prototype.once=function(S,E){return a(E),this.on(S,d(this,S,E)),this},o.prototype.prependOnceListener=function(S,E){return a(E),this.prependListener(S,d(this,S,E)),this},o.prototype.removeListener=function(S,E){var x,T,k,O,A;if(a(E),T=this._events,T===void 0)return this;if(x=T[S],x===void 0)return this;if(x===E||x.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete T[S],T.removeListener&&this.emit("removeListener",S,x.listener||E));else if(typeof x!="function"){for(k=-1,O=x.length-1;O>=0;O--)if(x[O]===E||x[O].listener===E){A=x[O].listener,k=O;break}if(k<0)return this;k===0?x.shift():v(x,k),x.length===1&&(T[S]=x[0]),T.removeListener!==void 0&&this.emit("removeListener",S,A||E)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(S){var E,x,T;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[S]),this;if(arguments.length===0){var k=Object.keys(x),O;for(T=0;T<k.length;++T)O=k[T],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=x[S],typeof E=="function")this.removeListener(S,E);else if(E!==void 0)for(T=E.length-1;T>=0;T--)this.removeListener(S,E[T]);return this};function f(C,S,E){var x=C._events;if(x===void 0)return[];var T=x[S];return T===void 0?[]:typeof T=="function"?E?[T.listener||T]:[T]:E?_(T):g(T,T.length)}o.prototype.listeners=function(S){return f(this,S,!0)},o.prototype.rawListeners=function(S){return f(this,S,!1)},o.listenerCount=function(C,S){return typeof C.listenerCount=="function"?C.listenerCount(S):p.call(C,S)},o.prototype.listenerCount=p;function p(C){var S=this._events;if(S!==void 0){var E=S[C];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(C,S){for(var E=new Array(S),x=0;x<S;++x)E[x]=C[x];return E}function v(C,S){for(;S+1<C.length;S++)C[S]=C[S+1];C.pop()}function _(C){for(var S=new Array(C.length),E=0;E<S.length;++E)S[E]=C[E].listener||C[E];return S}function y(C,S){return new Promise(function(E,x){function T(O){C.removeListener(S,k),x(O)}function k(){typeof C.removeListener=="function"&&C.removeListener("error",T),E([].slice.call(arguments))}w(C,S,k,{once:!0}),S!=="error"&&b(C,T,{once:!0})})}function b(C,S,E){typeof C.on=="function"&&w(C,"error",S,E)}function w(C,S,E,x){if(typeof C.on=="function")x.once?C.once(S,E):C.on(S,E);else if(typeof C.addEventListener=="function")C.addEventListener(S,function T(k){x.once&&C.removeEventListener(S,T),E(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return Yh.exports}var vne=gne();const _ne=yn(vne);class n6{emitter=new _ne;constructor(){this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const Wc=new n6;var U_,SE;function yne(){if(SE)return U_;SE=1;function e(t){for(var n=-1,r=t==null?0:t.length,s=0,o=[];++n<r;){var i=t[n];i&&(o[s++]=i)}return o}return U_=e,U_}var bne=yne();const bN=yn(bne),Cne="text/plain",Sne="us-ascii",B_=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),wne=new Set(["https:","http:","file:"]),Ene=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!wne.has(t)}catch{return!1}},xne=(e,{stripHash:t})=>{const n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:r,data:s,hash:o}=n.groups;const i=r.split(";");o=t?"":o;let a=!1;i[i.length-1]==="base64"&&(i.pop(),a=!0);const l=i.shift()?.toLowerCase()??"",u=[...i.map(d=>{let[f,p=""]=d.split("=").map(g=>g.trim());return f==="charset"&&(p=p.toLowerCase(),p===Sne)?"":`${f}${p?`=${p}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||l&&l!==Cne)&&u.unshift(l),`data:${u.join(";")},${a?s.trim():s}${o?`#${o}`:""}`};function Tne(e,t){if(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t},typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return xne(e,t);if(Ene(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){const i=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,l="";for(;;){const u=i.exec(s.pathname);if(!u)break;const d=u[0],f=u.index,p=s.pathname.slice(a,f);l+=p.replace(/\/{2,}/g,"/"),l+=d,a=f+d.length}const c=s.pathname.slice(a,s.pathname.length);l+=c.replace(/\/{2,}/g,"/"),s.pathname=l}if(s.pathname)try{s.pathname=decodeURI(s.pathname).replace(/\\/g,"%5C")}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let i=s.pathname.split("/");const a=i[i.length-1];B_(a,t.removeDirectoryIndex)&&(i=i.slice(0,-1),s.pathname=i.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const i of[...s.searchParams.keys()])B_(i,t.removeQueryParameters)&&s.searchParams.delete(i);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(s.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const i of[...s.searchParams.keys()])B_(i,t.keepQueryParameters)||s.searchParams.delete(i);if(t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,"")),t.removeExplicitPort&&s.port&&(s.port="");const o=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!o.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const kne={},One=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,l)=>{let c=i;if(a){const u=l?.equalityFn||Object.is;let d=i(r.getState());c=f=>{const p=i(f);if(!u(d,p)){const g=d;a(d=p,g)}},l?.fireImmediately&&a(d,d)}return s(c)},e(t,n,r)},Ane=One;function Mne(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const sf=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return sf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sf(r)(n)}}}},Ine=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,y)=>({...y,..._}),...t},i=!1;const a=new Set,l=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(..._)},r,s);const u=sf(o.serialize),d=()=>{const _=o.partialize({...r()});let y;const b=u({state:_,version:o.version}).then(w=>c.setItem(o.name,w)).catch(w=>{y=w});if(y)throw y;return b},f=s.setState;s.setState=(_,y)=>{f(_,y),d()};const p=e((..._)=>{n(..._),d()},r,s);let g;const v=()=>{var _;if(!c)return;i=!1,a.forEach(b=>b(r()));const y=((_=o.onRehydrateStorage)==null?void 0:_.call(o,r()))||void 0;return sf(c.getItem.bind(c))(o.name).then(b=>{if(b)return o.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate)return o.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return g=o.merge(b,(w=r())!=null?w:p),n(g,!0),d()}).then(()=>{y?.(g,void 0),i=!0,l.forEach(b=>b(g))}).catch(b=>{y?.(void 0,b)})};return s.persist={setOptions:_=>{o={...o,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),g||p},Rne=(e,t)=>(n,r,s)=>{let o={storage:Mne(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...t},i=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=o.partialize({...r()});return c.setItem(o.name,{state:v,version:o.version})},d=s.setState;s.setState=(v,_)=>{d(v,_),u()};const f=e((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>f;let p;const g=()=>{var v,_;if(!c)return;i=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:f)});const y=((_=o.onRehydrateStorage)==null?void 0:_.call(o,(v=r())!=null?v:f))||void 0;return sf(c.getItem.bind(c))(o.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate)return o.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return p=o.merge(b,(w=r())!=null?w:f),n(p,!0),u()}).then(()=>{y?.(p,void 0),p=r(),i=!0,l.forEach(b=>b(p))}).catch(b=>{y?.(void 0,b)})};return s.persist={setOptions:v=>{o={...o,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},o.skipHydration||g(),p||f},Nne=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((kne?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ine(e,t)):Rne(e,t),CN=Nne;function Pne(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function SN(e,t){return e.findNode(n=>wN(n,t),t)?.children??Lne}function Dne(e,t){return SN(e,t).find(n=>n===t||n===e.findNode(r=>r.id===n||wN(r,t),t)?.id)}function wN(e,t){return e.id!==t&&(e.children.length>1||!aa(e.message))}const Lne=Object.freeze([]);function w4e(){return`${K3}${Cs()}`}let Fne=0;function EN(){return Fne++}function Zf(e){return e.startsWith(K3)}const xN=()=>js.emptyTree(),jne=Object.freeze({});var r6=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(r6||{});const Is={};function Une(e,t){Is[e]&&(clearTimeout(Is[e]),delete Is[e]);const n=3e4;Is[e]=setTimeout(()=>{const r=Us();if(r.threads[e]==null){clearTimeout(Is[e]),delete Is[e];return}if((r.threadRetainCounts[e]??0)>0){clearTimeout(Is[e]),delete Is[e];return}_u.deleteThread(e),clearTimeout(Is[e]),delete Is[e]},n)}function Bne(e){return e}const qne=Bne,Jf=cn(qne(Sa(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),Us=Jf.getState,Wa=Jf.setState;function Ys(e,t=Us()){return Zf(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function E4e(e,t=Us()){return Object.entries(t.clientNewThreadIdToServerIdMapping).find(([r,s])=>s===e)?.[0]??e}const Gne=e=>Jf(t=>e?Ys(e,t):void 0);function x4e(e,t=Us()){for(const[n,r]of Object.entries(t.clientNewThreadIdToServerIdMapping))if(r===e)return n}function Zb(e,t=Us()){return t.clientNewThreadIdToServerIdMapping[e]??e}function ln(e,t=Us()){const n=Zb(e,t);return t.threads[n]}function Vne(e,t){const n=h.useRef(void 0);return h.useMemo(()=>[],[t.clientThreadId]),r=>{const s=e(r);return Pne(n.current,s)||(n.current=s),n.current}}function _i(e,t,n){return Jf(Vne(r=>t(e&&ln(e,r)),{disablePerfDetector:n?.disablePerfDetector===!0,clientThreadId:e}))}function Lt(e,t){Wa(n=>{const r=ln(e,n);r&&t(r)})}const Hne=["utm_source"],wE=e=>{try{return Tne(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:Hne})}catch{return e}},me={getGizmoId:e=>e?.mode.kind===an.GizmoInteraction||e?.mode.kind===an.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>e?.tree??xN(),getBranch:(e,t=me.getCurrentLeafId(e))=>e?.tree.getBranchFromLeaf(t)??[],getThreadTitleSource:e=>e?.titleSource??"Unknown",getThreadCreateTime:e=>e?.createTime,getIsNewConversation:e=>me.getCurrentLeafId(e)===me.getTree(e).rootId,getCurrentLeafId:e=>e?.currentLeafId??me.getTree(e).rootId,getCurrentNode:e=>me.getNode(e,me.getCurrentLeafId(e)),getNode:(e,t)=>me.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>me.getTree(e).getParent(t),getParentPromptNode:(e,t=me.getCurrentLeafId(e))=>me.findNode(e,n=>TI(n.message),t),getAsyncTurns:e=>e?.asyncTurns??jne,isThreadUrlSafe:(e,t)=>e?.safeUrls.map(n=>wE(n)).includes(wE(t))??!1,getTurnContentReferences:(e,t)=>bN(me.getConversationTurnAtIndex(e,t).messages.flatMap(Wne)??[]),isArchived:e=>e?.isArchived??!1,isStarred:e=>e?.isStarred??!1,getUpdateTime:e=>e?.update_time??(e?.createTime?e.createTime.getTime()/1e3:null),hasUserMessage:e=>me.findNode(e,t=>Oc(t.message))!=null,lastUserMessage:e=>me.findNode(e,t=>Oc(t.message))?.message??null,firstUserMessage:e=>me.findFirstFromLeaf(e,t=>Oc(t.message))?.message??null,isLastActorMessage:(e,t)=>me.getTree(e).findNode(n=>n.message.author.role===Ue.Assistant||n.message.author.role===Ue.User||n.message.author.role===Ue.Tool&&n.message.author.name===ll.A8KM123,me.getCurrentLeafId(e),t)==null,findNode:(e,t,n=me.getCurrentLeafId(e))=>me.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=me.getCurrentLeafId(e)){return me.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=me.getCurrentLeafId(e))=>e?.tree.getNodeByIdOrMessageId(t).message.end_turn??!1,getConversationTurns:(e,t=me.getCurrentLeafId(e))=>LI(me.getTree(e),t,!1),getConversationTurnIds:e=>zne(me.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=me.getCurrentLeafId(e))=>{const r=me.getConversationTurns(e,n);if(t>=r.length)throw new Error(`Turn index ${t} out of bounds`);return r[t]},getConversationLastTurn:(e,t=me.getCurrentLeafId(e))=>pu(me.getConversationTurns(e,t)),hasUserContextPrompt:e=>me.getTree(e).findFirst(t=>t.message.metadata?.is_user_system_message!=null)!=null||e?.sharedConversationMetadata?.hasUserEditableContextFlag!=null,hasModelEditableContext:e=>me.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,hasRecentPIMWarning:e=>{const t=e?.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let n=t.length-1;n>=0;n--){if(t[n].message.author.role===Ue.User)return!1;if(t[n].message.metadata?.is_pim_warning)return!0}return!1},getRequestId:(e,t=me.getCurrentLeafId(e))=>me.findNode(e,n=>n.message.clientMetadata?.requestId!=null,t)?.message.clientMetadata?.requestId,getLastMessageSystemHints:e=>me.findNode(e,n=>Oc(n.message))?.message.metadata?.system_hints??[],getVariantIds:(e,t=me.getCurrentLeafId(e))=>SN(me.getTree(e),t),getCurrentVariantId:(e,t=me.getCurrentLeafId(e))=>Dne(me.getTree(e),t),getIsDoNotRemember:e=>e?.is_do_not_remember??!1,getSuperWidgetMessages:(e,t)=>(t!=null?me.getConversationTurnAtIndex(e,t).messages:me.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getUserMessages:e=>me.getConversationTurns(e).flatMap(t=>t.messages).filter(Oc),isReasoningResponseMessage:(e,t)=>{const n=me.getParentNode(e,t)?.message;return n!=null&&kI(n)},isUsingPromptTemplate:e=>e?.isUsingPromptTemplate??!1};let EE=0,xE,TE=[];function zne(e){const t=e.length,n=pu(e)?.id;return(EE!==t||xE!==n)&&(EE=t,xE=n,TE=e.map(r=>r.id)),TE}const xr={updateTree(e,t){const n=t(e.tree,me.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n)},setCurrentBranch(e,t){xr.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){xr.updateTree(e,(n,r)=>n.addMessageNode(r,t))},setRequestIdOnCurrentLeaf(e,t){xr.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},_u={initThread:({clientThreadId:e,conversationMode:t,modelId:n=null,userId:r=void 0,accountId:s=void 0})=>{const o=Zb(e);Us().threads[o]==null&&Wa(i=>{const a=js.emptyTree();i.threads[o]={createTime:new Date,isArchived:!1,isStarred:!1,mode:Mb(t),modelId:n,tree:a,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,titleSource:"NewChat",currentLeafId:a.rootId,safeUrls:[],selectedSources:une({userId:r,workspaceId:s}),selectedMCPSources:hne({userId:r,workspaceId:s}),startedWithMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!Zf(o),docsReferencedByURL:{},conversationOrigin:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:!1}})},setServerIdForNewThread:(e,t)=>{Us().clientNewThreadIdToServerIdMapping[e]===void 0&&Wa(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{const r=Zb(e),{skipIfExisting:s,continuingFromSharedConversationId:o,continuingFromSharedProjectConversationId:i,sharedProjectConversationOwnerId:a,branchingFromConversationId:l}=n;if(s&&Us().threads[r]?.isLoading===!1)return;const c=mne(t,r),u=new js(c.nodes),d=c.initialCurrentLeafId??u.rootId,f="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?WI(t.model):void 0}:void 0;let p;{const g=u.getBranchFromLeaf(d);for(const v of g){const _=v.message;if(_.author.role!==Ue.User)continue;p=(_.metadata?.selected_mcp_sources??[]).length>0;break}}Wa(g=>{const v=g.threads[r];g.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:t.is_archived??!1,isStarred:t.is_starred??!1,is_do_not_remember:t.is_do_not_remember??!1,selectedSources:v?.selectedSources,selectedMCPSources:v?.selectedMCPSources,startedWithMcp:v?.startedWithMcp??p,mentionedSources:v?.mentionedSources,selectedGithubRepos:v?.selectedGithubRepos??new Map,hasModifiedGithubRepos:v?.hasModifiedGithubRepos??!1,modelId:v?.modelId??null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,mode:t.gizmo_id!=null?{kind:an.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:an.PrimaryAssistant},sharedConversationMetadata:Mb(f),title:t.title??null,titleSource:"Server",tree:u,_treeVersion:0,currentLeafId:d,isLoading:!1,continuingFromSharedProjectConversationId:i,sharedProjectConversationOwnerId:a,continuingFromSharedConversationId:o,continuingFromSharedPostId:n?.continuingFromSharedPostId,forkFromSharedPost:n?.forkFromSharedPost,continuingSharedConversationLastMessageId:o!=null&&!l?d:void 0,branchingFromConversationId:l,continuingBranchedConversationLastMessageId:l!=null?d:void 0,safeUrls:t.safe_urls??[],hasRemovedWebSource:v?.hasRemovedWebSource??!1,hasModifiedSources:v?.hasModifiedSources??!1,docsReferencedByURL:v?.docsReferencedByURL??{},conversationOrigin:v?.conversationOrigin??t.conversation_origin??null,disabledToolIds:t.disabled_tool_ids??[],update_time:t.update_time??null,scrollToMessageId:v?.scrollToMessageId,prepareRequestBlocked:v?.prepareRequestBlocked??!1,lastCompletionFinishedTimestamp:v?.lastCompletionFinishedTimestamp??null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:v?.isUsingPromptTemplate??!1}}),Wc.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{Wa(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{Wa(t=>{t.threadRetainCounts[e]=(t.threadRetainCounts[e]??0)+1}),clearTimeout(Is[e])},releaseThread:e=>{Us().threads[e]!=null&&(Wa(t=>{t.threadRetainCounts[e]=Math.max((t.threadRetainCounts[e]??0)-1,0)}),!(Us().threadRetainCounts[e]>0)&&Une(e))},resetThread:e=>{Lt(e,t=>{t.tree=xN(),t.currentLeafId=t.tree.rootId})}},$ne=e=>{const t=A5();return _i(e,n=>n?me.getGizmoId(n):t)};function T4e({clientThreadId:e}){return _i(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===hu.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation):!1})}function k4e({clientThreadId:e}){return _i(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===hu.ContentPolicy&&r.message.clientMetadata.isSafetyLimited):!1})}const O4e=e=>e?.metadata?.search_result_groups??[],Wne=e=>e?.metadata?.content_references??[];function Wn(e){this.content=e}Wn.prototype={constructor:Wn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),o=r.content.slice();return s==-1?o.push(n||e,t):(o[s+1]=t,n&&(o[s]=n)),new Wn(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Wn(n)},addToStart:function(e,t){return new Wn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Wn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),o=r.find(e);return s.splice(o==-1?s.length:o,0,t,n),new Wn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Wn.from(e),e.size?new Wn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Wn.from(e),e.size?new Wn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Wn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Wn.from=function(e){if(e instanceof Wn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Wn(t)};function TN(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),o=t.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let i=0;s.text[i]==o.text[i];i++)n++;return n}if(s.content.size||o.content.size){let i=TN(s.content,o.content,n+1);if(i!=null)return i}n+=s.nodeSize}}function kN(e,t,n,r){for(let s=e.childCount,o=t.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let i=e.child(--s),a=t.child(--o),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let c=0,u=Math.min(i.text.length,a.text.length);for(;c<u&&i.text[i.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let c=kN(i.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ce{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,o){for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;if(c>t&&r(l,s+a,o||null,i)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let o="",i=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(i?i=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)s.push(t.content[o]);return new ce(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let o=0,i=0;i<n;o++){let a=this.content[o],l=i+a.nodeSize;l>t&&((i<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,t-i-1),Math.min(a.content.size,n-i-1))),r.push(a),s+=a.nodeSize),i=l}return new ce(r,s)}cutByIndex(t,n){return t==n?ce.empty:t==0&&n==this.content.length?this:new ce(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new ce(s,o)}addToStart(t){return new ce([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ce(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return TN(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return kN(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Zh(0,t);if(t==this.size)return Zh(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),i=s+o.nodeSize;if(i>=t)return i==t||n>0?Zh(r+1,i):Zh(r,s);s=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ce.empty;let n,r=0;for(let s=0;s<t.length;s++){let o=t[s];r+=o.nodeSize,s&&o.isText&&t[s-1].sameMarkup(o)?(n||(n=t.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ce(n||t,r)}static from(t){if(!t)return ce.empty;if(t instanceof ce)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ce([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const q_={index:0,offset:0};function Zh(e,t){return q_.index=e,q_.offset=t,q_}function Em(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Em(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Em(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class Rt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let o=t[s];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,s));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Em(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Rt.none;if(t instanceof Rt)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}Rt.none=[];class xm extends Error{}class Ce{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=AN(this.content,t+this.openStart,n);return r&&new Ce(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ce(ON(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ce.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ce(ce.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new Ce(t,r,s)}}Ce.empty=new Ce(ce.empty,0,0);function ON(e,t,n){let{index:r,offset:s}=e.findIndex(t),o=e.maybeChild(r),{index:i,offset:a}=e.findIndex(n);if(s==t||o.isText){if(a!=n&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(ON(o.content,t-s-1,n-s-1)))}function AN(e,t,n,r){let{index:s,offset:o}=e.findIndex(t),i=e.maybeChild(s);if(o==t||i.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=AN(i.content,t-o-1,n);return a&&e.replaceChild(s,i.copy(a))}function Kne(e,t,n){if(n.openStart>e.depth)throw new xm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new xm("Inconsistent open depths");return MN(e,t,n,0)}function MN(e,t,n,r){let s=e.index(r),o=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let i=MN(e,t,n,r+1);return o.copy(o.content.replaceChild(s,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let i=e.parent,a=i.content;return ul(i,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:i,end:a}=Yne(n,e);return ul(o,RN(e,i,a,t,r))}else return ul(o,Tm(e,t,r))}function IN(e,t){if(!t.type.compatibleContent(e.type))throw new xm("Cannot join "+t.type.name+" onto "+e.type.name)}function Jb(e,t,n){let r=e.node(n);return IN(r,t.node(n)),r}function cl(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Rd(e,t,n,r){let s=(t||e).node(n),o=0,i=t?t.index(n):s.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(cl(e.nodeAfter,r),o++));for(let a=o;a<i;a++)cl(s.child(a),r);t&&t.depth==n&&t.textOffset&&cl(t.nodeBefore,r)}function ul(e,t){return e.type.checkContent(t),e.copy(t)}function RN(e,t,n,r,s){let o=e.depth>s&&Jb(e,t,s+1),i=r.depth>s&&Jb(n,r,s+1),a=[];return Rd(null,e,s,a),o&&i&&t.index(s)==n.index(s)?(IN(o,i),cl(ul(o,RN(e,t,n,r,s+1)),a)):(o&&cl(ul(o,Tm(e,t,s+1)),a),Rd(t,n,s,a),i&&cl(ul(i,Tm(n,r,s+1)),a)),Rd(r,null,s,a),new ce(a)}function Tm(e,t,n){let r=[];if(Rd(null,e,n,r),e.depth>n){let s=Jb(e,t,n+1);cl(ul(s,Tm(e,t,n+1)),r)}return Rd(t,null,n,r),new ce(r)}function Yne(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)s=t.node(o).copy(ce.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class of{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)s+=r.child(o).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Rt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let a=r;r=s,s=a}let o=r.marks;for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!s||!o[i].isInSet(s.marks))&&(o=o[i--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Xne(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let i=t;;){let{index:a,offset:l}=i.content.findIndex(o),c=o-l;if(r.push(i,a,s+l),!c||(i=i.child(a),i.isText))break;o=c-1,s+=l+1}return new of(n,r,o)}static resolveCached(t,n){let r=kE.get(t);if(r)for(let o=0;o<r.elts.length;o++){let i=r.elts[o];if(i.pos==n)return i}else kE.set(t,r=new Zne);let s=r.elts[r.i]=of.resolve(t,n);return r.i=(r.i+1)%Jne,s}}class Zne{constructor(){this.elts=[],this.i=0}}const Jne=12,kE=new WeakMap;class Xne{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Qne=Object.create(null);let dl=class Xb{constructor(t,n,r,s=Rt.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||ce.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Em(this.attrs,n||t.defaultAttrs||Qne)&&Rt.sameSet(this.marks,r||Rt.none)}copy(t=null){return t==this.content?this:new Xb(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Xb(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ce.empty;let s=this.resolve(t),o=this.resolve(n),i=r?0:s.sharedDepth(n),a=s.start(i),c=s.node(i).content.cut(s.pos-a,o.pos-a);return new Ce(c,s.depth-i,o.depth-i)}replace(t,n,r){return Kne(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return of.resolveCached(this,t)}resolveNoCache(t){return of.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),NN(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ce.empty,s=0,o=r.childCount){let i=this.contentMatchAt(t).matchFragment(r,s,o),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(t).matchType(r),i=o&&o.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Rt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Rt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=ce.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};dl.prototype.text=void 0;class km extends dl{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new km(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new km(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function NN(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class kl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new ere(t,n);if(r.next==null)return kl.empty;let s=PN(r);r.next&&r.err("Unexpected trailing text");let o=are(ire(s));return lre(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(t.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function o(i,a){let l=i.matchFragment(t,r);if(l&&(!n||l.validEnd))return ce.from(a.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(t)){let i=[];for(let a=s;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<o.next.length;i++){let{type:a,next:l}=o.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)o+=(i?", ":"")+r.next[i].type.name+"->"+t.indexOf(r.next[i].next);return o}).join(`
`)}}kl.empty=new kl(!0);class ere{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function PN(e){let t=[];do t.push(tre(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function tre(e){let t=[];do t.push(nre(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function nre(e){let t=ore(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=rre(e,t);else break;return t}function OE(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function rre(e,t){let n=OE(e),r=n;return e.eat(",")&&(e.next!="}"?r=OE(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function sre(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let o in n){let i=n[o];i.groups.indexOf(t)>-1&&s.push(i)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function ore(e){if(e.eat("(")){let t=PN(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=sre(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function ire(e){let t=[[]];return s(o(e,0),n()),t;function n(){return t.push([])-1}function r(i,a,l){let c={term:l,to:a};return t[i].push(c),c}function s(i,a){i.forEach(l=>l.to=a)}function o(i,a){if(i.type=="choice")return i.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(i.type=="seq")for(let l=0;;l++){let c=o(i.exprs[l],a);if(l==i.exprs.length-1)return c;s(c,a=n())}else if(i.type=="star"){let l=n();return r(a,l),s(o(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return s(o(i.expr,a),l),s(o(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(o(i.expr,a));if(i.type=="range"){let l=a;for(let c=0;c<i.min;c++){let u=n();s(o(i.expr,l),u),l=u}if(i.max==-1)s(o(i.expr,l),l);else for(let c=i.min;c<i.max;c++){let u=n();r(l,u),s(o(i.expr,l),u),l=u}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function DN(e,t){return t-e}function AE(e,t){let n=[];return r(t),n.sort(DN);function r(s){let o=e[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let i=0;i<o.length;i++){let{term:a,to:l}=o[i];!a&&n.indexOf(l)==-1&&r(l)}}}function are(e){let t=Object.create(null);return n(AE(e,0));function n(r){let s=[];r.forEach(i=>{e[i].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);AE(e,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new kl(r.indexOf(e.length-1)>-1);for(let i=0;i<s.length;i++){let a=s[i][1].sort(DN);o.next.push({type:s[i][0],next:t[a.join(",")]||n(a)})}return o}}function lre(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],o=!s.validEnd,i=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];i.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function LN(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function FN(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let o=e[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function jN(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let o=e[s];o.validate&&o.validate(t[s])}}function UN(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new ure(e,r,t[r]);return n}let ME=class BN{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=UN(t,r.attrs),this.defaultAttrs=LN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==kl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:FN(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new dl(this,this.computeAttrs(t),ce.from(n),Rt.setFrom(r))}createChecked(t=null,n,r){return n=ce.from(n),this.checkContent(n),new dl(this,this.computeAttrs(t),n,Rt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ce.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(ce.empty,!0);return o?new dl(this,t,n.append(o),Rt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){jN(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Rt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,i)=>r[o]=new BN(o,n,i));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function cre(e,t,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class ure{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?cre(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class i1{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=UN(t,s.attrs),this.excluded=null;let o=LN(this.attrs);this.instance=o?new Rt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Rt(this,FN(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((o,i)=>r[o]=new i1(o,s++,n,i)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){jN(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class dre{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Wn.from(t.nodes),n.marks=Wn.from(t.marks||{}),this.nodes=ME.compile(this.spec.nodes,this),this.marks=i1.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],i=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[i]||(r[i]=kl.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?IE(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],i=o.spec.excludes;o.excluded=i==null?[o]:i==""?[]:IE(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof ME){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new km(r,r.defaultAttrs,t,Rt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return dl.fromJSON(this,t)}markFromJSON(t){return Rt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function IE(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],o=e.marks[s],i=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function fre(e){return e.tag!=null}function hre(e){return e.style!=null}class af{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(fre(s))this.tags.push(s);else if(hre(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=t.nodes[s.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new NE(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new NE(this,n,!0);return r.addAll(t,n.from,n.to),Ce.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(gre(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let i=o.getAttrs(t);if(i===!1)continue;o.attrs=i||void 0}return o}}}matchStyle(t,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let i=this.styles[o],a=i.style;if(!(a.indexOf(t)!=0||i.context&&!r.matchesContext(i.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(t){let n=[];function r(s){let o=s.priority==null?50:s.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<o)break}n.splice(i,0,s)}for(let s in t.marks){let o=t.marks[s].spec.parseDOM;o&&o.forEach(i=>{r(i=PE(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in t.nodes){let o=t.nodes[s].spec.parseDOM;o&&o.forEach(i=>{r(i=PE(i)),i.node||i.ignore||i.mark||(i.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new af(t,af.schemaRules(t)))}}const qN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pre={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},GN={ol:!0,ul:!0},Om=1,Am=2,Ip=4;function RE(e,t,n){return t!=null?(t?Om:0)|(t==="full"?Am:0):e&&e.whitespace=="pre"?Om|Am:n&-5}class Jh{constructor(t,n,r,s,o,i,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=o,this.options=a,this.content=[],this.activeMarks=Rt.none,this.stashMarks=[],this.match=i||(a&Ip?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Om)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=ce.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):vre(s.type,t))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!qN.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class NE{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,o,i=RE(null,n.preserveWhitespace,0)|(r?Ip:0);s?o=new Jh(s.type,s.attrs,Rt.none,Rt.none,!0,n.topMatch||s.type.contentMatch,i):r?o=new Jh(null,null,Rt.none,Rt.none,!0,null,i):o=new Jh(t.schema.topNodeType,null,Rt.none,Rt.none,!0,null,i),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let s=this.readStyles(t.style);if(!s)return;let[o,i]=s,a=this.top;for(let l=0;l<i.length;l++)this.removePendingMark(i[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<i.length;l++)this.addPendingMark(i[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&Am||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Om)r.options&Am?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],o=t.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),s;GN.hasOwnProperty(r)&&this.parser.normalizeLists&&mre(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));if(o?o.ignore:pre.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let i,a=this.top,l=this.needsBlock;if(qN.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),i=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}o&&o.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),i&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,o,o.consuming===!1?s:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Rt.none,r=Rt.none;if(t.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],i=t.getPropertyValue(o);if(i)for(let a=void 0;;){let l=this.parser.matchStyle(o,i,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{l.clearMark(c)&&(r=c.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)a=l;else break}}return[n,r]}addElementByRule(t,n,r){let s,o,i;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):s=this.enter(o,n.attrs||null,n.preserveWhitespace)):(i=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(i));let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}s&&this.sync(a)&&this.open--,i&&this.removePendingMark(i,a)}addAll(t,n,r){let s=n||0;for(let o=n?t.childNodes[n]:t.firstChild,i=r==null?null:t.childNodes[r];o!=i;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o);this.findAtPoint(t,s)}findPlace(t){let n,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],i=o.findWrapping(t);if(i&&(!n||n.length>i.length)&&(n=i,r=o,!i.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let s=0;s<t.marks.length;s++)(!n.type||n.type.allowsMarkType(t.marks[s].type))&&(r=t.marks[s].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let s=this.findPlace(t.create(n));return s&&this.enterInner(t,n,!0,r),s}enterInner(t,n=null,r=!1,s){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let i=RE(t,s,o.options);o.options&Ip&&o.content.length==0&&(i|=Ip),this.nodes.push(new Jh(t,n,o.activeMarks,o.pendingMarks,r,null,i)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),i=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(i(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=_re(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(t)>-1)s.pendingMarks=t.removeFromSet(s.pendingMarks);else{s.activeMarks=t.removeFromSet(s.activeMarks);let i=s.popFromStashMark(t);i&&s.type&&s.type.allowsMarkType(i.type)&&(s.activeMarks=i.addToSet(s.activeMarks))}if(s==n)break}}}function mre(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&GN.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function gre(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function PE(e){let t={};for(let n in e)t[n]=e[n];return t}function vre(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let o=[],i=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||o.indexOf(u)<0&&i(u))return!0}};if(i(s.contentMatch))return!0}}function _re(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Pu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=G_(n).createDocumentFragment());let s=r,o=[];return t.forEach(i=>{if(o.length||i.marks.length){let a=0,l=0;for(;a<o.length&&l<i.marks.length;){let c=i.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)s=o.pop()[1];for(;l<i.marks.length;){let c=i.marks[l++],u=this.serializeMark(c,i.isInline,n);u&&(o.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=Rp(G_(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let o=this.serializeMark(t.marks[s],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&Rp(G_(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return Rp(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Pu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=DE(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return DE(t.marks)}}function DE(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function G_(e){return e.document||window.document}const LE=new WeakMap;function yre(e){let t=LE.get(e);return t===void 0&&LE.set(e,t=bre(e)),t}function bre(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function Rp(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=yre(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(n=s.slice(0,i),s=s.slice(i+1));let a,l=n?e.createElementNS(n,s):e.createElement(s),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:g}=Rp(e,f,n,r);if(l.appendChild(p),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const VN=65535,HN=Math.pow(2,16);function Cre(e,t){return e+t*HN}function FE(e){return e&VN}function Sre(e){return(e-(e&VN))/HN}const zN=1,$N=2,Np=4,WN=8;class Qb{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&WN)>0}get deletedBefore(){return(this.delInfo&(zN|Np))>0}get deletedAfter(){return(this.delInfo&($N|Np))>0}get deletedAcross(){return(this.delInfo&Np)>0}}class Kr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Kr.empty)return Kr.empty}recover(t){let n=0,r=FE(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Sre(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>t)break;let c=this.ranges[a+o],u=this.ranges[a+i],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,p=l+s+(f<0?0:u);if(r)return p;let g=t==(n<0?l:d)?null:Cre(a/3,t-l),v=t==l?$N:t==d?zN:Np;return(n<0?t!=l:t!=d)&&(v|=WN),new Qb(p,v,g)}s+=u-c}return r?t+s:new Qb(t+s,0,null)}touches(t,n){let r=0,s=FE(n),o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],u=l+c;if(t<=u&&a==s*3)return!0;r+=this.ranges[a+i]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let i=this.ranges[s],a=i-(this.inverted?o:0),l=i+(this.inverted?0:o),c=this.ranges[s+n],u=this.ranges[s+r];t(a,a+c,l,l+u),o+=u-c}}invert(){return new Kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Kr.empty:new Kr(t<0?[0,-t,0]:[0,0,t])}}Kr.empty=new Kr([]);class Kc{constructor(t=[],n,r=0,s=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=s}slice(t=0,n=this.maps.length){return new Kc(this.maps,this.mirror,t,n)}copy(){return new Kc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let s=t.getMirror(n);this.appendMap(t.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new Kc;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let o=this.from;o<this.to;o++){let i=this.maps[o],a=i.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,t=a.pos}return r?t:new Qb(t,s,null)}}const V_=Object.create(null);class pr{getMap(){return Kr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=V_[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in V_)throw new RangeError("Duplicate use of step JSON ID "+t);return V_[t]=n,n.prototype.jsonID=t,n}}class Sn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Sn(t,null)}static fail(t){return new Sn(null,t)}static fromReplace(t,n,r,s){try{return Sn.ok(t.replace(n,r,s))}catch(o){if(o instanceof xm)return Sn.fail(o.message);throw o}}}function s6(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let o=e.child(s);o.content.size&&(o=o.copy(s6(o.content,t,o))),o.isInline&&(o=t(o,n,s)),r.push(o)}return ce.fromArray(r)}class Hi extends pr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new Ce(s6(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),n.openStart,n.openEnd);return Sn.fromReplace(t,this.from,this.to,o)}invert(){return new wo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hi(n.pos,r.pos,this.mark)}merge(t){return t instanceof Hi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Hi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hi(n.from,n.to,t.markFromJSON(n.mark))}}pr.jsonID("addMark",Hi);class wo extends pr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ce(s6(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return Sn.fromReplace(t,this.from,this.to,r)}invert(){return new Hi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new wo(n.pos,r.pos,this.mark)}merge(t){return t instanceof wo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new wo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wo(n.from,n.to,t.markFromJSON(n.mark))}}pr.jsonID("removeMark",wo);class zi extends pr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Sn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new zi(this.pos,n.marks[s]);return new zi(this.pos,this.mark)}}return new yu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new zi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zi(n.pos,t.markFromJSON(n.mark))}}pr.jsonID("addNodeMark",zi);class yu extends pr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Sn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new zi(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new yu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yu(n.pos,t.markFromJSON(n.mark))}}pr.jsonID("removeNodeMark",yu);class ar extends pr{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&eC(t,this.from,this.to)?Sn.fail("Structure replace would overwrite content"):Sn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Kr([this.from,this.to-this.from,this.slice.size])}invert(t){return new ar(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ar(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ar)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ce.empty:new Ce(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ar(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ce.empty:new Ce(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ar(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ar(n.from,n.to,Ce.fromJSON(t,n.slice),!!n.structure)}}pr.jsonID("replace",ar);class Jr extends pr{constructor(t,n,r,s,o,i,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=i,this.structure=a}apply(t){if(this.structure&&(eC(t,this.from,this.gapFrom)||eC(t,this.gapTo,this.to)))return Sn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Sn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Sn.fromReplace(t,this.from,this.to,r):Sn.fail("Content does not fit in gap")}getMap(){return new Kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Jr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Jr(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jr(n.from,n.to,n.gapFrom,n.gapTo,Ce.fromJSON(t,n.slice),n.insert,!!n.structure)}}pr.jsonID("replaceAround",Jr);function eC(e,t,n){let r=e.resolve(t),s=n-t,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let i=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function wre(e,t,n,r){let s=[],o=[],i,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),p=Math.min(c+l.nodeSize,n),g=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(g)||(i&&i.to==f&&i.mark.eq(d[v])?i.to=p:s.push(i=new wo(f,p,d[v])));a&&a.to==f?a.to=p:o.push(a=new Hi(f,p,r))}}),s.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function Ere(e,t,n,r){let s=[],o=0;e.doc.nodesBetween(t,n,(i,a)=>{if(!i.isInline)return;o++;let l=null;if(r instanceof i1){let c=i.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let c=Math.min(a+i.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<s.length;p++){let g=s[p];g.step==o-1&&d.eq(s[p].style)&&(f=g)}f?(f.to=c,f.step=o):s.push({style:d,from:Math.max(a,t),to:c,step:o})}}}),s.forEach(i=>e.step(new wo(i.from,i.to,i.style)))}function KN(e,t,n,r=n.contentMatch,s=!0){let o=e.doc.nodeAt(t),i=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)i.push(new ar(a,u,Ce.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new wo(a,u,c.marks[f]));if(s&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,g;for(;f=p.exec(c.text);)g||(g=new Ce(ce.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),i.push(new ar(a+f.index,a+f.index+f[0].length,g))}}a=u}if(!r.validEnd){let l=r.fillBefore(ce.empty,!0);e.replace(a,a,new Ce(l,0,0))}for(let l=i.length-1;l>=0;l--)e.step(i[l])}function xre(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function o6(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let s=e.$from.node(r),o=e.$from.index(r),i=e.$to.indexAfter(r);if(r<e.depth&&s.canReplace(o,i,n))return r;if(r==0||s.type.spec.isolating||!xre(s,o,i))break}return null}function Tre(e,t,n){let{$from:r,$to:s,depth:o}=t,i=r.before(o+1),a=s.after(o+1),l=i,c=a,u=ce.empty,d=0;for(let g=o,v=!1;g>n;g--)v||r.index(g)>0?(v=!0,u=ce.from(r.node(g).copy(u)),d++):l--;let f=ce.empty,p=0;for(let g=o,v=!1;g>n;g--)v||s.after(g+1)<s.end(g)?(v=!0,f=ce.from(s.node(g).copy(f)),p++):c++;e.step(new Jr(l,c,i,a,new Ce(u.append(f),d,p),u.size-d,!0))}function kre(e,t,n=null,r=e){let s=Ore(e,t),o=s&&Are(r,t);return o?s.map(jE).concat({type:t,attrs:n}).concat(o.map(jE)):null}function jE(e){return{type:e,attrs:null}}function Ore(e,t){let{parent:n,startIndex:r,endIndex:s}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let i=o.length?o[0]:t;return n.canReplaceWith(r,s,i)?o:null}function Are(e,t){let{parent:n,startIndex:r,endIndex:s}=e,o=n.child(r),i=t.contentMatch.findWrapping(o.type);if(!i)return null;let l=(i.length?i[i.length-1]:t).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:i}function Mre(e,t,n){let r=ce.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ce.from(n[i].type.create(n[i].attrs,r))}let s=t.start,o=t.end;e.step(new Jr(s,o,s,o,new Ce(r,0,0),n.length,!0))}function Ire(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(i,a)=>{if(i.isTextblock&&!i.hasMarkup(r,s)&&Pre(e.doc,e.mapping.slice(o).map(a),r)){let l=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?l=!1:!f&&p&&(l=!0)}l===!1&&Nre(e,i,a,o),KN(e,e.mapping.slice(o).map(a,1),r,void 0,l===null);let c=e.mapping.slice(o),u=c.map(a,1),d=c.map(a+i.nodeSize,1);return e.step(new Jr(u,d,u+1,d-1,new Ce(ce.from(r.create(s,null,i.marks)),0,0),1,!0)),l===!0&&Rre(e,i,a,o),!1}})}function Rre(e,t,n,r){t.forEach((s,o)=>{if(s.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(s.text);){let l=e.mapping.slice(r).map(n+1+o+i.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Nre(e,t,n,r){t.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+o);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function Pre(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Dre(e,t,n,r,s){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let i=n.create(r,null,s||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,i);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Jr(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Ce(ce.from(i),0,0),1,!0))}function Pp(e,t,n=1,r){let s=e.resolve(t),o=s.depth-n,i=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>o;c--,u--){let d=s.node(c),f=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),g=r&&r[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(p))return!1}let a=s.indexAfter(o),l=r&&r[0];return s.node(o).canReplaceWith(a,a,l?l.type:s.node(o+1).type)}function Lre(e,t,n=1,r){let s=e.doc.resolve(t),o=ce.empty,i=ce.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){o=ce.from(s.node(a).copy(o));let u=r&&r[c];i=ce.from(u?u.type.create(u.attrs,i):s.node(a).copy(i))}e.step(new ar(t,t,new Ce(o.append(i),n,n),!0))}function YN(e,t){let n=e.resolve(t),r=n.index();return Fre(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Fre(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function jre(e,t,n){let r=new ar(t-n,t+n,Ce.empty,!0);e.step(r)}function Ure(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function Bre(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),c=r.node(i),u=!1;if(o==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function i6(e,t,n=t,r=Ce.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),o=e.resolve(n);return ZN(s,o,r)?new ar(t,n,r):new qre(s,o,r).fit()}function ZN(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class qre{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ce.empty;for(let s=0;s<=t.depth;s++){let o=t.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=ce.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let o=this.placed,i=r.depth,a=s.depth;for(;i&&a&&o.childCount==1;)o=o.firstChild.content,i--,a--;let l=new Ce(o,i,a);return t>-1?new Jr(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ar(r.pos,s.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=H_(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let i=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(i?c.matchType(i.type)||(d=c.fillBefore(ce.from(i),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=H_(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Ce(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=H_(t,n);if(s.childCount<=1&&n>0){let o=t.size-n<=n+s.size;this.unplaced=new Ce(vd(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Ce(vd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)u.push(s.child(v));d=d.matchFragment(s)}let p=a.size+t-(i.content.size-i.openEnd);for(;c<a.childCount;){let v=a.child(c),_=d.matchType(v.type);if(!_)break;c++,(c>1||l==0||v.content.size)&&(d=_,u.push(JN(v.mark(f.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?p:-1)))}let g=c==a.childCount;g||(p=-1),this.placed=_d(this.placed,n,ce.from(u)),this.frontier[n].match=d,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,_=a;v<p;v++){let y=_.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),_=y.content}this.unplaced=g?t==0?Ce.empty:new Ce(vd(i.content,t-1,1),t-1,p<0?i.openEnd:t-1):new Ce(vd(i.content,t,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!z_(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),i=z_(t,n,s,r,o);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=z_(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:i,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=_d(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,o)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=_d(this.placed,this.depth,ce.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=_d(this.placed,this.frontier.length,n))}}function vd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(vd(e.firstChild.content,t-1,n)))}function _d(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(_d(e.lastChild.content,t-1,n)))}function H_(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function JN(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,JN(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ce.empty,!0)))),e.copy(r)}function z_(e,t,n,r,s){let o=e.node(t),i=s?e.indexAfter(t):e.index(t);if(i==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,i);return a&&!Gre(n,o.content,i)?a:null}function Gre(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Vre(e){return e.spec.defining||e.spec.definingForContent}function Hre(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),o=e.doc.resolve(n);if(ZN(s,o,r))return e.step(new ar(t,n,r));let i=QN(s,e.doc.resolve(n));i[i.length-1]==0&&i.pop();let a=-(s.depth+1);i.unshift(a);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let g=s.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;i.indexOf(f)>-1?a=f:s.before(f)==p&&i.splice(1,0,-f)}let l=i.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let g=f.firstChild;if(c.push(g),p==r.openStart)break;f=g.content}for(let f=u-1;f>=0;f--){let p=c[f],g=Vre(p.type);if(g&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(g||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),g=c[p];if(g)for(let v=0;v<i.length;v++){let _=i[(v+l)%i.length],y=!0;_<0&&(y=!1,_=-_);let b=s.node(_-1),w=s.index(_-1);if(b.canReplaceWith(w,w,g.type,g.marks))return e.replace(s.before(_),y?o.after(_):n,new Ce(XN(r.content,0,r.openStart,p),p,r.openEnd))}}let d=e.steps.length;for(let f=i.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let p=i[f];p<0||(t=s.before(p),n=o.after(p))}}function XN(e,t,n,r,s){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(XN(o.content,t+1,n,r,o)))}if(t>r){let o=s.contentMatchAt(0),i=o.fillBefore(e).append(e);e=i.append(o.matchFragment(i).fillBefore(ce.empty,!0))}return e}function zre(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=Ure(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new Ce(ce.from(r),0,0))}function $re(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),o=QN(r,s);for(let i=0;i<o.length;i++){let a=o[i],l=i==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return e.delete(r.before(a),s.after(a))}for(let i=1;i<=r.depth&&i<=s.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&s.end(i)-n!=s.depth-i)return e.delete(r.before(i),n);e.delete(t,n)}function QN(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let o=e.start(s);if(o<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(o==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==o-1)&&n.push(s)}return n}class Yc extends pr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Sn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Sn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(s),0,n.isLeaf?0:1))}getMap(){return Kr.empty}invert(t){return new Yc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Yc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Yc(n.pos,n.attr,n.value)}}pr.jsonID("attr",Yc);class lf extends pr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Sn.ok(r)}getMap(){return Kr.empty}invert(t){return new lf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new lf(n.attr,n.value)}}pr.jsonID("docAttr",lf);let bu=class extends Error{};bu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};bu.prototype=Object.create(Error.prototype);bu.prototype.constructor=bu;bu.prototype.name="TransformError";class Wre{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Kc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new bu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ce.empty){let s=i6(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new Ce(ce.from(r),0,0))}delete(t,n){return this.replace(t,n,Ce.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Hre(this,t,n,r),this}replaceRangeWith(t,n,r){return zre(this,t,n,r),this}deleteRange(t,n){return $re(this,t,n),this}lift(t,n){return Tre(this,t,n),this}join(t,n=1){return jre(this,t,n),this}wrap(t,n){return Mre(this,t,n),this}setBlockType(t,n=t,r,s=null){return Ire(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return Dre(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new Yc(t,n,r)),this}setDocAttribute(t,n){return this.step(new lf(t,n)),this}addNodeMark(t,n){return this.step(new zi(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Rt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new yu(t,n)),this}split(t,n=1,r){return Lre(this,t,n,r),this}addMark(t,n,r){return wre(this,t,n,r),this}removeMark(t,n,r){return Ere(this,t,n,r),this}clearIncompatible(t,n,r){return KN(this,t,n,r),this}}const $_=Object.create(null);class Ct{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Kre(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ce.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let o=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?Ce.empty:n),a==0&&qE(t,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:i,$to:a}=s[o],l=t.mapping.slice(r),c=l.map(i.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),qE(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new Ot(t):Mc(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let o=t.depth-1;o>=0;o--){let i=n<0?Mc(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):Mc(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(i)return i}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Xr(t.node(0))}static atStart(t){return Mc(t,t,0,0,1)||new Xr(t)}static atEnd(t){return Mc(t,t,t.content.size,t.childCount,-1)||new Xr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$_[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in $_)throw new RangeError("Duplicate use of selection JSON ID "+t);return $_[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ot.between(this.$anchor,this.$head).getBookmark()}}Ct.prototype.visible=!0;class Kre{constructor(t,n){this.$from=t,this.$to=n}}let UE=!1;function BE(e){!UE&&!e.parent.inlineContent&&(UE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ot extends Ct{constructor(t,n=t){BE(t),BE(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ct.near(r);let s=t.resolve(n.map(this.anchor));return new Ot(s.parent.inlineContent?s:r,r)}replace(t,n=Ce.empty){if(super.replace(t,n),n==Ce.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ot&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new a1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ot(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Ct.findFrom(n,r,!0)||Ct.findFrom(n,-r,!0);if(o)n=o.$head;else return Ct.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(Ct.findFrom(t,-r,!0)||Ct.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new Ot(t,n)}}Ct.jsonID("text",Ot);class a1{constructor(t,n){this.anchor=t,this.head=n}map(t){return new a1(t.map(this.anchor),t.map(this.head))}resolve(t){return Ot.between(t.resolve(this.anchor),t.resolve(this.head))}}class Qe extends Ct{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=t.resolve(s);return r?Ct.near(o):new Qe(o)}content(){return new Ce(ce.from(this.node),0,0)}eq(t){return t instanceof Qe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new a6(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Qe(t.resolve(n.anchor))}static create(t,n){return new Qe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Qe.prototype.visible=!1;Ct.jsonID("node",Qe);class a6{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new a1(r,r):new a6(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Qe.isSelectable(r)?new Qe(n):Ct.near(n)}}class Xr extends Ct{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ce.empty){if(n==Ce.empty){t.delete(0,t.doc.content.size);let r=Ct.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Xr(t)}map(t){return new Xr(t)}eq(t){return t instanceof Xr}getBookmark(){return Yre}}Ct.jsonID("all",Xr);const Yre={map(){return this},resolve(e){return new Xr(e)}};function Mc(e,t,n,r,s,o=!1){if(t.inlineContent)return Ot.create(e,n);for(let i=r-(s>0?0:1);s>0?i<t.childCount:i>=0;i+=s){let a=t.child(i);if(a.isAtom){if(!o&&Qe.isSelectable(a))return Qe.create(e,n-(s<0?a.nodeSize:0))}else{let l=Mc(e,a,n+s,s<0?a.childCount:0,s,o);if(l)return l}n+=a.nodeSize*s}return null}function qE(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof ar||s instanceof Jr))return;let o=e.mapping.maps[r],i;o.forEach((a,l,c,u)=>{i==null&&(i=u)}),e.setSelection(Ct.near(e.doc.resolve(i),n))}const GE=1,VE=2,HE=4;class Zre extends Wre{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|GE)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&GE)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=VE,this}ensureMarks(t){return Rt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&VE)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Rt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let i=this.doc.resolve(n);o=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,o)),this.selection.empty||this.setSelection(Ct.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=HE,this}get scrolledIntoView(){return(this.updated&HE)>0}}function zE(e,t){return!t||!e?e:e.bind(t)}class yd{constructor(t,n,r){this.name=t,this.init=zE(n.init,r),this.apply=zE(n.apply,r)}}const Jre=[new yd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new yd("selection",{init(e,t){return e.selection||Ct.atStart(t.doc)},apply(e){return e.selection}}),new yd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new yd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class W_{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jre.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yd(r.key,r.spec.state,r))})}}class Uc{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=s?s[i].n:0,c=s?s[i].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<i?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}s&&(s[i]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Uc(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Zre(this)}static create(t){let n=new W_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Uc(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new W_(this.schema,t.plugins),r=n.fields,s=new Uc(n);for(let o=0;o<r.length;o++){let i=r[o].name;s[i]=this.hasOwnProperty(i)?this[i]:r[o].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new W_(t.schema,t.plugins),o=new Uc(s);return s.fields.forEach(i=>{if(i.name=="doc")o.doc=dl.fromJSON(t.schema,n.doc);else if(i.name=="selection")o.selection=Ct.fromJSON(o.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[i.name]=c.fromJSON.call(l,t,n[a],o);return}}o[i.name]=i.init(t,o)}}),o}}function eP(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=eP(s,t,{})),n[r]=s}return n}class Lo{constructor(t){this.spec=t,this.props={},t.props&&eP(t.props,this,this.props),this.key=t.key?t.key.key:tP("plugin")}getState(t){return t[this.key]}}const K_=Object.create(null);function tP(e){return e in K_?e+"$"+ ++K_[e]:(K_[e]=0,e+"$")}class yi{constructor(t="key"){this.key=tP(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Dp=new yi("customKeymapPlugin");function Xre(e,t){e.dispatch(e.state.tr.setMeta(Dp,{handlers:t}))}function Qre(e={handlers:{}}){return new Lo({key:Dp,state:{init(){return{...e}},apply(t,n){const r=t.getMeta(Dp);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){if(Zg(n))return!1;const s=Dp.getState(t.state).handlers[n.key];return s?s(n):!1}}})}const nP=new yi("transactionEventPlugin"),tC="prosemirrorDispatchTransaction";function l6(e,t){const{eventTarget:n}=nP.getState(e.state);return n.addEventListener(tC,t),()=>{n.removeEventListener(tC,t)}}function ese(e){return new Lo({key:nP,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}class rP{registerKeyHandlers(t){}}class sP extends rP{constructor(t){super(),this.view=t}registerKeyHandlers(t){Xre(this.view,t)}subscribe(t,n){if(t==="change"){const r=()=>{n(void 0)};return l6(this.view,r)}return this.view.dom?.addEventListener(t,n,{capture:!0}),()=>{this.view.dom?.removeEventListener(t,n,{capture:!0})}}}class A4e extends rP{subscribe(){return()=>{}}}const oP={shift:!1,ctrl:!1,meta:!1},nC=cn(()=>oP),tse=nC.getState;function nse(e){return fn(e)?rg(e,"4147197039"):null}const rse=5e3;function sse(e,t){const n=nse(e);if(tse().shift||!t||t.length<rse)return!1;const s=n?.get("paste_threshold",0)??0;return s>0?t.length>=s:!1}async function M4e(e){const t=await le(()=>import("./pbsznomsnj7v0ots.js"),__vite__mapDeps([4,1,5]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}const iP=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ose(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const c6=(e,t,n)=>{let r=ose(e,n);if(!r)return!1;let s=aP(r);if(!s){let i=r.blockRange(),a=i&&o6(i);return a==null?!1:(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}let o=s.nodeBefore;if(!o.type.spec.isolating&&fP(e,s,t))return!0;if(r.parent.content.size==0&&(Cu(o,"end")||Qe.isSelectable(o))){let i=i6(e.doc,r.before(),r.after(),Ce.empty);if(i&&i.slice.size<i.to-i.from){if(t){let a=e.tr.step(i);a.setSelection(Cu(o,"end")?Ct.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):Qe.create(a.doc,s.pos-o.nodeSize)),t(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1};function Cu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const ise=(e,t,n)=>{let{$head:r,empty:s}=e.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=aP(r)}let i=o&&o.nodeBefore;return!i||!Qe.isSelectable(i)?!1:(t&&t(e.tr.setSelection(Qe.create(e.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)};function aP(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function ase(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const lse=(e,t,n)=>{let r=ase(e,n);if(!r)return!1;let s=lP(r);if(!s)return!1;let o=s.nodeAfter;if(fP(e,s,t))return!0;if(r.parent.content.size==0&&(Cu(o,"start")||Qe.isSelectable(o))){let i=i6(e.doc,r.before(),r.after(),Ce.empty);if(i&&i.slice.size<i.to-i.from){if(t){let a=e.tr.step(i);a.setSelection(Cu(o,"start")?Ct.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):Qe.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},cse=(e,t,n)=>{let{$head:r,empty:s}=e.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=lP(r)}let i=o&&o.nodeAfter;return!i||!Qe.isSelectable(i)?!1:(t&&t(e.tr.setSelection(Qe.create(e.doc,o.pos)).scrollIntoView()),!0)};function lP(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const use=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function u6(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dse=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),i=u6(s.contentMatchAt(o));if(!i||!s.canReplaceWith(o,o,i))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,i.createAndFill());l.setSelection(Ct.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},cP=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Xr||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=u6(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let i=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=e.tr.insert(i,o.createAndFill());a.setSelection(Ot.create(a.doc,i+1)),t(a.scrollIntoView())}return!0},uP=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Pp(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&o6(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function fse(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof Qe&&t.selection.node.isBlock)return!r.parentOffset||!Pp(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=s.parentOffset==s.parent.content.size,i=t.tr;(t.selection instanceof Ot||t.selection instanceof Xr)&&i.deleteSelection();let a=r.depth==0?null:u6(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=o&&a?[{type:a}]:void 0,c=Pp(i.doc,i.mapping.map(r.pos),1,l);if(!l&&!c&&Pp(i.doc,i.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),c=!0),c&&(i.split(i.mapping.map(r.pos),1,l),!o&&!r.parentOffset&&r.parent.type!=a)){let u=i.mapping.map(r.before()),d=i.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&i.setNodeMarkup(i.mapping.map(r.before()),a)}n(i.scrollIntoView())}return!0}}const dP=fse(),hse=(e,t)=>(t&&t(e.tr.setSelection(new Xr(e.doc))),!0);function pse(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,o=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(s.isTextblock||YN(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function fP(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,o,i;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(pse(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(o=(i=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let d=t.pos+s.nodeSize,f=ce.empty;for(let v=o.length-1;v>=0;v--)f=ce.from(o[v].create(null,f));f=ce.from(r.copy(f));let p=e.tr.step(new Jr(t.pos-1,d,t.pos,d,new Ce(f,1,0),o.length,!0)),g=d+2*o.length;YN(p.doc,g)&&p.join(g),n(p.scrollIntoView())}return!0}let l=Ct.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&o6(c);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&Cu(s,"start",!0)&&Cu(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=s,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let v=ce.empty;for(let y=f.length-1;y>=0;y--)v=ce.from(f[y].copy(v));let _=e.tr.step(new Jr(t.pos-f.length,t.pos+s.nodeSize,t.pos+g,t.pos+s.nodeSize-g,new Ce(v,f.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function hP(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(t.tr.setSelection(Ot.create(t.doc,e<0?s.start(o):s.end(o)))),!0):!1}}const mse=hP(-1),gse=hP(1);function I4e(e,t=null){return function(n,r){let{$from:s,$to:o}=n.selection,i=s.blockRange(o),a=i&&kre(i,e,t);return a?(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function R4e(e,t=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(i,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,e)}})}if(!s)return!1;if(r){let o=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}function vse(e,t,n){for(let r=0;r<t.length;r++){let{$from:s,$to:o}=t[r],i=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,o.pos,a=>{if(i)return!1;i=a.inlineContent&&a.type.allowsMarkType(n)}),i)return!0}return!1}function N4e(e,t=null){return function(n,r){let{empty:s,$cursor:o,ranges:i}=n.selection;if(s&&!o||!vse(n.doc,i,e))return!1;if(r)if(o)e.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<i.length;c++){let{$from:u,$to:d}=i[c];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let c=0;c<i.length;c++){let{$from:u,$to:d}=i[c];if(a)l.removeMark(u.pos,d.pos,e);else{let f=u.pos,p=d.pos,g=u.nodeAfter,v=d.nodeBefore,_=g&&g.isText?/^\s*/.exec(g.text)[0].length:0,y=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;f+_<p&&(f+=_,p-=y),l.addMark(f,p,e.create(t))}}r(l.scrollIntoView())}return!0}}function l1(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}let Y_=l1(iP,c6,ise),$E=l1(iP,lse,cse);const Yo={Enter:l1(use,cP,uP,dP),"Mod-Enter":dse,Backspace:Y_,"Mod-Backspace":Y_,"Shift-Backspace":Y_,Delete:$E,"Mod-Delete":$E,"Mod-a":hse},pP={"Ctrl-h":Yo.Backspace,"Alt-Backspace":Yo["Mod-Backspace"],"Ctrl-d":Yo.Delete,"Ctrl-Alt-Backspace":Yo["Mod-Delete"],"Alt-Delete":Yo["Mod-Delete"],"Alt-d":Yo["Mod-Delete"],"Ctrl-a":mse,"Ctrl-e":gse};for(let e in Yo)pP[e]=Yo[e];const _se=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,WE=_se?pP:Yo;var fa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Mm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yse=typeof navigator<"u"&&/Mac/.test(navigator.platform),bse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Zn=0;Zn<10;Zn++)fa[48+Zn]=fa[96+Zn]=String(Zn);for(var Zn=1;Zn<=24;Zn++)fa[Zn+111]="F"+Zn;for(var Zn=65;Zn<=90;Zn++)fa[Zn]=String.fromCharCode(Zn+32),Mm[Zn]=String.fromCharCode(Zn);for(var Z_ in fa)Mm.hasOwnProperty(Z_)||(Mm[Z_]=fa[Z_]);function Cse(e){var t=yse&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||bse&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Mm:fa)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Sse=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function wse(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,o,i;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Sse?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),i&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Ese(e){let t=Object.create(null);for(let n in e)t[wse(n)]=e[n];return t}function J_(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function xse(e){return new Lo({props:{handleKeyDown:mP(e)}})}function mP(e){let t=Ese(e);return function(n,r){let s=Cse(r),o,i=t[J_(s,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=t[J_(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(o=fa[r.keyCode])&&o!=s){let a=t[J_(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Jn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},cf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let rC=null;const $o=function(e,t,n){let r=rC||(rC=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Tse=function(){rC=null},Ol=function(e,t,n,r){return n&&(KE(e,t,n,r,-1)||KE(e,t,n,r,1))},kse=/^(img|br|input|textarea|hr)$/i;function KE(e,t,n,r,s){for(;;){if(e==n&&t==r)return!0;if(t==(s<0?0:bo(e))){let o=e.parentNode;if(!o||o.nodeType!=1||Xf(e)||kse.test(e.nodeName)||e.contentEditable=="false")return!1;t=Jn(e)+(s<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?bo(e):0}else return!1}}function bo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ose(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=bo(e)}else if(e.parentNode&&!Xf(e))t=Jn(e),e=e.parentNode;else return null}}function Ase(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Xf(e))t=Jn(e)+1,e=e.parentNode;else return null}}function Mse(e,t,n){for(let r=t==0,s=t==bo(e);r||s;){if(e==n)return!0;let o=Jn(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,s=s&&o==bo(e)}}function Xf(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const c1=function(e){return e.focusNode&&Ol(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Za(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Ise(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Rse(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ro=typeof navigator<"u"?navigator:null,YE=typeof document<"u"?document:null,xa=Ro&&Ro.userAgent||"",sC=/Edge\/(\d+)/.exec(xa),gP=/MSIE \d/.exec(xa),oC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xa),Rr=!!(gP||oC||sC),Xi=gP?document.documentMode:oC?+oC[1]:sC?+sC[1]:0,Zs=!Rr&&/gecko\/(\d+)/i.test(xa);Zs&&+(/Firefox\/(\d+)/.exec(xa)||[0,0])[1];const iC=!Rr&&/Chrome\/(\d+)/.exec(xa),ur=!!iC,vP=iC?+iC[1]:0,yr=!Rr&&!!Ro&&/Apple Computer/.test(Ro.vendor),Su=yr&&(/Mobile\/\w+/.test(xa)||!!Ro&&Ro.maxTouchPoints>2),ds=Su||(Ro?/Mac/.test(Ro.platform):!1),Nse=Ro?/Win/.test(Ro.platform):!1,Ls=/Android \d/.test(xa),Qf=!!YE&&"webkitFontSmoothing"in YE.documentElement.style,Pse=Qf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Dse(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Go(e,t){return typeof e=="number"?e:e[t]}function Lse(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function ZE(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let i=n||e.dom;i;i=cf(i)){if(i.nodeType!=1)continue;let a=i,l=a==o.body,c=l?Dse(o):Lse(a),u=0,d=0;if(t.top<c.top+Go(r,"top")?d=-(c.top-t.top+Go(s,"top")):t.bottom>c.bottom-Go(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+Go(s,"top")-c.top:t.bottom-c.bottom+Go(s,"bottom")),t.left<c.left+Go(r,"left")?u=-(c.left-t.left+Go(s,"left")):t.right>c.right-Go(r,"right")&&(u=t.right-c.right+Go(s,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,v=a.scrollTop-p;t={left:t.left-g,top:t.top-v,right:t.right-g,bottom:t.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(i).position))break}}function Fse(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let o=(t.left+t.right)/2,i=n+1;i<Math.min(innerHeight,t.bottom);i+=5){let a=e.root.elementFromPoint(o,i);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:_P(e.dom)}}function _P(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=cf(r));return t}function jse({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;yP(n,r==0?0:r-t)}function yP(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:o}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let gc=null;function Use(e){if(e.setActive)return e.setActive();if(gc)return e.focus(gc);let t=_P(e);e.focus(gc==null?{get preventScroll(){return gc={preventScroll:!0},!0}}:void 0),gc||(gc=!1,yP(t,0))}function bP(e,t){let n,r=2e8,s,o=0,i=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=$o(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let g=f[p];if(g.top<=i&&g.bottom>=a){i=Math.max(g.bottom,i),a=Math.min(g.top,a);let v=g.left>t.left?g.left-t.left:g.right<t.left?t.left-g.right:0;if(v<r){n=u,r=v,s=v&&n.nodeType==3?{left:g.right<t.left?g.right:g.left,top:t.top}:t,u.nodeType==1&&v&&(o=d+(t.left>=(g.left+g.right)/2?1:0));continue}}else g.top>t.top&&!l&&g.left<=t.left&&g.right>=t.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,t.left)),top:g.top});!n&&(t.left>=g.right&&t.top>=g.top||t.left>=g.left&&t.top>=g.bottom)&&(o=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?Bse(n,s):!n||r&&n.nodeType==1?{node:e,offset:o}:bP(n,s)}function Bse(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let o=Di(r,1);if(o.top!=o.bottom&&d6(t,o))return{node:e,offset:s+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function d6(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function qse(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Gse(e,t,n){let{node:r,offset:s}=bP(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();o=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(r,s,o)}function Vse(e,t,n,r){let s=-1;for(let o=t,i=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!i&&l.left>r.left||l.top>r.top?s=a.posBefore:(!i&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),i=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function CP(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let i=e.childNodes[o];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(d6(t,c))return CP(i,t,c)}}if((o=(o+1)%r)==s)break}return e}function Hse(e,t){let n=e.dom.ownerDocument,r,s=0,o=Rse(n,t.left,t.top);o&&({node:r,offset:s}=o);let i=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let c=e.dom.getBoundingClientRect();if(!d6(t,c)||(i=CP(e.dom,t,c),!i))return null}if(yr)for(let c=i;r&&c;c=cf(c))c.draggable&&(r=void 0);if(i=qse(i,t),r){if(Zs&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&s++}let c;Qf&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=Vse(e,r,s,t))}a==null&&(a=Gse(e,i,t));let l=e.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function JE(e){return e.top<e.bottom||e.left<e.right}function Di(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(JE(r))return r}return Array.prototype.find.call(n,JE)||e.getBoundingClientRect()}const zse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SP(e,t,n){let{node:r,offset:s,atom:o}=e.docView.domFromPos(t,n<0?-1:1),i=Qf||Zs;if(r.nodeType==3)if(i&&(zse.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=Di($o(r,s,s),n);if(Zs&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=Di($o(r,s-1,s-1),-1);if(c.top==l.top){let u=Di($o(r,s,s+1),-1);if(u.top!=l.top)return nd(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,nd(Di($o(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==bo(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return X_(l.getBoundingClientRect(),!1)}if(o==null&&s<bo(r)){let l=r.childNodes[s];if(l.nodeType==1)return X_(l.getBoundingClientRect(),!0)}return X_(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==bo(r))){let l=r.childNodes[s-1],c=l.nodeType==3?$o(l,bo(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return nd(Di(c,1),!1)}if(o==null&&s<bo(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?$o(l,0,i?0:1):l.nodeType==1?l:null:null;if(c)return nd(Di(c,-1),!0)}return nd(Di(r.nodeType==3?$o(r):r,-n),n>=0)}function nd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function X_(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function wP(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function $se(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return wP(e,t,()=>{let{node:o}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let i=SP(e,s.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=$o(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const Wse=/[\u0590-\u08ac]/;function Kse(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,i=s==r.parent.content.size,a=e.domSelection();return!Wse.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:i:wP(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:g,focusOffset:v}=e.domSelectionRange(),_=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),_})}let XE=null,QE=null,e8=!1;function Yse(e,t,n){return XE==t&&QE==n?e8:(XE=t,QE=n,e8=n=="up"||n=="down"?$se(e,t,n):Kse(e,t,n))}const vs=0,t8=1,nl=2,No=3;class eh{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=vs,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,i;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}else{let o,i;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(i):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Jn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let o=this.getDesc(s),i;if(o&&(!n||o.node))if(r&&(i=o.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==t&&o!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<o)return s.descAt(t-r-s.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let i=this.children[r],a=o+i.size;if(a>t||i instanceof xP){s=t-o;break}o=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof EP&&o.side>=0;r--);if(n<=0){let o,i=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,i=!1);return o&&n&&i&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Jn(o.dom)+1:0}}else{let o,i=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,i=!1);return o&&i&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Jn(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let i=r,a=0;;a++){let l=this.children[a],c=i+l.size;if(s==-1&&t<=c){let u=i+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=i;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=Jn(f.dom)+1;break}t-=f.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Jn(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let o=Math.min(t,n),i=Math.max(t,n);for(let f=0,p=0;f<this.children.length;f++){let g=this.children[f],v=p+g.size;if(o>p&&i<v)return g.setSelection(t-p-g.border,n-p-g.border,r,s);p=v}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Zs||yr)&&t==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
`),u&&p==f.nodeValue.length)for(let g=f,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:Jn(v)+1});break}let _=g.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let g=f.childNodes[p-1];u=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Zs&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||u&&yr)&&Ol(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Ol(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==n)&&!u){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],i=r+o.size;if(r==i?t<=i&&n>=r:t<i&&n>r){let a=r+o.border,l=i-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==i?nl:t8,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=No:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?nl:No}r=i}this.dirty=nl}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?nl:t8;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class EP extends eh{constructor(t,n,r,s){let o,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==vs&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Zse extends eh{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Al extends eh{constructor(t,n,r,s){super(t,[],r,s),this.mark=n}static create(t,n,r,s){let o=s.nodeViews[n.type.name],i=o&&o(n,s,r);return(!i||!i.dom)&&(i=Pu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Al(t,n,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&No||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=No&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=vs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=vs}}slice(t,n,r){let s=Al.create(this.parent,this.mark,!0,r),o=this.children,i=this.size;n<i&&(o=cC(o,n,i,r)),t>0&&(o=cC(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=s;return s.children=o,s}}class Qi extends eh{constructor(t,n,r,s,o,i,a,l,c){super(t,[],o,i),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(t,n,r,s,o,i){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Pu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=OP(u,r,n),c?l=new Jse(t,n,r,s,u,d||null,f,c,o,i+1):n.isText?new u1(t,n,r,s,u,f,o):new Qi(t,n,r,s,u,d||null,f,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ce.empty)}return t}matchesNode(t,n,r){return this.dirty==vs&&t.eq(this.node)&&lC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,o=t.composing?this.localCompositionInfo(t,n):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Qse(this,i&&i.node,t);noe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Rt.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,s)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,t);let p;l.findNodeMatch(c,u,d,f)||a&&t.state.selection.from>s&&t.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,p,t)||l.updateNextNode(c,u,d,t,f,s)||l.addNode(c,u,d,t,s),s+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==nl)&&(i&&this.protectLocalComposition(t,i),TP(this.contentDOM,this.children,t),Su&&roe(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof Ot)||r<n||s>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let i=o.nodeValue,a=soe(this.node.content,i,r-n,s-n);return a<0?null:{node:o,pos:a,text:i}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new Zse(this,o,n,s);t.input.compositionNodes.push(i),this.children=cC(this.children,r,r+s.length,t,i)}update(t,n,r,s){return this.dirty==No||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=vs}updateOuterDeco(t){if(lC(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kP(this.dom,this.nodeDOM,aC(this.outerDeco,this.node,n),aC(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function n8(e,t,n,r,s){OP(r,t,e);let o=new Qi(void 0,e,t,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class u1 extends Qi{constructor(t,n,r,s,o,i,a){super(t,n,r,s,o,null,i,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==No||this.dirty!=vs&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=vs||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=vs,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),o=document.createTextNode(s.text);return new u1(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=No)}get domAtom(){return!1}isText(t){return this.node.text==t}}class xP extends eh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==vs&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Jse extends Qi{constructor(t,n,r,s,o,i,a,l,c,u){super(t,n,r,s,o,i,a,c,u),this.spec=l}update(t,n,r,s){if(this.dirty==No)return!1;if(this.spec.update){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,s),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function TP(e,t,n){let r=e.firstChild,s=!1;for(let o=0;o<t.length;o++){let i=t[o],a=i.dom;if(a.parentNode==e){for(;a!=r;)r=r8(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(a,r);if(i instanceof Al){let l=r?r.previousSibling:e.lastChild;TP(i.contentDOM,i.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=r8(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const Nd=function(e){e&&(this.nodeName=e)};Nd.prototype=Object.create(null);const rl=[new Nd];function aC(e,t,n){if(e.length==0)return rl;let r=n?rl[0]:new Nd,s=[r];for(let o=0;o<e.length;o++){let i=e[o].type.attrs;if(i){i.nodeName&&s.push(r=new Nd(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&s.length==1&&s.push(r=new Nd(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function kP(e,t,n,r){if(n==rl&&r==rl)return t;let s=t;for(let o=0;o<r.length;o++){let i=r[o],a=n[o];if(o){let l;a&&a.nodeName==i.nodeName&&s!=e&&(l=s.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=rl[0]),s=l}Xse(s,a||rl[0],i)}return s}function Xse(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&e.classList.add(s[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function OP(e,t,n){return kP(e,e,rl,aC(t,n,e.nodeType!=1))}function lC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function r8(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Qse{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=eoe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,o=this.stack.length>>1,i=Math.min(o,t.length);for(;s<i&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=vs,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Al.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,s){let o=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(t,n,r))o=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,s,o){let i=this.top.children[s];return i.dirty==No&&i.dom==i.contentDOM&&(i.dirty=nl),i.update(t,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,o,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Qi){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=No&&lC(n,l.outerDeco));if(!f&&l.update(t,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,s,i)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=nl,d.updateChildren(s,i+1),d.dirty=vs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,o,i){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Qi.create(this.top,n,r,s,o,i);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,s,o){let i=Qi.create(this.top,t,n,r,s,o);i.contentDOM&&i.updateChildren(s,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new EP(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Al;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof u1)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((yr||ur)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new xP(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function eoe(e,t){let n=t,r=n.children.length,s=e.childCount,o=new Map,i=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Al)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(s-1))break;--s,o.set(a,s),i.push(a)}}return{index:s,matched:o,matches:i.reverse()}}function toe(e,t){return e.type.side-t.type.side}function noe(e,t,n,r){let s=t.locals(e),o=0;if(s.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,s,t.forChild(o,u),c),o+=u.nodeSize}return}let i=0,a=[],l=null;for(let c=0;;){let u,d;for(;i<s.length&&s[i].to==o;){let _=s[i++];_.widget&&(u?(d||(d=[u])).push(_):u=_)}if(u)if(d){d.sort(toe);for(let _=0;_<d.length;_++)n(d[_],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<e.childCount)p=c,f=e.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=o&&a.splice(_--,1);for(;i<s.length&&s[i].from<=o&&s[i].to>o;)a.push(s[i++]);let g=o+f.nodeSize;if(f.isText){let _=g;i<s.length&&s[i].from<_&&(_=s[i].from);for(let y=0;y<a.length;y++)a[y].to<_&&(_=a[y].to);_<g&&(l=f.cut(_-o),f=f.cut(0,_-o),g=_,p=-1)}else for(;i<s.length&&s[i].to<g;)i++;let v=f.isInline&&!f.isLeaf?a.filter(_=>!_.inline):a.slice();r(f,v,t.forChild(o,f),p),o=g}}function roe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function soe(e,t,n,r){for(let s=0,o=0;s<e.childCount&&o<=r;){let i=e.child(s++),a=o;if(o+=i.nodeSize,!i.isText)continue;let l=i.text;for(;s<e.childCount;){let c=e.child(s++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function cC(e,t,n,r,s){let o=[];for(let i=0,a=0;i<e.length;i++){let l=e[i],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),s&&(o.push(s),s=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function f6(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),o=s&&s.size==0,i=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,c;if(c1(n)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&Qe.isSelectable(u)&&s.parent&&!(u.isInline&&Mse(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;c=new Qe(i==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=h6(e,l,a,u)}return c}function AP(e){return e.editable?e.hasFocus():IP(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ni(e,t=!1){let n=e.state.selection;if(MP(e,n),!!AP(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ur){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ol(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)ioe(e);else{let{anchor:r,head:s}=n,o,i;s8&&!(n instanceof Ot)&&(n.$from.parent.inlineContent||(o=o8(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=o8(e,n.to))),e.docView.setSelection(r,s,e.root,t),s8&&(o&&i8(o),i&&i8(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ooe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const s8=yr||ur&&vP<63;function o8(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(yr&&s&&s.contentEditable=="false")return Q_(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return Q_(s);if(o)return Q_(o)}}function Q_(e){return e.contentEditable="true",yr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function i8(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ooe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!AP(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function ioe(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,Jn(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&Rr&&Xi<=11&&(r.disabled=!0,r.disabled=!1)}function MP(e,t){if(t instanceof Qe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(a8(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else a8(e)}function a8(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function h6(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||Ot.between(t,n,r)}function l8(e){return e.editable&&!e.hasFocus()?!1:IP(e)}function IP(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function aoe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ol(t.node,t.offset,n.anchorNode,n.anchorOffset)}function uC(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return o&&Ct.findFrom(o,t)}function Li(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function c8(e,t,n){let r=e.state.selection;if(r instanceof Ot)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(s.pos+o.nodeSize*(t<0?-1:1));return Li(e,new Ot(r.$anchor,i))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=uC(e.state,t);return s&&s instanceof Qe?Li(e,s):!1}else if(!(ds&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,i;if(!o||o.isText)return!1;let a=t<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(i=e.docView.descAt(a))&&!i.contentDOM?Qe.isSelectable(o)?Li(e,new Qe(t<0?e.state.doc.resolve(s.pos-o.nodeSize):s)):Qf?Li(e,new Ot(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Qe&&r.node.isInline)return Li(e,new Ot(t>0?r.$to:r.$from));{let s=uC(e.state,t);return s?Li(e,s):!1}}}function Im(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Pd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function vc(e,t){return t<0?loe(e):coe(e)}function loe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,o,i=!1;for(Zs&&n.nodeType==1&&r<Im(n)&&Pd(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Pd(a,-1))s=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(RP(n))break;{let a=n.previousSibling;for(;a&&Pd(a,-1);)s=n.parentNode,o=Jn(a),a=a.previousSibling;if(a)n=a,r=Im(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}i?dC(e,n,r):s&&dC(e,s,o)}function coe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=Im(n),o,i;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Pd(a,1))o=n,i=++r;else break}else{if(RP(n))break;{let a=n.nextSibling;for(;a&&Pd(a,1);)o=a.parentNode,i=Jn(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Im(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&dC(e,o,i)}function RP(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function uoe(e,t){for(;e&&t==e.childNodes.length&&!Xf(e);)t=Jn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function doe(e,t){for(;e&&!t&&!Xf(e);)t=Jn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function dC(e,t,n){if(t.nodeType!=3){let o,i;(i=uoe(t,n))?(t=i,n=0):(o=doe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(c1(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&ni(e)},50)}function u8(e,t){let n=e.state.doc.resolve(t);if(!(ur||Nse)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),i=(o.top+o.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),i=(o.top+o.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function d8(e,t,n){let r=e.state.selection;if(r instanceof Ot&&!r.empty||n.indexOf("s")>-1||ds&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=uC(e.state,t);if(i&&i instanceof Qe)return Li(e,i)}if(!s.parent.inlineContent){let i=t<0?s:o,a=r instanceof Xr?Ct.near(i,t):Ct.findFrom(i,t);return a?Li(e,a):!1}return!1}function f8(e,t){if(!(e.state.selection instanceof Ot))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let i=e.state.tr;return t<0?i.delete(n.pos-o.nodeSize,n.pos):i.delete(n.pos,n.pos+o.nodeSize),e.dispatch(i),!0}return!1}function h8(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function foe(e){if(!yr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;h8(e,r,"true"),setTimeout(()=>h8(e,r,"false"),20)}return!1}function hoe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function poe(e,t){let n=t.keyCode,r=hoe(t);if(n==8||ds&&n==72&&r=="c")return f8(e,-1)||vc(e,-1);if(n==46&&!t.shiftKey||ds&&n==68&&r=="c")return f8(e,1)||vc(e,1);if(n==13||n==27)return!0;if(n==37||ds&&n==66&&r=="c"){let s=n==37?u8(e,e.state.selection.from)=="ltr"?-1:1:-1;return c8(e,s,r)||vc(e,s)}else if(n==39||ds&&n==70&&r=="c"){let s=n==39?u8(e,e.state.selection.from)=="ltr"?1:-1:1;return c8(e,s,r)||vc(e,s)}else{if(n==38||ds&&n==80&&r=="c")return d8(e,-1,r)||vc(e,-1);if(n==40||ds&&n==78&&r=="c")return foe(e)||d8(e,1,r)||vc(e,1);if(r==(ds?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function NP(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:s,openEnd:o}=t;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let i=e.someProp("clipboardSerializer")||Pu.fromSchema(e.state.schema),a=UP(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=jP[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=a.createElement(u[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function PP(e,t,n,r,s){let o=s.parent.type.spec.code,i,a;if(!n&&!t)return null;let l=t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,o||r,e)}),o)return t?new Ce(ce.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Ce.empty;let d=e.someProp("clipboardTextParser",f=>f(t,s,r,e));if(d)a=d;else{let f=s.marks(),{schema:p}=e.state,g=Pu.fromSchema(p);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(v=>{let _=i.appendChild(document.createElement("p"));v&&_.appendChild(g.serializeNode(p.text(v,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),i=voe(n),Qf&&_oe(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||af.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!moe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=yoe(p8(a,+u[1],+u[2]),u[4]);else if(a=Ce.maxOpen(goe(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=p8(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const moe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function goe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),o,i=[];if(e.forEach(a=>{if(!i)return;let l=s.findWrapping(a.type),c;if(!l)return i=null;if(c=i.length&&o.length&&LP(l,o,a,i[i.length-1],0))i[i.length-1]=c;else{i.length&&(i[i.length-1]=FP(i[i.length-1],o.length));let u=DP(a,l);i.push(u),s=s.matchType(u.type),o=l}}),i)return ce.from(i)}return e}function DP(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ce.from(e));return e}function LP(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let o=LP(e,t,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(ce.from(DP(n,e,s+1))))}}function FP(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,FP(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ce.empty,!0);return e.copy(n.append(r))}function fC(e,t,n,r,s,o){let i=t<0?e.firstChild:e.lastChild,a=i.content;return e.childCount>1&&(o=0),s<r-1&&(a=fC(a,t,n,r,s+1,o)),s>=n&&(a=t<0?i.contentMatchAt(0).fillBefore(a,o<=s).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(ce.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(a))}function p8(e,t,n){return t<e.openStart&&(e=new Ce(fC(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ce(fC(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const jP={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let m8=null;function UP(){return m8||(m8=document.implementation.createHTMLDocument("title"))}function voe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=UP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&jP[r[1].toLowerCase()])&&(e=s.map(o=>"<"+o+">").join("")+e+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=e,s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function _oe(e){let t=e.querySelectorAll(ur?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function yoe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:s,openStart:o,openEnd:i}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=ce.from(l.create(r[a+1],s)),o++,i++}return new Ce(s,o,i)}const br={},Cr={},boe={touchstart:!0,touchmove:!0};class Coe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Soe(e){for(let t in br){let n=br[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Eoe(e,r)&&!p6(e,r)&&(e.editable||!(r.type in Cr))&&n(e,r)},boe[t]?{passive:!0}:void 0)}yr&&e.dom.addEventListener("input",()=>null),hC(e)}function $i(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function woe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function hC(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>p6(e,r))})}function p6(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Eoe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function xoe(e,t){!p6(e,t)&&br[t.type]&&(e.editable||!(t.type in Cr))&&br[t.type](e,t)}Cr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!qP(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ls&&ur&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Su&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,Za(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||poe(e,n)?n.preventDefault():$i(e,"key")};Cr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Cr.keypress=(e,t)=>{let n=t;if(qP(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ds&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ot)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function d1(e){return{left:e.clientX,top:e.clientY}}function Toe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function m6(e,t,n,r,s){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let i=o.depth+1;i>0;i--)if(e.someProp(t,a=>i>o.depth?a(e,n,o.nodeAfter,o.before(i),s,!0):a(e,n,o.node(i),o.before(i),s,!1)))return!0;return!1}function Zc(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function koe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Qe.isSelectable(r)?(Zc(e,new Qe(n)),!0):!1}function Ooe(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof Qe&&(r=n.node);let o=e.state.doc.resolve(t);for(let i=o.depth+1;i>0;i--){let a=i>o.depth?o.nodeAfter:o.node(i);if(Qe.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(i);break}}return s!=null?(Zc(e,Qe.create(e.state.doc,s)),!0):!1}function Aoe(e,t,n,r,s){return m6(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(s?Ooe(e,n):koe(e,n))}function Moe(e,t,n,r){return m6(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function Ioe(e,t,n,r){return m6(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||Roe(e,n,r)}function Roe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Zc(e,Ot.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let o=s.depth+1;o>0;o--){let i=o>s.depth?s.nodeAfter:s.node(o),a=s.before(o);if(i.inlineContent)Zc(e,Ot.create(r,a+1,a+1+i.content.size));else if(Qe.isSelectable(i))Zc(e,Qe.create(r,a));else continue;return!0}}function g6(e){return Rm(e)}const BP=ds?"metaKey":"ctrlKey";br.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=g6(e),s=Date.now(),o="singleClick";s-e.input.lastClick.time<500&&Toe(n,e.input.lastClick)&&!n[BP]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o};let i=e.posAtCoords(d1(n));i&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Noe(e,i,n,!!r)):(o=="doubleClick"?Moe:Ioe)(e,i.pos,i.inside,n)?n.preventDefault():$i(e,"pointer"))};class Noe{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[BP],this.allowDefault=r.shiftKey;let o,i;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),i=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,i=u.depth?u.before():0}const a=s?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Qe&&c.from<=i&&c.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),$i(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ni(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(d1(t))),this.updateAllowDefault(t),this.allowDefault||!n?$i(this.view,"pointer"):Aoe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||yr&&this.mightDrag&&!this.mightDrag.node.isAtom||ur&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zc(this.view,Ct.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):$i(this.view,"pointer")}move(t){this.updateAllowDefault(t),$i(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}br.touchstart=e=>{e.input.lastTouch=Date.now(),g6(e),$i(e,"pointer")};br.touchmove=e=>{e.input.lastTouch=Date.now(),$i(e,"pointer")};br.contextmenu=e=>g6(e);function qP(e,t){return e.composing?!0:yr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Poe=Ls?5e3:-1;Cr.compositionstart=Cr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Rm(e,!0),e.markCursor=null;else if(Rm(e),Zs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let i=o<0?s.lastChild:s.childNodes[o-1];if(!i)break;if(i.nodeType==3){e.domSelection().collapse(i,i.nodeValue.length);break}else s=i,o=-1}}e.input.composing=!0}GP(e,Poe)};Cr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,GP(e,20))};function GP(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Rm(e),t))}function VP(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Loe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Doe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Ose(t.focusNode,t.focusOffset),r=Ase(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return r}}return n||r}function Loe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Rm(e,t=!1){if(!(Ls&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),VP(e),t||e.docView&&e.docView.dirty){let n=f6(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function Foe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const uf=Rr&&Xi<15||Su&&Pse<604;br.copy=Cr.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let o=uf?null:n.clipboardData,i=r.content(),{dom:a,text:l}=NP(e,i);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Foe(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function joe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Uoe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?df(e,r.value,null,s,t):df(e,r.textContent,r.innerHTML,s,t)},50)}function df(e,t,n,r,s){let o=PP(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,s,o||Ce.empty)))return!0;if(!o)return!1;let i=joe(o),a=i?e.state.tr.replaceSelectionWith(i,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function HP(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Cr.paste=(e,t)=>{let n=t;if(e.composing&&!Ls)return;let r=uf?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&df(e,HP(r),r.getData("text/html"),s,n)?n.preventDefault():Uoe(e,n)};class zP{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const $P=ds?"altKey":"ctrlKey";br.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,o=s.empty?null:e.posAtCoords(d1(n)),i;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof Qe?s.to-1:s.to))){if(r&&r.mightDrag)i=Qe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(i=Qe.create(e.state.doc,d.posBefore))}}let a=(i||e.state.selection).content(),{dom:l,text:c,slice:u}=NP(e,a);(!n.dataTransfer.files.length||!ur||vP>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(uf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",uf||n.dataTransfer.setData("text/plain",c),e.dragging=new zP(u,!n[$P],i)};br.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Cr.dragover=Cr.dragenter=(e,t)=>t.preventDefault();Cr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(d1(n));if(!s)return;let o=e.state.doc.resolve(s.pos),i=r&&r.slice;i?e.someProp("transformPasted",g=>{i=g(i,e)}):i=PP(e,HP(n.dataTransfer),uf?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[$P]);if(e.someProp("handleDrop",g=>g(e,n,i||Ce.empty,a))){n.preventDefault();return}if(!i)return;n.preventDefault();let l=i?Bre(e.state.doc,o.pos,i):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(a){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Qe.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new Qe(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,_,y,b)=>g=b),c.setSelection(h6(e,p,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};br.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ni(e)},20))};br.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};br.beforeinput=(e,t)=>{if(ur&&Ls&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Za(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in Cr)br[e]=Cr[e];function ff(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Nm{constructor(t,n){this.toDOM=t,this.spec=n||fl,this.side=this.spec.side||0}map(t,n,r,s){let{pos:o,deleted:i}=t.mapResult(n.from+s,this.side<0?-1:1);return i?null:new Ir(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Nm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ff(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ea{constructor(t,n){this.attrs=t,this.spec=n||fl}map(t,n,r,s){let o=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,i=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=i?null:new Ir(o,i,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof ea&&ff(this.attrs,t.attrs)&&ff(this.spec,t.spec)}static is(t){return t.type instanceof ea}destroy(){}}class v6{constructor(t,n){this.attrs=t,this.spec=n||fl}map(t,n,r,s){let o=t.mapResult(n.from+s,1);if(o.deleted)return null;let i=t.mapResult(n.to+s,-1);return i.deleted||i.pos<=o.pos?null:new Ir(o.pos-r,i.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),o;return s==n.from&&!(o=t.child(r)).isText&&s+o.nodeSize==n.to}eq(t){return this==t||t instanceof v6&&ff(this.attrs,t.attrs)&&ff(this.spec,t.spec)}destroy(){}}class Ir{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Ir(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Ir(t,t,new Nm(n,r))}static inline(t,n,r,s){return new Ir(t,n,new ea(r,s))}static node(t,n,r,s){return new Ir(t,n,new v6(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ea}get widget(){return this.type instanceof Nm}}const Ic=[],fl={};class rn{constructor(t,n){this.local=t.length?t:Ic,this.children=n.length?n:Ic}static create(t,n){return n.length?Pm(n,t,0,fl):ir}find(t,n,r){let s=[];return this.findInner(t??0,n??1e9,s,0,r),s}findInner(t,n,r,s,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>t){let a=this.children[i]+1;this.children[i+2].findInner(t-a,n-a,r,s+a,o)}}map(t,n,r){return this==ir||t.maps.length==0?this:this.mapInner(t,n,0,0,r||fl)}mapInner(t,n,r,s,o){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,s);l&&l.type.valid(n,l)?(i||(i=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Boe(this.children,i||[],t,n,r,s,o):i?new rn(i.sort(hl),Ic):ir}add(t,n){return n.length?this==ir?rn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,o=0;t.forEach((a,l)=>{let c=l+r,u;if(u=KP(n,a,c)){for(s||(s=this.children.slice());o<s.length&&s[o]<l;)o+=3;s[o]==l?s[o+2]=s[o+2].addInner(a,u,c+1):s.splice(o,0,l,l+a.nodeSize,Pm(u,a,c+1,fl)),o+=3}});let i=WP(o?YP(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(t,i[a])||i.splice(a--,1);return new rn(i.length?this.local.concat(i).sort(hl):this.local,s||this.children)}remove(t){return t.length==0||this==ir?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let i,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(i||(i=[])).push(d));if(!i)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(i,a+1);c!=ir?r[o+2]=c:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,i;o<t.length;o++)if(i=t[o])for(let a=0;a<s.length;a++)s[a].eq(i,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new rn(s,r):ir}forChild(t,n){if(this==ir)return this;if(n.isLeaf)return rn.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,i=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>o&&l.type instanceof ea){let c=Math.max(o,l.from)-o,u=Math.min(i,l.to)-o;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new rn(s.sort(hl),Ic);return r?new Ui([a,r]):a}return r||ir}eq(t){if(this==t)return!0;if(!(t instanceof rn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return _6(this.localsInner(t))}localsInner(t){if(this==ir)return Ic;if(t.inlineContent||!this.local.some(ea.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ea||n.push(this.local[r]);return n}}rn.empty=new rn([],[]);rn.removeOverlap=_6;const ir=rn.empty;class Ui{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,fl));return Ui.from(r)}forChild(t,n){if(n.isLeaf)return rn.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(t,n);o!=ir&&(o instanceof Ui?r=r.concat(o.members):r.push(o))}return Ui.from(r)}eq(t){if(!(t instanceof Ui)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let i=0;i<o.length;i++)n.push(o[i])}}return n?_6(r?n:n.sort(hl)):Ic}static from(t){switch(t.length){case 0:return ir;case 1:return t[0];default:return new Ui(t.every(n=>n instanceof rn)?t:t.reduce((n,r)=>n.concat(r instanceof rn?r:r.members),[]))}}}function Boe(e,t,n,r,s,o,i){let a=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,g,v)=>{let _=v-g-(p-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let w=a[y]+u-d;p>=w?a[y+1]=f<=w?-2:-1:f>=u&&_&&(a[y]+=_,a[y+1]+=_)}d+=_}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+o),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[c+1]+o,-1),p=f-s,{index:g,offset:v}=r.content.findIndex(d),_=r.maybeChild(g);if(_&&v==d&&v+_.nodeSize==p){let y=a[c+2].mapInner(n,_,u+1,e[c]+o+1,i);y!=ir?(a[c]=d,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=qoe(a,e,t,n,s,o,i),u=Pm(c,r,0,i);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new rn(t.sort(hl),a)}function WP(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new Ir(s.from+t,s.to+t,s.type))}return n}function qoe(e,t,n,r,s,o,i){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):i.onRemove&&i.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function KP(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let o=0,i;o<e.length;o++)(i=e[o])&&i.from>n&&i.to<r&&((s||(s=[])).push(i),e[o]=null);return s}function YP(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Pm(e,t,n,r){let s=[],o=!1;t.forEach((a,l)=>{let c=KP(e,a,l+n);if(c){o=!0;let u=Pm(c,a,n+l+1,r);u!=ir&&s.push(l,l+a.nodeSize,u)}});let i=WP(o?YP(e):e,-n).sort(hl);for(let a=0;a<i.length;a++)i[a].type.valid(t,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||s.length?new rn(i,s):ir}function hl(e,t){return e.from-t.from||e.to-t.to}function _6(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let o=t[s];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[s]=o.copy(o.from,r.to),g8(t,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),g8(t,s,r.copy(o.from,r.to)));break}}}return t}function g8(e,t,n){for(;t<e.length&&hl(n,e[t])>0;)t++;e.splice(t,0,n)}function ey(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=ir&&t.push(r)}),e.cursorWrapper&&t.push(rn.create(e.state.doc,[e.cursorWrapper.deco])),Ui.from(t)}const Goe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Voe=Rr&&Xi<=11;class Hoe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class zoe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Hoe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Rr&&Xi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Voe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Goe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(l8(this.view)){if(this.suppressingSelectionUpdates)return ni(this.view);if(Rr&&Xi<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ol(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=cf(o))n.add(o);for(let o=t.anchorNode;o;o=cf(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&l8(t)&&!this.ignoreSelectionChange(r),o=-1,i=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),i=i<0?d.to:Math.max(d.to,i),d.typeOver&&(a=!0))}if(Zs&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||Koe(t,d)!=p)&&f.remove()}}}let c=null;o<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&c1(r)&&(c=f6(t))&&c.eq(Ct.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ni(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||s)&&(o>-1&&(t.docView.markDirty(o,i),$oe(t)),this.handleDOMChange(o,i,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||ni(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,o=t.nextSibling;if(Rr&&Xi<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(o=f)}let i=s&&s.parentNode==t.target?Jn(s)+1:0,a=r.localPosFromDOM(t.target,i,-1),l=o&&o.parentNode==t.target?Jn(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let v8=new WeakMap,_8=!1;function $oe(e){if(!v8.has(e)&&(v8.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Zs,_8)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_8=!0}}function y8(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,o=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return Ol(i.node,i.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function Woe(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return y8(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?y8(e,n):null}function Koe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Yoe(e,t,n){let{node:r,fromOffset:s,toOffset:o,from:i,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],c1(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ur&&e.input.lastKeyCode===8)for(let _=o;_>s;_--){let y=r.childNodes[_-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){o=_;break}if(!b||b.size)break}let d=e.state.doc,f=e.someProp("domParser")||af.fromSchema(e.state.schema),p=d.resolve(i),g=null,v=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Zoe,context:p});if(c&&c[0].pos!=null){let _=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=_),g={anchor:_+i,head:y+i}}return{doc:v,sel:g,from:i,to:a}}function Zoe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(yr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||yr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Joe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Xoe(e,t,n,r,s){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let k=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,O=f6(e,k);if(O&&!e.state.selection.eq(O)){if(ur&&Ls&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",M=>M(e,Za(13,"Enter"))))return;let A=e.state.tr.setSelection(O);k=="pointer"?A.setMeta("pointer",!0):k=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),e.dispatch(A)}return}let i=e.state.doc.resolve(t),a=i.sharedDepth(n);t=i.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=Yoe(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let g=tie(d.content,c.doc.content,c.from,f,p);if((Su&&e.input.lastIOSEnter>Date.now()-225||Ls)&&s.some(k=>k.nodeType==1&&!Joe.test(k.nodeName))&&(!g||g.endA>=g.endB)&&e.someProp("handleKeyDown",k=>k(e,Za(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof Ot&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let k=b8(e,e.state.doc,c.sel);if(k&&!k.eq(e.state.selection)){let O=e.state.tr.setSelection(k);o&&O.setMeta("composition",o),e.dispatch(O)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof Ot&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),Rr&&Xi<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),_=c.doc.resolveNoCache(g.endB-c.from),y=u.resolve(g.start),b=v.sameParent(_)&&v.parent.inlineContent&&y.end()>=g.endA,w;if((Su&&e.input.lastIOSEnter>Date.now()-225&&(!b||s.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!b&&v.pos<c.doc.content.size&&!v.sameParent(_)&&(w=Ct.findFrom(c.doc.resolve(v.pos+1),1,!0))&&w.head==_.pos)&&e.someProp("handleKeyDown",k=>k(e,Za(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>g.start&&eie(u,g.start,g.endA,v,_)&&e.someProp("handleKeyDown",k=>k(e,Za(8,"Backspace")))){Ls&&ur&&e.domObserver.suppressSelectionUpdates();return}ur&&Ls&&g.endB==g.start&&(e.input.lastAndroidDelete=Date.now()),Ls&&!b&&v.start()!=_.start()&&_.parentOffset==0&&v.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,_=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(k){return k(e,Za(13,"Enter"))})},20));let C=g.start,S=g.endA,E,x,T;if(b){if(v.pos==_.pos)Rr&&Xi<=11&&v.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ni(e),20)),E=e.state.tr.delete(C,S),x=u.resolve(g.start).marksAcross(u.resolve(g.endA));else if(g.endA==g.endB&&(T=Qoe(v.parent.content.cut(v.parentOffset,_.parentOffset),y.parent.content.cut(y.parentOffset,g.endA-y.start()))))E=e.state.tr,T.type=="add"?E.addMark(C,S,T.mark):E.removeMark(C,S,T.mark);else if(v.parent.child(v.index()).isText&&v.index()==_.index()-(_.textOffset?0:1)){let k=v.parent.textBetween(v.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",O=>O(e,C,S,k)))return;E=e.state.tr.insertText(k,C,S)}}if(E||(E=e.state.tr.replace(C,S,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let k=b8(e,E.doc,c.sel);k&&!(ur&&Ls&&e.composing&&k.empty&&(g.start!=g.endB||e.input.lastAndroidDelete<Date.now()-100)&&(k.head==C||k.head==E.mapping.map(S)-1)||Rr&&k.empty&&k.head==C)&&E.setSelection(k)}x&&E.ensureMarks(x),o&&E.setMeta("composition",o),e.dispatch(E.scrollIntoView())}function b8(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:h6(e,t.resolve(n.anchor),t.resolve(n.head))}function Qoe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,o=r,i,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(s.length==1&&o.length==0)a=s[0],i="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&o.length==1)a=o[0],i="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(ce.from(c).eq(e))return{mark:a,type:i}}function eie(e,t,n,r,s){if(n-t<=s.pos-r.pos||ty(r,!0,!1)<s.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let i=e.resolve(ty(o,!0,!0));return!i.parent.isTextblock||i.pos>n||ty(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function ty(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function tie(e,t,n,r,s){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:i,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let l=Math.max(0,o-Math.min(i,a));r-=i+l-o}if(i<o&&e.size<t.size){let l=r<=o&&r>=i?o-r:0;o-=l,o&&o<t.size&&C8(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-i),i=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&C8(e.textBetween(o-1,o+1))&&(o+=l?1:-1),i=o+(i-a),a=o}return{start:o,endA:i,endB:a}}function C8(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class nie{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Coe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(T8),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=E8(this),w8(this),this.nodeViews=x8(this),this.docView=n8(this.state.doc,S8(this),ey(this),this.dom,this),this.domObserver=new zoe(this,(r,s,o,i)=>Xoe(this,r,s,o,i)),this.domObserver.start(),Soe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&hC(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(T8),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,o=!1,i=!1;t.storedMarks&&this.composing&&(VP(this),i=!0),this.state=t;let a=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=x8(this);sie(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&hC(this),this.editable=E8(this),w8(this);let l=ey(this),c=S8(this),u=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(s.selection))&&(i=!0);let f=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&Fse(this);if(i){this.domObserver.stop();let p=d&&(Rr||ur)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&rie(s.selection,t.selection);if(d){let g=ur?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Doe(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=n8(t.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aoe(this))?ni(this,p):(MP(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&jse(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Qe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&ZE(this,n.getBoundingClientRect(),t)}else ZE(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new zP(t.slice,t.move,s<0?void 0:Qe.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[t];if(a!=null&&(s=n?n(a):a))return s}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let a=o[i].props[t];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Rr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Use(this.dom),ni(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Hse(this,t)}coordsAtPos(t,n=1){return SP(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return Yse(this,n||this.state,t)}pasteHTML(t,n){return df(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return df(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(woe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ey(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Tse())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return xoe(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return yr&&this.root.nodeType===11&&Ise(this.dom.ownerDocument)==this.dom&&Woe(this,t)||t}domSelection(){return this.root.getSelection()}}function S8(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Ir.node(0,e.state.doc.content.size,t)]}function w8(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ir.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function E8(e){return!e.someProp("editable",t=>t(e.state)===!1)}function rie(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function x8(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function sie(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function T8(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class dn extends Ct{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return dn.valid(r)?new dn(r):Ct.near(r)}content(){return Ce.empty}eq(t){return t instanceof dn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dn(t.resolve(n.pos))}getBookmark(){return new y6(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!oie(t)||!iie(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&dn.valid(t))return t;let s=t.pos,o=null;for(let i=t.depth;;i--){let a=t.node(i);if(n>0?t.indexAfter(i)<a.childCount:t.index(i)>0){o=a.child(n>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;s+=n;let l=t.doc.resolve(s);if(dn.valid(l))return l}for(;;){let i=n>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Qe.isSelectable(o)){t=t.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=i,s+=n;let a=t.doc.resolve(s);if(dn.valid(a))return a}return null}}}dn.prototype.visible=!1;dn.findFrom=dn.findGapCursorFrom;Ct.jsonID("gapcursor",dn);class y6{constructor(t){this.pos=t}map(t){return new y6(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return dn.valid(n)?new dn(n):Ct.near(n)}}function oie(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function iie(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function aie(){return new Lo({props:{decorations:die,createSelectionBetween(e,t,n){return t.pos==n.pos&&dn.valid(n)?new dn(n):null},handleClick:cie,handleKeyDown:lie,handleDOMEvents:{beforeinput:uie}}})}const lie=mP({ArrowLeft:Xh("horiz",-1),ArrowRight:Xh("horiz",1),ArrowUp:Xh("vert",-1),ArrowDown:Xh("vert",1)});function Xh(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,o){let i=r.selection,a=t>0?i.$to:i.$from,l=i.empty;if(i instanceof Ot){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=dn.findGapCursorFrom(a,t,l);return c?(s&&s(r.tr.setSelection(new dn(c))),!0):!1}}function cie(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!dn.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Qe.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new dn(r))),!0)}function uie(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof dn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=ce.empty;for(let i=r.length-1;i>=0;i--)s=ce.from(r[i].createAndFill(null,s));let o=e.state.tr.replace(n.pos,n.pos,new Ce(s,0,0));return o.setSelection(Ot.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function die(e){if(!(e.selection instanceof dn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",rn.create(e.doc,[Ir.widget(e.selection.head,t,{key:"gapcursor"})])}var Dm=200,Un=function(){};Un.prototype.append=function(t){return t.length?(t=Un.from(t),!this.length&&t||t.length<Dm&&this.leafAppend(t)||this.length<Dm&&t.leafPrepend(this)||this.appendInner(t)):this};Un.prototype.prepend=function(t){return t.length?Un.from(t).append(this):this};Un.prototype.appendInner=function(t){return new fie(this,t)};Un.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Un.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Un.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Un.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Un.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,i){return s.push(t(o,i))},n,r),s};Un.from=function(t){return t instanceof Un?t:t&&t.length?new ZP(t):Un.empty};var ZP=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new t(this.values.slice(s,o))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,o,i,a){for(var l=o;l<i;l++)if(s(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,o,i,a){for(var l=o-1;l>=i;l--)if(s(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Dm)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Dm)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Un);Un.empty=new ZP([]);var fie=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,o,i){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(o,a),i)===!1||o>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,o)-a,i+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,o,i){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(o,a)-a,i+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(s,a),o,i)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Un);const hie=500;class Bs{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let i=t.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),o=s.maps.length),o--,u.push(d);return}if(s){u.push(new mo(d.map));let p=d.step.map(s.slice(o)),g;p&&i.maybeStep(p).doc&&(g=i.mapping.maps[i.mapping.maps.length-1],c.push(new mo(g,void 0,void 0,c.length+u.length))),o--,g&&s.appendMap(g,o)}else i.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(o)):d.selection,l=new Bs(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(t,n,r,s){let o=[],i=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new mo(t.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(i++,n=void 0),s||(l=f)}let c=i-r.depth;return c>mie&&(a=pie(a,c),i-=c),new Bs(a.append(o),i)}remapping(t,n){let r=new Kc;return this.items.forEach((s,o)=>{let i=s.mirrorOffset!=null&&o-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,i)},t,n),r}addMaps(t){return this.eventCount==0?this:new Bs(this.items.append(t.map(n=>new mo(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=t.mapping,i=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let l=n;this.items.forEach(f=>{let p=o.getMirror(--l);if(p==null)return;i=Math.min(i,p);let g=o.maps[p];if(f.step){let v=t.steps[p].invert(t.docs[p]),_=f.selection&&f.selection.map(o.slice(l+1,p));_&&a++,r.push(new mo(g,v,_))}else r.push(new mo(g))},s);let c=[];for(let f=n;f<i;f++)c.push(new mo(o.maps[f]));let u=this.items.slice(0,s).append(c).append(r),d=new Bs(u,a);return d.emptyItemCount()>hie&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],o=0;return this.items.forEach((i,a)=>{if(a>=t)s.push(i),i.selection&&o++;else if(i.step){let l=i.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=i.selection&&i.selection.map(n.slice(r));u&&o++;let d=new mo(c.invert(),l,u),f,p=s.length-1;(f=s.length&&s[p].merge(d))?s[p]=f:s.push(d)}}else i.map&&r--},this.items.length,0),new Bs(Un.from(s.reverse()),o)}}Bs.empty=new Bs(Un.empty,0);function pie(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}class mo{constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new mo(n.getMap().invert(),n,this.selection)}}}class Fi{constructor(t,n,r,s,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const mie=20;function gie(e,t,n,r){let s=n.getMeta(pl),o;if(s)return s.historyState;n.getMeta(yie)&&(e=new Fi(e.done,e.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(i&&i.getMeta(pl))return i.getMeta(pl).redo?new Fi(e.done.addTransform(n,void 0,r,Lp(t)),e.undone,k8(n.mapping.maps),e.prevTime,e.prevComposition):new Fi(e.done,e.undone.addTransform(n,void 0,r,Lp(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!i&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!vie(n,e.prevRanges)),c=i?ny(e.prevRanges,n.mapping):k8(n.mapping.maps);return new Fi(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Lp(t)),Bs.empty,c,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Fi(e.done.rebased(n,o),e.undone.rebased(n,o),ny(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Fi(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ny(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function vie(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&s>=t[o]&&(n=!0)}),n}function k8(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,o,i)=>t.push(o,i));return t}function ny(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),o=t.map(e[r+1],-1);s<=o&&n.push(s,o)}return n}function _ie(e,t,n){let r=Lp(t),s=pl.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let i=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),s,r),l=new Fi(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(i).setMeta(pl,{redo:n,historyState:l})}let ry=!1,O8=null;function Lp(e){let t=e.plugins;if(O8!=t){ry=!1,O8=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){ry=!0;break}}return ry}const pl=new yi("history"),yie=new yi("closeHistory");function bie(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Lo({key:pl,state:{init(){return new Fi(Bs.empty,Bs.empty,null,0,-1)},apply(t,n,r){return gie(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?XP:r=="historyRedo"?pC:null;return s?(n.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function JP(e,t){return(n,r)=>{let s=pl.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let o=_ie(s,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const XP=JP(!1,!0),pC=JP(!0,!0),Cie=(e,t,n,r)=>{if(e.value){const s=t.marks.startend?.create(n)??null;return t.text(e.value,s?[s,...r??[]]:r)}return null},QP=new yi("contentReference"),P4e=e=>{const t=Hg(e).map(({newContentReference:n})=>n);return new Lo({key:QP,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})};function eD(e){if(e.childCount===0)return!0;if(e.childCount===1&&e.firstChild?.isTextblock){const t=e.firstChild.content;if(t.size===0)return!0;if(t.childCount===1&&t.firstChild?.isText)return/^\s*$/.test(t.firstChild.text??"")}return!1}function Sie(e){let t="",n=!1;const r=[];function s(o){if(n=!1,o.type.name==="paragraph")return o.descendants(i=>s(i)),t+=`
`,n=!0,!1;if(o.type.name==="command_token"){const i=wie(o.textContent);return r.push({symbol:CM.SystemHint,startIndex:t.length,endIndex:t.length+i.length}),t+=i,!1}else o.isText&&o.text!==void 0&&(t+=o.text)}return e.descendants(o=>s(o)),n&&t.endsWith(`
`)&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function wie(e){return e.replace(/[\u{E0000}-\u{E007F}]+/gu,"")}const b6=l1(cP,uP,dP);function D4e(e,t){const{schema:n}=e.state,r=t?n.nodes.paragraph.create(null,n.text(t)):n.nodes.paragraph.create();e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,r)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(Ot.atEnd(e.state.doc)).scrollIntoView())}function L4e(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(Ot.atEnd(e.state.doc)).scrollIntoView()))}function F4e(e){return Eie(e,0,e.state.doc.content.size)}function Eie(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function j4e(e,t){tD(e,t,!1,!1)}function U4e(e,t){e.dispatch(e.state.tr.setSelection(Ot.create(e.state.doc,0))),b6(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function tD(e,t,n=!1,r=!0){if(n){Tie(e,t);return}const{schema:s}=e.state,o=t.split(`
`);if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(o[0])),o.length>1){b6(e.state,e.dispatch);const i=o.slice(1),a=ce.fromArray(i.map(c=>s.nodes.paragraph.create(null,c===""?null:s.text(c)))),l=new Ce(a,0,0);e.dispatch(e.state.tr.replaceSelection(l)),c6(e.state,e.dispatch,e)}}const xie=/oaicite:(\d+)/g;function Tie(e,t){const{schema:n}=e.state,r=t.split(`
`);e.dispatch(e.state.tr.deleteSelection());const{tr:s}=e.state,{$from:o}=s.selection;o.parent.isTextblock||(s.insert(o.pos,n.nodes.paragraph.create()),e.dispatch(s),e.focus());const{selection:i}=e.state,{$from:a}=i,l=r[0],c=A8(l,n,e),u=ce.fromArray(c);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new Ce(ce.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){b6(e.state,e.dispatch);const g=r.slice(1).map(y=>{const b=A8(y,n,e);return n.nodes.paragraph.create(null,b)}),v=ce.fromArray(g),_=new Ce(v,0,0);e.dispatch(e.state.tr.replaceSelection(_)),c6(e.state,e.dispatch,e)}}function A8(e,t,n){const r=[];let s=0,o;if(!!!QP.get(n.state))return[t.text(e)];for(;(o=xie.exec(e))!=null;){if(o.index>s){const c=e.slice(s,o.index);r.push(t.text(c))}const a=o[1],l=kie(a,t);r.push(l),s=o.index+o[0].length}if(s<e.length){const a=e.slice(s);r.push(t.text(a))}return r}function kie(e,t){const n=Cie({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},s=ce.fromArray([n]);return t.nodes.contentReference.create(r,s)}const B4e=e=>ss(e).checkGate("223382091");function q4e(e,t){const r=e.state.tr;let s=0;return r.doc.descendants((o,i)=>{if(o.isText&&o.text){if(typeof t=="string"&&o.text.startsWith(t))s=t.length;else if(t instanceof RegExp){const a=o.text.match(t);a?.index===0&&(s=a[0].length)}if(s){const a=o.text.substring(s).trimStart();s=o.text.length-a.length,r.delete(i,i+s)}}return!o.isLeaf}),s>0?(e.dispatch(r),!0):!1}function G4e(e,t,n){const s=e.state.tr,o=[];s.doc.descendants((i,a)=>{!i.isText||i.text===void 0||o.push({node:i,pos:a})}),o.reverse(),o.forEach(({node:i,pos:a})=>{!i.isText||i.text===void 0||i.text.includes(t)&&s.insertText(i.text.replaceAll(t,n),a,a+i.text.length)}),e.dispatch(s)}var sy,M8;function Oie(){if(M8)return sy;M8=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s&&n(t[r],r,t)!==!1;);return t}return sy=e,sy}var oy,I8;function nD(){if(I8)return oy;I8=1;var e=ql(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return oy=t,oy}var iy,R8;function C6(){if(R8)return iy;R8=1;var e=nD();function t(n,r,s){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return iy=t,iy}var ay,N8;function S6(){if(N8)return ay;N8=1;var e=C6(),t=i5(),n=Object.prototype,r=n.hasOwnProperty;function s(o,i,a){var l=o[i];(!(r.call(o,i)&&t(l,a))||a===void 0&&!(i in o))&&e(o,i,a)}return ay=s,ay}var ly,P8;function f1(){if(P8)return ly;P8=1;var e=S6(),t=C6();function n(r,s,o,i){var a=!o;o||(o={});for(var l=-1,c=s.length;++l<c;){var u=s[l],d=i?i(o[u],r[u],u,o,r):void 0;d===void 0&&(d=r[u]),a?t(o,u,d):e(o,u,d)}return o}return ly=n,ly}var cy,D8;function Aie(){if(D8)return cy;D8=1;var e=f1(),t=Mu();function n(r,s){return r&&e(s,t(s),r)}return cy=n,cy}var uy,L8;function Mie(){if(L8)return uy;L8=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return uy=e,uy}var dy,F8;function Iie(){if(F8)return dy;F8=1;var e=mi(),t=y5(),n=Mie(),r=Object.prototype,s=r.hasOwnProperty;function o(i){if(!e(i))return n(i);var a=t(i),l=[];for(var c in i)c=="constructor"&&(a||!s.call(i,c))||l.push(c);return l}return dy=o,dy}var fy,j8;function w6(){if(j8)return fy;j8=1;var e=cI(),t=Iie(),n=Ug();function r(s){return n(s)?e(s,!0):t(s)}return fy=r,fy}var hy,U8;function Rie(){if(U8)return hy;U8=1;var e=f1(),t=w6();function n(r,s){return r&&e(s,t(s),r)}return hy=n,hy}var bd={exports:{}};bd.exports;var B8;function Nie(){return B8||(B8=1,function(e,t){var n=oo(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,i=o?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}e.exports=l}(bd,bd.exports)),bd.exports}var py,q8;function Pie(){if(q8)return py;q8=1;function e(t,n){var r=-1,s=t.length;for(n||(n=Array(s));++r<s;)n[r]=t[r];return n}return py=e,py}var my,G8;function Die(){if(G8)return my;G8=1;var e=f1(),t=f5();function n(r,s){return e(r,t(r),s)}return my=n,my}var gy,V8;function rD(){if(V8)return gy;V8=1;var e=uI(),t=e(Object.getPrototypeOf,Object);return gy=t,gy}var vy,H8;function sD(){if(H8)return vy;H8=1;var e=d5(),t=rD(),n=f5(),r=aI(),s=Object.getOwnPropertySymbols,o=s?function(i){for(var a=[];i;)e(a,n(i)),i=t(i);return a}:r;return vy=o,vy}var _y,z8;function Lie(){if(z8)return _y;z8=1;var e=f1(),t=sD();function n(r,s){return e(r,t(r),s)}return _y=n,_y}var yy,$8;function oD(){if($8)return yy;$8=1;var e=iI(),t=sD(),n=w6();function r(s){return e(s,n,t)}return yy=r,yy}var by,W8;function Fie(){if(W8)return by;W8=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var s=r.length,o=new r.constructor(s);return s&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return by=n,by}var Cy,K8;function E6(){if(K8)return Cy;K8=1;var e=oI();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Cy=t,Cy}var Sy,Y8;function jie(){if(Y8)return Sy;Y8=1;var e=E6();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return Sy=t,Sy}var wy,Z8;function Uie(){if(Z8)return wy;Z8=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return wy=t,wy}var Ey,J8;function Bie(){if(J8)return Ey;J8=1;var e=Ou(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return Ey=r,Ey}var xy,X8;function qie(){if(X8)return xy;X8=1;var e=E6();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return xy=t,xy}var Ty,Q8;function Gie(){if(Q8)return Ty;Q8=1;var e=E6(),t=jie(),n=Uie(),r=Bie(),s=qie(),o="[object Boolean]",i="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",x="[object Uint32Array]";function T(k,O,A){var M=k.constructor;switch(O){case p:return e(k);case o:case i:return new M(+k);case g:return t(k,A);case v:case _:case y:case b:case w:case C:case S:case E:case x:return s(k,A);case a:return new M;case l:case d:return new M(k);case c:return n(k);case u:return new M;case f:return r(k)}}return Ty=T,Ty}var ky,ex;function Vie(){if(ex)return ky;ex=1;var e=mi(),t=Object.create,n=function(){function r(){}return function(s){if(!e(s))return{};if(t)return t(s);r.prototype=s;var o=new r;return r.prototype=void 0,o}}();return ky=n,ky}var Oy,tx;function Hie(){if(tx)return Oy;tx=1;var e=Vie(),t=rD(),n=y5();function r(s){return typeof s.constructor=="function"&&!n(s)?e(t(s)):{}}return Oy=r,Oy}var Ay,nx;function zie(){if(nx)return Ay;nx=1;var e=Bg(),t=wa(),n="[object Map]";function r(s){return t(s)&&e(s)==n}return Ay=r,Ay}var My,rx;function $ie(){if(rx)return My;rx=1;var e=zie(),t=v5(),n=_5(),r=n&&n.isMap,s=r?t(r):e;return My=s,My}var Iy,sx;function Wie(){if(sx)return Iy;sx=1;var e=Bg(),t=wa(),n="[object Set]";function r(s){return t(s)&&e(s)==n}return Iy=r,Iy}var Ry,ox;function Kie(){if(ox)return Ry;ox=1;var e=Wie(),t=v5(),n=_5(),r=n&&n.isSet,s=r?t(r):e;return Ry=s,Ry}var Ny,ix;function Yie(){if(ix)return Ny;ix=1;var e=c5(),t=Oie(),n=S6(),r=Aie(),s=Rie(),o=Nie(),i=Pie(),a=Die(),l=Lie(),c=dI(),u=oD(),d=Bg(),f=Fie(),p=Gie(),g=Hie(),v=Ss(),_=p5(),y=$ie(),b=mi(),w=Kie(),C=Mu(),S=w6(),E=1,x=2,T=4,k="[object Arguments]",O="[object Array]",A="[object Boolean]",M="[object Date]",I="[object Error]",N="[object Function]",q="[object GeneratorFunction]",P="[object Map]",D="[object Number]",R="[object Object]",B="[object RegExp]",Y="[object Set]",Me="[object String]",Fe="[object Symbol]",pe="[object WeakMap]",ge="[object ArrayBuffer]",Se="[object DataView]",se="[object Float32Array]",K="[object Float64Array]",G="[object Int8Array]",ue="[object Int16Array]",oe="[object Int32Array]",_e="[object Uint8Array]",st="[object Uint8ClampedArray]",ee="[object Uint16Array]",Ie="[object Uint32Array]",X={};X[k]=X[O]=X[ge]=X[Se]=X[A]=X[M]=X[se]=X[K]=X[G]=X[ue]=X[oe]=X[P]=X[D]=X[R]=X[B]=X[Y]=X[Me]=X[Fe]=X[_e]=X[st]=X[ee]=X[Ie]=!0,X[I]=X[N]=X[pe]=!1;function W(de,ze,re,H,j,xe){var ye,yt=ze&E,Ye=ze&x,lt=ze&T;if(re&&(ye=j?re(de,H,j,xe):re(de)),ye!==void 0)return ye;if(!b(de))return de;var Ne=v(de);if(Ne){if(ye=f(de),!yt)return i(de,ye)}else{var bt=d(de),gt=bt==N||bt==q;if(_(de))return o(de,yt);if(bt==R||bt==k||gt&&!j){if(ye=Ye||gt?{}:g(de),!yt)return Ye?l(de,s(ye,de)):a(de,r(ye,de))}else{if(!X[bt])return j?de:{};ye=p(de,bt,yt)}}xe||(xe=new e);var Ft=xe.get(de);if(Ft)return Ft;xe.set(de,ye),w(de)?de.forEach(function(pt){ye.add(W(pt,ze,re,pt,de,xe))}):y(de)&&de.forEach(function(pt,jt){ye.set(jt,W(pt,ze,re,jt,de,xe))});var $t=lt?Ye?u:c:Ye?S:C,Vt=Ne?void 0:$t(de);return t(Vt||de,function(pt,jt){Vt&&(jt=pt,pt=de[jt]),n(ye,jt,W(pt,ze,re,jt,de,xe))}),ye}return Ny=W,Ny}var Py,ax;function Zie(){if(ax)return Py;ax=1;var e=Yie(),t=1,n=4;function r(s){return e(s,t|n)}return Py=r,Py}var Jie=Zie();const Xie=yn(Jie),iD=e=>{const t=Bn(e,"463092697")?.value,n=Xie(t);let r=n?.enabledConnectors??[];return $e(e,"3881721129")||(r=r.filter(o=>o!==F.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n},x6=()=>{const e=ae();return h.useMemo(()=>iD(e),[e])},Qie=e=>e?{enabled:!!iD(e)?.softmentionEnabled}:{enabled:!1};function eae(){return{trackingKeywordsRegex:void 0,decorations:rn.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const aD=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const s=[],o=new Set,i=new Set;return t?(e.doc.descendants((a,l)=>{if(!a.isText||!a.text)return;const c=a.text;for(const u of c.matchAll(t)){if(o.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;i.add(u[1]);const d=l+u.index,f=d+u[0].length;s.push(Ir.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:rn.create(e.doc,s),matchedKeywords:o,highlightedKeywords:i}):{decorations:rn.empty,matchedKeywords:o,highlightedKeywords:i}};function V4e(e){return[...ta.getState(e)?.matchedKeywords??[]]}const H4e=(e,t)=>{const{state:n,dispatch:r}=t,s=n.tr,o=ta.getState(n);if(o){const i=e.length>0?new RegExp(`\\b(${e.join("|")})\\b`,"gi"):void 0,{decorations:a,highlightedKeywords:l,matchedKeywords:c}=aD({tr:s,regex:i,prevHighlightedKeywords:o.highlightedKeywords,prevMatchedKeywords:o.matchedKeywords});s.setMeta(ta,{...o,trackingKeywordsRegex:i,decorations:a,highlightedKeywords:l,matchedKeywords:c})}r(s)},z4e=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,s=n.tr,o=ta.getState(n);if(o){const i=o.decorations.remove(o.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));s.setMeta(ta,{...o,decorations:i,highlightedKeywords:new Set([...o.highlightedKeywords].filter(a=>!e.includes(a)))})}r(s)},ta=new yi("keywordPlugin");function tae(){return new Lo({key:ta,state:{init(){return eae()},apply(e,t){if(e.getMeta(ta))return{...t,...e.getMeta(ta)};if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:s}=aD({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return{...t,decorations:n,highlightedKeywords:s,matchedKeywords:r}}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:rn.empty}}})}function nae(e){const t=new WeakMap;return n=>{let r=t.get(n);return r===void 0&&(r=e(n),t.set(n,r)),r}}const sl=new yi("menuSelectorPlugin");function lx(e){e.dispatch(e.state.tr.setMeta(sl,{active:!1,onMenuAction:void 0}))}function $4e(e,t){e.dispatch(e.state.tr.setMeta(sl,{active:!0,onMenuAction:t}))}const W4e=nae(e=>ba(t=>l6(e,t),()=>sl.getState(e.state)?.active??!1,{getServerFallback:()=>!1}));function rae(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new Lo({key:sl,state:{init(){return{...e,active:!1}},apply(t,n){const r=t.getMeta(sl);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){const r=sl.getState(t.state);if(!r?.active)return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),lx(t),r.onMenuAction?.("submit")??!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),r.onMenuAction?.("cancel"),lx(t),!0):n.key==="ArrowUp"?(n.preventDefault(),r.onMenuAction?.("up"),!0):n.key==="ArrowDown"?(n.preventDefault(),r.onMenuAction?.("down"),!0):r.checkStrictMatchKeys.includes(n.key)&&r.onMenuAction?.("checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{sl.getState(t.state)?.onMenuAction?.("cancel")}}}})}const Cd=new yi("placeholderPlugin");function K4e(e,t){e.dispatch(e.state.tr.setMeta(Cd,{placeholder:t}))}function sae(e){return new Lo({key:Cd,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(Cd)?{placeholder:t.getMeta(Cd).placeholder}:n}},props:{decorations(t){const{doc:n}=t;if(n.childCount===1&&n.firstChild?.isTextblock&&n.firstChild.content.size===0){const s=[],{placeholder:o}=Cd.getState(t);return t.doc.descendants((i,a)=>{const l=Ir.node(a,a+i.nodeSize,{class:"placeholder","data-placeholder":o});s.push(l)}),rn.create(n,s)}}}})}const oae=["p",0],iae=["br"],aae={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return oae}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return iae}},doc:{content:"block+"}},lae=new dre({nodes:aae,marks:{}});let mC;try{mC=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch{mC=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function cae(e,t){if(e.depth===0)return;const n=e.nodeBefore?.text?.match(mC);if(n){const r=n[1]??n[3],s=n[2]??n[4],o=e.pos-s.length-1,i=e.pos;return s.length>0&&t?void 0:{triggerSymbol:r,queryText:s,range:{from:o,to:i}}}}const Sd=new yi("systemHintPlugin");function uae(e,t){return e.setMeta(Sd,t),e}function Y4e(e){e.dispatch(uae(e.state.tr,{...gC(),isDismissed:!0}))}function gC(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function cx(e){const{active:t,range:n,triggerSymbol:r,queryText:s,onHintMatch:o}=e;if(o)return o(!t||!n?void 0:{triggerSymbol:r,text:s,range:n})}function dae(){return new Lo({key:Sd,state:{init(){return gC()},apply(e,t,n,r){const s=e.getMeta(Sd),o={...gC(),...t,...s},i=e.selection;if(i.from!==i.to||r.doc.eq(n.doc))return cx(o),o;const a=i.$from,l=cae(a,t.isDismissed);return o.active=l!=null,l&&(o.triggerSymbol=l.triggerSymbol,o.queryText=l.queryText,o.range=l.range,o.isDismissed=!1),cx(o),o}},view(){return{update(e,t){const n=Sd.getState(t),r=Sd.getState(e.state);if(n.active===r.active&&n.range?.from===r.range?.from&&n.setReferencePosition===r.setReferencePosition)return;const s=r.range;!r.active||!s?r.setReferencePosition?.(null):r.setReferencePosition?.({getBoundingClientRect:()=>fae(e.coordsAtPos(s.from))})}}}})}function fae({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function hae(e=null,t,n){const r=new EventTarget,s=Qie(t).enabled,o=new nie(null,{state:Uc.create({schema:lae,plugins:[bie(),rae(),dae(),...s?[tae()]:[],Qre(),xse({...WE,"Shift-Enter":WE.Enter,"Mod-z":XP,"Mod-y":pC,"Mod-Shift-z":pC}),ese(r),sae(""),aie()]}),dispatchTransaction(i){const a=o.state.apply(i);o.updateState(a),i.docChanged&&r.dispatchEvent(new Event(tC))},handlePaste(i,a){const l=a.clipboardData?.getData("text/plain");return l===void 0?!1:(a.defaultPrevented||t&&sse(t,l)||tD(i,l),!0)},clipboardTextSerializer(i){return Sie(i.content).content}});return e!=null&&eD(o.state.doc)&&o.dispatch(o.state.tr.insertText(e)),o}const vC=h.createContext(null),Z4e=e=>{"use forget";const t=ke.c(9),{children:n,clientThreadId:r,ignoreParentComposerController:s,draftsEnabled:o}=e,i=s===void 0?!1:s,a=o===void 0?!0:o,l=h.useContext(vC),c=ae();let u,d;t[0]!==r||t[1]!==l||t[2]!==c||t[3]!==a||t[4]!==i?(d=l&&!i?l:new sP(hae(a&&r?lK(Ys(r))?.content??null:null,c)),t[0]=r,t[1]=l,t[2]=c,t[3]=a,t[4]=i,t[5]=d):d=t[5],u=d;const f=u;let p;return t[6]!==n||t[7]!==f?(p=m.jsx(vC.Provider,{value:f,children:n}),t[6]=n,t[7]=f,t[8]=p):p=t[8],p},pae=()=>{"use forget";const e=ke.c(2),t=h.useContext(vC);let n;return e[0]!==t?(n=eo(t),e[0]=t,e[1]=n):n=e[1],n};function mae(){const e=sr();return e?.data.residencyRegion!==""&&e?.data.residencyRegion!=="no_constraint"}function gae(){return sr()?.data.residencyRegion}function Du(){const e=mae(),t=gae(),n=ae(),r=Bn(n,"3131667714").get("regions",[]);return e?r.includes(t):!0}function vae(e){if(!e)return!1;const n=["gpt-4o-gdrive","gpt-4o-gdrive-1007-mclick","gpt-4o-gdrive-1124","gpt-4o-gdrive-1124-citation","gpt-4o-gdrive-0212","gpt-4o-gdrive-0314","o1_ca_0226","o3_mini_ca_0226"].includes(e.id),r=!!e.product_features.contextual_answers?.is_eligible_for_contextual_answers;return n||r}var T6=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(T6||{});function Hl(){const e=ae(),t=Du(),n=Bn(e,"1001765573");return t?n.get("ca_enabled",!1):!1}function _ae(){const e=ae();return Bn(e,"1001765573").get("onboarding_paused",!1)}function J4e(){const e=Du(),t=ae(),n=Bn(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function X4e(){const e=Du(),t=ae(),n=Bn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function Q4e(){const e=Du(),t=ae(),n=Bn(t,"1001765573");if(!e)return!1;const r=$e(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function ewe(){const e=Du(),t=ae(),n=Bn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function twe(){const e=ae();return Bn(e,"1001765573").get("github_onboarding_paused",!1)}function nwe(){const e=Du(),t=ae(),n=Bn(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function yae(e){return Hl()&&vae(e)}function rwe(e,t){const n=yae(e),r=bae();return!n||!r?!1:r===T6.DOGFOODING?!!t:!0}function bae(){const e=ae(),t=Bn(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(T6).includes(r)?r:null}const swe=e=>_i(e,t=>me.getConversationTurns(t).some(n=>n.messages.some(Cae))),Cae=e=>!!(e.author.role===Ue.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===wM.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm")),owe=()=>{const e=ae();return $e(e,"4147309512")};class ha{static async admin_list_knowledge_connectors(t){return await Q.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await Q.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await Q.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await Q.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r??null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await Q.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,s){return await Q.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:s}})}static async admin_edit_name_connection_instance(t,n,r){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await Q.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await Q.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:s,new_service_credential_content:o}){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:s,new_service_credential_content:o}})}static async admin_connection_list_item_scopes(t,n,r,s=null){return await Q.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:s,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,s){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:s}})}static async admin_connection_block_items(t,n,r,s){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async admin_connection_unblock_items(t,n,r,s){return await Q.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await Q.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await Q.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await Q.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await Q.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await Q.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await Q.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await Q.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_request_connect(t,n,r){return await Q.safeGet("/ca/v2/user/request_connect",{parameters:{query:{connection_id:t,after_flow_redirect_to:n,...r?{use_connectors_platform_flow:r}:{}}}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await Q.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await Q.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await Q.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await Q.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const iwe=({skip:e=!1}={})=>{const{connectionInstanceData:t,refetch:n,isLoading:r}=th({skip:e});return{gDriveOAuthConnectionId:h.useMemo(()=>{const o=t?.connection_statuses;return o&&o.length===1&&o[0].user_connection_details.auth_status==="not_connected"&&o[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?o[0].user_connection_details.connection_instance_id:null},[t]),refetch:n,isLoading:r}},lD=({skip:e=!1}={})=>{const{connectionInstanceData:t}=th({skip:e});return t?.connection_statuses.some(r=>["partially_activated","activated"].includes(r.user_connection_details.activation_status))},th=({skip:e=!1}={})=>{const t=Hl(),{data:n,isLoading:r,refetch:s}=Tt({queryKey:["user_connection_status"],queryFn:ha.user_connection_status,enabled:!e&&t,refetchInterval:o=>{const i=o.state.status==="success"&&o.state.data&&!o.state.data.connection_statuses.some(l=>l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated");return o.state.status==="success"&&o.state.data&&o.state.data.connection_statuses.some(l=>(l.user_connection_details.auth_status==="user_connected"||l.user_connection_details.auth_status==="admin_connected")&&!(l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated"||l.user_connection_details.activation_status==="activated"))?2*1e3:i?!1:30*1e3}});return{connectionInstanceData:n,isLoading:r,refetch:s}},cD=(e,t=!1,n)=>["fetchConnectorLinkData",e,t,n],uD=(e,t,n)=>["fetchPlatformConnectorData",e,t,n],awe=(e,t)=>["connectors",e,t].filter(n=>!!n),lwe=(e,t)=>["roles",e,t].filter(n=>!!n),cwe=(e,t,n)=>["permissions",e,t,n];function Sae(){const e=ae();return $e(e,"3999836663")}function nh(){const e=ae(),t=$e(e,"3544641259"),n=!!Bn(e,"463092697")?.value?.enabled,r=Sae();return t||n||r}var Dy,ux;function wae(){if(ux)return Dy;ux=1;function e(t,n,r,s){for(var o=-1,i=t==null?0:t.length;++o<i;){var a=t[o];n(s,a,r(a),t)}return s}return Dy=e,Dy}var Ly,dx;function Eae(){if(dx)return Ly;dx=1;function e(t){return function(n,r,s){for(var o=-1,i=Object(n),a=s(n),l=a.length;l--;){var c=a[t?l:++o];if(r(i[c],c,i)===!1)break}return n}}return Ly=e,Ly}var Fy,fx;function xae(){if(fx)return Fy;fx=1;var e=Eae(),t=e();return Fy=t,Fy}var jy,hx;function Tae(){if(hx)return jy;hx=1;var e=xae(),t=Mu();function n(r,s){return r&&e(r,s,t)}return jy=n,jy}var Uy,px;function kae(){if(px)return Uy;px=1;var e=Ug();function t(n,r){return function(s,o){if(s==null)return s;if(!e(s))return n(s,o);for(var i=s.length,a=r?i:-1,l=Object(s);(r?a--:++a<i)&&o(l[a],a,l)!==!1;);return s}}return Uy=t,Uy}var By,mx;function Oae(){if(mx)return By;mx=1;var e=Tae(),t=kae(),n=t(e);return By=n,By}var qy,gx;function Aae(){if(gx)return qy;gx=1;var e=Oae();function t(n,r,s,o){return e(n,function(i,a,l){r(o,i,s(i),l)}),o}return qy=t,qy}var Gy,vx;function Mae(){if(vx)return Gy;vx=1;var e=wae(),t=Aae(),n=Vf(),r=Ss();function s(o,i){return function(a,l){var c=r(a)?e:t,u=i?i():{};return c(a,o,n(l,2),u)}}return Gy=s,Gy}var Vy,_x;function Iae(){if(_x)return Vy;_x=1;var e=C6(),t=Mae(),n=Object.prototype,r=n.hasOwnProperty,s=t(function(o,i,a){r.call(o,a)?o[a].push(i):e(o,a,[i])});return Vy=s,Vy}var Rae=Iae();const dD=yn(Rae),Nae=async(e,t=void 0)=>(await Q.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}]},additionalHeaders:t?{[dr]:t}:void 0})).connectors,fD=async(e,t=!1,n=void 0)=>{const r=await Q.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[dr]:n}:void 0});return dD(r.links,({connector_id:s})=>s)};function Ml({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=ae(),s=fn(r),o=nh(),{data:i,isLoading:a,isFetching:l,error:c,refetch:u}=Tt({queryKey:cD(s?.normalizedAccountUserId,t,n),enabled:!e&&!!s&&o,queryFn:async()=>!s||!s.normalizedAccountUserId?{}:await fD(s.normalizedAccountUserId,t,n)});return{connectorLinks:h.useMemo(()=>i?new Map(Object.entries(i)):new Map,[i]),isLoading:a,isFetching:l,error:c,refetch:u}}function uwe({skip:e=!1,productSku:t}={}){const n=nh(),r=ae(),s=fn(r),o=Pr();h.useEffect(()=>{if(e||!s?.normalizedAccountUserId||!n)return;const i=s.normalizedAccountUserId;o.prefetchQuery({queryKey:uD(i,void 0,t),queryFn:()=>Nae(i,t)}).catch(()=>{}),o.prefetchQuery({queryKey:cD(i,!1,t),queryFn:()=>fD(i,!1,t)}).catch(()=>{})},[e,s?.normalizedAccountUserId,o,n,t])}const Pae=async(e,t,n)=>(await Q.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},additionalHeaders:t?{[dr]:t}:void 0})).connectors;function rh(e=!0,t=void 0,n=void 0){const r=nh(),s=ae(),o=fn(s),{data:i,isLoading:a,isFetching:l,error:c,refetch:u}=Tt({queryKey:uD(o?.normalizedAccountUserId,n,t),queryFn:async()=>!o||!o.normalizedAccountUserId?[]:await Pae(o.normalizedAccountUserId,t,n),enabled:!!o&&e&&r});return{platformConnectors:h.useMemo(()=>new Map(i?.map(f=>[f.id,f])),[i]),isLoading:a,isFetching:l,error:c,refetch:u}}function hD(e){const t=xn();return Tt({queryKey:["userContext"],queryFn:()=>Q.safeGet("/user_system_messages").catch(n=>{throw t.danger({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings",description:"Error message when getting custom instructions fails"},{toastId:"user_context_modal_get_custom_instructions_error"}),n}),enabled:e,select:n=>{const{about_user_message:r,about_model_message:s,personality_type_selection:o,name_user_message:i,role_user_message:a,traits_model_message:l,other_user_message:c,disabled_tools:u,enabled:d,object:f,...p}=n;return{...p,aboutUserMessage:r??"",aboutModelMessage:s??"",personalityTypeMessage:o??"",nameUserMessage:i??"",roleUserMessage:a??"",traitsModelMessage:l??"",otherUserMessage:c??"",disabledTools:u??[],enabled:d??!0}}})}function Dae({aboutUserMessage:e,aboutModelMessage:t,personalityTypeMessage:n,nameUserMessage:r="",roleUserMessage:s="",traitsModelMessage:o="",otherUserMessage:i="",disabledTools:a,enabled:l,...c}){return Q.safePost("/user_system_messages",{requestBody:{about_user_message:e,about_model_message:t,personality_type_selection:n,name_user_message:r,role_user_message:s,traits_model_message:o,other_user_message:i,disabled_tools:a,enabled:l,...c}})}const Lae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5707_424)"},h.createElement("path",{d:"M22 2H2V22H22V2Z",fill:"#0472F8"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1302 13.5156C11.3673 13.5156 10.7134 12.8617 10.7134 12.0625C10.7134 11.2633 11.331 10.6094 12.1302 10.6094C12.893 10.6094 13.5469 11.2633 13.5469 12.0625C13.5469 12.8617 12.9294 13.5156 12.1302 13.5156ZM7.98887 13.5156C7.226 13.5156 6.57212 12.8617 6.57212 12.0625C6.57212 11.2633 7.18967 10.6094 7.98887 10.6094C8.75174 10.6094 9.40563 11.2633 9.40563 12.0625C9.40563 12.8617 8.78806 13.5156 7.98887 13.5156ZM17.4339 9.91917C17.6156 9.70121 17.9425 9.66489 18.1605 9.84652C18.3784 9.99183 18.4511 10.3188 18.2695 10.5367L16.9617 12.1715L18.2695 13.8062C18.4511 14.0241 18.3784 14.3148 18.1605 14.4964C17.9425 14.6417 17.6156 14.6054 17.4339 14.4237L16.3078 13.0433L15.1817 14.4237C15 14.6417 14.6731 14.678 14.4551 14.4964C14.2371 14.3511 14.1645 14.0241 14.3461 13.8062L15.6539 12.1715L14.3825 10.5004C14.2008 10.2824 14.2735 9.99183 14.4914 9.81019C14.7094 9.66489 15.0363 9.70121 15.218 9.88285L16.3441 11.2996L17.4339 9.91917ZM6.13619 7.59424C6.39048 7.59424 6.60845 7.8122 6.60845 8.06649V10.1371C7.00804 9.84652 7.48029 9.66489 8.02519 9.66489C8.93338 9.66489 9.69624 10.1735 10.0958 10.9727C10.4954 10.2098 11.2583 9.66489 12.1665 9.66489C13.4743 9.66489 14.4914 10.7547 14.4914 12.0988C14.4914 13.4429 13.4379 14.5327 12.1665 14.5327C11.2583 14.5327 10.4954 14.0241 10.0958 13.2249C9.69624 13.9878 8.93338 14.5327 8.02519 14.5327C6.75374 14.5327 5.70027 13.4792 5.70027 12.1351V8.06649C5.66394 7.8122 5.8819 7.59424 6.13619 7.59424Z",fill:"white"})),h.createElement("defs",null,h.createElement("clipPath",{id:"clip0_5707_424"},h.createElement("rect",{x:2,y:2,width:20,height:20,rx:2,fill:"white"})))),Fae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5904_434)"},h.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#7D2AE7"}),h.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint0_radial_5904_434)"}),h.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint1_radial_5904_434)"}),h.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint2_radial_5904_434)"}),h.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint3_radial_5904_434)"}),h.createElement("path",{d:"M16.3172 14.0514C16.2346 14.0514 16.162 14.1211 16.0864 14.2733C15.2329 16.0039 13.7588 17.2284 12.053 17.2284C10.0806 17.2284 8.85912 15.4479 8.85912 12.9881C8.85912 8.82143 11.1807 6.41235 13.2198 6.41235C14.1726 6.41235 14.7545 7.01114 14.7545 7.96403C14.7545 9.09497 14.112 9.69376 14.112 10.0926C14.112 10.2717 14.2234 10.3801 14.4442 10.3801C15.3315 10.3801 16.3728 9.36055 16.3728 7.92026C16.3728 6.52375 15.1574 5.49725 13.1183 5.49725C9.74837 5.49725 6.75342 8.62151 6.75342 12.9443C6.75342 16.2904 8.66418 18.5016 11.6124 18.5016C14.7416 18.5016 16.5509 15.3882 16.5509 14.3777C16.5509 14.1539 16.4365 14.0514 16.3172 14.0514Z",fill:"white"})),h.createElement("defs",null,h.createElement("radialGradient",{id:"paint0_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-49.4156) scale(15.4683)"},h.createElement("stop",{stopColor:"#6420FF"}),h.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),h.createElement("radialGradient",{id:"paint1_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.29474 4.27368) rotate(54.7035) scale(17.4434)"},h.createElement("stop",{stopColor:"#00C4CC"}),h.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),h.createElement("radialGradient",{id:"paint2_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-45.1954) scale(15.2811 7.02796)"},h.createElement("stop",{stopColor:"#6420FF"}),h.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),h.createElement("radialGradient",{id:"paint3_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(10.1789 4.69474) rotate(66.5198) scale(15.7459 26.3779)"},h.createElement("stop",{stopColor:"#00C4CC",stopOpacity:.725916}),h.createElement("stop",{offset:1e-4,stopColor:"#00C4CC"}),h.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),h.createElement("clipPath",{id:"clip0_5904_434"},h.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),jae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M6.62777 3.00696L1.25488 6.38196L6.62777 9.75695L12.0016 6.38196L17.3745 9.75695L22.7474 6.38196L17.3745 3.00696L12.0016 6.38196L6.62777 3.00696Z",fill:"#0061FE"}),h.createElement("path",{d:"M6.62777 16.507L1.25488 13.132L6.62777 9.75696L12.0016 13.132L6.62777 16.507Z",fill:"#0061FE"}),h.createElement("path",{d:"M12.0015 13.132L17.3744 9.75696L22.7473 13.132L17.3744 16.507L12.0015 13.132Z",fill:"#0061FE"}),h.createElement("path",{d:"M12.0013 21.007L6.62744 17.632L12.0013 14.257L17.3742 17.632L12.0013 21.007Z",fill:"#0061FE"})),pD=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M12 1.95068C17.525 1.95068 22 6.42568 22 11.9507C21.9995 14.0459 21.3419 16.0883 20.1198 17.7902C18.8977 19.4922 17.1727 20.768 15.1875 21.4382C14.6875 21.5382 14.5 21.2257 14.5 20.9632C14.5 20.6257 14.5125 19.5507 14.5125 18.2132C14.5125 17.2757 14.2 16.6757 13.8375 16.3632C16.0625 16.1132 18.4 15.2632 18.4 11.4257C18.4 10.3257 18.0125 9.43818 17.375 8.73818C17.475 8.48818 17.825 7.46318 17.275 6.08818C17.275 6.08818 16.4375 5.81318 14.525 7.11318C13.725 6.88818 12.875 6.77568 12.025 6.77568C11.175 6.77568 10.325 6.88818 9.525 7.11318C7.6125 5.82568 6.775 6.08818 6.775 6.08818C6.225 7.46318 6.575 8.48818 6.675 8.73818C6.0375 9.43818 5.65 10.3382 5.65 11.4257C5.65 15.2507 7.975 16.1132 10.2 16.3632C9.9125 16.6132 9.65 17.0507 9.5625 17.7007C8.9875 17.9632 7.55 18.3882 6.65 16.8757C6.4625 16.5757 5.9 15.8382 5.1125 15.8507C4.275 15.8632 4.775 16.3257 5.125 16.5132C5.55 16.7507 6.0375 17.6382 6.15 17.9257C6.35 18.4882 7 19.5632 9.5125 19.1007C9.5125 19.9382 9.525 20.7257 9.525 20.9632C9.525 21.2257 9.3375 21.5257 8.8375 21.4382C6.8458 20.7752 5.11342 19.502 3.88611 17.799C2.65881 16.096 1.9989 14.0498 2 11.9507C2 6.42568 6.475 1.95068 12 1.95068Z",fill:"currentColor"})),Uae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M6.27275 19.8771V11.7634L3.75642 9.46126L1.5 8.18381V18.4452C1.5 19.2375 2.14194 19.8771 2.93183 19.8771H6.27275Z",fill:"#4285F4"}),h.createElement("path",{d:"M17.7271 19.8771H21.068C21.8603 19.8771 22.4998 19.2351 22.4998 18.4452V8.18381L19.9441 9.64709L17.7271 11.7634V19.8771Z",fill:"#34A853"}),h.createElement("path",{d:"M6.27257 11.7635L5.93018 8.59314L6.27257 5.55887L11.9999 9.85434L17.7272 5.55887L18.1102 8.42932L17.7272 11.7635L11.9999 16.0589L6.27257 11.7635Z",fill:"#EA4335"}),h.createElement("path",{d:"M17.7271 5.55879V11.7634L22.4998 8.18381V6.2747C22.4998 4.504 20.4786 3.49457 19.0634 4.5565L17.7271 5.55879Z",fill:"#FBBC04"}),h.createElement("path",{d:"M1.5 8.18378L3.69507 9.83008L6.27275 11.7633V5.55876L4.93638 4.55647C3.51887 3.49454 1.5 4.50397 1.5 6.27467V8.18378Z",fill:"#C5221F"})),Bae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M16.7369 7.26321H7.26318V16.7369H16.7369V7.26321Z",fill:"white"}),h.createElement("path",{d:"M16.7367 21L20.9999 16.7369L18.8683 16.3732L16.7367 16.7369L16.3477 18.6866L16.7367 21Z",fill:"#EA4335"}),h.createElement("path",{d:"M3 16.7369V19.579C3 20.3641 3.63592 21 4.42105 21H7.26316L7.70087 18.8684L7.26316 16.7369L4.94057 16.3732L3 16.7369Z",fill:"#188038"}),h.createElement("path",{d:"M20.9999 7.26316V4.42105C20.9999 3.63592 20.364 3 19.5788 3H16.7367C16.4773 4.05721 16.3477 4.83523 16.3477 5.33408C16.3477 5.83291 16.4773 6.47593 16.7367 7.26316C17.6796 7.53315 18.3901 7.66815 18.8683 7.66815C19.3465 7.66815 20.057 7.53315 20.9999 7.26316Z",fill:"#1967D2"}),h.createElement("path",{d:"M21 7.26321H16.7368V16.7369H21V7.26321Z",fill:"#FBBC04"}),h.createElement("path",{d:"M16.7369 16.7368H7.26318V21H16.7369V16.7368Z",fill:"#34A853"}),h.createElement("path",{d:"M16.7368 2.99997H4.42105C3.63592 2.99997 3 3.63589 3 4.42102V16.7368H7.26316V7.26313H16.7368V2.99997Z",fill:"#4285F4"}),h.createElement("path",{d:"M9.20617 14.6124C8.8521 14.3732 8.60696 14.0239 8.47314 13.562L9.295 13.2233C9.3696 13.5075 9.49985 13.7278 9.68577 13.8841C9.87052 14.0404 10.0955 14.1174 10.3584 14.1174C10.6272 14.1174 10.8581 14.0357 11.0512 13.8723C11.2442 13.7089 11.3413 13.5004 11.3413 13.2482C11.3413 12.99 11.2395 12.7792 11.0358 12.6158C10.8321 12.4524 10.5763 12.3707 10.2708 12.3707H9.79591V11.5571H10.2222C10.4851 11.5571 10.7066 11.4861 10.8866 11.344C11.0666 11.2019 11.1566 11.0077 11.1566 10.7602C11.1566 10.5399 11.076 10.3646 10.915 10.2332C10.7539 10.1017 10.5502 10.0354 10.3027 10.0354C10.0612 10.0354 9.86933 10.0994 9.72723 10.2285C9.58522 10.3579 9.47844 10.5213 9.41696 10.7033L8.60341 10.3646C8.71117 10.0591 8.90894 9.7891 9.19906 9.55581C9.48921 9.32252 9.85985 9.20529 10.3099 9.20529C10.6426 9.20529 10.9422 9.26925 11.2075 9.39831C11.4727 9.5274 11.6812 9.70621 11.8316 9.93358C11.982 10.1621 12.0566 10.4179 12.0566 10.7021C12.0566 10.9923 11.9867 11.2374 11.847 11.4387C11.7072 11.64 11.5355 11.794 11.3318 11.9017V11.9503C11.5948 12.0587 11.8233 12.2368 11.9926 12.4654C12.1643 12.6964 12.2508 12.9723 12.2508 13.2944C12.2508 13.6165 12.1691 13.9042 12.0056 14.1565C11.8422 14.4087 11.616 14.6077 11.3295 14.7521C11.0417 14.8966 10.7184 14.97 10.3596 14.97C9.94394 14.9712 9.56025 14.8516 9.20617 14.6124ZM14.2545 10.534L13.3521 11.1865L12.9009 10.502L14.5197 9.33437H15.1402V14.8421H14.2545V10.534Z",fill:"#4285F4"})),qae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M9.48739 11.7436C5.94383 11.7436 3.07715 14.6102 3.07715 18.1538V20.8462C3.07715 21.4833 3.59383 22 4.23099 22H7.30791L10.3848 11.7436H9.48739Z",fill:"#86A9FF"}),h.createElement("path",{d:"M20.0001 15.9744C20.0001 13.6359 18.1077 11.7436 15.7693 11.7436H12.6924V22H15.7693C18.1078 22 20.0001 20.1077 20.0001 17.7692",fill:"#578CFF"}),h.createElement("path",{d:"M6.15381 15.9744C6.15381 13.6359 8.04613 11.7436 10.3846 11.7436H12.6922C15.0307 11.7436 16.923 13.6359 16.923 15.9744V17.7692C16.923 20.1077 15.0307 22 12.6922 22H7.30765C6.67049 22 6.15381 21.4833 6.15381 20.8462V15.9744Z",fill:"#0057CC"}),h.createElement("path",{d:"M11.5383 9.94872C13.7333 9.94872 15.5127 8.16934 15.5127 5.97436C15.5127 3.77938 13.7333 2 11.5383 2C9.34335 2 7.56396 3.77938 7.56396 5.97436C7.56396 8.16934 9.34335 9.94872 11.5383 9.94872Z",fill:"#0057CC"})),Lu=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M3.51105 18.4269L4.39307 19.9615C4.57634 20.2846 4.8398 20.5384 5.14908 20.723L8.29914 15.2307H1.99902C1.99902 15.5884 2.09066 15.9461 2.27394 16.2692L3.51105 18.4269Z",fill:"#0066DA"}),h.createElement("path",{d:"M11.999 8.76916L8.84897 3.27686C8.53969 3.46147 8.27623 3.71532 8.09295 4.03839L2.27394 14.1922C2.09403 14.5083 1.99926 14.8663 1.99902 15.2307H8.29914L11.999 8.76916Z",fill:"#00AC47"}),h.createElement("path",{d:"M18.8492 20.723C19.1585 20.5384 19.422 20.2846 19.6053 19.9615L19.9718 19.3269L21.7244 16.2692C21.9077 15.9461 21.9993 15.5884 21.9993 15.2307H15.6987L17.0394 17.8846L18.8492 20.723Z",fill:"#EA4335"}),h.createElement("path",{d:"M11.9982 8.76923L15.1483 3.27692C14.839 3.09231 14.4839 3 14.1173 3H9.87907C9.51252 3 9.15742 3.10385 8.84814 3.27692L11.9982 8.76923Z",fill:"#00832D"}),h.createElement("path",{d:"M15.6983 15.2307H8.29849L5.14844 20.723C5.45772 20.9076 5.81281 20.9999 6.17937 20.9999H17.8174C18.1839 20.9999 18.539 20.8961 18.8483 20.723L15.6983 15.2307Z",fill:"#2684FC"}),h.createElement("path",{d:"M18.8146 9.11532L15.9051 4.03839C15.7218 3.71532 15.4584 3.46147 15.1491 3.27686L11.999 8.76916L15.6989 15.2307H21.9876C21.9876 14.873 21.8959 14.5153 21.7127 14.1922L18.8146 9.11532Z",fill:"#FFBA00"})),Gae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M16.888 8.14381V5.93591C17.1798 5.79955 17.4268 5.58312 17.6004 5.31182C17.7739 5.04053 17.8668 4.72552 17.8683 4.40346V4.35276C17.8683 3.41376 17.1071 2.65254 16.1681 2.65254H16.1174C15.6665 2.65254 15.234 2.83167 14.9152 3.15052C14.5963 3.46937 14.4172 3.90183 14.4172 4.35276V4.40346C14.4187 4.72552 14.5116 5.04053 14.6851 5.31182C14.8587 5.58312 15.1057 5.79955 15.3975 5.93591V8.14381C14.5589 8.27221 13.7692 8.61989 13.1082 9.15167L7.05292 4.43539C7.09611 4.27951 7.11865 4.11926 7.12116 3.95838C7.1219 3.57946 7.01024 3.20884 6.80032 2.89339C6.5904 2.57794 6.29164 2.33183 5.94183 2.1862C5.59202 2.04056 5.20688 2.00195 4.83512 2.07523C4.46335 2.14852 4.12168 2.33041 3.85331 2.59791C3.58494 2.8654 3.40193 3.20648 3.32743 3.578C3.25293 3.94952 3.29029 4.33478 3.43478 4.68507C3.57927 5.03535 3.82439 5.33492 4.13916 5.54587C4.45392 5.75682 4.82418 5.86968 5.20309 5.87018C5.53459 5.86862 5.85988 5.78012 6.14648 5.61352L12.1091 10.2534C11.5735 11.0626 11.294 12.0144 11.3072 12.9848C11.3204 13.9551 11.6256 14.899 12.183 15.6934L10.3695 17.5075C10.2229 17.4606 10.0701 17.4357 9.91624 17.4336C9.60521 17.4339 9.30123 17.5263 9.04273 17.6993C8.78422 17.8722 8.58278 18.1179 8.46386 18.4053C8.34495 18.6927 8.3139 19.0089 8.37464 19.314C8.43538 19.619 8.58519 19.8992 8.80512 20.1192C9.02505 20.3391 9.30524 20.4889 9.61028 20.5496C9.91532 20.6104 10.2315 20.5793 10.5189 20.4604C10.8063 20.3415 11.052 20.1401 11.225 19.8815C11.3979 19.623 11.4904 19.3191 11.4906 19.008C11.4886 18.8541 11.4637 18.7014 11.4168 18.5548L13.2109 16.7601C13.7959 17.2105 14.4763 17.521 15.1999 17.6678C15.9235 17.8147 16.6711 17.7939 17.3854 17.6072C18.0998 17.4205 18.7619 17.0727 19.3211 16.5906C19.8803 16.1085 20.3217 15.5047 20.6115 14.8256C20.9013 14.1465 21.0318 13.4101 20.9931 12.6728C20.9543 11.9355 20.7473 11.2168 20.3879 10.5718C20.0285 9.92689 19.5262 9.37275 18.9196 8.95189C18.3129 8.53103 17.618 8.25461 16.888 8.14381ZM16.1443 15.4054C15.8127 15.4145 15.4827 15.3571 15.1737 15.2365C14.8647 15.1159 14.583 14.9346 14.3452 14.7033C14.1075 14.472 13.9185 14.1954 13.7895 13.8899C13.6604 13.5843 13.594 13.256 13.594 12.9243C13.594 12.5926 13.6604 12.2642 13.7895 11.9587C13.9185 11.6531 14.1075 11.3765 14.3452 11.1452C14.583 10.9139 14.8647 10.7326 15.1737 10.612C15.4827 10.4914 15.8127 10.434 16.1443 10.4431C16.7869 10.4656 17.3958 10.7366 17.8426 11.1991C18.2893 11.6616 18.5392 12.2794 18.5395 12.9224C18.5399 13.5655 18.2906 14.1835 17.8443 14.6464C17.398 15.1094 16.7894 15.381 16.1468 15.4042",fill:"#FF7A59"})),Vae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5645_167)"},h.createElement("path",{d:"M19.289 12.9098C19.289 13.0866 19.2193 13.2561 19.0953 13.381C18.9713 13.506 18.8032 13.5763 18.6278 13.5763C18.4525 13.5763 18.2843 13.506 18.1603 13.381C18.0363 13.2561 17.9667 13.0866 17.9667 12.9098V6.95655C17.9667 6.77982 18.0363 6.61032 18.1603 6.48536C18.2843 6.36038 18.4525 6.29017 18.6278 6.29017C18.8032 6.29017 18.9713 6.36038 19.0953 6.48536C19.2193 6.61032 19.289 6.77982 19.289 6.95655V12.9098ZM19.0595 17.0348C18.9721 17.1229 16.5134 19.1881 12.0057 19.1881C7.49817 19.1881 5.05587 17.1339 4.95206 17.0457C4.88664 16.9902 4.83275 16.9221 4.79348 16.8455C4.75422 16.7688 4.73035 16.6851 4.72324 16.5991C4.71614 16.5132 4.72594 16.4267 4.75207 16.3445C4.77821 16.2624 4.82018 16.1863 4.87557 16.1205C4.98967 15.9875 5.15135 15.9053 5.32535 15.8918C5.49935 15.8784 5.67155 15.935 5.8044 16.049C5.84266 16.0765 8.03908 17.8718 12.0003 17.8718C15.9616 17.8718 18.1743 16.0655 18.1962 16.049C18.3305 15.9359 18.5033 15.8802 18.6777 15.8936C18.8523 15.907 19.0147 15.9883 19.1305 16.1205C19.242 16.2517 19.2976 16.4218 19.2853 16.594C19.273 16.7662 19.1938 16.9266 19.065 17.0403L19.0595 17.0348ZM4.71712 6.95655C4.727 6.77926 4.80611 6.61311 4.93716 6.49444C5.0682 6.37577 5.24054 6.31421 5.41648 6.32322C5.57959 6.33256 5.73349 6.40243 5.84851 6.51938C5.96353 6.63633 6.03151 6.79207 6.03934 6.95655V12.8989C6.03934 13.0756 5.96969 13.245 5.84571 13.37C5.72173 13.495 5.55357 13.5652 5.37823 13.5652C5.20289 13.5652 5.03473 13.495 4.91075 13.37C4.78677 13.245 4.71712 13.0756 4.71712 12.8989V6.95655ZM8.03362 5.63482C8.0435 5.45752 8.12261 5.29138 8.25366 5.17271C8.38471 5.05403 8.55704 4.99248 8.73298 5.00149C8.89609 5.01083 9.05 5.0807 9.16501 5.19765C9.28002 5.3146 9.348 5.47033 9.35585 5.63482V14.4463C9.35585 14.6231 9.2862 14.7926 9.16221 14.9176C9.03823 15.0425 8.87007 15.1127 8.69474 15.1127C8.5194 15.1127 8.35124 15.0425 8.22726 14.9176C8.10327 14.7926 8.03362 14.6231 8.03362 14.4463V5.63482ZM11.3665 5.30438C11.3665 5.12765 11.4362 4.95816 11.5602 4.83319C11.6842 4.70822 11.8523 4.63801 12.0276 4.63801C12.203 4.63801 12.3711 4.70822 12.4951 4.83319C12.6191 4.95816 12.6888 5.12765 12.6888 5.30438V14.887C12.6888 15.0637 12.6191 15.2331 12.4951 15.3582C12.3711 15.4831 12.203 15.5533 12.0276 15.5533C11.8523 15.5533 11.6842 15.4831 11.5602 15.3582C11.4362 15.2331 11.3665 15.0637 11.3665 14.887V5.30438ZM14.6448 5.63482C14.6448 5.45809 14.7144 5.28859 14.8384 5.16362C14.9623 5.03865 15.1305 4.96844 15.3059 4.96844C15.4812 4.96844 15.6494 5.03865 15.7734 5.16362C15.8973 5.28859 15.967 5.45809 15.967 5.63482V14.4463C15.967 14.6231 15.8973 14.7926 15.7734 14.9176C15.6494 15.0425 15.4812 15.1127 15.3059 15.1127C15.1305 15.1127 14.9623 15.0425 14.8384 14.9176C14.7144 14.7926 14.6448 14.6231 14.6448 14.4463V5.63482ZM19.4693 2.00005H4.56414C4.23936 1.99788 3.91735 2.06029 3.61654 2.18373C3.31573 2.30716 3.04203 2.48919 2.81111 2.71939C2.58019 2.94959 2.39658 3.22343 2.27081 3.52526C2.14503 3.82708 2.07955 4.15094 2.07812 4.4783V19.3478C2.07955 19.6751 2.14503 19.999 2.27081 20.3009C2.39658 20.6026 2.58019 20.8765 2.81111 21.1067C3.04203 21.3369 3.31573 21.519 3.61654 21.6423C3.91735 21.7658 4.23936 21.8282 4.56414 21.826H19.4693C19.7936 21.8282 20.1151 21.766 20.4156 21.6429C20.7161 21.5198 20.9895 21.3383 21.2203 21.1086C21.4512 20.879 21.635 20.6058 21.761 20.3046C21.8871 20.0035 21.9531 19.6802 21.9553 19.3533V4.4783C21.9538 4.15141 21.8885 3.828 21.7631 3.52654C21.6376 3.22508 21.4545 2.95148 21.2242 2.72135C20.9939 2.49122 20.7208 2.30908 20.4206 2.18532C20.1204 2.06156 19.799 1.99861 19.4747 2.00005",fill:"currentColor"})),h.createElement("defs",null,h.createElement("clipPath",{id:"clip0_5645_167"},h.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),Hae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5645_169)"},h.createElement("path",{d:"M2.41207 13.8046C2.36757 13.6149 2.59357 13.4954 2.73135 13.6332L10.0338 20.9356C10.1716 21.0734 10.0521 21.2994 9.86243 21.2549C6.17729 20.3904 3.27655 17.4897 2.41207 13.8046ZM2.16737 10.8778C2.16384 10.9345 2.18514 10.9898 2.22528 11.0299L12.6371 21.4417C12.6772 21.4818 12.7325 21.5032 12.7892 21.4996C13.263 21.4701 13.7279 21.4076 14.1817 21.3144C14.3346 21.283 14.3877 21.0952 14.2773 20.9848L2.68218 9.3897C2.57181 9.27932 2.38395 9.33244 2.35255 9.48534C2.25936 9.93906 2.19688 10.404 2.16737 10.8778ZM3.00918 7.44108C2.97588 7.51584 2.99284 7.6032 3.05071 7.66108L16.0059 20.6163C16.0638 20.6742 16.1512 20.6911 16.2259 20.6578C16.5831 20.4987 16.9293 20.3193 17.263 20.121C17.3734 20.0554 17.3905 19.9037 17.2997 19.8129L3.85412 6.36734C3.76331 6.27652 3.61158 6.29356 3.54598 6.40398C3.34771 6.73766 3.16829 7.08386 3.00918 7.44108ZM4.69873 5.1148C4.62471 5.04078 4.62013 4.92206 4.68987 4.84398C6.52289 2.79186 9.18927 1.5 12.1574 1.5C17.6855 1.5 22.167 5.98146 22.167 11.5096C22.167 14.4777 20.8751 17.1441 18.823 18.9771C18.745 19.0469 18.6262 19.0423 18.5522 18.9683L4.69873 5.1148Z",fill:"#6777FF"})),h.createElement("defs",null,h.createElement("clipPath",{id:"clip0_5645_169"},h.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2.16699 1.5)"})))),zae=e=>h.createElement("svg",{"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"170mm",height:"173mm",viewBox:"0 0 170 173",id:"svg8","inkscape:version":"1.0.2 (e86c870879, 2021-01-15, custom)","sodipodi:docname":"cldrnw.svg",...e},h.createElement("defs",{id:"defs2"}),h.createElement("sodipodi:namedview",{id:"base",pagecolor:"#ffffff",bordercolor:"#666666",borderopacity:1,"inkscape:pageopacity":0,"inkscape:pageshadow":2,"inkscape:zoom":1,"inkscape:cx":446.39757,"inkscape:cy":364.37241,"inkscape:document-units":"mm","inkscape:current-layer":"layer2","inkscape:document-rotation":0,showgrid:"false","inkscape:window-width":1920,"inkscape:window-height":1017,"inkscape:window-x":1912,"inkscape:window-y":-8,"inkscape:window-maximized":1}),h.createElement("metadata",{id:"metadata5"},h.createElement("rdf:RDF",null,h.createElement("cc:Work",{"rdf:about":""},h.createElement("dc:format",null,"image/svg+xml"),h.createElement("dc:type",{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"}),h.createElement("dc:title",null)))),h.createElement("g",{"inkscape:groupmode":"layer",id:"layer2","inkscape:label":"Capa 2",style:{opacity:1}},h.createElement("path",{id:"rect862",style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46864,strokeLinecap:"square",paintOrder:"markers fill stroke"},d:"M 7.9243621,0.40426573 H 162.081 c 4.29879,0 7.75955,3.45686397 7.75955,7.75081597 V 36.958129 c 0,4.293952 -3.46076,7.750816 -7.75955,7.750816 H 7.9243621 c -4.29883,0 -7.75961003,-3.456864 -7.75961003,-7.750816 V 8.1550817 c 0,-4.293952 3.46078003,-7.75081597 7.75961003,-7.75081597 z"}),h.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",stroke:"none",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865",width:53.482864,height:47.625,x:.21232992,y:30.049105,ry:0}),h.createElement("rect",{style:{fill:"#5edafe",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6",width:53.483627,height:47.625,x:116.33598,y:30.049105,ry:0}),h.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5",width:62.640022,height:47.625,x:53.695198,y:30.049105,ry:0}),h.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1",width:53.483627,height:47.625,x:.21232992,y:77.674103,ry:0}),h.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6-7",width:53.483627,height:47.625,x:116.33598,y:77.674103,ry:0}),h.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7",width:62.640022,height:47.625,x:53.695198,y:77.674103,ry:0}),h.createElement("rect",{style:{fill:"#154a8a",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1",width:53.483627,height:47.625,x:.21232992,y:125.29911,ry:7.7508163}),h.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7-8",width:62.639313,height:47.624989,x:53.695961,y:125.29911,ry:0}),h.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1-4",width:53.483627,height:47.625,x:116.33598,y:125.29911,ry:7.7508163}),h.createElement("path",{style:{fill:"#154a8a",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 0.21378207,125.2991 53.48140993,1e-5 0.003,47.62499 H 8.4247021 l -8.21573003,-8.21568 z",id:"path1012","sodipodi:nodetypes":"cccccc"}),h.createElement("path",{style:{fill:"#2179d2",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 169.82154,125.29911 h -53.48556 l 0.002,47.625 h 45.27325 l 8.21568,-8.21568 z",id:"path1012-9","sodipodi:nodetypes":"cccccc"}))),mD=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M7.82373 7.35312L7.82391 7.35249L11.6726 9.65779L13.9659 8.6927C14.4319 8.49124 14.9344 8.38793 15.4421 8.38843C15.5267 8.38843 15.6103 8.39227 15.6935 8.39782C15.4178 7.32269 14.8357 6.35079 14.0181 5.60023C13.2004 4.84966 12.1823 4.35275 11.0876 4.16987C9.99283 3.98699 8.86853 4.12601 7.8513 4.57005C6.83408 5.01409 5.96772 5.74403 5.35751 6.67115C5.37712 6.67091 5.39643 6.66968 5.41608 6.66968C6.26666 6.66852 7.10061 6.90525 7.82373 7.35312Z",fill:"#0364B8"}),h.createElement("path",{d:"M7.82449 7.3525L7.82431 7.35313C7.10119 6.90526 6.26724 6.66853 5.41666 6.66968C5.39701 6.66968 5.37767 6.67091 5.35809 6.67116C4.52559 6.68147 3.71163 6.91843 3.00368 7.35659C2.29574 7.79475 1.72058 8.41754 1.34 9.15804C0.959422 9.89853 0.787821 10.7287 0.843637 11.5594C0.899452 12.3901 1.18057 13.1899 1.65679 13.8728L5.05075 12.4446L6.55948 11.8097L9.91879 10.396L11.6731 9.65779L7.82449 7.3525Z",fill:"#0078D4"}),h.createElement("path",{d:"M15.6938 8.39782C15.6106 8.39227 15.527 8.38843 15.4424 8.38843C14.9347 8.38793 14.4323 8.49163 13.9663 8.6931L11.6728 9.65779L12.3378 10.0561L14.5178 11.3619L15.4688 11.9316L18.7209 13.8795C19.0164 13.331 19.1695 12.717 19.1663 12.0939C19.163 11.4709 19.0035 10.8586 18.7023 10.3131C18.4011 9.76768 17.9678 9.30653 17.4422 8.97191C16.9166 8.63729 16.3154 8.4399 15.6938 8.39782Z",fill:"#1490DF"}),h.createElement("path",{d:"M15.4693 11.9315L14.5182 11.3618L12.3383 10.0561L11.6732 9.65771L9.9189 10.396L6.55959 11.8096L5.05086 12.4445L1.6569 13.8727C2.07866 14.4791 2.64091 14.9744 3.29564 15.3163C3.95037 15.6583 4.67813 15.8367 5.41676 15.8363H15.4428C16.115 15.8365 16.7748 15.6547 17.352 15.3101C17.9292 14.9656 18.4024 14.4712 18.7213 13.8794L15.4693 11.9315Z",fill:"#28A8EA"})),$ae=e=>h.createElement("svg",{id:"Livello_1","xmlns:x":"http://ns.adobe.com/Extensibility/1.0/","xmlns:i":"http://ns.adobe.com/AdobeIllustrator/10.0/","xmlns:graph":"http://ns.adobe.com/Graphs/1.0/",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1831.085 1703.335",enableBackground:"new 0 0 1831.085 1703.335",xmlSpace:"preserve",...e},h.createElement("path",{fill:"#0A2767",d:"M1831.083,894.25c0.1-14.318-7.298-27.644-19.503-35.131h-0.213l-0.767-0.426l-634.492-375.585  c-2.74-1.851-5.583-3.543-8.517-5.067c-24.498-12.639-53.599-12.639-78.098,0c-2.934,1.525-5.777,3.216-8.517,5.067L446.486,858.693  l-0.766,0.426c-19.392,12.059-25.337,37.556-13.278,56.948c3.553,5.714,8.447,10.474,14.257,13.868l634.492,375.585  c2.749,1.835,5.592,3.527,8.517,5.068c24.498,12.639,53.599,12.639,78.098,0c2.925-1.541,5.767-3.232,8.517-5.068l634.492-375.585  C1823.49,922.545,1831.228,908.923,1831.083,894.25z"}),h.createElement("path",{fill:"#0364B8",d:"M520.453,643.477h416.38v381.674h-416.38V643.477z M1745.917,255.5V80.908  c1-43.652-33.552-79.862-77.203-80.908H588.204C544.552,1.046,510,37.256,511,80.908V255.5l638.75,170.333L1745.917,255.5z"}),h.createElement("path",{fill:"#0078D4",d:"M511,255.5h425.833v383.25H511V255.5z"}),h.createElement("path",{fill:"#28A8EA",d:"M1362.667,255.5H936.833v383.25L1362.667,1022h383.25V638.75L1362.667,255.5z"}),h.createElement("path",{fill:"#0078D4",d:"M936.833,638.75h425.833V1022H936.833V638.75z"}),h.createElement("path",{fill:"#0364B8",d:"M936.833,1022h425.833v383.25H936.833V1022z"}),h.createElement("path",{fill:"#14447D",d:"M520.453,1025.151h416.38v346.969h-416.38V1025.151z"}),h.createElement("path",{fill:"#0078D4",d:"M1362.667,1022h383.25v383.25h-383.25V1022z"}),h.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:1128.4584,y1:811.0833,x2:1128.4584,y2:1.9982,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},h.createElement("stop",{offset:0,style:{stopColor:"#35b8f1"}}),h.createElement("stop",{offset:1,style:{stopColor:"#28a8ea"}})),h.createElement("path",{fill:"url(#SVGID_1_)",d:"M1811.58,927.593l-0.809,0.426l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-10.777,5.132-22.481,8.029-34.407,8.517l-34.663-20.27c-2.929-1.47-5.773-3.105-8.517-4.897L447.167,906.003h-0.298  l-21.036-11.753v722.384c0.328,48.196,39.653,87.006,87.849,86.7h1230.914c0.724,0,1.363-0.341,2.129-0.341  c10.18-0.651,20.216-2.745,29.808-6.217c4.145-1.756,8.146-3.835,11.966-6.217c2.853-1.618,7.75-5.152,7.75-5.152  c21.814-16.142,34.726-41.635,34.833-68.772V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),h.createElement("path",{opacity:.5,fill:"#0A2767",enableBackground:"new    ",d:"M1797.017,891.397v44.287l-663.448,456.791L446.699,906.301  c0-0.235-0.191-0.426-0.426-0.426l0,0l-63.023-37.899v-31.938l25.976-0.426l54.932,31.512l1.277,0.426l4.684,2.981  c0,0,645.563,368.346,647.267,369.197l24.698,14.478c2.129-0.852,4.258-1.703,6.813-2.555  c1.278-0.852,640.879-360.681,640.879-360.681L1797.017,891.397z"}),h.createElement("path",{fill:"#1490DF",d:"M1811.58,927.593l-0.809,0.468l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-24.641,12.038-53.457,12.038-78.098,0c-2.918-1.445-5.76-3.037-8.517-4.769L446.657,928.061l-0.766-0.468  c-12.25-6.642-19.93-19.409-20.057-33.343v722.384c0.305,48.188,39.616,87.004,87.803,86.7c0.001,0,0.002,0,0.004,0h1229.636  c48.188,0.307,87.5-38.509,87.807-86.696c0-0.001,0-0.002,0-0.004V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),h.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1185.52,1279.629l-9.496,5.323c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l241.405,285.479l421.107,101.476c11.539-8.716,20.717-20.178,26.7-33.343L1185.52,1279.629  z"}),h.createElement("path",{opacity:.05,enableBackground:"new    ",d:"M1228.529,1255.442l-52.505,29.51c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l113.101,311.838l549.538,74.989c21.649-16.254,34.394-41.743,34.407-68.815v-9.326  L1228.529,1255.442z"}),h.createElement("path",{fill:"#28A8EA",d:"M514.833,1703.333h1228.316c18.901,0.096,37.335-5.874,52.59-17.033l-697.089-408.331  c-2.929-1.47-5.773-3.105-8.517-4.897L447.125,906.088h-0.298l-20.993-11.838v719.914  C425.786,1663.364,465.632,1703.286,514.833,1703.333C514.832,1703.333,514.832,1703.333,514.833,1703.333z"}),h.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1022,418.722v908.303c-0.076,31.846-19.44,60.471-48.971,72.392  c-9.148,3.931-19,5.96-28.957,5.962H425.833V383.25H511v-42.583h433.073C987.092,340.83,1021.907,375.702,1022,418.722z"}),h.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v908.302c0.107,10.287-2.074,20.469-6.388,29.808  c-11.826,29.149-40.083,48.273-71.54,48.417H425.833V383.25h475.656c12.356-0.124,24.533,2.958,35.344,8.943  C962.937,405.344,979.407,432.076,979.417,461.305z"}),h.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v823.136c-0.208,43-34.928,77.853-77.927,78.225H425.833V383.25  h475.656c12.356-0.124,24.533,2.958,35.344,8.943C962.937,405.344,979.407,432.076,979.417,461.305z"}),h.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M936.833,461.305v823.136c-0.046,43.067-34.861,78.015-77.927,78.225H425.833  V383.25h433.072c43.062,0.023,77.951,34.951,77.927,78.013C936.833,461.277,936.833,461.291,936.833,461.305z"}),h.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:162.7469,y1:1383.0741,x2:774.0864,y2:324.2592,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},h.createElement("stop",{offset:0,style:{stopColor:"#1784d9"}}),h.createElement("stop",{offset:.5,style:{stopColor:"#107ad5"}}),h.createElement("stop",{offset:1,style:{stopColor:"#0a63c9"}})),h.createElement("path",{fill:"url(#SVGID_2_)",d:"M78.055,383.25h780.723c43.109,0,78.055,34.947,78.055,78.055v780.723  c0,43.109-34.946,78.055-78.055,78.055H78.055c-43.109,0-78.055-34.947-78.055-78.055V461.305  C0,418.197,34.947,383.25,78.055,383.25z"}),h.createElement("path",{fill:"#FFFFFF",d:"M243.96,710.631c19.238-40.988,50.29-75.289,89.17-98.495c43.057-24.651,92.081-36.94,141.675-35.515  c45.965-0.997,91.321,10.655,131.114,33.683c37.414,22.312,67.547,55.004,86.742,94.109c20.904,43.09,31.322,90.512,30.405,138.396  c1.013,50.043-9.706,99.628-31.299,144.783c-19.652,40.503-50.741,74.36-89.425,97.388c-41.327,23.734-88.367,35.692-136.011,34.578  c-46.947,1.133-93.303-10.651-134.01-34.067c-37.738-22.341-68.249-55.07-87.892-94.28c-21.028-42.467-31.57-89.355-30.745-136.735  C212.808,804.859,223.158,755.686,243.96,710.631z M339.006,941.858c10.257,25.912,27.651,48.385,50.163,64.812  c22.93,16.026,50.387,24.294,78.353,23.591c29.783,1.178,59.14-7.372,83.634-24.358c22.227-16.375,39.164-38.909,48.715-64.812  c10.677-28.928,15.946-59.572,15.543-90.404c0.33-31.127-4.623-62.084-14.649-91.554c-8.855-26.607-25.246-50.069-47.182-67.537  c-23.88-17.79-53.158-26.813-82.91-25.55c-28.572-0.74-56.644,7.593-80.184,23.804c-22.893,16.496-40.617,39.168-51.1,65.365  c-23.255,60.049-23.376,126.595-0.341,186.728L339.006,941.858z"}),h.createElement("path",{fill:"#50D9FF",d:"M1362.667,255.5h383.25v383.25h-383.25V255.5z"})),Wae=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5645_179)"},h.createElement("path",{d:"M15.5719 9.75H20.57C21.0422 9.75 21.425 10.1328 21.425 10.605V15.1576C21.425 16.8931 20.0181 18.3 18.2827 18.3H18.2678C16.5323 18.3002 15.1253 16.8936 15.125 15.1581C15.125 15.1579 15.125 15.1578 15.125 15.1576V10.1969C15.125 9.95006 15.3251 9.75 15.5719 9.75Z",fill:"#5059C9"}),h.createElement("path",{d:"M18.9498 8.84999C20.0682 8.84999 20.9748 7.94336 20.9748 6.82499C20.9748 5.70661 20.0682 4.79999 18.9498 4.79999C17.8314 4.79999 16.9248 5.70661 16.9248 6.82499C16.9248 7.94336 17.8314 8.84999 18.9498 8.84999Z",fill:"#5059C9"}),h.createElement("path",{d:"M12.6501 8.85001C14.2655 8.85001 15.5751 7.54044 15.5751 5.925C15.5751 4.30957 14.2655 3 12.6501 3C11.0347 3 9.7251 4.30957 9.7251 5.925C9.7251 7.54044 11.0347 8.85001 12.6501 8.85001Z",fill:"#7B83EB"}),h.createElement("path",{d:"M16.5502 9.75H8.29988C7.8333 9.76155 7.46421 10.1488 7.47503 10.6154V15.8079C7.40988 18.6079 9.62511 20.9315 12.425 21C15.225 20.9315 17.4402 18.6079 17.375 15.8079V10.6154C17.3859 10.1488 17.0168 9.76155 16.5502 9.75Z",fill:"#7B83EB"}),h.createElement("path",{opacity:.1,d:"M12.8749 9.75V17.0265C12.8726 17.3602 12.6704 17.66 12.3619 17.787C12.2636 17.8286 12.158 17.85 12.0514 17.85H7.87085C7.81235 17.7015 7.75835 17.553 7.71334 17.4C7.55582 16.8836 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.8749Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M12.4249 9.75V17.4765C12.4248 17.5832 12.4034 17.6888 12.3619 17.787C12.2348 18.0956 11.935 18.2978 11.6014 18.3H8.08235C8.00585 18.1515 7.93385 18.003 7.87085 17.85C7.80784 17.697 7.75835 17.553 7.71334 17.4C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4249Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M12.4248 9.75V16.5765C12.4214 17.0299 12.0547 17.3966 11.6013 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4248Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M11.9748 9.75V16.5765C11.9714 17.0299 11.6047 17.3966 11.1513 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H11.9748Z",fill:"currentColor"}),h.createElement("path",{opacity:.1,d:"M12.8747 7.4235V8.841C12.7982 8.84549 12.7262 8.85 12.6497 8.85C12.5732 8.85 12.5012 8.8455 12.4247 8.841C12.2728 8.83092 12.1221 8.80682 11.9747 8.769C11.0634 8.5532 10.3106 7.91412 9.94967 7.05C9.88757 6.90489 9.83936 6.75421 9.80566 6.60001H12.0512C12.5053 6.60173 12.8729 6.9694 12.8747 7.4235Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M11.9752 7.87349V8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.1517C11.6058 7.05172 11.9735 7.4194 11.9752 7.87349Z",fill:"currentColor"}),h.createElement("path",{d:"M2.90004 7.04999H11.1503C11.6059 7.04999 11.9752 7.41929 11.9752 7.87483V16.1251C11.9752 16.5807 11.6059 16.95 11.1503 16.95H2.90004C2.44449 16.95 2.0752 16.5807 2.0752 16.1251V7.87483C2.0752 7.41929 2.4445 7.04999 2.90004 7.04999Z",fill:"url(#paint0_linear_5645_179)"}),h.createElement("path",{d:"M9.1956 10.1901H7.54635V14.6811H6.4956V10.1901H4.854V9.31891H9.1956V10.1901Z",fill:"white"})),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_5645_179",x1:3.79503,y1:6.40547,x2:10.2554,y2:17.5945,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#5A62C3"}),h.createElement("stop",{offset:.5,stopColor:"#4D55BD"}),h.createElement("stop",{offset:1,stopColor:"#3940AB"})),h.createElement("clipPath",{id:"clip0_5645_179"},h.createElement("rect",{width:19.35,height:18,fill:"white",transform:"translate(2.0752 3)"})))),k6=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M6.1039 5.90972C6.68754 6.38386 6.90648 6.34768 8.00238 6.27457L18.3342 5.65418C18.5534 5.65418 18.3711 5.43557 18.2981 5.39924L16.5822 4.15879C16.2534 3.90354 15.8153 3.61122 14.9758 3.68434L4.9715 4.41403C4.60665 4.45021 4.53377 4.63262 4.67909 4.77886L6.1039 5.90972ZM6.72422 8.31752V19.1884C6.72422 19.7726 7.01618 19.9912 7.6733 19.955L19.028 19.298C19.6854 19.2619 19.7586 18.86 19.7586 18.3854V7.58753C19.7586 7.1137 19.5763 6.85816 19.1739 6.89464L7.30815 7.58753C6.87027 7.62433 6.72422 7.84337 6.72422 8.31752ZM17.9335 8.90066C18.0063 9.22933 17.9335 9.55768 17.6043 9.5946L17.0571 9.70361V17.7292C16.5822 17.9845 16.1441 18.1304 15.7791 18.1304C15.1947 18.1304 15.0484 17.9479 14.6107 17.401L11.0321 11.783V17.2186L12.1645 17.4741C12.1645 17.4741 12.1645 18.1304 11.2509 18.1304L8.73222 18.2765C8.65905 18.1304 8.73222 17.7659 8.98769 17.6929L9.64494 17.5108V10.324L8.73237 10.2509C8.6592 9.92222 8.84146 9.44837 9.35298 9.41159L12.0549 9.22946L15.7791 14.9205V9.88603L14.8296 9.77704C14.7567 9.37526 15.0484 9.08353 15.4135 9.04735L17.9335 8.90066ZM4.13151 3.4291L14.5376 2.66279C15.8155 2.55318 16.1443 2.6266 16.9475 3.21005L20.2692 5.54473C20.8173 5.9462 21 6.05551 21 6.49316V19.298C21 20.1005 20.7077 20.5751 19.6856 20.6477L7.60101 21.3775C6.83376 21.4141 6.4686 21.3047 6.0668 20.7937L3.6206 17.6199C3.18227 17.0357 3 16.5986 3 16.0873V4.70545C3 4.04918 3.29242 3.50177 4.13151 3.4291Z",fill:"currentColor"})),h1=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M6.21613 14.6433C6.21613 15.8058 5.27738 16.7453 4.11588 16.7453C2.95437 16.7453 2.01562 15.8058 2.01562 14.6433C2.01562 13.4809 2.95437 12.5414 4.11588 12.5414H6.21613V14.6433ZM7.26625 14.6433C7.26625 13.4809 8.205 12.5414 9.3665 12.5414C10.528 12.5414 11.4668 13.4809 11.4668 14.6433V19.8982C11.4668 21.0606 10.528 22.0001 9.3665 22.0001C8.205 22.0001 7.26625 21.0606 7.26625 19.8982V14.6433Z",fill:"#E01E5A"}),h.createElement("path",{d:"M9.36679 6.20386C8.20529 6.20386 7.26654 5.26436 7.26654 4.10193C7.26654 2.9395 8.20529 2 9.36679 2C10.5283 2 11.467 2.9395 11.467 4.10193V6.20386H9.36679ZM9.36679 7.27074C10.5283 7.27074 11.467 8.21024 11.467 9.37267C11.467 10.5351 10.5283 11.4746 9.36679 11.4746H4.10025C2.93875 11.4746 2 10.5351 2 9.37267C2 8.21024 2.93875 7.27074 4.10025 7.27074H9.36679Z",fill:"#36C5F0"}),h.createElement("path",{d:"M17.7838 9.37267C17.7838 8.21024 18.7226 7.27074 19.8841 7.27074C21.0456 7.27074 21.9843 8.21024 21.9843 9.37267C21.9843 10.5351 21.0456 11.4746 19.8841 11.4746H17.7838V9.37267ZM16.7337 9.37267C16.7337 10.5351 15.795 11.4746 14.6335 11.4746C13.472 11.4746 12.5332 10.5351 12.5332 9.37267V4.10193C12.5332 2.9395 13.472 2 14.6335 2C15.795 2 16.7337 2.9395 16.7337 4.10193V9.37267Z",fill:"#2EB67D"}),h.createElement("path",{d:"M14.6335 17.7962C15.795 17.7962 16.7337 18.7357 16.7337 19.8982C16.7337 21.0606 15.795 22.0001 14.6335 22.0001C13.472 22.0001 12.5332 21.0606 12.5332 19.8982V17.7962H14.6335ZM14.6335 16.7453C13.472 16.7453 12.5332 15.8058 12.5332 14.6433C12.5332 13.4809 13.472 12.5414 14.6335 12.5414H19.9C21.0615 12.5414 22.0002 13.4809 22.0002 14.6433C22.0002 15.8058 21.0615 16.7453 19.9 16.7453H14.6335Z",fill:"#ECB22E"}));var nr=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(nr||{});const Kae=St({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},slack:{id:"Do199+",defaultMessage:"Slack"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),Yae={},zn={...Kae,...Yae},dwe={[F.GITHUB_CONNECTOR]:{title:zn.github,icon:pD},[F.GDRIVE_ACTION_CONNECTOR]:{title:zn.googleDrive,icon:Lu},[F.DROPBOX_CONNECTOR]:{title:zn.dropbox,icon:jae},[F.HUBSPOT_CONNECTOR]:{title:zn.hubspot,icon:Gae},[F.LINEAR_CONNECTOR]:{title:zn.linear,icon:Hae},[F.SHAREPOINT_CONNECTOR]:{title:zn.sharepoint,icon:mD},[F.TEAMS_CONNECTOR]:{title:zn.teams,icon:Wae},[F.OUTLOOK_EMAIL_CONNECTOR]:{title:zn.outlookEmail,icon:$ae},[F.OUTLOOK_CALENDAR_CONNECTOR]:{title:zn.outlookCalendar,icon:zae},[F.BOX_CONNECTOR]:{title:zn.box,icon:Lae},[F.INTERCOM_CONNECTOR]:{title:zn.intercom,icon:Vae},[F.NOTION_CONNECTOR]:{title:zn.notion,icon:k6},[F.GOOGLE_CONTACTS_CONNECTOR]:{title:zn.googleContacts,icon:qae},[F.GCAL_CONNECTOR]:{title:zn.gcal,icon:Bae},[F.GMAIL_CONNECTOR]:{title:zn.gmail,icon:Uae},[F.CANVA_CONNECTOR]:{title:zn.canva,icon:Fae},[F.SLACK_CONNECTOR]:{title:zn.slack,icon:h1}},Zae={github:F.GITHUB_CONNECTOR,google_drive:F.GDRIVE_ACTION_CONNECTOR,dropbox:F.DROPBOX_CONNECTOR,linear:F.LINEAR_CONNECTOR,hubspot:F.HUBSPOT_CONNECTOR,sharepoint:F.SHAREPOINT_CONNECTOR,google_calendar:F.GCAL_CONNECTOR,gmail:F.GMAIL_CONNECTOR,google_contacts:F.GOOGLE_CONTACTS_CONNECTOR,teams:F.TEAMS_CONNECTOR,outlook_email:F.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:F.OUTLOOK_CALENDAR_CONNECTOR,box:F.BOX_CONNECTOR,intercom:F.INTERCOM_CONNECTOR,notion:F.NOTION_CONNECTOR,canva:F.CANVA_CONNECTOR,slack:F.SLACK_CONNECTOR},p1=({enabled:e=!0,includeDisabledByAdmin:t=!1,productSku:n,purpose:r=void 0}={})=>{const{platformConnectors:s,isLoading:o}=rh(e,n,r);return{availableConnectors:h.useMemo(()=>{const a=Array.from(s.values()),l=a.filter(u=>u.connector_type!=="MCP").map(u=>({...u,type:Yf[u.id]})),c=a.filter(u=>u.connector_type==="MCP").map(u=>({...u,type:Lf.MCP_CONNECTOR}));return[...l,...c].filter(u=>!!u.type&&(t||u.status!=="DISABLED_BY_ADMIN"))},[s,t,n,r]),isLoading:o}},Jae=()=>{const e=ae(),t=Bn(e,"3747383021"),n=$e(e,"3544641259"),r=h.useMemo(()=>{const s=Object.entries(Zae).reduce((i,[a,l])=>(t.get(a,!1)&&i.push(l),i),[]);return t.get("mcp",!1)?[...s,Lf.MCP_CONNECTOR]:s},[t]);return{enabled:n,availableConnectorsType:n?r:[]}},Xae=()=>{const e=ae();return $e(e,"733205176")},fwe=()=>{const e=ae();return $e(e,"3207737252")},gD=({getDisabledAutoConnectors:e=!1})=>{const t=ae(),n=Bn(t,"463092697")?.value,{data:r,isLoading:s}=hD(e),o=n?.autoConnectors??[];if(s)return{allAutoConnectors:o,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};if(!e)return{allAutoConnectors:o,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!1};const{disabledTools:i=[]}=r??{},a=i.map(lne).filter(c=>c!=null);a.includes(F.GMAIL_CONNECTOR)&&a.includes(F.GCAL_CONNECTOR)&&a.push(F.GOOGLE_CONTACTS_CONNECTOR);const l=o.filter(c=>!a.includes(c));return{allAutoConnectors:o,enabledAutoConnectors:l,disabledAutoConnectors:a,isLoading:!1}},Qae=()=>{const e=x6(),t=!!(e?.enabled??!1),n=e?.autoConnectors??[],r=e?.enabledConnectors??[];return{enabled:t,availableConnectorsType:t?r:[],autoConnectors:n}},ele=()=>({enabled:!0,availableConnectorsType:[]}),tle=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=Jae(),{availableConnectors:r,isLoading:s}=p1({enabled:t,includeDisabledByAdmin:e,productSku:nr.DEEP_RESEARCH}),o=h.useMemo(()=>r.filter(i=>n.includes(i.type)),[n,r]);return t?{enabled:!0,availableConnectors:o,isLoading:s}:{enabled:!1,availableConnectors:[],isLoading:!1}},hwe=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=ele(),{availableConnectors:r,isLoading:s}=p1({enabled:t,includeDisabledByAdmin:e,productSku:nr.CODEX});return r.some(o=>o.type===F.GITHUB_CONNECTOR)&&n.includes(F.GITHUB_CONNECTOR)?{enabled:!0,isLoading:s,availableConnectors:r.filter(o=>o.type===F.GITHUB_CONNECTOR)}:{enabled:!1,availableConnectors:[],isLoading:!1}},O6=({includeDisabledByAdmin:e,includeAutoConnectors:t,filterDisabledAutoConnectors:n}={})=>{const r=Qae();let s=r.availableConnectorsType;const o=ae(),i=$e(o,"2768222595"),{enabledAutoConnectors:a,allAutoConnectors:l,isLoading:c}=gD({getDisabledAutoConnectors:i&&(r.autoConnectors??[]).length>0&&n}),u=i?n?a:l:[],d=r.enabled;t&&(s=[...new Set([...s,...u])]);const{availableConnectors:f,isLoading:p}=p1({enabled:d,includeDisabledByAdmin:e,productSku:nr.SLURM}),g=h.useMemo(()=>s.flatMap(v=>v===Lf.MCP_CONNECTOR?f.filter(_=>_.type===v):[f.find(_=>_.type===v)]).filter(v=>!!v),[s,f]);return d?{enabled:!0,availableConnectors:g,isLoading:c||p}:{enabled:!1,availableConnectors:[],isLoading:!1}},pwe=({purpose:e=void 0}={})=>{const t=nh(),{availableConnectors:n,isLoading:r}=p1({enabled:t,includeDisabledByAdmin:!0,productSku:nr.CONNECTOR_SETTING,purpose:e});return{enabled:!!(n&&n.length>0),isLoading:r,availableConnectors:n??[]}},vD=e=>{"use forget";const t=ke.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:s}=e,o=r===void 0?!1:r;let i;t[0]!==o||t[1]!==s?(i={fetchValidLinksOnly:o,productSku:s},t[0]=o,t[1]=s,t[2]=i):i=t[2];const{connectorLinks:a,isLoading:l}=Ml(i);let c;t[3]!==a?(c=new Set(Array.from(a.values()).flatMap(ole)),t[3]=a,t[4]=c):c=t[4];const u=c;let d;if(t[5]!==n||t[6]!==u){let v;t[8]!==u?(v=_=>_.type!==Lf.MCP_CONNECTOR&&u.has(_.type),t[8]=u,t[9]=v):v=t[9],d=new Set(n.filter(v).map(ile)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let p;t[10]!==n||t[11]!==a?(p=new Map,a.forEach((v,_)=>{if(!n.some(b=>b.id===_))return;const y=Yf[_];y&&v.forEach(b=>{p.set(b.id,y)})}),t[10]=n,t[11]=a,t[12]=p):p=t[12];let g;return t[13]!==f||t[14]!==l||t[15]!==p?(g={connectedTypes:f,isLoading:l,linkIdToConnectedType:p},t[13]=f,t[14]=l,t[15]=p,t[16]=g):g=t[16],g},nle=e=>{"use forget";const t=ke.c(7);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:s}=n,o=r===void 0?!0:r,i=s===void 0?!1:s;let a;t[2]!==i?(a={includeAutoConnectors:i},t[2]=i,t[3]=a):a=t[3];const{enabled:l,availableConnectors:c}=O6(a),u=l&&o;let d;return t[4]!==c||t[5]!==u?(d={enabled:u,availableConnectors:c,productSku:nr.SLURM},t[4]=c,t[5]=u,t[6]=d):d=t[6],vD(d)},mwe=e=>{"use forget";const t=ke.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,s=r===void 0?!0:r,{enabled:o,availableConnectors:i}=tle(),a=o&&s;let l;return t[2]!==i||t[3]!==a?(l={enabled:a,availableConnectors:i,fetchValidLinksOnly:!0,productSku:nr.DEEP_RESEARCH},t[2]=i,t[3]=a,t[4]=l):l=t[4],vD(l)},rle=()=>!!x6()?.enablePopupRedirect,gwe=()=>{const{connectedTypes:e,isLoading:t}=nle(),n=lD();if(t)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const r=e.size>0,s=n??!1;return{anyConnectorEnabled:r||s,anyAccessConnectorEnabled:r,anySyncConnectorEnabled:s,isLoading:!1}};function sle(e){return Yf[e.connector_id]}function ole(e){return e.map(sle)}function ile(e){return e.type}function ale(e,t){let n=!1;return ya(()=>n=!t()&&(n||e()))}var Hy,yx;function lle(){if(yx)return Hy;yx=1;var e=oo(),t=function(){return e.Date.now()};return Hy=t,Hy}var zy,bx;function cle(){if(bx)return zy;bx=1;var e=mi(),t=lle(),n=DI(),r="Expected a function",s=Math.max,o=Math.min;function i(a,l,c){var u,d,f,p,g,v,_=0,y=!1,b=!1,w=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,f=b?s(n(c.maxWait)||0,l):f,w="trailing"in c?!!c.trailing:w);function C(I){var N=u,q=d;return u=d=void 0,_=I,p=a.apply(q,N),p}function S(I){return _=I,g=setTimeout(T,l),y?C(I):p}function E(I){var N=I-v,q=I-_,P=l-N;return b?o(P,f-q):P}function x(I){var N=I-v,q=I-_;return v===void 0||N>=l||N<0||b&&q>=f}function T(){var I=t();if(x(I))return k(I);g=setTimeout(T,E(I))}function k(I){return g=void 0,w&&u?C(I):(u=d=void 0,p)}function O(){g!==void 0&&clearTimeout(g),_=0,u=v=d=g=void 0}function A(){return g===void 0?p:k(t())}function M(){var I=t(),N=x(I);if(u=arguments,d=this,v=I,N){if(g===void 0)return S(v);if(b)return clearTimeout(g),g=setTimeout(T,l),C(v)}return g===void 0&&(g=setTimeout(T,l)),p}return M.cancel=O,M.flush=A,M}return zy=i,zy}var ule=cle();const _D=yn(ule),Ta=t3("Composer"),dle=Ta(()=>({current:null}));function hf(e){if(!(e instanceof sP))throw new Error("ProseMirrorComposerController required");return e.view}const yD=Ta(e=>ba(t=>l6(hf(e),t),()=>hf(e).state)),vwe=Ta(e=>ya(()=>yD(e)().doc.content.size,{getServerFallback:()=>0})),fle=Ta(e=>ya(()=>{const t=yD(e);return eD(t().doc)},{getServerFallback:()=>!0})),hle=Ta(()=>wt(!1)),_we=Ta(e=>ale(hle(e),fle(e))),ple=Ta(e=>ba(t=>xl(hf(e).dom,{focus:t,blur:t}),()=>hf(e).hasFocus(),{getServerFallback:()=>!1})),ywe=Ta(e=>{const t=ba(r=>{const s=_D(r,150);return xl(document,{focusin:s,focusout:s})},()=>{const r=dle(e);return r.current!=null&&(r.current.contains(document.activeElement)||r.current.querySelector('[data-state="open"]')!=null)},{getServerFallback:()=>!1}),n=ple(e);return ya(()=>t()||n())});function mle(e,t,n){try{const r=JSON.parse(window.localStorage.getItem(e)??"");return n(r)?r:t}catch{return t}}function gle(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const Cx=cn(e=>({data:{},setItem:(t,n)=>e(r=>({data:{...r.data,[t]:n}}))}));function vle(e,t,n){const[r,s]=h.useState(!1),o=Cx(l=>l.data[e]),i=Cx(l=>l.setItem);return h.useEffect(()=>{if(!r){const l=mle(e,t,n);i(e,l),s(!0)}},[r,e,t,n,i]),h.useEffect(()=>{r&&gle(e,o)},[e,o,r]),[o??t,l=>{i(e,l)}]}const _le=window.location.host+"/ces",yle="https",ble=`${yle}://${_le}`;function Sx(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var Xn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.ECOSYSTEM_DEMO="ecosystem_demo",e))(Xn||{});class wx{counterMap=new Map;histMap=new Map}class Cle{metrics=new wx;postUrl=`${ble}/statsc/flush`;postInterval=3e4;maxPostErrors=10;isScheduled=!1;numMetricPostErrors=0;numLostMetrics=0;count(t,n,r={},s=1){r=Sx(r);const o=this.makeKey(t,n,r);var i=this.metrics.counterMap;const a=i.get(o);a?a.value+=s:i.set(o,{namespace:t,metric:n,tags:r,value:s}),this.scheduleIfNeeded()}hist(t,n,r={},s){r=Sx(r);const o=this.makeKey(t,n,r);var i=this.metrics.histMap;const a=i.get(o);a?a.values.push(s):i.set(o,{namespace:t,metric:n,tags:r,values:[s]}),this.scheduleIfNeeded()}makeKey(t,n,r){const s=Object.entries(r).map(([o,i])=>`${o}=${i}`).sort().join(",");return`${t}:${n}:${s}`}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new wx;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const s={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},o=JSON.stringify(s);try{await tt.post(this.postUrl,s,{authOption:Qt.Anonymous}),this.numMetricPostErrors=0}catch(i){i instanceof ft||U.addError(i,{json:o}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(U.addAction(`Exceeded maximum number of post errors (${this.maxPostErrors}). Dropping ${this.numLostMetrics} metrics.`),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const lr=new Cle;function Xt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function De(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fp=function(n){return typeof n}:Fp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fp(e)}function He(e){De(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Fp(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function m1(e,t){De(2,arguments);var n=He(e),r=Xt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function bD(e,t){De(2,arguments);var n=He(e),r=Xt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function Sle(e,t){De(2,arguments);var n=He(e).getTime(),r=Xt(t);return new Date(n+r)}var wle={};function Fu(){return wle}function Lm(e,t){var n,r,s,o,i,a,l,c;De(1,arguments);var u=Fu(),d=Xt((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=He(e),p=f.getDay(),g=(p<d?7:0)+p-d;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function _C(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Fm(e){De(1,arguments);var t=He(e);return t.setHours(0,0,0,0),t}var Ele=864e5;function CD(e,t){De(2,arguments);var n=Fm(e),r=Fm(t),s=n.getTime()-_C(n),o=r.getTime()-_C(r);return Math.round((s-o)/Ele)}function SD(e,t){De(2,arguments);var n=Xt(t),r=n*7;return m1(e,r)}function xle(e,t){De(2,arguments);var n=Xt(t);return bD(e,n*12)}function $y(e,t){De(2,arguments);var n=He(e),r=He(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var A6=6e4,wD=36e5;function ED(e,t){De(2,arguments);var n=Fm(e),r=Fm(t);return n.getTime()===r.getTime()}function jp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jp=function(n){return typeof n}:jp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jp(e)}function Tle(e){return De(1,arguments),e instanceof Date||jp(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kle(e){if(De(1,arguments),!Tle(e)&&typeof e!="number")return!1;var t=He(e);return!isNaN(Number(t))}function Ole(e,t){De(2,arguments);var n=He(e),r=He(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Ex(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function bwe(e,t){De(2,arguments);var n=He(e),r=He(t),s=Ex(n,r),o=Math.abs(CD(n,r));n.setDate(n.getDate()-s*o);var i=+(Ex(n,r)===-s),a=s*(o-i);return a===0?0:a}function Ale(e,t){return De(2,arguments),He(e).getTime()-He(t).getTime()}var xx={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Mle="trunc";function Ile(e){return e?xx[e]:xx[Mle]}function Cwe(e,t,n){De(2,arguments);var r=Ale(e,t)/A6;return Ile(void 0)(r)}function xD(e){De(1,arguments);var t=He(e);return t.setHours(23,59,59,999),t}function Rle(e){De(1,arguments);var t=He(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Nle(e){De(1,arguments);var t=He(e);return xD(t).getTime()===Rle(t).getTime()}function Swe(e,t){De(2,arguments);var n=He(e),r=He(t),s=$y(n,r),o=Math.abs(Ole(n,r)),i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);var a=$y(n,r)===-s;Nle(He(e))&&o===1&&$y(e,r)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function wwe(e,t){var n;De(1,arguments);var r=e||{},s=He(r.start),o=He(r.end),i=o.getTime();if(!(s.getTime()<=i))throw new RangeError("Invalid interval");var a=[],l=s;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)a.push(He(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function Ewe(e,t){De(1,arguments);var n=e||{},r=He(n.start),s=He(n.end),o=s.getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var i=Lm(r,t),a=Lm(s,t);i.setHours(15),a.setHours(15),o=a.getTime();for(var l=[],c=i;c.getTime()<=o;)c.setHours(0),l.push(He(c)),c=SD(c,1),c.setHours(15);return l}function xwe(e){De(1,arguments);var t=He(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Twe(e,t){var n,r,s,o,i,a;De(1,arguments);var l=Fu(),c=Xt((n=(r=(s=(o=void 0)!==null&&o!==void 0?o:void 0)!==null&&s!==void 0?s:l.weekStartsOn)!==null&&r!==void 0?r:(i=l.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=He(e),d=u.getDay(),f=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function kwe(){return xD(Date.now())}function Ple(e,t){De(2,arguments);var n=Xt(t);return Sle(e,-n)}var Dle=864e5;function Lle(e){De(1,arguments);var t=He(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Dle)+1}function jm(e){De(1,arguments);var t=1,n=He(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function TD(e){De(1,arguments);var t=He(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=jm(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=jm(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Fle(e){De(1,arguments);var t=TD(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=jm(n);return r}var jle=6048e5;function Ule(e){De(1,arguments);var t=He(e),n=jm(t).getTime()-Fle(t).getTime();return Math.round(n/jle)+1}function Um(e,t){var n,r,s,o,i,a,l,c;De(1,arguments);var u=Fu(),d=Xt((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=He(e),p=f.getUTCDay(),g=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function kD(e,t){var n,r,s,o,i,a,l,c;De(1,arguments);var u=He(e),d=u.getUTCFullYear(),f=Fu(),p=Xt((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var v=Um(g,t),_=new Date(0);_.setUTCFullYear(d,0,p),_.setUTCHours(0,0,0,0);var y=Um(_,t);return u.getTime()>=v.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function Ble(e,t){var n,r,s,o,i,a,l,c;De(1,arguments);var u=Fu(),d=Xt((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=kD(e,t),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var g=Um(p,t);return g}var qle=6048e5;function Gle(e,t){De(1,arguments);var n=He(e),r=Um(n,t).getTime()-Ble(n,t).getTime();return Math.round(r/qle)+1}function Ut(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Mi={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Ut(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ut(r+1,2)},d:function(t,n){return Ut(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ut(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ut(t.getUTCHours(),n.length)},m:function(t,n){return Ut(t.getUTCMinutes(),n.length)},s:function(t,n){return Ut(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return Ut(o,n.length)}},_c={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vle={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Mi.y(t,n)},Y:function(t,n,r,s){var o=kD(t,s),i=o>0?o:1-o;if(n==="YY"){var a=i%100;return Ut(a,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ut(i,n.length)},R:function(t,n){var r=TD(t);return Ut(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ut(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ut(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ut(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Mi.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Ut(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=Gle(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ut(o,n.length)},I:function(t,n,r){var s=Ule(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ut(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Mi.d(t,n)},D:function(t,n,r){var s=Lle(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ut(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Ut(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Ut(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Ut(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=_c.noon:s===0?o=_c.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=_c.evening:s>=12?o=_c.afternoon:s>=4?o=_c.morning:o=_c.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Mi.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Mi.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ut(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ut(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Mi.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Mi.s(t,n)},S:function(t,n){return Mi.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return kx(i);case"XXXX":case"XX":return Ka(i);case"XXXXX":case"XXX":default:return Ka(i,":")}},x:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"x":return kx(i);case"xxxx":case"xx":return Ka(i);case"xxxxx":case"xxx":default:return Ka(i,":")}},O:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Tx(i,":");case"OOOO":default:return"GMT"+Ka(i,":")}},z:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Tx(i,":");case"zzzz":default:return"GMT"+Ka(i,":")}},t:function(t,n,r,s){var o=s._originalDate||t,i=Math.floor(o.getTime()/1e3);return Ut(i,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,i=o.getTime();return Ut(i,n.length)}};function Tx(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=t;return n+String(s)+i+Ut(o,2)}function kx(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ut(Math.abs(e)/60,2)}return Ka(e,t)}function Ka(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=Ut(Math.floor(s/60),2),i=Ut(s%60,2);return r+o+n+i}var Ox=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},OD=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Hle=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Ox(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Ox(s,n)).replace("{{time}}",OD(o,n))},zle={p:OD,P:Hle},$le=["D","DD"],Wle=["YY","YYYY"];function Kle(e){return $le.indexOf(e)!==-1}function Yle(e){return Wle.indexOf(e)!==-1}function Ax(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jle=function(t,n,r){var s,o=Zle[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Wy(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Xle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ece={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tce={date:Wy({formats:Xle,defaultWidth:"full"}),time:Wy({formats:Qle,defaultWidth:"full"}),dateTime:Wy({formats:ece,defaultWidth:"full"})},nce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rce=function(t,n,r,s){return nce[t]};function rd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var sce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ice={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ace={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uce=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dce={ordinalNumber:uce,era:rd({values:sce,defaultWidth:"wide"}),quarter:rd({values:oce,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:rd({values:ice,defaultWidth:"wide"}),day:rd({values:ace,defaultWidth:"wide"}),dayPeriod:rd({values:lce,defaultWidth:"wide",formattingValues:cce,defaultFormattingWidth:"wide"})};function sd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?hce(a,function(d){return d.test(i)}):fce(a,function(d){return d.test(i)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(i.length);return{value:c,rest:u}}}function fce(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function hce(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function pce(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var a=t.slice(s.length);return{value:i,rest:a}}}var mce=/^(\d+)(th|st|nd|rd)?/i,gce=/\d+/i,vce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ce={any:[/^b/i,/^(a|c)/i]},yce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bce={any:[/1/i,/2/i,/3/i,/4/i]},Cce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ece={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kce={ordinalNumber:pce({matchPattern:mce,parsePattern:gce,valueCallback:function(t){return parseInt(t,10)}}),era:sd({matchPatterns:vce,defaultMatchWidth:"wide",parsePatterns:_ce,defaultParseWidth:"any"}),quarter:sd({matchPatterns:yce,defaultMatchWidth:"wide",parsePatterns:bce,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:sd({matchPatterns:Cce,defaultMatchWidth:"wide",parsePatterns:Sce,defaultParseWidth:"any"}),day:sd({matchPatterns:wce,defaultMatchWidth:"wide",parsePatterns:Ece,defaultParseWidth:"any"}),dayPeriod:sd({matchPatterns:xce,defaultMatchWidth:"any",parsePatterns:Tce,defaultParseWidth:"any"})},Oce={code:"en-US",formatDistance:Jle,formatLong:tce,formatRelative:rce,localize:dce,match:kce,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ace=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ice=/^'([^]*?)'?$/,Rce=/''/g,Nce=/[a-zA-Z]/;function Owe(e,t,n){var r,s,o,i,a,l,c,u,d,f,p,g,v,_;De(2,arguments);var y=String(t),b=Fu(),w=(r=(s=void 0)!==null&&s!==void 0?s:b.locale)!==null&&r!==void 0?r:Oce,C=Xt((o=(i=(a=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&i!==void 0?i:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Xt((d=(f=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&f!==void 0?f:(v=b.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&d!==void 0?d:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var E=He(e);if(!kle(E))throw new RangeError("Invalid time value");var x=_C(E),T=Ple(E,x),k={firstWeekContainsDate:C,weekStartsOn:S,locale:w,_originalDate:E},O=y.match(Mce).map(function(A){var M=A[0];if(M==="p"||M==="P"){var I=zle[M];return I(A,w.formatLong)}return A}).join("").match(Ace).map(function(A){if(A==="''")return"'";var M=A[0];if(M==="'")return Pce(A);var I=Vle[M];if(I)return Yle(A)&&Ax(A,t,String(e)),Kle(A)&&Ax(A,t,String(e)),I(T,A,w.localize,k);if(M.match(Nce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return A}).join("");return O}function Pce(e){var t=e.match(Ice);return t?t[1].replace(Rce,"'"):e}function Dce(e){De(1,arguments);var t=Xt(e);return He(t*1e3)}function Lce(e){De(1,arguments);var t=He(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Fce(e){De(1,arguments);var t=He(e),n=t.getMonth();return n}function jce(e){De(1,arguments);var t=He(e),n=t.getTime();return n}function Uce(e){return De(1,arguments),Math.floor(jce(e)/1e3)}function Mx(e){return De(1,arguments),He(e).getFullYear()}function Awe(e,t,n){var r;De(1,arguments);var s;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,s).format(e)}function Mwe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()>r.getTime()}function Iwe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()<r.getTime()}function Rwe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()===r.getTime()}function Nwe(e,t,n){De(2,arguments);var r=Lm(e,n),s=Lm(t,n);return r.getTime()===s.getTime()}function Pwe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Bce(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getFullYear()===r.getFullYear()}function qce(e){return De(1,arguments),Bce(e,Date.now())}function Gce(e){return De(1,arguments),ED(e,Date.now())}function Vce(e){return De(1,arguments),ED(e,m1(Date.now(),1))}function Dwe(e,t){De(2,arguments);var n=Xt(t);return m1(e,-n)}function Lwe(e,t){var n;De(1,arguments);var r=Xt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=Wce(e),o;if(s.date){var i=Kce(s.date,r);o=Yce(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(s.time&&(l=Zce(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(c=Jce(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var Qh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$ce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Wce(e){var t={},n=e.split(Qh.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Qh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qh.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=Qh.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function Kce(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Yce(e,t){if(t===null)return new Date(NaN);var n=e.match(Hce);if(!n)return new Date(NaN);var r=!!n[4],s=od(n[1]),o=od(n[2])-1,i=od(n[3]),a=od(n[4]),l=od(n[5])-1;if(r)return nue(t,a,l)?Xce(t,a,l):new Date(NaN);var c=new Date(0);return!eue(t,o,i)||!tue(t,s)?new Date(NaN):(c.setUTCFullYear(t,o,Math.max(s,i)),c)}function od(e){return e?parseInt(e):1}function Zce(e){var t=e.match(zce);if(!t)return NaN;var n=Ky(t[1]),r=Ky(t[2]),s=Ky(t[3]);return rue(n,r,s)?n*wD+r*A6+s*1e3:NaN}function Ky(e){return e&&parseFloat(e.replace(",","."))||0}function Jce(e){if(e==="Z")return 0;var t=e.match($ce);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return sue(r,s)?n*(r*wD+s*A6):NaN}function Xce(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}var Qce=[31,null,31,30,31,30,31,31,30,31,30,31];function AD(e){return e%400===0||e%4===0&&e%100!==0}function eue(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Qce[t]||(AD(e)?29:28))}function tue(e,t){return t>=1&&t<=(AD(e)?366:365)}function nue(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function rue(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function sue(e,t){return t>=0&&t<=59}function oue(e,t){De(2,arguments);var n=He(e),r=Xt(t),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var a=Lce(i);return n.setMonth(r,Math.min(o,a)),n}function Up(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Up=function(n){return typeof n}:Up=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Up(e)}function Fwe(e,t){if(De(2,arguments),Up(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=He(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=oue(n,t.month)),t.date!=null&&n.setDate(Xt(t.date)),t.hours!=null&&n.setHours(Xt(t.hours)),t.minutes!=null&&n.setMinutes(Xt(t.minutes)),t.seconds!=null&&n.setSeconds(Xt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Xt(t.milliseconds)),n)}function jwe(e,t){De(2,arguments);var n=Xt(t);return bD(e,-n)}function Uwe(e,t){De(2,arguments);var n=Xt(t);return SD(e,-n)}function Bwe(e,t){De(2,arguments);var n=Xt(t);return xle(e,-n)}const iue=3,aue=3;function lue(){const e=ae();return Wt(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?$e(e,"3240576626"):!1}function cue(e){return e?new Date>m1(e,iue):!0}function qwe(e){const[t,n]=vle(Et.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=$e(ae(),"3240576626"),s=t?Dce(t.lastSeenAt):null,o=t?t.viewCount??0:0;return{canBeSeen:e!==""&&(!t||o<=aue&&(cue(s)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const c={messageId:e,lastSeenAt:Uce(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};lr.count(Xn.TATERTOT,"tatertot_upsell_banner_shown"),n(c),localStorage.setItem(Et.TatertotInContextUpsellBannerV2,JSON.stringify(c))}}}const uue="o4-mini",Jc=({chunk:e,href:t})=>m.jsx("a",{href:t,target:"_blank",className:"underline",rel:"noreferrer",children:e}),$=St({modelsTitle:{id:"t+hUfA",defaultMessage:"Models"},modelsDescription:{id:"zFj9MF",defaultMessage:"Manage access to models for members"},gpt5ThinkingDescription:{id:"eqYr0u",defaultMessage:"Thinks longer for better answers. If enabled, GPT-5 Auto will be able to switch to Thinking for responses when needed."},gpt5ThinkingProDescription:{id:"AmHfHH",defaultMessage:"Research-grade intelligence."},gpt5ThinkingMiniDescription:{id:"1H7DaL",defaultMessage:"Thinks quickly. If enabled, GPT-5 Auto will be able to switch to Thinking Mini for responses when needed."},legacyModelsTitle:{id:"5MXz0X",defaultMessage:"Enable legacy models"},legacyModelsDescription:{id:"83N6uo",defaultMessage:"Allow members to use legacy models. This is a global setting for the workspace."},additionalModelsTitle:{id:"2ljqlu",defaultMessage:"Enable additional models"},additionalModelsDescription:{id:"DDljrd",defaultMessage:"Allow members to use additional models."},gpt41Description:{id:"J2sMy+",defaultMessage:"Great for quick coding and analysis."},gptO3Description:{id:"sG0ZYa",defaultMessage:"A powerful engine for complex, multi-step analysis."},gptO4MiniDescription:{id:"kH5Wky",defaultMessage:"Fast, cost-efficient reasoning for code, math and visual tasks."},imageGenTitle:{id:"iPlNq5",defaultMessage:"Image generation"},imageGenDescription:{id:"6NZOo3",defaultMessage:"Allows users create AI-generated images inside ChatGPT."},webSearchTitle:{id:"Qzwh18",defaultMessage:"Web search"},webSearchDescription:{id:"2MpcaO",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace can browse the internet. When enabled, it may send search queries and general location information to Bing, but this data is not linked to or associated with user accounts. This does not apply to third-party GPTs. <link>Learn more</link>"},webSearchDescriptionOfflineOnly:{id:"exxzV0",defaultMessage:"ChatGPT web search may send queries to third-party search providers based on your inputs to ChatGPT. You should ensure your use of ChatGPT search complies with your obligations under HIPAA."},codexTitle:{id:"Tpse/7",defaultMessage:"Allow members to use Codex"},codexDescription:{id:"jVlxKv",defaultMessage:"Manage whether members can use Codex."},codexCliTitle:{id:"wdPl2u",defaultMessage:"Allow members to use Codex CLI and IDE Extension"},codexCliDescription:{id:"e5oEdc",defaultMessage:"Manage whether members can use Codex CLI and IDE Extension."},codexAgentNetworkTitle:{id:"+0TP+Y",defaultMessage:"Allow Codex agent to access the internet"},codexAgentNetworkDescription:{id:"ObRZ8h",defaultMessage:"Allows environments to be created with agent internet access enabled."},disabledReasonGithub:{id:"HNofTP",defaultMessage:"Disabled because there's no active GitHub connector."},recordTitle:{id:"AXkmJg",defaultMessage:"Record"},recordDescription:{id:"l0y0CK",defaultMessage:"Manage whether users can use ChatGPT to record, transcribe, and summarize longform audio. Recordings will be used solely for transcription purposes and will not be stored by OpenAI. <link>Learn more</link>"},recordReferencePastTranscriptsTitle:{id:"ZsmGaz",defaultMessage:"Allow ChatGPT to reference past notes and transcripts"},recordReferencePastTranscriptsDescription:{id:"OlM3tz",defaultMessage:"Allow members to reference past notes and transcripts in ChatGPT Record."},deepResearchTitle:{id:"xd3kLo",defaultMessage:"Deep research"},deepResearchDescription:{id:"b5K/+B",defaultMessage:"Lets users run in-depth research with web-connected and multi-step reasoning tools."},advanceVoiceTitle:{id:"BBl2PG",defaultMessage:"Advanced voice capabilities"},advanceVoiceDescription:{id:"Tfn5Vm",defaultMessage:"Enables real-time voice interaction with AI, including speech recognition and lifelike responses."},gptSectionTitle:{id:"lDlJlK",defaultMessage:"GPTs"},gptSectionDescription:{id:"MMDdKL",defaultMessage:"Choose which GPT access this role has"},gptCrudTitle:{id:"ySiNVL",defaultMessage:"Create and manage GPTs"},gptCrudDescription:{id:"aCMqKu",defaultMessage:"Allow members to create and manage GPTs"},gptShareWorkspaceTitle:{id:"arwdQz",defaultMessage:"Publish GPTs to workspace"},gptShareWorkspaceDescription:{id:"O0HyJZ",defaultMessage:"Allow members to publish GPTs they own to the workspace GPT Store"},gptShareExternalTitle:{id:"zl4S+n",defaultMessage:"Publish GPTs externally"},gptShareExternalDescription:{id:"wXPceF",defaultMessage:"Controls ability to share with others outside the org (via email or link)"},gptAllowAllThirdPartyTitle:{id:"ZYlBcx",defaultMessage:"Allow all third party GPTs"},gptAllowAllThirdPartyDescription:{id:"NVpEpJ",defaultMessage:"If enabled, user will have access to all 3P GPTs"},gptAllowSpecificThirdPartyTitle:{id:"7oaevm",defaultMessage:"Allow owner-approved GPTs only"},gptAllowSpecificThirdPartyDescription:{id:"ubkAtB",defaultMessage:"If enabled, user will have access to approved 3P GPTs"},projectSectionTitle:{id:"muqJOY",defaultMessage:"Projects"},projectSectionDescription:{id:"oDGRtQ",defaultMessage:"Choose which project access this role has"},projectCrudTitle:{id:"PDOJ0T",defaultMessage:"Create and manage projects"},projectCrudDescription:{id:"MfPKqd",defaultMessage:"Allow members to create and manage projects"},sharingTitle:{id:"8DIoJe",defaultMessage:"Sharing"},memoryTitle:{id:"h6Ufv3",defaultMessage:"Memory"},memoryDescription:{id:"NpeSvG",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},canvasCodeExecutionTitle:{id:"sB8WQp",defaultMessage:"Canvas code execution"},canvasCodeExecutionDescription:{id:"kkkA1m",defaultMessage:"Allow members to run code snippets within the canvas."},canvasCodeNetworkAccessTitle:{id:"L5mfFJ",defaultMessage:"Canvas code network access"},canvasCodeNetworkAccessDescription:{id:"OF7Jbc",defaultMessage:"Allow members to execute code with network access within the canvas."},videoScreenSharingTitle:{id:"GSzhi0",defaultMessage:"Allow members to share their screen or video while using voice mode"},videoScreenSharingDescription:{id:"WZkcdj",defaultMessage:"Allow members to share their screen or video while using voice mode"},canvasTitle:{id:"OuhDUU",defaultMessage:"Canvas"},searchTitle:{id:"rY8bdY",defaultMessage:"Search"},voiceTitle:{id:"e83f8K",defaultMessage:"Voice"},codex:{id:"aOXMaL",defaultMessage:"Codex"},recordAccessTitle:{id:"fso8vg",defaultMessage:"Allow members to use ChatGPT record."},appsTitle:{id:"DeAoJ2",defaultMessage:"Apps"},shareChatWithWorkspaceTitle:{id:"kKfDOF",defaultMessage:"Members can share chats with workspace."},shareChatTitle:{id:"x8jgoP",defaultMessage:"Allow members to share a chat or canvas with..."},shareChatProjectTitle:{id:"LQ2EVd",defaultMessage:"Allow members to share a chat, canvas, or project with..."},memoryAccessTitle:{id:"EVIMwx",defaultMessage:"Allow members to use memory"},chatRetentionPolicyTitle:{id:"HOkfAn",defaultMessage:"Chat retention policy"},chatRetentionPolicyDescription:{id:"b5pfhv",defaultMessage:"Contact your account manager to change this setting."},githubConnectorDescription:{id:"bN9L7e",defaultMessage:"Codex requires the GitHub connector.{br}You can enable or disable it in <settingsLink>Connector Settings</settingsLink>"},workWithAppsTitle:{id:"GDQEgW",defaultMessage:"Allow work with apps"},workWithAppsDescription:{id:"tZymPd",defaultMessage:"Control whether users in this workspace can enable ChatGPT to work with apps. This allows ChatGPT to read and edit the content of specific apps on their desktop to provide better responses. <link>Learn more</link>"},appleIntelligenceTitle:{id:"b5tisR",defaultMessage:"Allow members to link Apple Intelligence"},appleIntelligenceDescription:{id:"b2Jsop",defaultMessage:"Manage whether members can link with Apple Intelligence."},appleIntelligenceMDMTitle:{id:"0wNa7q",defaultMessage:"Apple Intelligence MDM"},appleIntelligenceMDMDescription:{id:"ZgxOdq",defaultMessage:"Only allow linking this workspace with Apple Intelligence on MDM managed devices."},imageGenSectionTitle:{id:"fKZG6M",defaultMessage:"Images"},mdmSectionTitle:{id:"jh/ICj",defaultMessage:"MDM"},mdmDisableCopyPasteTitle:{id:"iby11U",defaultMessage:"Disable copy and paste"},mdmDisableFileUploadTitle:{id:"4Mdk8I",defaultMessage:"Disable file upload"},mdmDisableFileDownloadTitle:{id:"S75iuY",defaultMessage:"Disable file download"},mdmRequirePinUnlockTitle:{id:"DAUS4M",defaultMessage:"Require PIN unlock"},mdmRequireBiometricUnlockTitle:{id:"8rpAr5",defaultMessage:"Require biometric unlock"},agentModeTitle:{id:"t4P9Ws",defaultMessage:"Agent mode"},agentModeDescription:{id:"rE0L/V",defaultMessage:"Allow members to use agent mode. <link>Learn more</link>"},agentModeDisabledReason:{id:"/E6A5q",defaultMessage:"Agent mode is disabled because Web search is not enabled."},deepResearchDisabledReason:{id:"QvYF92",defaultMessage:"Deep research is disabled because Web search is not enabled."},connectedDataSectionTitle:{id:"QE+kpm",defaultMessage:"Connected data"},createMcpConnectorTitle:{id:"g4npER",defaultMessage:"Create custom MCP connectors"},connectorRoleTitle:{id:"jeAMAA",defaultMessage:"Allow members to use connectors"}});var zl=(e=>(e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.UseConnector="chatgpt.workspace_connector.use",e))(zl||{});const due=({isRbacEnabled:e,isSharedProjectsEnabled:t,includeBetaSettingsAdvanced:n})=>({title:$.sharingTitle,entries:[...n&&e?[{rbac:!0,title:$.shareChatWithWorkspaceTitle,permissionName:"chatgpt.workspace.feature.share-chat-with-workspace.access"}]:[{rbac:!1,title:t?$.shareChatProjectTitle:$.shareChatTitle,settingName:"share_chat"}]]}),fue=()=>({title:$.memoryTitle,availableForQuorum:!0,entries:[{rbac:!1,title:$.memoryAccessTitle,description:$.memoryDescription,descriptionValues:{link:e=>m.jsx(Jc,{chunk:e,href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq"})},settingName:"memory_access"},{rbac:!1,title:$.chatRetentionPolicyTitle,description:$.chatRetentionPolicyDescription,settingName:"rentention_policy"}]}),hue=({isRbacEnabled:e,includeBetaSettingsAdvanced:t})=>({title:$.canvasTitle,availableForQuorum:!0,entries:e&&t?[{rbac:!0,title:$.canvasCodeExecutionTitle,description:$.canvasCodeExecutionDescription,permissionName:"chatgpt.workspace.feature.canvas-code-execution.access"},{rbac:!0,title:$.canvasCodeNetworkAccessTitle,description:$.canvasCodeNetworkAccessDescription,permissionName:"chatgpt.workspace.feature.canvas-code-network-access.access"}]:[{rbac:!1,title:$.canvasCodeExecutionTitle,description:$.canvasCodeExecutionDescription,settingName:"canvas_code_execution"},{rbac:!1,title:$.canvasCodeNetworkAccessTitle,description:$.canvasCodeNetworkAccessDescription,settingName:"canvas_code_network_access"}]}),pue=({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:n,includeBetaSettings:r,includeFeatures:s,includeAgentMode:o,isQuorum:i,isSearchEnabled:a})=>({title:$.searchTitle,availableForQuorum:!0,entries:[...r&&t?[{rbac:!0,title:$.webSearchTitle,description:i?$.webSearchDescriptionOfflineOnly:$.webSearchDescription,descriptionValues:{link:l=>m.jsx(Jc,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},permissionName:"chatgpt.workspace.feature.search.access"}]:[{rbac:!1,title:$.webSearchTitle,description:i?$.webSearchDescriptionOfflineOnly:$.webSearchDescription,descriptionValues:{link:l=>m.jsx(Jc,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},settingName:"web_search"}],...n?s||!e?[{rbac:!0,title:$.deepResearchTitle,description:$.deepResearchDescription,permissionName:"chatgpt.workspace.feature.deep-research.access",disabled:!a,disabledReason:a?void 0:$.deepResearchDisabledReason}]:[]:[],...o?[{rbac:!0,title:$.agentModeTitle,description:$.agentModeDescription,descriptionValues:{link:l=>m.jsx(Jc,{chunk:l,href:"https://help.openai.com/en/articles/11752874-chatgpt-agent"})},permissionName:"chatgpt.workspace.feature.agent-mode.access",disabled:!a,disabledReason:a?void 0:$.agentModeDisabledReason}]:[]]}),mue={title:$.imageGenSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:$.imageGenTitle,description:$.imageGenDescription,permissionName:"chatgpt.workspace.feature.image-gen.access"}]},gue=({isRbacEnabled:e,includeFeatures:t,includeBetaSettingsAdvanced:n})=>({title:$.voiceTitle,availableForQuorum:!0,entries:[...t&&e?[{rbac:!0,title:$.advanceVoiceTitle,description:$.advanceVoiceDescription,permissionName:"chatgpt.workspace.feature.voice.access"}]:[],...n&&e?[{rbac:!0,title:$.videoScreenSharingTitle,description:$.videoScreenSharingDescription,permissionName:"chatgpt.workspace.feature.video-screen-sharing.access"}]:[{rbac:!1,title:$.videoScreenSharingTitle,description:$.videoScreenSharingDescription,settingName:"video_screen_sharing"}]]}),vue=({isRbacEnabled:e,showAgentInternetAccessToggle:t,includeBetaSettings:n,githubConnectorEnabled:r,isCodexEnabledInRBACRole:s})=>{const o=!r&&!s;return{title:$.codex,availableForQuorum:!1,entries:[{rbac:!0,title:"GitHub",description:$.githubConnectorDescription,descriptionValues:{br:m.jsx("br",{}),settingsLink:i=>m.jsx(bf,{to:"/admin/ca",className:"underline",children:i})},permissionName:"codex_github_connector"},...n&&e?[{rbac:!0,title:$.codexTitle,description:$.codexDescription,permissionName:"chatgpt.workspace.feature.allow-codex-access.access",disabled:o,disabledReason:o?$.disabledReasonGithub:void 0},{rbac:!0,title:$.codexCliTitle,description:$.codexCliDescription,permissionName:"chatgpt.workspace.feature.allow-codex-local-access.access"}]:[{rbac:!1,title:$.codexTitle,description:$.codexDescription,settingName:"codex_access"},{rbac:!1,title:$.codexCliTitle,description:$.codexCliDescription,settingName:"codex_local_access"}],...t?n&&e?[{rbac:!0,title:$.codexAgentNetworkTitle,description:$.codexAgentNetworkDescription,permissionName:"chatgpt.workspace.feature.codex-agent-network-access.access"}]:[{rbac:!1,title:$.codexAgentNetworkTitle,description:$.codexAgentNetworkDescription,settingName:"codex_agent_network"}]:[]]}},_ue=({isRbacEnabled:e,isInSupportedDrRegion:t,includeBetaSettings:n})=>({title:$.recordTitle,availableForEnterprise:!0,availableForQuorum:!0,description:$.recordDescription,descriptionValues:{link:r=>m.jsx(Jc,{chunk:r,href:"https://help.openai.com/en/articles/11487532"})},entries:n&&e?[{rbac:!0,title:$.recordAccessTitle,permissionName:"chatgpt.workspace.feature.hive.access"},...t?[{rbac:!0,title:$.recordReferencePastTranscriptsTitle,description:$.recordReferencePastTranscriptsDescription,permissionName:"chatgpt.workspace.feature.hive-knowledge-retrieval.access"}]:[]]:[{rbac:!1,title:$.recordAccessTitle,settingName:"record_access"},...t?[{rbac:!1,title:$.recordReferencePastTranscriptsTitle,description:$.recordReferencePastTranscriptsDescription,settingName:"record_reference_past_transcripts"}]:[]]}),yue=({isAppleIntelligenceToggleEnabled:e,isAppleIntelligenceMdmToggleEnabled:t})=>({title:$.appsTitle,availableForQuorum:!0,entries:[{rbac:!1,title:$.workWithAppsTitle,description:$.workWithAppsDescription,descriptionValues:{link:n=>m.jsx(Jc,{chunk:n,href:"https://help.openai.com/en/articles/10119604-work-with-apps-on-macos"})},settingName:"apps_access"},...e?[{rbac:!1,title:$.appleIntelligenceTitle,description:$.appleIntelligenceDescription,settingName:"apple_intelligence_access"}]:[],...e&&t?[{rbac:!1,title:$.appleIntelligenceMDMTitle,description:$.appleIntelligenceMDMDescription,settingName:"apple_intelligence_mdm_access"}]:[]]}),bue=({isRbacEnabled:e,includeModels:t,legacyModelsEnabled:n,isEnterprisey:r,includeThinkingMini:s})=>({title:$.modelsTitle,availableForEnterprise:!0,availableForQuorum:!0,description:$.modelsDescription,entries:[...s&&e?[{rbac:!0,title:"GPT-5 Thinking Mini",description:$.gpt5ThinkingMiniDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning-mini.access"}]:[],...t&&e?[{rbac:!0,title:"GPT-5 Thinking",description:$.gpt5ThinkingDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning.access"},{rbac:!0,title:"GPT-5 Pro",description:$.gpt5ThinkingProDescription,permissionName:"chatgpt.workspace.model.GPT-5-pro.access"}]:[],...r?[{rbac:!1,title:$.legacyModelsTitle,description:$.legacyModelsDescription,settingName:"legacy_models"}]:[{rbac:!1,title:$.additionalModelsTitle,description:$.additionalModelsDescription,settingName:"legacy_models"}],...t&&e&&n?[{rbac:!0,title:"GPT-4.1",description:$.gpt41Description,permissionName:"chatgpt.workspace.model.GPT-4.1.access"},{rbac:!0,title:"o3",description:$.gptO3Description,permissionName:"chatgpt.workspace.model.o3.access"},{rbac:!0,title:"o4-mini",description:$.gptO4MiniDescription,permissionName:"chatgpt.workspace.model.o4-mini.access"}]:[]]}),Cue=()=>({title:$.gptSectionTitle,availableForQuorum:!0,description:$.gptSectionDescription,entries:[{rbac:!0,title:$.gptCrudTitle,description:$.gptCrudDescription,permissionName:"chatgpt.workspace.gpt.crud"},{rbac:!0,title:$.gptShareWorkspaceTitle,description:$.gptShareWorkspaceDescription,permissionName:"chatgpt.workspace.gpt.share_workspace"},{rbac:!0,disabledForQuorum:!0,title:$.gptShareExternalTitle,description:$.gptShareExternalDescription,permissionName:"chatgpt.workspace.gpt.share_external"},{rbac:!0,disabledForQuorum:!0,title:$.gptAllowAllThirdPartyTitle,description:$.gptAllowAllThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_all_third_party"},{rbac:!0,disabledForQuorum:!0,title:$.gptAllowSpecificThirdPartyTitle,description:$.gptAllowSpecificThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_specific_third_party"}]}),Sue=()=>({title:$.projectSectionTitle,availableForQuorum:!0,description:$.projectSectionDescription,entries:[{rbac:!0,title:$.projectCrudTitle,description:$.projectCrudDescription,permissionName:"chatgpt.workspace.project.crud"}]}),wue={title:$.mdmSectionTitle,entries:[{rbac:!0,title:$.mdmDisableCopyPasteTitle,permissionName:"chatgpt.workspace.mdm.disable_copy_paste"},{rbac:!0,title:$.mdmDisableFileUploadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.upload"},{rbac:!0,title:$.mdmDisableFileDownloadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.download"},{rbac:!0,title:$.mdmRequirePinUnlockTitle,permissionName:"chatgpt.workspace.mdm.require_pin_unlock"},{rbac:!0,title:$.mdmRequireBiometricUnlockTitle,permissionName:"chatgpt.workspace.mdm.require_biometric_unlock"}]},Eue=()=>({title:$.connectedDataSectionTitle,entries:[{rbac:!0,title:$.connectorRoleTitle,permissionName:"chatgpt.workspace_connector.use",nestedKey:"chatgpt.workspace_connector.use"},{rbac:!0,title:$.createMcpConnectorTitle,permissionName:"chatgpt.workspace.connector.mcp.create"}]});function Gwe({isCBP:e,isRbacEnabled:t,githubConnectorEnabled:n,isInSupportedDrRegion:r,includeFeatures:s,includeModels:o,isSharedProjectsEnabled:i,isCanvasEnabled:a,isSearchEnabled:l,isEnterprisey:c,showHiveToggle:u,showDeepResearchToggle:d,includeBetaSettings:f,includeBetaSettingsAdvanced:p,includeGizmoPermissions:g,showAgentInternetAccessToggle:v,isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y,isMDMEnabled:b,includeAgentMode:w,isQuorum:C,legacyModelsEnabled:S,includeConnectorPermissions:E,includeThinkingMini:x,isCodexEnabledInRBACRole:T}){return[due({isRbacEnabled:t,isSharedProjectsEnabled:i,includeBetaSettingsAdvanced:p}),fue(),...a?[hue({isRbacEnabled:t,includeBetaSettingsAdvanced:p})]:[],pue({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:d,includeBetaSettings:f,includeFeatures:s,includeAgentMode:w,isQuorum:C,isSearchEnabled:l}),...s&&t?[mue]:[],gue({isRbacEnabled:t,includeFeatures:s,includeBetaSettingsAdvanced:p}),...c?[vue({isRbacEnabled:t,showAgentInternetAccessToggle:v,includeBetaSettings:f,githubConnectorEnabled:n,isCodexEnabledInRBACRole:T})]:[],...u?[_ue({isRbacEnabled:t,isInSupportedDrRegion:r,includeBetaSettings:f})]:[],yue({isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y}),bue({isRbacEnabled:t,includeModels:o,legacyModelsEnabled:S,isEnterprisey:c,includeThinkingMini:x}),...t&&g?[Cue()]:[],...t&&g?[Sue()]:[],...t&&b?[wue]:[],...t&&E?[Eue()]:[]]}const Vwe=()=>{const e=ae();return $e(e,"1355972088")},io=()=>{const e=ae();return Bn(e,"2826703856")},Hwe=()=>io().get("self_serve_page_enabled",!1),zwe=()=>io().get("models_display_in_rbac_page",!1),$we=()=>io().get("features_display_in_rbac_page",!1),Wwe=()=>io().get("beta_settings_display_in_rbac_page",!1),Kwe=()=>io().get("beta_settings_display_in_rbac_page_advanced",!1),Ywe=()=>io().get("gpt_settings_display_in_rbac_page",!1),xue=()=>io().get("enable_gpt_fe_controls",!1),Tue=()=>io().get("enable_project_fe_controls",!1),Zwe=()=>io().get("enable_combined_rbac_page",!1),Jwe=()=>{const e=ae();return $e(e,"1277555238")},Xwe=()=>io().get("enable_agent_mode",!1),Qwe=()=>io().get("enable_thinking_mini",!1),e7e=()=>{const e=ae();return $e(e,"2401070673")},t7e=()=>{const e=ae();return $e(e,"2401070674")},M6=e=>{const t=sr(),n=t?.getWorkspaceId(),r=Tue(),{data:s,isLoading:o}=Ng(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const i=s?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?i:!0,isLoading:o}},n7e=()=>{const{hasWorkspacePermission:e,isLoading:t}=M6(zl.CrudProject);return{canCreate:e,isLoading:t}},r7e=e=>{const{hasWorkspacePermission:t,isLoading:n}=M6(zl.CrudProject);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}},s7e=e=>{const{hasWorkspacePermission:t,isLoading:n}=M6(zl.CrudProject);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}};function ka(e){return e.slice(0,4)==="g-p-"}function kue(e){return e!=null&&!ka(e)}function o7e(e,t){return!kue(e)&&!t}function MD(e){return ka(e.gizmo.id)}function i7e(e,t){return!(qt.getItem(Et.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===uue&&MD(t)&&t.files.length>0}const ID=en(()=>wt({}));var Yy,Ix;function Oue(){if(Ix)return Yy;Ix=1;function e(t){return t!==t}return Yy=e,Yy}var Zy,Rx;function Aue(){if(Rx)return Zy;Rx=1;function e(t,n,r){for(var s=r-1,o=t.length;++s<o;)if(t[s]===n)return s;return-1}return Zy=e,Zy}var Jy,Nx;function Mue(){if(Nx)return Jy;Nx=1;var e=PI(),t=Oue(),n=Aue();function r(s,o,i){return o===o?n(s,o,i):e(s,t,i)}return Jy=r,Jy}var Xy,Px;function Iue(){if(Px)return Xy;Px=1;var e=Mue();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return Xy=t,Xy}var Qy,Dx;function Rue(){if(Dx)return Qy;Dx=1;function e(t,n,r){for(var s=-1,o=t==null?0:t.length;++s<o;)if(r(n,t[s]))return!0;return!1}return Qy=e,Qy}var e2,Lx;function Nue(){if(Lx)return e2;Lx=1;var e=fI(),t=UA(),n=u5(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return e2=s,e2}var t2,Fx;function Pue(){if(Fx)return t2;Fx=1;var e=nI(),t=Iue(),n=Rue(),r=rI(),s=Nue(),o=u5(),i=200;function a(l,c,u){var d=-1,f=t,p=l.length,g=!0,v=[],_=v;if(u)g=!1,f=n;else if(p>=i){var y=c?null:s(l);if(y)return o(y);g=!1,f=r,_=new e}else _=c?[]:v;e:for(;++d<p;){var b=l[d],w=c?c(b):b;if(b=u||b!==0?b:0,g&&w===w){for(var C=_.length;C--;)if(_[C]===w)continue e;c&&_.push(w),v.push(b)}else f(_,w,u)||(_!==v&&_.push(w),v.push(b))}return v}return t2=a,t2}var n2,jx;function Due(){if(jx)return n2;jx=1;var e=Pue();function t(n){return n&&n.length?e(n):[]}return n2=t,n2}var Lue=Due();const Fue=yn(Lue),jue="hints",Uue="system_hints";function yC(e){const t=[jue,Uue].flatMap(n=>e.getAll(n)).flatMap(n=>n.split(",")).flatMap(n=>{const r=RW(n);return r?[r]:[]});return Fue(t)}var bC=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(bC||{});const Bue=new Map([[ve.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[ve.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[ve.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[ve.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[ve.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function Ux(e,t,n){const[r,s]=Bue.get(e)?.[t]??[];r&&s&&V.logEventWithStatsig(r,s,n)}const a7e=fr[F.GDRIVE_ACTION_CONNECTOR],l7e=fr[F.GITHUB_CONNECTOR],c7e=fr[F.SHAREPOINT_CONNECTOR],CC=`#settings/${Kf.Connectors}`,u7e=[F.GDRIVE_ACTION_CONNECTOR,F.GCAL_CONNECTOR,F.GMAIL_CONNECTOR].map(e=>fr[e]),RD="connector",I6="add-connector-link",que="connector-toggle",Gue="create-connector",R6="product-sku",ND="redirectAfter",Vue="system-hint-type",PD="referrer",d7e="toggle-all";var DD=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.ConnectorToggle="connector_toggle",e.Codex="codex",e))(DD||{}),Hue=(e=>(e.Off="off",e.EnabledNotSticky="enabledNotSticky",e.EnabledSticky="enabledSticky",e))(Hue||{});const zue=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M10.3227 1.62663C11.1514 1.62663 11.9182 2.066 12.3373 2.78092L13.1586 4.18131L13.2123 4.25065C13.2735 4.31105 13.3565 4.34658 13.4448 4.34733L15.06 4.36002L15.2143 4.36686C15.9825 4.4239 16.6774 4.85747 17.0649 5.53092L17.393 6.10221L17.4662 6.23795C17.7814 6.88041 17.7842 7.63306 17.4741 8.27799L17.4028 8.41373L16.6 9.83561C16.5426 9.93768 16.5425 10.0627 16.6 10.1647L17.4028 11.5856L17.4741 11.7223C17.7841 12.3673 17.7815 13.1199 17.4662 13.7624L17.393 13.8981L17.0649 14.4694C16.6774 15.1427 15.9824 15.5764 15.2143 15.6335L15.06 15.6393L13.4448 15.653C13.3565 15.6537 13.2736 15.6892 13.2123 15.7497L13.1586 15.818L12.3373 17.2194C11.9182 17.9342 11.1513 18.3737 10.3227 18.3737H9.6762C8.8995 18.3735 8.17705 17.9874 7.74456 17.3503L7.66253 17.2194L6.84124 15.818C6.79652 15.7418 6.72408 15.6876 6.64105 15.6647L6.55511 15.653L4.93987 15.6393C4.16288 15.633 3.44339 15.2413 3.01605 14.6003L2.93499 14.4694L2.60687 13.8981C2.19555 13.1831 2.1916 12.3039 2.5971 11.5856L3.39886 10.1647L3.43206 10.0846C3.44649 10.0293 3.44644 9.97102 3.43206 9.91569L3.39886 9.83561L2.5971 8.41373C2.19175 7.6955 2.19562 6.8171 2.60687 6.10221L2.93499 5.53092L3.01605 5.40006C3.44337 4.75894 4.1628 4.36636 4.93987 4.36002L6.55511 4.34733L6.64105 4.33561C6.72418 4.31275 6.79651 4.25762 6.84124 4.18131L7.66253 2.78092L7.74456 2.65006C8.17704 2.01277 8.89941 1.62678 9.6762 1.62663H10.3227ZM9.6762 2.9567C9.36439 2.95685 9.07299 3.10138 8.88421 3.34342L8.80999 3.45377L7.9887 4.85416C7.72933 5.29669 7.28288 5.59093 6.78265 5.6608L6.56585 5.67741L4.95062 5.6901C4.63868 5.69265 4.34845 5.84001 4.16155 6.08366L4.08733 6.19401L3.75921 6.7653C3.58227 7.073 3.5808 7.45131 3.7553 7.76041L4.55706 9.18131L4.65179 9.37663C4.81309 9.77605 4.81294 10.2232 4.65179 10.6227L4.55706 10.819L3.7553 12.2399C3.58083 12.549 3.5822 12.9273 3.75921 13.235L4.08733 13.8053L4.16155 13.9157C4.34844 14.1596 4.6385 14.3067 4.95062 14.3092L6.56585 14.3229L6.78265 14.3385C7.28292 14.4084 7.72931 14.7036 7.9887 15.1462L8.80999 16.5465L8.88421 16.6559C9.07298 16.8982 9.36422 17.0435 9.6762 17.0436H10.3227C10.6793 17.0436 11.0095 16.8542 11.1899 16.5465L12.0112 15.1462L12.1332 14.9655C12.4432 14.5668 12.9212 14.3271 13.434 14.3229L15.0492 14.3092L15.1811 14.2995C15.4854 14.2567 15.7569 14.076 15.9125 13.8053L16.2407 13.235L16.2983 13.1169C16.3983 12.8745 16.3999 12.6023 16.3022 12.359L16.2446 12.2399L15.4418 10.819C15.1551 10.311 15.1551 9.6893 15.4418 9.18131L16.2446 7.76041L16.3022 7.64127C16.4 7.39806 16.3982 7.12584 16.2983 6.88346L16.2407 6.7653L15.9125 6.19401C15.7568 5.92338 15.4855 5.74264 15.1811 5.69987L15.0492 5.6901L13.434 5.67741C12.9212 5.67322 12.4432 5.43341 12.1332 5.03483L12.0112 4.85416L11.1899 3.45377C11.0095 3.14604 10.6794 2.9567 10.3227 2.9567H9.6762ZM11.5854 9.99967C11.5852 9.12461 10.8755 8.41497 10.0004 8.41471C9.12516 8.41471 8.41466 9.12445 8.41448 9.99967C8.41448 10.875 9.12505 11.5846 10.0004 11.5846C10.8756 11.5844 11.5854 10.8749 11.5854 9.99967ZM12.9145 9.99967C12.9145 11.6094 11.6101 12.9145 10.0004 12.9147C8.39051 12.9147 7.08538 11.6096 7.08538 9.99967C7.08556 8.38991 8.39062 7.08463 10.0004 7.08463C11.61 7.08489 12.9143 8.39007 12.9145 9.99967Z"})),$ue=({icon:e,title:t,description:n,statusIndicator:r,showGitHubConfigure:s})=>{const o=sne("installations/select_target");return m.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[m.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,n?m.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[t,m.jsx("div",{className:"text-token-text-secondary text-xs",children:n})]}):t]}),s&&m.jsx(sn,{onClick:()=>{window.open(o,"_blank")},color:"secondary",size:"small",children:m.jsx(zue,{className:"icon-sm"})}),r]})};function f7e(e,t){const n=h.useRef(e);h.useEffect(()=>{n.current=e},[e]),h.useEffect(()=>{function r(){n.current()}if(t!=null){const s=window.setInterval(r,t);return()=>clearInterval(s)}},[t])}var Bp={exports:{}},Wue=Bp.exports,Bx;function Kue(){return Bx||(Bx=1,function(e){(function(t,n,r){function s(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function i(l,c){var u=new s(l),d=c&&c.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=i:this.alea=i})(Wue,e)}(Bp)),Bp.exports}var qp={exports:{}},Yue=qp.exports,qx;function Zue(){return qx||(qx=1,function(e){(function(t,n,r){function s(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function i(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,p=(c.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=i:this.xor128=i})(Yue,e)}(qp)),qp.exports}var Gp={exports:{}},Jue=Gp.exports,Gx;function Xue(){return Gx||(Gx=1,function(e){(function(t,n,r){function s(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function i(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,p=(c.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=i:this.xorwow=i})(Jue,e)}(Gp)),Gp.exports}var Vp={exports:{}},Que=Vp.exports,Vx;function ede(){return Vx||(Vx=1,function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var u=l.x,d=l.i,f,p;return f=u[d],f^=f>>>7,p=f^f<<24,f=u[d+1&7],p^=f^f>>>10,f=u[d+3&7],p^=f^f>>>3,f=u[d+4&7],p^=f^f<<7,f=u[d+7&7],f=f^f<<13,p^=f^f<<9,u[d]=p,l.i=d+1&7,p};function c(u,d){var f,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,f=0;f<d.length;++f)p[f&7]=p[f&7]<<15^d.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],u.x=p,u.i=0,f=256;f>0;--f)u.next()}c(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function i(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,p=(c.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=i:this.xorshift7=i})(Que,e)}(Vp)),Vp.exports}var Hp={exports:{}},tde=Hp.exports,Hx;function nde(){return Hx||(Hx=1,function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var u=l.w,d=l.X,f=l.i,p,g;return l.w=u=u+1640531527|0,g=d[f+34&127],p=d[f=f+1&127],g^=g<<13,p^=p<<17,g^=g>>>15,p^=p>>>12,g=d[f]=g^p,l.i=f,g+(u^u>>>16)|0};function c(u,d){var f,p,g,v,_,y=[],b=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,b=Math.max(b,d.length)),g=0,v=-32;v<b;++v)d&&(p^=d.charCodeAt((v+32)%d.length)),v===0&&(_=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,v>=0&&(_=_+1640531527|0,f=y[v&127]^=p+_,g=f==0?g+1:0);for(g>=128&&(y[(d&&d.length||0)&127]=-1),g=127,v=4*128;v>0;--v)p=y[g+34&127],f=y[g=g+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,y[g]=p^f;u.w=_,u.X=y,u.i=g}c(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function i(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,p=(c.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=i:this.xor4096=i})(tde,e)}(Hp)),Hp.exports}var zp={exports:{}},rde=zp.exports,zx;function sde(){return zx||(zx=1,function(e){(function(t,n,r){function s(a){var l=this,c="";l.next=function(){var d=l.b,f=l.c,p=l.d,g=l.a;return d=d<<25^d>>>7^f,f=f-p|0,p=p<<24^p>>>8^g,g=g-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^g,l.a=g-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function i(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,p=(c.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=i:this.tychei=i})(rde,e)}(zp)),zp.exports}var $p={exports:{}};const ode={},ide=Object.freeze(Object.defineProperty({__proto__:null,default:ode},Symbol.toStringTag,{value:"Module"})),ade=yB(ide);var lde=$p.exports,$x;function cde(){return $x||($x=1,function(e){(function(t,n,r){var s=256,o=6,i=52,a="random",l=r.pow(s,o),c=r.pow(2,i),u=c*2,d=s-1,f;function p(C,S,E){var x=[];S=S==!0?{entropy:!0}:S||{};var T=y(_(S.entropy?[C,w(n)]:C??b(),3),x),k=new g(x),O=function(){for(var A=k.g(o),M=l,I=0;A<c;)A=(A+I)*s,M*=s,I=k.g(1);for(;A>=u;)A/=2,M/=2,I>>>=1;return(A+I)/M};return O.int32=function(){return k.g(4)|0},O.quick=function(){return k.g(4)/4294967296},O.double=O,y(w(k.S),n),(S.pass||E||function(A,M,I,N){return N&&(N.S&&v(N,k),A.state=function(){return v(k,{})}),I?(r[a]=A,M):A})(O,T,"global"in S?S.global:this==r,S.state)}function g(C){var S,E=C.length,x=this,T=0,k=x.i=x.j=0,O=x.S=[];for(E||(C=[E++]);T<s;)O[T]=T++;for(T=0;T<s;T++)O[T]=O[k=d&k+C[T%E]+(S=O[T])],O[k]=S;(x.g=function(A){for(var M,I=0,N=x.i,q=x.j,P=x.S;A--;)M=P[N=d&N+1],I=I*s+P[d&(P[N]=P[q=d&q+M])+(P[q]=M)];return x.i=N,x.j=q,I})(s)}function v(C,S){return S.i=C.i,S.j=C.j,S.S=C.S.slice(),S}function _(C,S){var E=[],x=typeof C,T;if(S&&x=="object")for(T in C)try{E.push(_(C[T],S-1))}catch{}return E.length?E:x=="string"?C:C+"\0"}function y(C,S){for(var E=C+"",x,T=0;T<E.length;)S[d&T]=d&(x^=S[d&T]*19)+E.charCodeAt(T++);return w(S)}function b(){try{var C;return f&&(C=f.randomBytes)?C=C(s):(C=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(C)),w(C)}catch{var S=t.navigator,E=S&&S.plugins;return[+new Date,t,E,t.screen,w(n)]}}function w(C){return String.fromCharCode.apply(0,C)}if(y(r.random(),n),e.exports){e.exports=p;try{f=ade}catch{}}else r["seed"+a]=p})(typeof self<"u"?self:lde,[],Math)}($p)),$p.exports}var r2,Wx;function ude(){if(Wx)return r2;Wx=1;var e=Kue(),t=Zue(),n=Xue(),r=ede(),s=nde(),o=sde(),i=cde();return i.alea=e,i.xor128=t,i.xorwow=n,i.xorshift7=r,i.xor4096=s,i.tychei=o,r2=i,r2}var dde=ude();const fde=yn(dde);function hde({lines:e=1,variance:t=0,size:n="base",width:r=50,widthVariance:s=50,className:o}){const[i]=h.useState(()=>LD(e,r,s,t));let a="";switch(n){case"sm":a="h-3 mb-2 mt-0.5";break;case"base":a="h-4 my-2";break;case"lg":a="h-5 my-2";break}return m.jsx(m.Fragment,{children:i.map((l,c)=>m.jsx("div",{className:he("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",a,o),style:{width:`${l}%`},children:m.jsx(Jk.div,{className:"absolute start-0 top-0 h-full w-full rotate-45 bg-linear-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+c}}})},c))})}function h7e({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:s=50,gapFrequency:o=0,scaleUpAnimation:i,className:a,heightSize:l}){const c=h.useMemo(()=>LD(e,r,s,n),[e,n,r,s]);return m.jsx(pde,{className:a,children:c.map((u,d)=>m.jsx(gde,{index:d+t,width:u,className:he(o>0&&(d+1)%o===0&&"mb-snc-1"),heightSize:l,customAnimation:i?{initial:{scaleX:i.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:i.duration,ease:"easeInOut",delay:d*.07}}}:void 0},d))})}const pde=Vl.div`flex flex-col items-start gap-2`,mde={sm:"h-3.5",md:"h-5",lg:"h-6"};function gde({index:e,width:t,className:n,customAnimation:r,heightSize:s="md"}){const{initial:o,animate:i,transition:a}=r??{initial:{},animate:{},transition:{}};return m.jsx(Jk.div,{className:he(mde[s],"bg-token-border-default origin-left rounded-md dark:bg-white/10",n),style:{width:`${t}%`},initial:{opacity:1,...o},animate:{opacity:[1,.4],...i},transition:{opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07},...a}})}function LD(e,t,n,r){const s=fde([e,t,n,r].join("-"));return Array.from({length:e+s()*(r??0)},()=>t+s()*n)}const vde=(e,t)=>({as:r,...s})=>{const o=r||e;return t(m.jsx(o,{...s}))};let Kx,Dd,wn=typeof window<"u"&&window.document&&window.document.createElement?h.useLayoutEffect:h.useEffect,Bc=e=>(t,n)=>"calc("+t+" + ("+n+" - "+t+") * "+e+")",wr=typeof window<"u"?window.navigator.userAgent:null,Zo="unknown",on="unknown";if(typeof window<"u"&&navigator.userAgentData&&(navigator.userAgentData.brands.some(e=>e.brand==="Chromium")&&(Zo="chromium"),navigator.userAgentData.platform==="Android"&&(on="android")),on==="unknown"&&wr?.match(/android/i)&&(on="android"),Zo==="unknown"&&(wr?.match(/Chrome/i)?Zo="chromium":wr?.match(/Firefox/i)?Zo="gecko":wr?.match(/Safari|iPhone/i)&&(Zo="webkit")),Zo==="webkit"){if(wr?.match(/iPhone/i))on="ios";else if(wr?.match(/iPad/i))on="ipados";else if(wr?.match(/Macintosh/i))try{document?.createEvent("TouchEvent"),on="ipados"}catch{on="macos"}}var FD={};FD={mapping:{Sheet:{componentName:"a",elementNames:{root:0,view:1,backdrop:2,backdropTrap:3,primaryScrollTrapRoot:4,secondaryScrollTrapRoot:5,scrollContainer:6,frontSpacer:7,backSpacer:8,detentMarker:9,contentWrapper:10,content:11,bleedingBackground:12,stickyContainer:13,sticky:14,leftEdge:15,trigger:16,handle:17,outlet:18},variationSetsNames:{openness:"A",staging:"B",opennessClosedStatus:"C",position:"D",positionCoveredStatus:"E",placement:"F",track:"G",swipeDisabled:"H",swipeOutDisabledWithDetent:"I",swipeOvershootDisabled:"J",bleedDisabled:"K",inertOutside:"L",backdropSwipeable:"M",scrollContainerShouldBePassThrough:"N",swipeTrap:"M"},variationValuesNames:{open:"a",opening:"b",closed:"c",closing:"d",none:"e",top:"f",bottom:"g",left:"h",right:"i",horizontal:"j",vertical:"k",front:"l",covered:"m",true:"o",false:"p",auto:"q",center:"r",pending:"s","flushing-to-preparing-open":"t","flushing-to-preparing-opening":"u","preparing-open":"v","preparing-opening":"x","safe-to-unmount":"y",content:"z",root:"aa","going-down":"ab","going-up":"ac",indeterminate:"ad",idle:"ae","come-back":"af",out:"ag",stepping:"ah",both:"ai",none:"aj"}},ScrollTrap:{componentName:"b",elementNames:{root:0,stabiliser:1},variationSetsNames:{active:"A",axis:"B",automaticallyDisabledForOptimisation:"C"},variationValuesNames:{true:"a",false:"b",horizontal:"e",vertical:"f",both:"g",none:"h"}},Scroll:{componentName:"c",elementNames:{root:0,view:1,scrollContainer:2,content:3,UAScrollbarMeasurer:4,spy:5,startSpacer:6,endSpacer:7},variationSetsNames:{axis:"A",contentPlacement:"B",scrollTrapX:"C",scrollTrapY:"D",scrollGestureOvershoot:"E",scrollDisabled:"F",side:"G",pageScroll:"H",overflowX:"I",overflowY:"J",skipScrollAnimation:"K",scrollAnchoring:"L",scrollSnapType:"M",scrollPadding:"N",scrollTimelineName:"O",nativeScrollbar:"P",scrollOngoing:"Q"},variationValuesNames:{true:"a",false:"b",x:"c",y:"d",both:"e",unset:"f",contain:"g",start:"h",end:"i",center:"j",auto:"k",default:"l",none:"m",mandatoryX:"n",mandatoryY:"o",proximityX:"p",proximityY:"q"}},SlideShow:{componentName:"d",elementNames:{},variationSetsNames:{},variationValuesNames:{}},VisuallyHidden:{componentName:"e",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SpecialWrapper:{componentName:"f",elementNames:{root:0,content:1},variationSetsNames:{},variationValuesNames:{}},Fixed:{componentName:"g",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SheetStack:{componentName:"h",elementNames:{root:0,outlet:1},variationSetsNames:{},variationValuesNames:{}},AutoFocusTarget:{componentName:"i",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}}}};let g1=FD.mapping,_de=e=>{var t;return(t=g1[e].componentName)!==null&&t!==void 0?t:null},yde=(e,t)=>{var n;return(n=g1[e].elementNames[t])!==null&&n!==void 0?n:null},bde=(e,t)=>{var n;return(n=g1[e].variationSetsNames[t])!==null&&n!==void 0?n:null},Cde=(e,t)=>{var n;return(n=g1[e].variationValuesNames[t])!==null&&n!==void 0?n:null},qn=(e,t)=>h.useCallback((n,r=[],s)=>{var o,i;let a,l,c=(i=s==null||(o=s.dataSilk)===null||o===void 0?void 0:o.filter(Boolean).join(" "))!==null&&i!==void 0?i:"";{let u=_de(e);if(a=u+yde(e,n),t)for(let d=0;d<r.length;d++){let f=r[d],p=t[f],g=bde(e,f),v=Cde(e,p);a+=p!=null?" "+u+g+v:""}l={className:s?.className,"data-silk":a+" "+c}}return l},[e,...t?Object.values(t):[]]),id=new WeakMap;var Sde=typeof Float32Array=="function";function ep(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function Yx(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function wde(e){return e}var Ede=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return wde;for(var s=Sde?new Float32Array(11):Array(11),o=0;o<11;++o)s[o]=ep(.1*o,e,n);return function(i){return i===0||i===1?i:ep(function(a){for(var l=0,c=1;c!==10&&s[c]<=a;++c)l+=.1;var u=l+(a-s[--c])/(s[c+1]-s[c])*.1,d=Yx(u,e,n);return d>=.001?function(f,p,g,v){for(var _=0;_<4;++_){var y=Yx(p,g,v);if(y===0)break;var b=ep(p,g,v)-f;p-=b/y}return p}(a,u,e,n):d===0?u:function(f,p,g,v,_){var y,b,w=0;do(y=ep(b=p+(g-p)/2,v,_)-f)>0?g=b:p=b;while(Math.abs(y)>1e-7&&++w<10);return b}(a,l,l+.1,e,n)}(i),t,r)}};let Bm=e=>typeof e=="string"?document.querySelector(e):e?.(),jD=(e,t)=>Array.isArray(e)?e.includes(t):e===t,SC=e=>e?.getAttribute("data-silk-clone")==="true",xde=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),ol=e=>e instanceof HTMLInputElement&&!xde.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable,Zx=e=>e instanceof HTMLInputElement&&e.type==="color"||e instanceof HTMLSelectElement,N6=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,qm=()=>{var e;return window.innerHeight-200>((e=window.visualViewport)===null||e===void 0?void 0:e.height)};function Ao({nativeEvent:e,defaultBehavior:t,handler:n}){let r=t;if(n)if(typeof n=="function"){let s={...t,nativeEvent:e,changeDefault:function(o){r={...t,...o},Object.assign(this,o)}};s.changeDefault=s.changeDefault.bind(s),n(s)}else r={...t,...n};return r}function UD(e){return(e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")?e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(r=>r.trim()).slice(0,3).map(r=>parseFloat(r)):null}let Jx=e=>{let t=null;return e.startsWith("rgb(")||e.startsWith("rgba(")?t=UD(e):e.startsWith("#")&&(t=function(n){let r=n.replace(/^#/,""),s=r.length===3?r.split("").map(l=>l+l).join(""):r;if(!/^[0-9A-Fa-f]{6}$/.test(s))return null;let o=parseInt(s.slice(0,2),16),i=parseInt(s.slice(2,4),16),a=parseInt(s.slice(4,6),16);return[o,i,a]}(e)),t},Tde=({color:e,overlays:t})=>{let n=[...e],r=t.length;for(let s=0;s<r;s++){let o=t[s],i=o.alpha;for(let a=0;a<3;a++)n[a]=(1-i)*n[a]+i*o.color[a]}return"rgb("+n.join(",")+")"},kde=e=>{h.useEffect(()=>{let t=()=>{qm()?e(!0):e(!1)};return t(),visualViewport.addEventListener("resize",t),()=>{visualViewport.removeEventListener("resize",t)}},[e])},Ode=e=>e.matches('[data-silk~="0ad"]:not([data-silk~="0ai"]) *, [data-silk~="0ab"] *'),BD=e=>{let[t,n]=h.useState(!1),r=h.useCallback(s=>{e.current&&n(!!s&&!Ode(e.current))},[e]);return kde(r),t},qD=()=>on==="android"&&Zo==="chromium"&&typeof window<"u"&&!window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches,Ade=()=>{var e,t,n;return typeof window<"u"&&window.navigator.standalone&&((e=document.querySelector("meta[name='viewport']"))===null||e===void 0?void 0:e.content.includes("viewport-fit=cover"))&&((t=document.querySelector("meta[name='apple-mobile-web-app-capable']"))===null||t===void 0?void 0:t.content)==="yes"&&((n=document.querySelector("meta[name='apple-mobile-web-app-status-bar-style']"))===null||n===void 0?void 0:n.content)==="black-translucent"},Wi=()=>Zo==="webkit",Mde=()=>typeof document<"u"?document.querySelector('meta[name="theme-color"]'):null,sh=({genericContext:e,customContext:t,value:n,children:r})=>t?m.jsx(t.Provider,{value:n,children:m.jsx(e.Provider,{value:n,children:r})}):m.jsx(e.Provider,{value:n,children:r});sh.displayName="CustomisableContext";function wC(e){for(let t=0;t<e.length;t++)if(!e[t].matches('[data-silk~="0ad"]'))return e[t];return e[0]}let GD=(e,t)=>{var n;let{safelyFocusableElements:r,safelyTabbableElements:s}=v1(t,["[data-silk~='0ac']"]),o=Ze.autoFocusTargets.filter(d=>d.layerId==="any"||d.layerId===e),i=o.filter(d=>jD(d.timing,"present")),a=r.filter(d=>i.map(f=>f.element).includes(d)),l=wC(a),c=wC(s);((n=l??c)!==null&&n!==void 0?n:t).focus({preventScroll:!0})},Xx=(e,t,n)=>{let{focus:r}=Ao({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});r&&GD(e,t)},Ide=(e,t,n,r)=>{if(!t.contains(document.activeElement)&&document.contains(document.activeElement))return;let{focus:s}=Ao({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});if(s){var o;let i=Ze.autoFocusTargets.filter(f=>f.layerId==="any"||f.layerId===e),a=i.filter(f=>jD(f.timing,"dismiss")&&!t.contains(f.element)),{safelyFocusableElements:l}=v1(document.body),c=l.filter(f=>a.map(p=>p.element).includes(f)),u=wC(c);((o=u??r)!==null&&o!==void 0?o:document.body).focus({preventScroll:!0})}},Qx=e=>{e.parentNode!=null&&e.parentNode.removeChild(e)},eT=()=>{let e=document.createElement("div");return e.tabIndex=0,e.style.position="fixed",e.setAttribute("aria-hidden","true"),e.setAttribute("data-silk","0aa"),e},Rde=e=>{let t=eT(),n=eT();return e.insertAdjacentElement("beforebegin",t),e.insertAdjacentElement("afterend",n),()=>{Qx(t),Qx(n)}},Nde=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),v1=(e,t=[])=>{let n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]:not([disabled])",...t],r=n.join(","),s=e?[...e.matches(r)?[e]:[],...e.querySelectorAll(r)]:[],o=[...t,"[aria-hidden='true']","[aria-hidden='true'] *","[inert]","[inert] *"],i=s.map(f=>({element:f,tabbable:f.matches(':not([hidden]):not([tabindex^="-"])'),skippable:f.matches(o.join(","))||!Nde(f)})),a=i.filter(f=>!f.skippable),l=a.map(f=>f.element),c=i.filter(f=>f.tabbable),u=c.filter(f=>!f.skippable),d=u.map(f=>f.element);return{allFocusableElementsWithData:i,safelyFocusableElements:l,allTabbableElementsWithData:c,safelyTabbableElements:d}},VD=(e,t)=>{let{safelyTabbableElements:n,allTabbableElementsWithData:r,allFocusableElementsWithData:s}=v1(e,["[data-silk~='0ac']"]),o=[...r],i=[...s];return t&&[o,i].forEach(a=>{a.unshift({element:e.previousElementSibling,tabbable:!0,skippable:!0}),a.push({element:e.nextElementSibling,tabbable:!0,skippable:!0})}),{safelyTabbableElements:n,allTabbableElementsWithGuardsWithData:o,allFocusableElementsWithGuardsWithData:i}},Pde=(e,t)=>{let n;return(n=t.slice(0,e).reverse().find(r=>r.skippable===!1))||(n=t.slice(e+1-t.length).reverse().find(r=>r.skippable===!1)),n},tT=(e,t)=>{let n;return(n=t.slice(e+1).find(r=>r.skippable===!1))||(n=t.slice(0,e).find(r=>r.skippable===!1)),n},Dde=({rootElements:e,e:t,fromElement:n,toElement:r,fallbackElement:s})=>{if(!r)return;let o=[],i=[],a=[];e.forEach(_=>{let{safelyTabbableElements:y,allTabbableElementsWithGuardsWithData:b,allFocusableElementsWithGuardsWithData:w}=VD(_,!0);o=[...o,...y],i=[...i,...b],a=[...a,...w]});let l=i.findIndex(_=>_.element===n),c=i.findIndex(_=>_.element===r),u=i[c],d=a.findIndex(_=>_.element===r),f=!!r&&e.includes(r)&&r.getAttribute("tabindex")==="-1";if(d===-1&&!f){let _=e.find(y=>y.getAttribute("tabindex")==="-1");_?.focus()}if(u?.skippable){var p,g,v;o.length?o.length===1?n===o[0]?(t.preventDefault(),t.stopPropagation(),requestAnimationFrame(()=>n.focus())):o[0].focus():l?c<l?(g=Pde(c,i))===null||g===void 0||g.element.focus():(v=tT(c,i))===null||v===void 0||v.element.focus():(p=tT(c,i))===null||p===void 0||p.element.focus():s?.focus()}},HD=(e,t,n,r,s)=>{var o;if(!((o=e.target)===null||o===void 0)&&o.matches("[data-silk-clone]"))return;let i=[],a=[];n.forEach(l=>{let{safelyFocusableElements:c,safelyTabbableElements:u}=v1(l);i=[...i,...c],a=[...a,...u]}),n.includes(e.target)||i.includes(e.target)?e.target&&s(e.target):r?r.focus():a.length?a[0].focus():t.focus()},Lde=(e,t)=>{var n;if(!((n=e.relatedTarget)===null||n===void 0)&&n.matches("[data-silk-clone]"))return;let r=Wp??e.target,s=Xc??e.relatedTarget;Dde({rootElements:t,e,fromElement:r,toElement:s}),Wp=null,Xc=null},Fde=(e,t,n,r,s)=>{let o=n.find(i=>i.contains(e.target));e.key!=="Tab"||o||(e.preventDefault(),e.stopPropagation(),HD(e,t,n,r,s))},Wp=null,Xc=null,jde=({rootElements:e,viewElement:t,elementFocusedLast:n,setElementFocusedLast:r})=>{let s=[];e.forEach(c=>{s.push(Rde(c))});let o=function(c,u=document){let d=new Set(c),f=new Set,p=document.createTreeWalker(u,NodeFilter.SHOW_ELEMENT,{acceptNode:y=>(y instanceof HTMLElement&&y.dataset.liveAnnouncer==="true"&&d.add(y),y.tagName==="HEAD"||y.tagName==="SCRIPT"||d.has(y)||y.parentElement&&f.has(y.parentElement)?NodeFilter.FILTER_REJECT:y instanceof HTMLElement&&y.getAttribute("role")==="row"||c.some(b=>y.contains(b))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT)}),g=y=>{var b;let w=(b=id.get(y))!==null&&b!==void 0?b:0;(y.getAttribute("aria-hidden")!=="true"||w!==0)&&(w===0&&y.setAttribute("aria-hidden","true"),f.add(y),id.set(y,w+1))},v=p.nextNode();for(;v!=null;)g(v),v=p.nextNode();let _=new MutationObserver(y=>{for(let b of y)if(b.type==="childList"&&b.addedNodes.length!==0&&![...d,...f].some(w=>w.contains(b.target)))for(let w of b.addedNodes)w instanceof HTMLElement&&w.dataset.liveAnnouncer==="true"?d.add(w):w instanceof Element&&g(w)});return _.observe(u,{childList:!0,subtree:!0}),()=>{for(let y of(_.disconnect(),f)){let b=id.get(y);b===1?(y.removeAttribute("aria-hidden"),id.delete(y)):b!==void 0&&id.set(y,b-1)}}}(e,document),i=c=>Lde(c,e),a=c=>HD(c,t,e,n,r),l=c=>Fde(c,t,e,n,r);return document.addEventListener("keydown",l),document.addEventListener("focusout",i),document.addEventListener("focusin",a),()=>{document.removeEventListener("focusout",i),document.removeEventListener("focusin",a),document.removeEventListener("keydown",l),o(),s.forEach(c=>c())}},_1=new Set,Ude=e=>{_1.add(e)},Bde=e=>{_1.delete(e)},zD=(e,t,n,r)=>{let s=e[t],o=s.onClickOutside,i=s.dismissOverlayIfNotAlertDialog,a=s.viewElement,l=s.scrollContainerElement,c=s.backdropElement;if(l===r.target||c===r.target||!a?.contains(r.target)&&!n.find(u=>u.element.contains(r.target))&&function(u){for(let d of Ze.automaticLayerElements)if(d.contains(u))return!1;return!0}(r.target)){let u=!0,d=!0;if(o){let{dismiss:f,stopOverlayPropagation:p}=Ao({nativeEvent:r,defaultBehavior:{dismiss:!0,stopOverlayPropagation:!0},handler:o});u=f,d=p}u&&i&&i(),t>0&&!d&&zD(e,t-1,n,r)}},EC=null,qde=(e,t,n)=>{var r;if(_1.size||!((r=e.target)===null||r===void 0)&&r.matches('[data-silk~="0ak"] *')||e.target===document.body&&EC!==document.body||!e.target||!e.target.isConnected)return;let s=t.length;zD(t,s-1,n,e),EC=null},Gde=(e,t)=>{let n=s=>EC=s.target,r=s=>qde(s,e,t);return document.addEventListener("pointerdown",n),document.addEventListener("click",r),()=>{document.removeEventListener("pointerdown",n),document.removeEventListener("click",r)}},$D=(e,t,n)=>{let r=e[t],s=r.onEscapeKeyDown,o=r.dismissOverlayIfNotAlertDialog,i=!0,a=!0,l=!0;if(s){let{dismiss:c,nativePreventDefault:u,stopOverlayPropagation:d}=Ao({nativeEvent:n,defaultBehavior:{nativePreventDefault:!0,dismiss:!0,stopOverlayPropagation:!0},handler:s});i=u,a=c,l=d}i&&n.preventDefault(),a&&o&&o(),t>0&&!l&&$D(e,t-1,n)},Vde=(e,t)=>{if(e.key!=="Escape"||_1.size)return;let n=t.length;$D(t,n-1,e)},Hde=e=>{let t=n=>Vde(n,e);return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},zde=e=>(e.setAttribute("aria-hidden","true"),()=>e.removeAttribute("aria-hidden")),$de=e=>{let{allTabbableElementsWithGuardsWithData:t}=VD(e);t.forEach(n=>{n.element.tabIndex=-1})},Wde=e=>{var t;return e instanceof HTMLInputElement&&(!!(e.type==="password"||e.type==="text"&&e.autocomplete==="username"||!((t=e.closest("form"))===null||t===void 0)&&t.querySelector('input[type="password"]'))||void 0)},Kde=e=>{var t,n;let r=e.getBoundingClientRect(),s=r.height,o=(n=(t=window.visualViewport)===null||t===void 0?void 0:t.height)!==null&&n!==void 0?n:0,i=o-r.bottom;return i>-s/2&&i<s+32},s2=e=>{var t;return(t=e?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||t===void 0?void 0:t.matches('[data-silk~="0ah"]')},Yde=()=>{let e=s=>{let o=s.target;if(s2(o)){var i;(i=o?.closest('[data-silk~="0ah"]'))===null||i===void 0||i.focus({preventScroll:!0}),document.removeEventListener("touchstart",e,{capture:!0})}},t=s=>{let o=s.target,i=s.relatedTarget;if(!i)return document.addEventListener("touchstart",e,{capture:!0,passive:!1});if(s2(i)&&(Zx(i)&&document.addEventListener("touchstart",e,{capture:!0,passive:!1}),!(!ol(i)&&!Zx(i)||SC(o))))if(!Wde(i)&&ol(o)&&Kde(o)){let a=o.cloneNode(!1);a.removeAttribute("id"),a.setAttribute("data-silk-clone","true"),a.style.setProperty("position","fixed"),a.style.setProperty("left","0"),a.style.setProperty("top","0"),a.style.setProperty("transform","translateY(-3000px) scale(0)"),document.documentElement.appendChild(a),Xc=i,a?.focus({preventScroll:!0}),setTimeout(()=>{Wp=o,Xc=i,i?.focus({preventScroll:!0}),a.remove()},32)}else Xc=i,i?.focus({preventScroll:!0})},n=s=>{var o;let i=s.target;!(i!==document.activeElement||!ol(i)||qm())&&s2(i)&&((o=i?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||o===void 0||o.focus({preventScroll:!0}))},r=s=>{var o;let i=s.target;if(!i||!("setSelectionRange"in i)||!(["password","search","tel","text","url"].includes(i.type)||i instanceof HTMLTextAreaElement)||i._silk_focusedBefore===!0)return;let a=i.value.length;(o=i.setSelectionRange)===null||o===void 0||o.call(i,a,a),i._silk_focusedBefore=!0};return document.addEventListener("blur",t,{capture:!0,passive:!1}),document.addEventListener("touchstart",e,{capture:!0,passive:!0}),document.addEventListener("touchend",n,{capture:!0,passive:!0}),document.addEventListener("focusin",r),()=>{document.removeEventListener("blur",t,{capture:!0}),document.removeEventListener("touchend",n,{capture:!0}),document.removeEventListener("touchstart",e,{capture:!0}),document.removeEventListener("focusin",r)}},WD=["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],KD=null,YD=e=>{KD=e},Zde={sheets:[],addSheet:function(e){let t;if(!e.id)return;let n=this.findSheet(e.id);return n?(e.stackId&&(n.stackId=e.stackId),e.sendToOpennessMachine&&(n.sendToOpennessMachine=e.sendToOpennessMachine),t=n):(t={stackingIndex:-1,travelAnimations:[],aggregatedTravelCallback:function(r,s){let o=this.travelAnimations;for(let i=0,a=o.length;i<a;i++)o[i].callback(r,s)},stackingAnimations:[],aggregatedStackingCallback:function(r,s){let o=this.stackingAnimations;for(let i=0,a=o.length;i<a;i++)o[i].callback(r,s)},belowSheetsInStack:[],outlets:new Set,...e},this.sheets.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},attemptToRemoveSheet:function(e,t){let n=this.findSheet(e);if(n)if(n.outlets.size===0){var r;let s=(r=this.findSheet(e))===null||r===void 0?void 0:r.stackId;this.sheets=this.sheets.filter(o=>o.id!==e),s&&this.updateSelfAndAboveTravelProgressSumInStack(s)}else t&&t(n)},attemptToRemoveSheetOrCleanup:function(e){this.attemptToRemoveSheet(e,t=>{t.sendToOpennessMachine=null})},findSheet:function(e){return this.sheets.find(t=>t.id===e)},addOutletToSheet:function(e,t){let n=this.findSheet(e);n?n.outlets.add(t):this.addSheet({id:e,outlets:new Set([t])})},removeOutletFromSheet:function(e,t){let n=this.findSheet(e);n?.outlets.delete(t),this.attemptToRemoveSheet(e)},sheetStacks:[],addSheetStack:function(e){let t;return this.findSheetStack(e.id)||(t={stackingAnimations:[],aggregatedStackingCallback:function(r,s){let o=this.stackingAnimations;for(let i=0,a=o.length;i<a;i++)o[i].callback(r,s)},...e},this.sheetStacks.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},removeSheetStack:function(e){e&&(this.sheetStacks=this.sheetStacks.filter(t=>t.id!==e),this.removeAllOutletPersistedStylesFromStack(e))},findSheetStack:function(e){return this.sheetStacks.find(t=>t.id===e)},updateBelowSheetsInStackOfAllSheets:function(){this.sheets.forEach(e=>{let t,n=e.stackId;if(n){t=this.findSheetStack(n);let r=this.sheets.filter(o=>o.stackId===e.stackId),s=r.filter(o=>o.stackId===e.stackId&&o.stackingIndex>e.stackingIndex);t&&(s.unshift(t),t.stackingIndex=r.length-1),e.belowSheetsInStack=s,this.updateSelfAndAboveTravelProgressSumInStack(n)}})},updateSheetStackingIndex:function(e,t){let n=this.findSheet(e);n&&(n.stackingIndex=t),this.updateBelowSheetsInStackOfAllSheets()},updateSheetTravelProgress:function(e,t){let n=this.findSheet(e);n&&n.stackId&&(n.travelProgress=t,this.updateSelfAndAboveTravelProgressSumInStack(n.stackId))},updateSelfAndAboveTravelProgressSumInStack:function(e){let t=this.sheets.filter(s=>s.stackId===e).sort((s,o)=>o.stackingIndex-s.stackingIndex),n=this.findSheetStack(e);n&&t.unshift(n);let r=t.length;for(let s=0;s<r;s++){let o=t[s];o.selfAndAboveTravelProgressSum=[];for(let i=0;i<r;i++)i<=s?o.selfAndAboveTravelProgressSum[i]=0:o.selfAndAboveTravelProgressSum[i]=t.slice(s+1,i+1).reduce((a,l)=>a+l.travelProgress,0)}},addAnimationToSheetOrStack:function({type:e,sheetId:t,stackId:n,element:r,config:s}){let o=s.hasOwnProperty("properties")?s.properties:s,i=[];Object.entries(o).forEach(([d,f])=>{if(f!=="ignore"&&f&&typeof f!="string")if(typeof f=="function")if(WD.includes(d)){let p=i.findIndex(v=>v[0]==="transform"),g=v=>d+"("+f(v)+")";if(p!==-1){let v=i[p][1];i[p][1]=_=>v(_)+" "+g(_)}else i.push(["transform",g])}else if(d==="transform"){let p=i.findIndex(g=>g[0]==="transform");if(p!==-1){let g=i[p][1];i[p][1]=v=>g(v)+" "+f(v)}else i.push(["transform",f])}else i.push([d,f]);else if(d==="opacity"){let p=["opacity",({tween:g})=>g(f[0],f[1])];i.push(p)}else{if(!d.startsWith("scale")&&(!isNaN(f[0])||!isNaN(f[1])))throw Error("Keyframe values used with a 'transform' property require a unit (e.g. 'px', 'em' or '%').");let p=i.findIndex(v=>v[0]==="transform"),g=({tween:v})=>d+"("+v(f[0],f[1])+")";if(p!==-1){let v=i[p][1];i[p][1]=_=>v(_)+" "+g(_)}else i.push(["transform",g])}});let a=i.map(d=>[(d[0].startsWith("webkit")||d[0].startsWith("moz")?"-":"")+d[0].replace(/[A-Z]/g,"-$&").toLowerCase(),d[1]]),l=a.length,c={target:r,config:i,dashedPropertiesAsArray:a,callback:(d,f)=>{for(let p=0;p<l;p++){let[g,v]=a[p];r.style.setProperty(g,v({progress:d,tween:f}))}}},u=n?this.findSheetStack(n):this.findSheet(t);u&&(e==="travel"?u.travelAnimations.push(c):u.stackingAnimations.push(c))},removeAnimationFromSheetOrStack:function({sheetId:e,stackId:t,type:n,element:r}){let s=t?this.findSheetStack(t):this.findSheet(e);if(s)if(n==="travel"){let o=s.travelAnimations.filter(i=>i.target!==r);s.travelAnimations=o}else{let o=s.stackingAnimations.filter(i=>i.target!==r);s.stackingAnimations=o}},removeAllOutletPersistedStylesFromSheet:function(e){let t=this.findSheet(e);t&&[...t.travelAnimations,...t.stackingAnimations].forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},removeAllOutletPersistedStylesFromStack:function(e){let t=this.findSheetStack(e);t&&t.stackingAnimations.forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},getAggregatedStackingCallbackForSheetsBelow:function(e){let t,n=this.findSheet(e);return n&&(t=r=>{let s=n.belowSheetsInStack,o=s.length;for(let i=0;i<o;i++){let a=s[i],l=a.selfAndAboveTravelProgressSum[o-1]+r,c=Bc(l);a.aggregatedStackingCallback(l,c)}}),t},automaticIslandElements:new Set([]),automaticLayerElements:new Set([]),automaticLayerAndIslandDetectionCleanup:null,focusContainmentRootElements:[],focusContainmentCleanup:()=>{},escapeKeyDownListenerCleanup:null,clickOutsideListenerCleanup:null,processLayersAndIslandsChangesTimeout:null,setupAutomaticLayerAndIslandDetection:function(e){let t=document.documentElement,n=document.body,r=()=>{let o,i=new Set([]),a=new Set([]),l=function(_){let y=_.parentElement;for(;y&&y!==document.body;){if(y.parentElement===document.body)return y;y=y.parentElement}return _.parentElement===document.body?_:null}(e);o=l?l.nextElementSibling:n.firstElementChild;let c=_=>_.matches('[data-silk~="0ag"], [data-silk~="0ab"], [data-silk~="0aa"], [data-silk-clone]'),u=_=>_.tagName!=="SCRIPT";for(;o;)!c(o)&&u(o)&&i.add(o),o=o.nextElementSibling;let d=t.children;for(let _=0;_<d.length;_++){let y=d[_];y.tagName==="HEAD"||y.tagName==="BODY"||c(y)||a.add(y)}let f=new Set([...i].filter(_=>!this.automaticLayerElements.has(_))),p=new Set([...this.automaticLayerElements].filter(_=>!i.has(_)));this.automaticLayerElements=i;let g=new Set([...a].filter(_=>!this.automaticIslandElements.has(_))),v=new Set([...this.automaticIslandElements].filter(_=>!a.has(_)));this.automaticIslandElements=a,f.forEach(_=>{this.updateLayer({automatic:!0,layerId:null,viewElement:_,inertOutside:!1,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},dismissOverlayIfNotAlertDialog:()=>{},onClickOutside:{stopOverlayPropagation:!1},onEscapeKeyDown:{stopOverlayPropagation:!1}})}),p.forEach(_=>this.removeLayer(null,_)),g.forEach(_=>this.addIsland({element:_,automatic:!0})),v.forEach(_=>this.removeIsland(null,_))};r();let s=new MutationObserver(()=>{r()});s.observe(t,{childList:!0}),s.observe(n,{childList:!0}),this.automaticLayerAndIslandDetectionCleanup=function(){s.disconnect(),this.layers.forEach(o=>{o.automatic&&this.removeLayer(null,o.viewElement)}),this.automaticLayerElements=new Set([]),this.islands.forEach(o=>{o.automatic&&this.removeIsland(null,o.element)}),this.automaticIslandElements=new Set([]),this.automaticLayerAndIslandDetectionCleanup=null}},moveFocusIfNecessary:function(e,t,n,r,s,o){let i=!1;for(let a=0;a<t.length;a++)if(t[a].contains(document.activeElement)){i=!0;break}if(n.length){let a=n.filter(l=>!l.automatic&&!l.external);if(a.length){let l=a[a.length-1];return Xx(l.layerId,l.viewElement,l.onPresentAutoFocus)}}if(s.length&&!i){let a=e[e.length-1];if(!a.external)return Xx(a.layerId,a.viewElement,a.onPresentAutoFocus)}if(r.length&&r.find(l=>l.focusWasInside)){let l=r[0];if(!l.external)return Ide(l.layerId,l.viewElement,l.onDismissAutoFocus,l.elementFocusedLastBeforeShowing)}if(o.length&&o.find(l=>l.focusWasInside)){let l=e[e.length-1];if(l)return GD(l.layerId,l.viewElement)}},processLayersAndIslandsChanges:function(){var e;clearTimeout(this.processLayersAndIslandsChangesTimeout);let t=()=>{let r=this.layers.length,s=new Set([]),o;if(this.layers.some(d=>d.inertOutside)){this.islands.filter(f=>!f.componentId||f.componentId.length===0).forEach(f=>s.add(f.element));for(let f=r-1;f>=0;f--){let p=this.layers[f];if(p.external&&p.inertOutside){s=new Set([]);break}s.add(p.viewElement);let g=this.islands.filter(_=>_.componentId&&p.layerContextId&&_.componentId.includes(p.layerContextId)),v=this.islands.filter(_=>_.componentId&&p.layerStackContextId&&_.componentId.includes(p.layerStackContextId));if([...g,...v].forEach(_=>{s.add(_.element)}),p.inertOutside){o=p;break}o=p}}let a=[...s],l=!function(d,f){if(d.length!==f.length)return!1;let p=new Set;for(let g of d)p.add(g);for(let g of f)if(!p.has(g))return!1;return!0}(this.focusContainmentRootElements,a);if(this.focusContainmentRootElements=a,l){var c;this.focusContainmentCleanup(),this.focusContainmentCleanup=()=>{},(c=this.automaticLayerAndIslandDetectionCleanup)===null||c===void 0||c.call(this),o&&(this.setupAutomaticLayerAndIslandDetection(o?.viewElement),this.focusContainmentCleanup=jde({rootElements:this.focusContainmentRootElements,viewElement:o?.viewElement,elementFocusedLast:KD,setElementFocusedLast:YD}))}this.moveFocusIfNecessary(this.layers,this.focusContainmentRootElements,this.layersJustAdded,this.layersJustRemoved,this.layersJustWentToInertOutsideTrue,this.islandsJustRemoved),this.escapeKeyDownListenerCleanup&&(this.escapeKeyDownListenerCleanup(),this.escapeKeyDownListenerCleanup=null),this.clickOutsideListenerCleanup&&(this.clickOutsideListenerCleanup(),this.clickOutsideListenerCleanup=null),r>0&&(this.escapeKeyDownListenerCleanup=Hde(this.layers),this.clickOutsideListenerCleanup=Gde(this.layers,this.islands));let u=this.layersJustRemoved.length;if(u)for(let d=0;d<u;d++){let f=this.layersJustRemoved[d],p=f.viewElement,g=f.automatic;p&&!g&&(zde(p),$de(p))}this.islandsJustRemoved=[],this.layersJustAdded=[],this.layersJustRemoved=[],this.layersJustWentToInertOutsideTrue=[]};((e=this.layersJustAdded[this.layersJustAdded.length-1])===null||e===void 0?void 0:e.external)?t():this.processLayersAndIslandsChangesTimeout=setTimeout(t,16)},autoFocusTargets:[],addAutoFocusTarget:function({layerId:e,element:t,timing:n}){this.autoFocusTargets.push({layerId:e,element:t,timing:n})},removeAutoFocusTarget:function(e){this.autoFocusTargets=this.autoFocusTargets.filter(t=>t.element!==e)},islands:[],islandsJustRemoved:[],addIsland:function(e){var t;let n=this.islands[this.islands.length-1],r=((t=e.id)!==null&&t!==void 0?t:n)?n.id+1:0;return this.islands.push({...e,id:r}),this.processLayersAndIslandsChanges(),r},removeIsland:function(e,t){this.islands=this.islands.filter(n=>{if(e&&n.id&&n.id!==e||t&&n.element&&n.element!==t)return!0;{let r=n.element.contains(document.activeElement);return this.islandsJustRemoved.push({...n,focusWasInside:r}),!1}}),this.processLayersAndIslandsChanges()},layers:[],layersJustAdded:[],layersJustRemoved:[],layersJustWentToInertOutsideTrue:[],updateLayer:function(e){let t=e.layerId,n=e.viewElement,r=!1,s=this.layers;for(let i=0;i<s.length;i++){let a=s[i];if(t!==null?a.layerId===t:a.viewElement===n){let c={...a,...e};!a.inertOutside&&e.inertOutside&&this.layersJustWentToInertOutsideTrue.push(c),s[i]=c,r=!0;break}}if(!r){var o;let i={...e,elementFocusedLastBeforeShowing:(o=e.elementFocusedLastBeforeShowing)!==null&&o!==void 0?o:document.activeElement};s.push(i),this.layersJustAdded.push(i)}this.processLayersAndIslandsChanges()},removeLayer:function(e,t){var n;this.layers=this.layers.filter(r=>{if(e&&r.layerId&&r.layerId!==e||t&&r.viewElement&&r.viewElement!==t)return!0;{var s;let o=(s=r.viewElement)===null||s===void 0?void 0:s.contains(document.activeElement);return this.layersJustRemoved.push({...r,focusWasInside:o}),!1}}),this.layers.filter(r=>!r.automatic).length===0&&((n=this.automaticLayerAndIslandDetectionCleanup)===null||n===void 0||n.call(this)),this.processLayersAndIslandsChanges()},nativeFocusScrollPreventers:[],nativeFocusScrollPreventionCleanup:null,addNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers.push({id:e}),this.processNativeFocusScrollPreventersChanges()},removeNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers=this.nativeFocusScrollPreventers.filter(t=>t.id!==e),this.processNativeFocusScrollPreventersChanges()},processNativeFocusScrollPreventersChanges:function(){let e=this.nativeFocusScrollPreventers.length;if(Wi()&&(on==="ios"||on==="ipados"))if(e)this.nativeFocusScrollPreventionCleanup||(this.nativeFocusScrollPreventionCleanup=Yde());else{var t;(t=this.nativeFocusScrollPreventionCleanup)===null||t===void 0||t.call(this),this.nativeFocusScrollPreventionCleanup=null}},fixedComponents:[],addFixedComponent:function(e){this.fixedComponents.push(e)},updateFixedComponent:function(e){let t=this.fixedComponents.find(n=>n.id===e.id);t&&(e.element&&(t.element=e.element),e.initialInlineCSSTransform&&(t.initialInlineCSSTransform=e.initialInlineCSSTransform),typeof e.compensated=="boolean"&&(t.compensated=e.compensated))},removeFixedComponent:function(e){this.fixedComponents=this.fixedComponents.filter(t=>t.id!==e)},findActualFixedComponentsInsideOutlet:function(e){return this.fixedComponents.filter(t=>{if(t.element&&e)return e.contains(t.element)&&window.getComputedStyle(t.element).getPropertyValue("position")==="fixed"})},themeColorMetaTag:null,underlyingThemeColor:null,themeColorDimmingOverlays:[],storeThemeColorMetaTag:function(){if(this.themeColorMetaTag=Mde(),!this.themeColorMetaTag){let e=document.createElement("meta");e.name="theme-color",e.content=window.getComputedStyle(document.body).backgroundColor,document.head.appendChild(e),this.themeColorMetaTag=e}},getAndStoreUnderlyingThemeColorAsRGBArray:function(){let e;if(this.themeColorDimmingOverlays.length>0)e=this.underlyingThemeColor;else{var t;this.themeColorMetaTag||this.storeThemeColorMetaTag();let n=(t=this.themeColorMetaTag)===null||t===void 0?void 0:t.content;(e=Jx(n))||console.warn("`themeColorDimming` prop ignored: Only `theme-color` meta tag with a value in `rgb()`, `rgba()`, or hexadecimal format is supported."),this.underlyingThemeColor=e}return e},updateUnderlyingThemeColor:function(e){let t=Jx(e);if(!t)throw Error("The color provided to `updateThemeColor` doesn't match `rgb()`, `rgba()`, or hexadecimal format.");this.underlyingThemeColor=t,this.setActualThemeColor()},setActualThemeColor:function(){var e;this.themeColorMetaTag||this.storeThemeColorMetaTag(),(e=this.themeColorMetaTag)===null||e===void 0||e.setAttribute("content",Tde({color:this.underlyingThemeColor,overlays:this.themeColorDimmingOverlays}))},findThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.find(t=>t.dimmingOverlayId===e)},findIndexThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.findIndex(t=>t.dimmingOverlayId===e)},updateThemeColorDimmingOverlay:function(e){let t=e;t.color&&(t={...t,color:UD(t.color)});let n=this.findThemeColorDimmingOverlay(t.dimmingOverlayId);return n?Object.assign(n,t):(n=t,this.themeColorDimmingOverlays.push(t)),this.setActualThemeColor(),n},updateThemeColorDimmingOverlayAlphaValue:function(e,t){e.alpha=t,this.setActualThemeColor()},removeThemeColorDimmingOverlay:function(e){let t=this.findThemeColorDimmingOverlay(e);t&&(t.abortRemoval=!1,setTimeout(()=>{t?.abortRemoval||(this.themeColorDimmingOverlays=this.themeColorDimmingOverlays.filter(n=>n.dimmingOverlayId!==e),this.setActualThemeColor(),this.themeColorDimmingOverlays.length!==0||(this.underlyingThemeColor=null,this.themeColorMetaTag=null))},20))}};var Ze=Zde;let ZD=e=>{let t=h.useRef(null);return wn(()=>{t.current=e}),h.useCallback((...n)=>{let r=t.current;return r(...n)},[])},P6=e=>e==="layout"?wn:h.useEffect,xC=e=>{var t=e?.lastIndexOf(":");return t===-1?"":e?.substring(t+1)},Jde=e=>{let t=[],n=[],r=(s,o,{partOfInitial:i})=>{Array.isArray(s)?s.forEach(a=>r(a,o,{partOfInitial:i})):(o+=(o?".":"")+s.name,i&&n.push(o+":"+s.initial),Object.entries(s.states).forEach(([a,l])=>{let c=o+":"+a;l.machine=o,l.path=c,l.reactive=!s.silentOnly,t.push(l),l.machines&&r(l.machines,c,{partOfInitial:i&&s.initial===a})}))};return r(e,"",{partOfInitial:!0}),[n,t]},nT=(e,t)=>e.includes(":")?e:t.substring(0,t.lastIndexOf(":")+1)+e,rT=e=>{let t=e.split("."),n=[];return t.forEach((r,s)=>{let o=n[s-1],i=(o?o.full+".":"")+r,a=i.substring(0,i.lastIndexOf(":")),l=i.substring(i.lastIndexOf(":")+1);n.push({full:i,withoutState:a,state:l})}),n},Xde=({checkedPoolOfStates:e,referencePoolOfStates:t,callbackOnExclusion:n,callbackOnPresent:r})=>e.filter(o=>{let i=!0;return o.forEach(a=>{t.forEach(l=>{l.forEach(c=>{a.withoutState===c.withoutState&&(a.state!==c.state?(i=!1,n?.({decomposedCheckedState:o,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c})):r({decomposedCheckedState:o,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c}))})})}),i}),Qde=e=>{let[t,n]=Jde(e);return[t,(r,s)=>{let o,i=typeof s=="string"?s:s.type,a=[];n.forEach(C=>{r.includes(C.path)&&(!s.machine||s.machine===C.machine)&&C.messages&&Object.entries(C.messages).forEach(([S,E])=>{if(S===i){if(typeof E=="string")o=S,a.push(nT(E,C.path));else for(let x of E)if(!x.guard||x.guard(r,s)){o=S,a.push(nT(x.target,C.path));break}}})});let l=r.map(C=>rT(C)),c=a.map(C=>rT(C)),u=[],d=Xde({checkedPoolOfStates:l,referencePoolOfStates:c,callbackOnExclusion:({decomposedCheckedState:C})=>{u.push(C[C.length-1].full)},callbackOnPresent:({referenceStatePiece:C})=>{C.unchanged=!0}}),f=d.map(C=>C[C.length-1].full),p=[],g=[];c.forEach(C=>{C.forEach((S,E)=>{if(!S.unchanged){var x,T;E<C.length-1&&p.push(S.full);let k=n.find(O=>O.path===S.full);(x=k.machines)===null||x===void 0||(T=x.forEach)===null||T===void 0||T.call(x,O=>{let A=()=>{c.find(I=>I.find(N=>N.withoutState===`${k.path}.${O.name}`))||g.push(`${k.path}.${O.name}:${O.initial}`)};E<C.length-1?k.path+O.name!==C[E+1].withoutState&&A():A();let M=I=>{var N,q;(N=n.find(D=>D.path===I).machines)===null||N===void 0||(q=N.forEach)===null||q===void 0||q.call(N,D=>{c.find(R=>R.find(B=>B.withoutState===`${k.path}.${D.name}`))||g.push(`${I}.${D.name}:${D.initial}`),M(`${I}.${D.name}:${D.initial}`)})};M(`${k.path}.${O.name}:${O.initial}`)})}})});let v=[...a,...p,...g],_=[...f,...v],y=[...u,...v],b=n.filter(C=>y.includes(C.path)),w=b.some(C=>C.reactive);return{exitedStates:u,transitionTaken:o,enteredStates:v,nextStates:_,reactive:w}}]},Kp=(e,t)=>e?.toStrings().filter(n=>n?.startsWith(t)).filter(n=>{var r;return!(!((r=n?.slice(t.length))===null||r===void 0)&&r.includes("."))})[0],sT=e=>{let[t,n]=h.useMemo(()=>Qde(e),[e]),r=h.useRef(),s=h.useRef([]),o=h.useRef([]),i=h.useRef([]),a=h.useRef([]),l=h.useRef(t),c=h.useRef({toStrings:()=>t,matches:g=>ml(t,g),lastMessageTreatedRef:r,exitActionsRef:s,transitionActionsRef:o,entryActionsRef:i,selectorsRef:a}),[u,d]=h.useState({...c.current,silent:c.current}),f=h.useRef([]),p=h.useCallback(g=>{f.current.push(g);let v=_=>{let{nextStates:y,exitedStates:b,transitionTaken:w,enteredStates:C,reactive:S}=n(l.current,f.current[0]),E=l.current;if(l.current=y,s.current.forEach(x=>{b.includes(x.state)&&(typeof x.guard=="function"?x.guard(E,f.current[0]):x.guard)&&x.callback(f.current[0],x.params)}),o.current.forEach(x=>{b.includes(x.state)&&x.transition===w&&(typeof x.guard=="function"?x.guard(E,f.current[0]):x.guard)&&x.callback(f.current[0],x.params)}),i.current.forEach(x=>{C.includes(x.state)&&(typeof x.guard=="function"?x.guard(E,f.current[0]):x.guard)&&x.callback(f.current[0],x.params)}),r.current=typeof f.current[0]=="string"?{type:f.current[0]}:f.current[0],f.current.shift(),f.current.length)v(S||_);else{let x=y.slice();c.current.toStrings=()=>x,c.current.matches=T=>ml(x,T),c.current.getValues=()=>[xC(x.toStrings)],a.current.forEach(T=>{let k=T.current.selection;T.current.toStrings=()=>[Kp(c.current,k)],T.current.matches=O=>ml([Kp(c.current,k)],O),T.current.getValues=()=>[xC(Kp(c.current,k))]}),(_||S)&&d({...c.current,silent:c.current})}};f.current.length===1&&v()},[n]);return[u,p]},efe=(e,t,n,{message:r="",delay:s=null,...o}={delay:null})=>{h.useEffect(()=>{let i;return t.matches(n)&&(i=setTimeout(()=>e({type:"",...o}),s??0)),()=>{i&&clearTimeout(i)}},[t,n,s,e,r,o])},Rs=(e,t,{shallow:n=!0}={})=>{let r=h.useMemo(()=>Kp(e,t),[e,t]),s=h.useRef({lastMessageTreatedRef:e?.lastMessageTreatedRef,exitActionsRef:e?.exitActionsRef,transitionActionsRef:e?.transitionActionsRef,entryActionsRef:e?.entryActionsRef,toStrings:()=>[r],matches:i=>ml([r],i),selection:t,getValues:()=>[xC(r)]}),o=h.useRef(Symbol());return wn(()=>{e.selectorsRef.current.find(a=>a.id===o.current)||e.selectorsRef.current.push(s)},[]),h.useMemo(()=>({...s.current,silent:s.current}),[r])},ml=(e,t)=>Array.isArray(t)?t.some(n=>e.includes(n))||e.some(n=>t.some(r=>n?.startsWith(r)&&n?.charAt(r.length)===".")):e.includes(t)||e.some(n=>n?.startsWith(t)&&n?.charAt(t.length)==="."),je=(e,t,n)=>{let{state:r,callback:s,params:o,empty:i=!1}=n,a=!n.hasOwnProperty("guard")||n.guard,l=h.useMemo(()=>o?Object.values(o):[],[o]),c=h.useMemo(()=>t.entryActionsRef,[t]),u=P6(e==="before-paint"?"layout":"normal"),d=ZD(p=>{(p?.matches&&p?.matches(r)||!p?.matches&&ml(p,r))&&(typeof a=="function"&&a()||typeof a!="function"&&a)&&s(p.lastMessageTreatedRef.current,o)}),f=h.useRef(Symbol());u(()=>{if(!i)if(e==="immediate"){let p={id:f.current,state:r,guard:a,callback:s,params:o},g=c.current.findIndex(v=>v.id===f.current);g===-1?c.current.push(p):c.current[g]=p}else d(t)},e==="immediate"?[e,r,a,s,c,...l]:[e,d,t]),h.useEffect(()=>()=>{c.current=c.current.filter(p=>p.id!==f.current)},[])},mt=(e,t)=>{let{state:n,transition:r,callback:s,params:o}=t,i=!t.hasOwnProperty("guard")||t.guard,a=h.useMemo(()=>o?Object.values(o):[],[o]),l=h.useMemo(()=>e.transitionActionsRef,[e]),c=h.useRef(Symbol());h.useEffect(()=>{let u={id:c.current,state:n,transition:r,guard:i,callback:s,params:o},d=l.current.findIndex(f=>f.id===c.current);d===-1?l.current.push(u):l.current[d]=u},[n,r,i,s,l,...a]),h.useEffect(()=>()=>{l.current=l.current.filter(u=>u.id!==c.current)},[])},Ii=(e,t,n)=>{let{state:r,callback:s,params:o}=n,i=!n.hasOwnProperty("guard")||n.guard,a=h.useMemo(()=>o?Object.values(o):[],[o]),l=h.useMemo(()=>t.exitActionsRef,[t]),c=P6("normal");ZD(d=>{(d?.matches&&d?.matches(r)||!d?.matches&&ml(d,r))&&(typeof i=="function"&&i()||typeof i!="function"&&i)&&s(d.lastMessageTreatedRef.current,o)});let u=h.useRef(Symbol());c(()=>{{let d={id:u.current,state:r,guard:i,callback:s,params:o},f=l.current.findIndex(p=>p.id===u.current);f===-1?l.current.push(d):l.current[f]=d}return()=>{}},[e,r,i,s,l,...a]),h.useEffect(()=>()=>{l.current=l.current.filter(d=>d.id!==u.current)},[])},Er=(e,t,n)=>{let{state:r,callback:s,params:o,name:i}=n,a=!n.hasOwnProperty("guard")||n.guard,l=o?Object.values(o):[],c=typeof e=="string"?e:e.start,u=typeof e=="string"?e:e.update,d=h.useRef(null);je("immediate",t,{state:r,guard:a,callback:h.useCallback(()=>{d.current=s(null,o)},[s,o]),params:o,empty:c!=="immediate"});let f=P6(u==="before-paint"?"layout":"normal"),p=h.useRef(!1);f(()=>{let g,v=t?.matches&&t?.matches(r)||!t?.matches&&ml(t,r)||r==="",_=typeof a=="function"&&a()||typeof a!="function"&&a;return v&&_&&(g=c==="immediate"?p.current?s(null,o):d.current:s(null,o)),v&&!p.current&&(p.current=!0),()=>{var y;((y=t.silent)===null||y===void 0?void 0:y.matches(r))||(p.current=!1,d.current=null),g?.()}},[r!==""?t:null,r,a,s,...l])},tfe=e=>{let t=h.useRef({value:e}),[n,r]=h.useState({value:e,silent:t.current}),s=h.useCallback(o=>{let i=typeof o=="function"?o(t.current.value):o;t.current.value=i,r({value:i,silent:t.current})},[]);return[n,s]};function JD(...e){return t=>e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}function Lr(...e){return h.useCallback(JD(...e),e)}var nfe=(e,t)=>{let n=()=>{t?.()},r=o=>{o.preventDefault(),window.addEventListener("touchend",n,{once:!0})},s=e.current;return s.addEventListener("touchstart",r,{passive:!1}),()=>{s&&(s.removeEventListener("touchstart",r,{passive:!1}),window.removeEventListener("touchend",n))}};let o2=!1,oT=0;function Il(e){var t;if(h.useId!==void 0)return h.useId();let[n,r]=h.useState(o2?++oT:null);return wn(()=>{n===null&&r(++oT)},[]),h.useEffect(()=>{o2===!1&&(o2=!0)},[]),(t=n)!==null&&t!==void 0?t:void 0}let Gn=h.forwardRef((e,t)=>{let{children:n,...r}=e,s=h.Children.toArray(n),o=s.find(sfe);if(o){let i=o.props.children,a=s.map(l=>l!==o?l:h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null);return m.jsx(TC,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return m.jsx(TC,{...r,ref:t,children:n})});Gn.displayName="Slot.Root";let TC=h.forwardRef((e,t)=>{let{children:n,...r}=e,s=function(o){var i,a;let l=(i=Object.getOwnPropertyDescriptor(o.props,"ref"))===null||i===void 0?void 0:i.get,c=l&&"isReactWarning"in l&&l.isReactWarning;return c?o.ref:(c=(l=(a=Object.getOwnPropertyDescriptor(o,"ref"))===null||a===void 0?void 0:a.get)&&"isReactWarning"in l&&l.isReactWarning)?o.props.ref:o.props.ref||o.ref}(n);return h.isValidElement(n)?h.cloneElement(n,{...function(o,i){let a={...i};for(let l in i){let c=o[l],u=i[l];/^on[A-Z]/.test(l)?c&&u?a[l]=(...f)=>{u(...f),c(...f)}:c&&(a[l]=c):l==="style"?a[l]={...c,...u}:l==="className"&&(a[l]=[c,u].filter(Boolean).join(" "))}return{...o,...a}}(r,n.props),ref:t?JD(t,s):s}):h.Children.count(n)>1?h.Children.only(null):null});TC.displayName="Slot.Anonymous";let rfe=({children:e})=>m.jsx(m.Fragment,{children:e});function sfe(e){return h.isValidElement(e)&&e.type===rfe}let tp=0,XD=[0,0],kC=!1,iT=()=>{clearTimeout(Kx),kC=!0,Kx=setTimeout(()=>kC=!1,50)},aT=()=>{kC||window.scrollTo(...XD)},QD=Ee.forwardRef((e,t)=>{let{asChild:n,active:r=!0,automaticallyDisabledForOptimisation:s=!0,axis:o="both",preventBodyScroll:i,children:a,"data-silk":l,className:c,...u}=e,d=l?.includes("0ae"),f=h.useRef(null),p=Lr(f,t);wn(()=>{if(XD=[window.screenX,window.scrollY],r&&i)if(tp===0){let y=window.innerWidth,b=document.documentElement.clientWidth,w=window.innerHeight,C=document.documentElement.clientHeight;document.body.style.setProperty("overflow","hidden");let S=`${y-b}px`,E=`${w-C}px`;document.querySelectorAll("[data-silk~='0al']").forEach(T=>{T.style.setProperty("--x-collapsed-scrollbar-thickness",S),T.style.setProperty("--y-collapsed-scrollbar-thickness",E)}),document.body.style.setProperty("padding-right",S),document.body.style.setProperty("padding-bottom",E),window.addEventListener("resize",iT),window.addEventListener("scroll",aT,{passive:!1}),tp++}else tp++;return()=>{if(r&&i&&--tp==0){let y=document.querySelectorAll("[data-silk~='0al']");document.body.style.removeProperty("overflow"),y.forEach(b=>{b.style.removeProperty("--x-collapsed-scrollbar-thickness"),b.style.removeProperty("--y-collapsed-scrollbar-thickness")}),document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-bottom"),window.removeEventListener("scroll",aT),window.removeEventListener("resize",iT)}}},[i,r]),h.useEffect(()=>{let y,b=f.current;return!d&&r&&b&&(y=new ResizeObserver(w=>{w.forEach(()=>{b.scrollTo(300,300)})})).observe(b,{box:"border-box"}),()=>{!d&&r&&b&&y&&(y.unobserve(b),y.disconnect())}},[r,d]);let g=h.useCallback(y=>{let b=y.currentTarget;b.scrollTo(300,300),on!=="ios"&&on!=="ipados"||CSS.supports("overscroll-behavior: contain")||(b.style.setProperty("overflow","hidden"),setTimeout(()=>{b.style.setProperty("overflow","auto")},10))},[]),v=n?Gn:"div",_=qn("ScrollTrap",{active:r,automaticallyDisabledForOptimisation:s,axis:o});return m.jsx(v,{..._("root",["active","automaticallyDisabledForOptimisation","axis"],{className:c,dataSilk:[l,"0ac","0ae"]}),onScroll:d?void 0:g,...u,ref:p,children:a})});QD.displayName="Sheet.Anonymous";let eL=Ee.forwardRef((e,t)=>{let{asChild:n,className:r,dataSilk:s,children:o,...i}=e,a=n?Gn:"div",l=qn("ScrollTrap",{});return m.jsx(a,{...l("stabiliser",[],{className:r,dataSilk:[s]}),...i,ref:t,children:o})});eL.displayName="Sheet.DDD";let ri={Root:QD,Stabiliser:eL},tL=()=>{let e=Il();return h.useCallback(n=>{n?Ze.addFixedComponent({id:e,element:n}):Ze.removeFixedComponent(e)},[e])},ofe=Ee.forwardRef((e,t)=>{let{asChild:n,children:r,className:s,"data-silk":o,...i}=e,a=tL(),l=Lr(a,t),c=qn("Fixed",{});return m.jsx(ri.Root,{...c("root",[],{className:s,dataSilk:[o,"0al"]}),asChild:n,...i,ref:l,children:r})});ofe.displayName="Fixed.Root";let ife=Ee.forwardRef((e,t)=>{let{asChild:n,children:r,...s}=e;return m.jsx(ri.Stabiliser,{asChild:n,...s,ref:t,children:r})});ife.displayName="Fixed.Content";let pa=Ee.createContext(null);pa.displayName="Sheet.GenericContext";let Js=Ee.createContext(null);Js.displayName="Sheet.Anonymous";var afe=function(e){let t="cubic-bezier(";if(!e.startsWith(t))return null;let n=e.slice(t.length,-1),r=n.split(",").map(s=>parseFloat(s.trim()));return r.length!==4||r.some(isNaN)?null:r},lfe=({mass:e,stiffness:t,damping:n,initialVelocity:r=0,fromPosition:s,toPosition:o,precision:i})=>{let a=[],l=0,c=Math.abs(o-s),u=0,d=r,f=!1,p=!1,g=-(1e-6*t),v=-(.001*n),_=i/22,y=10*i;for(;!(f&&p);){let w=g*(u-c),C=v*d,S=(w+C)/e;d+=S,u+=d,f=Math.abs(d)<=_,p=Math.abs(c-u)<=y;let E=u/c;a.push(E),l++}return{progressValuesArray:a,duration:l}};let Yp=()=>CSS.supports("transition-timing-function","linear(0, 1)")&&!Wi(),cfe=({origin:e=0,destination:t=1,animationConfig:n})=>{var r,s,o,i,a,l,c,u,d;let f=[],p;if(n&&n.easing&&n.easing!=="spring")if(n.easing==="linear"){p=(l=n.duration)!==null&&l!==void 0?l:250;let g=p,v=1/(g-1);for(let _=0;_<g;_++){let y=_*v;f.push(isNaN(y)?0:y)}}else{let g;p=(c=n.duration)!==null&&c!==void 0?c:250;let v=p;g=n.easing==="ease"?[.25,.1,.25,1]:n.easing==="ease-in"?[.42,0,1,1]:n.easing==="ease-out"?[0,0,.58,1]:n.easing==="ease-in-out"?[.42,0,.58,1]:n.easing.startsWith("cubic-bezier")&&(u=afe(n.easing))!==null&&u!==void 0?u:[.25,.1,.25,1];let _=Ede(...g);for(let y=0;y<=v;y++)f.push(_(y/v))}else{let g=lfe({stiffness:(r=n?.stiffness)!==null&&r!==void 0?r:300,damping:(s=n?.damping)!==null&&s!==void 0?s:34,mass:(o=n?.mass)!==null&&o!==void 0?o:1,initialVelocity:(i=n?.initialVelocity)!==null&&i!==void 0?i:0,precision:(a=n?.precision)!==null&&a!==void 0?a:.1,fromPosition:e,toPosition:t});f=g.progressValuesArray,p=g.duration}return{progressValuesArray:f,easing:"linear",duration:p,delay:(d=n?.delay)!==null&&d!==void 0?d:0}},i2=(e,t)=>{let n={};return e.forEach(([r,s])=>{let o=Bc(t);n[r]=s({progress:t,tween:o})}),n},lT=({type:e,progressValuesArray:t,target:n,templatesPerProperty:r,reversedStackingIndex:s,selfAndAboveTravelProgressSum:o})=>{let i=s!=null,a=l=>e==="travel"?l:i&&o?o?.[s]+l:0;return{target:n,keyframes:Yp()?[i2(r,a(t[0])),i2(r,a(t[t.length-1]))]:t.map(l=>i2(r,a(l)))}},ufe=({sheetId:e,destinationDetent:t,setSegment:n,viewElement:r,scrollContainer:s,travellingElement:o,contentPlacement:i,positionToScrollTo:a,scrollAxis:l,animationConfig:c,onTravel:u,onTravelStart:d,onTravelEnd:f,runOnTravelStart:p,rAFLoopEndCallback:g,dimensions:v,trackToTravelOn:_})=>{let y,b,w=Ze.findSheet(e);if(!w)return;let C=[],S=[];C=w.travelAnimations,w.belowSheetsInStack.forEach(W=>{S.push(...W.stackingAnimations.map(de=>({...de,reversedStackingIndex:w.belowSheetsInStack.length-1,selfAndAboveTravelProgressSum:W.selfAndAboveTravelProgressSum})))}),p&&d?.();let E=!(c.hasOwnProperty("contentMove")&&!c.contentMove),x=v.current.view.travelAxis.unitless,T=v.current.content.travelAxis.unitless,k=r.getBoundingClientRect(),O=o.getBoundingClientRect(),A=i!=="center"?T:T+(x-T)/2,M=O.top-k.top,I=O.left-k.left,N=0;switch(_){case"top":N=M+A;break;case"bottom":N=M-A;break;case"left":N=I+A;break;case"right":N=I-A}let q=Math.max(Math.abs(N)/A,0),P=v.current.progressValueAtDetents[t].exact,D=P*A,R=_==="left"||_==="top"?D:-D,{progressValuesArray:B,easing:Y,duration:Me,delay:Fe}=cfe({origin:N,destination:R,animationConfig:c}),pe=P-q,ge=function(W,de){let ze=[];for(let re=0;re<W.length-1;re+=de)ze.push(W[re]);return W.length%de!=0&&ze.push(W[W.length-1]),ze}(B,8),Se=ge.map(W=>q+pe*W),se=[];C.length&&se?.push(...C.map(W=>lT({type:"travel",progressValuesArray:Se,target:W.target,templatesPerProperty:W.config}))),S.length&&se?.push(...S.map(W=>lT({type:"stacking",progressValuesArray:Se,target:W.target,templatesPerProperty:W.config,reversedStackingIndex:W.reversedStackingIndex,selfAndAboveTravelProgressSum:W.selfAndAboveTravelProgressSum}))),y=l==="x"?"X":"Y";let K=W=>({transform:"translate"+y+"("+(N-R)*(1-W)+"px)"});b=Yp()?[K(ge[0]),K(ge[ge.length-1])]:ge.map(W=>({transform:"translate"+y+"("+(N-R)*(1-W)+"px)"}));let G=()=>{s.scrollTo({left:l==="x"?a:0,top:l==="y"?a:0})},ue=W=>{let de;if(!E)return W();de=Yp()?o.animate(b,{easing:"linear("+ge.join(",")+")",duration:Me,delay:Fe}):o.animate(b,{easing:Y,duration:Me,delay:Fe});let ze=()=>{W(),de.removeEventListener("finish",ze)};de.addEventListener("finish",ze)},oe=W=>{if(!se.length)return W();let de=[],ze=Yp();se?.forEach(({target:re,keyframes:H})=>{let j;j=ze?re.animate(H,{easing:"linear("+ge.join(",")+")",duration:Me,delay:Fe}):re.animate(H,{easing:Y,duration:Me,delay:Fe});let xe=new Promise(ye=>{let yt=()=>{Object.entries(H[H.length-1]).forEach(([Ye,lt])=>{re.style.setProperty((Ye.startsWith("webkit")||Ye.startsWith("moz")?"-":"")+Ye.replace(/[A-Z]/g,"-$&").toLowerCase(),lt)}),j.removeEventListener("finish",yt),ye()};j.addEventListener("finish",yt)});de.push(xe)}),Promise.all(de).then(()=>{W()})},_e=null,st=W=>{(function de(ze,re,H){let j=v.current.progressValueAtDetents,xe=j.length;_e||(_e=ze);let ye=ze-_e,yt=Math.floor(ye);if(yt<B.length){let Ye=q+pe*B[yt];if(Ye<0)re(Ye,[0,0]);else if(Ye>1)re(Ye,[1,1]);else for(let lt=0;lt<xe;lt++){let Ne=j[lt],bt=Ne.after;Ye>bt&&lt+1<xe&&Ye<j[lt+1].before?re(Ye,[lt,lt+1]):Ye>Ne.before&&Ye<bt&&re(Ye,[lt,lt])}requestAnimationFrame(()=>de(document.timeline.currentTime,re,H))}else{let Ye=Math.min(xe-1,t);re(P,[Ye,Ye]),E||se?.length||g==null||g(),H()}})(document.timeline.currentTime,(de,ze)=>{u?.({progress:de,range:{start:ze[0],end:ze[1]},progressAtDetents:v.current.exactProgressValueAtDetents}),n(ze)},W)},ee=W=>new Promise(de=>{W(()=>de())}),Ie=()=>{f?.()},X=async()=>{await Promise.all([ee(ue),ee(oe),ee(st)]),Ie()};requestAnimationFrame(()=>{requestAnimationFrame(()=>{G(),X()})})},dfe=({desiredDestinationDetent:e,currentDetent:t})=>typeof e=="number"?e:t,ffe=({trackToTravelOn:e,destinationDetent:t,detentCountExcludingZero:n,actualSwipeOutDisabledWithDetent:r,hasOppositeTracks:s,contentPlacement:o,elementsDimensions:i,snapBackAcceleratorTravelAxisSize:a})=>{var l;if(((l=i.detentMarkers)===null||l===void 0?void 0:l.length)<=t-1)return{positionToScrollTo:null,scrollAxis:null};let c=t===0,u=t===1,d=t===n,f=e==="right"||e==="bottom",p=i.view.travelAxis.unitless,g=i.content.travelAxis.unitless,v=i.snapOutAccelerator.travelAxis.unitless,_=i.detentMarkers,y=c?0:_[t-1].accumulatedOffsets.travelAxis.unitless,b=0;if(s)d?b=p-(p-g)/2+i.snapOutAccelerator.travelAxis.unitless:c&&(b=f?0:1e4);else if(f)d?b=1e4:r&&u||c?b=0:d||r&&u||c||(b=r?_[t-1].accumulatedOffsets.travelAxis.unitless-_[0].travelAxis.unitless:y+v);else if(e==="left"||e==="top"){let w;w=r&&u?2*a:d?0:a,b=o==="center"?t===0?g+(p-g)/2-y+w:0:g-y+w}return{positionToScrollTo:b,scrollAxis:e==="left"||e==="right"||e==="horizontal"?"x":"y"}};var hfe=({destinationDetent:e,behavior:t="instant",runTravelCallbacksAndAnimations:n=!0,runOnTravelStart:r,animationConfig:s,rAFLoopEndCallback:o,trackToTravelOn:i,contentPlacement:a,onTravel:l,onTravelStart:c,onTravelEnd:u,fullTravelCallback:d,setProgrammaticScrollOngoing:f,currentDetent:p,segment:g,setSegment:v,lastProgressValue:_,dimensions:y,viewRef:b,scrollContainerRef:w,contentWrapperRef:C,sheetId:S,stackId:E,actualSwipeOutDisabledWithDetent:x,hasOppositeTracks:T,snapBackAcceleratorTravelAxisSize:k})=>{if(e===void 0&&p===null)return;let O=y.current,A=w.current;if(A&&O.content){let M=dfe({desiredDestinationDetent:e,currentDetent:p}),I=y.current.detentMarkers.length,{positionToScrollTo:N,scrollAxis:q}=ffe({destinationDetent:M,detentCountExcludingZero:I,trackToTravelOn:i,actualSwipeOutDisabledWithDetent:x,hasOppositeTracks:T,contentPlacement:a,snapBackAcceleratorTravelAxisSize:k,elementsDimensions:O});if(N!==null&&q!==null){if(f(!0),t==="smooth")ufe({sheetId:S,destinationDetent:M,setSegment:v,viewElement:b.current,scrollContainer:A,travellingElement:C.current,positionToScrollTo:N,contentPlacement:a,scrollAxis:q,animationConfig:s,onTravel:l,onTravelStart:c,onTravelEnd:u,runOnTravelStart:r,rAFLoopEndCallback:o,dimensions:y,trackToTravelOn:i});else if(n&&r&&c?.(),q==="x"?(A.scrollTo(N,0),A.scrollLeft=N):(A.scrollTo(0,N),A.scrollTop=N),v([M,M]),n){let P=y.current.progressValueAtDetents[M].exact;d?.(P,g),u?.()}}}};let ad=e=>{let t=h.useRef(null);return wn(()=>{t.current=e}),h.useCallback((...n)=>{let r=t.current;return r(...n)},[])},pfe=e=>{let t,n=()=>{e(),t=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(t)}},mfe=(()=>{let e=!0;typeof window>"u"||CSS.supports("scroll-snap-align: start")||(e=!1);let t=!0;return typeof window>"u"||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(t=!1),e&&t})(),Gm={gentle:{stiffness:560,damping:68,mass:1.85},smooth:{stiffness:580,damping:60,mass:1.35},snappy:{stiffness:350,damping:34,mass:.9},brisk:{stiffness:350,damping:28,mass:.65},bouncy:{stiffness:240,damping:19,mass:.7},elastic:{stiffness:260,damping:20,mass:1}},a2=(e,t)=>{var n;let r=typeof e=="string",s=r?Gm[e]:(n=Gm[e?.preset])!==null&&n!==void 0?n:null,o=s||e?.easing==="spring"||["ease","ease-in","ease-out","ease-in-out","linear"].includes(e?.easing);return{skip:N6,easing:"spring",...r?{}:e,...s??{},...o?{}:t}},gfe=(e,t)=>e.includes("skipOpening:true")||t.skipOpening,cT=(e,t)=>!e.includes("skipOpening:true")&&!t.skipOpening,vfe=(e,t)=>e.includes("skipClosing:true")||t.skipClosing,_fe=(e,t)=>!e.includes("skipClosing:true")&&!t.skipClosing,uT=e=>e.includes("openness:closed.status:safe-to-unmount"),yfe=()=>{let e="false",[t,n]=sT(h.useMemo(()=>[{name:"staging",initial:"none",states:{none:{messages:{OPEN:[{guard:(g,v)=>uT(g)&&cT(g,v),target:"opening"},{guard:uT,target:"open"}],OPEN_PREPARED:[{guard:cT,target:"opening"},{target:"open"}],ACTUALLY_CLOSE:[{guard:_fe,target:"closing"}],ACTUALLY_STEP:"stepping",GO_DOWN:[{guard:(g,v)=>!v.skipOpening,target:"going-down"},{target:"go-down"}],GO_UP:"going-up"}},open:{messages:{NEXT:"none"}},opening:{messages:{NEXT:"none"}},stepping:{messages:{NEXT:"none"}},closing:{messages:{NEXT:"none"}},"go-down":{messages:{NEXT:"none"}},"going-down":{messages:{NEXT:"none"}},"going-up":{messages:{NEXT:"none"}}}},{name:"longRunning",initial:e,states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"openness",initial:"closed",states:{closed:{messages:{READY_TO_OPEN:[{guard:(g,v)=>!v.skipOpening,target:"opening"},{target:"open"}]},machines:{name:"status",initial:"safe-to-unmount",states:{pending:{messages:{OPEN:[{guard:gfe,target:"openness:closed.status:flushing-to-preparing-open"},{target:"openness:closed.status:flushing-to-preparing-opening"}],"":"safe-to-unmount"}},"flushing-to-preparing-open":{messages:{"":"preparing-open"}},"flushing-to-preparing-opening":{messages:{"":"preparing-opening"}},"preparing-open":{},"preparing-opening":{},"safe-to-unmount":{}}}},opening:{messages:{NEXT:"open"}},open:{messages:{ACTUALLY_CLOSE:[{guard:vfe,target:"openness:closed.status:pending"}],SWIPED_OUT:"openness:closed.status:pending",READY_TO_CLOSE:[{guard:(g,v)=>!v.skipClosing,target:"closing"}]},machines:[{name:"scroll",initial:"ended",states:{ended:{messages:{SCROLL_START:"ongoing"},machines:[{name:"afterPaintEffectsRun",initial:"false",states:{false:{messages:{OCCURRED:"true"}},true:{}}}]},ongoing:{messages:{SCROLL_END:"ended"}}}},{name:"move",initial:"ended",states:{ended:{messages:{MOVE_START:"ongoing"}},ongoing:{messages:{MOVE_END:"ended"}}}},{name:"swipe",silentOnly:!0,initial:"unstarted",states:{unstarted:{messages:{SWIPE_START:"ongoing"}},ongoing:{messages:{SWIPE_END:"ended"}},ended:{messages:{SWIPE_START:"ongoing",SWIPE_RESET:"unstarted"}}}},{name:"evaluateCloseMessage",silentOnly:!0,initial:"false",states:{false:{messages:{CLOSE:"true"}},true:{messages:{CLOSE:"false"}}}},{name:"evaluateStepMessage",silentOnly:!0,initial:"false",states:{false:{messages:{STEP:"true"}},true:{messages:{STEP:"false"}}}}]},closing:{messages:{NEXT:"openness:closed.status:pending"}}}},{name:"skipOpening",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"skipClosing",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"scrollContainerTouch",silentOnly:!0,initial:"ended",states:{ended:{messages:{TOUCH_START:"ongoing"}},ongoing:{messages:{TOUCH_END:"ended"}}}},{name:"backStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}},{name:"frontStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}}],[e])),[r,s]=sT(h.useMemo(()=>[{name:"active",initial:"false",states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"position",initial:"out",states:{out:{messages:{READY_TO_GO_FRONT:[{guard:(g,v)=>v.skipOpening,target:"position:front.status:idle"},{target:"position:front.status:opening"}]}},front:{machines:[{name:"status",initial:"opening",states:{opening:{messages:{NEXT:"idle"}},closing:{messages:{NEXT:"position:out"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(g,v)=>v.skipOpening,target:"position:covered.status:idle"},{target:"position:covered.status:going-down"}],READY_TO_GO_OUT:"closing",GO_OUT:"position:out"}}}}]},covered:{machines:[{name:"status",initial:"going-down",states:{"going-down":{messages:{NEXT:"idle"}},"going-up":{messages:{NEXT:"indeterminate"}},indeterminate:{messages:{GOTO_idle:"idle",GOTO_front:"position:front.status:idle"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(g,v)=>v.skipOpening,target:"come-back"},{target:"going-down"}],READY_TO_GO_UP:"going-up",GO_UP:"indeterminate"}},"come-back":{messages:{"":"idle"}}}}]}}}],[])),o=h.useMemo(()=>r.matches("position:out")?"out":r.matches("position:front")?"front":r.matches("position:covered")?"covered":void 0,[r]),i=h.useMemo(()=>r.matches("position:covered.status:idle")?"idle":r.matches("position:covered.status:going-down")?"going-down":r.matches("position:covered.status:going-up")?"going-up":null,[r]),a=Rs(t,"staging"),l=h.useMemo(()=>a.getValues()[0],[a]),[c,u]=tfe(-1),d=Il(),f=Il();return h.useMemo(()=>({titleId:d,descriptionId:f,staging:l,opennessState:t,sendToOpennessMachine:n,positionState:r,sendToPositionMachine:s,layerPosition:o,layerCovered:i,stackingIndex:c,assignStackingIndex:u}),[d,f,l,t,n,r,s,o,i,c,u])},nL=Ee.forwardRef((e,t)=>{let n,{forComponent:r,as:s,children:o,className:i,"data-silk":a,initialState:l,onPresentAutoFocus:c,onDismissAutoFocus:u,onTravelStatusChange:d,onTravelRangeChange:f,swipeDismissal:p=!0,swipe:g=!0,snapOutAcceleration:v="auto",snapToEndDetentsAcceleration:_="auto",onTravel:y,onTravelStart:b,onTravelEnd:w,detents:C,inertOutside:S=!0,nativeEdgeSwipePrevention:E=!1,onSwipeFromEdgeToGoBackAttempt:x,onClickOutside:T,onEscapeKeyDown:k,onFocusInside:O,nativeFocusScrollPrevention:A=!0,contentPlacement:M=null,tracks:I,swipeOvershoot:N=!0,swipeTrap:q,enteringAnimationSettings:P,exitingAnimationSettings:D,steppingAnimationSettings:R,id:B,...Y}=e,Me=r??pa,Fe=h.useContext(Me)||{},{license:pe,StackContext:ge,CustomSheetContext:Se,sheetRole:se,open:K,onOpenChange:G,elementFocusedLastBeforeShowing:ue,onSafeToUnmountChange:oe,setLongRunning:_e,setStaging:st,defaultActiveDetent:ee,activeDetent:Ie,onActiveDetentChange:X,sheetId:W}=Fe,{titleId:de,descriptionId:ze,staging:re,opennessState:H,sendToOpennessMachine:j,positionState:xe,sendToPositionMachine:ye,layerCovered:yt,stackingIndex:Ye,assignStackingIndex:lt}=yfe(),Ne=Rs(H,"staging"),{stackId:bt,setSheetsCount:gt,updateSheetStagingDataInStack:Ft,removeSheetStagingDataInStack:$t,updateSheetDataInStack:Vt,removeSheetDataFromStack:pt,getPreviousSheetDataInStack:jt}=ge?h.useContext(ge):{},{ancestorPrimarySwipeTrapActiveOnYAxis:bn}=h.useContext(Js)||{},Yt=tL(),Nt=h.useRef(null),hn=Lr(Nt,Yt,t),Tn=h.useRef(null),kn=h.useRef(null),Pt=h.useRef(null),ws=h.useRef(null),un=h.useRef(null),bi=h.useRef(null),Hu=h.useRef(null),Zl=h.useRef([]),jr=h.useMemo(()=>C?typeof C=="string"?[C,"var(--silk-aF)"]:[...C,"var(--silk-aF)"]:["var(--silk-aF)"],[C]),Ci=h.useRef(null);h.useEffect(()=>{Ci.current===null&&Number.isInteger(Ie)&&Ie>0&&(Ci.current=Ie)},[]);let Pn=h.useMemo(()=>Number.isInteger(ee)?ee:Number.isInteger(Ie)&&Ie>0?Ie:Ci.current?Ci.current:1,[Ie,ee]),{actualTrack:Be,actualPlacement:tn}=h.useMemo(()=>{let L={actualPlacement:null,actualTrack:null};return M&&!I?(L.actualPlacement=M,M!=="center"?L.actualTrack=M:L.actualTrack="bottom"):I&&!M?Array.isArray(I)?(L.actualPlacement="center",L.actualTrack=I.includes("left")?"horizontal":"vertical"):(L.actualPlacement=I,L.actualTrack=I):I||M?I&&M&&(L.actualPlacement=M,Array.isArray(I)?L.actualTrack=I.includes("left")?"horizontal":"vertical":L.actualTrack=I):(L.actualPlacement="bottom",L.actualTrack="bottom"),[{state:"staging:opening",configTrack:P?.track},{state:"staging:closing",configTrack:D?.track}].forEach(({state:Z,configTrack:J})=>{H.matches(Z)&&J&&(J==="top"&&L.actualTrack==="bottom"||J==="bottom"&&L.actualTrack==="top"?L.actualTrack="vertical":(J==="left"&&L.actualTrack==="right"||J==="right"&&L.actualTrack==="left")&&(L.actualTrack="horizontal"))}),L},[M,I,P?.track,D?.track,H]);h.useMemo(()=>Be==="horizontal",[Be]);let M1=h.useMemo(()=>Be==="vertical",[Be]);h.useEffect(()=>{if(M?.includes("top")&&I&&I!=="top"||M?.includes("bottom")&&I&&I!=="bottom"||!M?.includes("center")&&I&&I.includes("top")&&I.includes("bottom")||M?.includes("left")&&I&&I!=="left"||M?.includes("right")&&I&&I!=="right"||!M?.includes("center")&&I&&I.includes("left")&&I.includes("right"))throw Error(`'placement' prop value '${M}' cannot be used with 'tracks' prop value '${I}'.`)},[M,I]);let Fo=h.useMemo(()=>P?.track||(Be==="horizontal"?"right":Be==="vertical"?"bottom":Be),[P?.track,Be]),Ur=h.useMemo(()=>a2(P,Gm.smooth),[P]),fe=h.useMemo(()=>a2(D,{easing:"spring",stiffness:520,damping:44,mass:1}),[D]),At=h.useMemo(()=>a2(R??P,Gm.smooth),[R,P]),ct=h.useMemo(()=>se==="alertdialog"||!p,[p,se]),ot=(Be!=="horizontal"&&Be!=="vertical"||!!ct)&&!N,[Je,vt,Vn,pn]=h.useMemo(()=>{let L=!1,z=!1,Z=!1,J=!1;return g&&mfe?ct&&(C?(Z=!0,H.matches("openness:open")&&!H.matches("staging:closing")&&(z=!0)):H.matches("openness:open")&&!H.matches("staging:closing")&&(ot===!1&&Wi()?J=!0:L=!0)):H.matches("openness:closed")||(L=!0),[L,z,Z,J]},[g,H,ct,C,ot]),ao=h.useMemo(()=>Ne.getValues()[0]!=="none",[Ne]),lo=["right","left","horizontal"].includes(Be)?"horizontal":"vertical",[Si,Ma]=h.useState(!1),[Ia,Br]=h.useState(!1),Ra=h.useMemo(()=>!S&&(S?void 0:Si!==!0),[S,Si]),Sr=h.useMemo(()=>ot===!0?_==="auto"?10:1:0,[ot,_]),Es=h.useRef(null);h.useEffect(()=>(W&&(Es.current=Ze.addSheet({id:W,stackId:bt,stackingIndex:-1,sendToOpennessMachine:j})),()=>{W&&Ze.attemptToRemoveSheetOrCleanup(W)}),[j,W,bt]),h.useEffect(()=>(A&&Ze.addNativeFocusScrollPreventer(W),()=>{A&&Ze.removeNativeFocusScrollPreventer(W)}),[A,W]);let Ge=h.useMemo(()=>jt?.(W),[jt,W]),[Jl,VU]=h.useState(null),Xl=h.useMemo(()=>y&&Jl?L=>{Jl(L),y(L)}:y&&!Jl?y:!y&&Jl?Jl:null,[y,Jl]),zu=h.useCallback(()=>{w?.();let L=Zt.current.exactProgressValueAtDetents[Mt.current[0]];xi.current=L,Ze.updateSheetTravelProgress(W,L)},[w,W]),jo=h.useMemo(()=>{let L;if(Ye.value>0)L=Xl?(z,Z)=>{Xl({progress:z,range:Z,progressAtDetents:Zt.current.exactProgressValueAtDetents});let J=Bc(z);Es.current.aggregatedTravelCallback(z,J)}:z=>{let Z=Bc(z);Es.current.aggregatedTravelCallback(z,Z)};else{let z=Ze.getAggregatedStackingCallbackForSheetsBelow(W);L=z?Xl?(Z,J)=>{Xl({progress:Z,range:J,progressAtDetents:Zt.current.exactProgressValueAtDetents});let Le=Bc(Z);Es.current.aggregatedTravelCallback(Z,Le),z(Z,Le)}:Z=>{let J=Bc(Z);Es.current.aggregatedTravelCallback(Z,J),z(Z,J)}:()=>{}}return L},[Ye.value,Xl,W]),$u=h.useRef(!1),OS=h.useMemo(()=>{let L;return Be==="bottom"||Be==="vertical"?L="translateY(-2px)":Be==="top"?L="translateY(2px)":Be==="right"||Be==="horizontal"?L="translateX(-2px)":Be==="left"&&(L="translateX(2px)"),z=>{z>0&&z<1&&!$u.current?(un.current.style.setProperty("transform",L),$u.current=!0):(z>1||z<=0)&&$u.current&&(un.current.style.removeProperty("transform"),$u.current=!1)}},[Be]),gh=h.useMemo(()=>pn?L=>OS(L):jo,[OS,pn,jo]),[Wu,vh]=h.useState("both"),AS=BD(Nt);h.useEffect(()=>{var L,z;let Z,J,Le;if(typeof q=="boolean")Z={x:q,y:q};else{let{x:An,y:or}=q||{};Z={x:An,y:or}}let Ve=(on==="ios"||on==="ipados")&&S&&!bn,ut=qD();lo==="vertical"&&(J=Z.x,Le=!!Ve||!ut&&((L=Z.y)===null||L===void 0||L)),lo==="horizontal"&&(Le=!!Ve||Z.y,J=(z=Z.x)===null||z===void 0||z),Le=!!Le||AS,vh(J&&!Le?"horizontal":!J&&Le?"vertical":J&&Le?"both":"none")},[bn,S,q,AS,lo]);let Zt=h.useRef({}),[MS,HU]=h.useState(0),[zU,$U]=h.useState(()=>()=>({top:null,bottom:null})),I1=h.useRef([]),Mt=h.useRef([0,0]),_h=h.useRef(0),On=h.useRef(null),R1=h.useRef(()=>{}),yh=h.useRef(!1),IS=h.useRef(!1),N1=h.useCallback(L=>IS.current=L,[]),gr=ad(({destinationDetent:L,trackToTravelOn:z=Be==="vertical"?"bottom":Be==="horizontal"?"right":Be,behavior:Z="instant",runTravelCallbacksAndAnimations:J=!0,runOnTravelStart:Le=!0,animationConfig:Ve,rAFLoopEndCallback:ut,travelEndCallback:An})=>{hfe({destinationDetent:L,behavior:Z,runTravelCallbacksAndAnimations:J,runOnTravelStart:Le,trackToTravelOn:z,animationConfig:Ve,rAFLoopEndCallback:ut,onTravel:Xl,onTravelStart:b,onTravelEnd:()=>{An?.(),zu()},segment:Mt,fullTravelCallback:jo,sheetId:W,stackId:bt,dimensions:Zt,snapBackAcceleratorTravelAxisSize:Sr,actualSwipeOutDisabledWithDetent:vt,lastProgressValue:xi,viewRef:Nt,scrollContainerRef:Pt,contentWrapperRef:un,currentDetent:Mt.current[0]===Mt.current[1]?Mt.current[0]:null,setSegment:Bo,setProgrammaticScrollOngoing:N1,contentPlacement:tn,hasOppositeTracks:Be==="horizontal"||Be==="vertical"})}),WU=h.useCallback(()=>{Mt.current[0]===Mt.current[1]&&gr({runTravelCallbacksAndAnimations:!1,destinationDetent:Mt.current[0]})},[W,Be,vt,pn,Sr]),KU=h.useCallback(L=>{Vt?.({sheetId:W,sendToOpennessMachine:j,sendToPositionMachine:ye})},[Vt,W,j,ye]),RS=h.useCallback(()=>{pt?.(W)},[pt,W]),NS=h.useMemo(()=>se==="alertdialog"?()=>{}:()=>j({type:"CLOSE"}),[j,se]),YU=h.useCallback(()=>{Ze.updateLayer({layerId:W,layerContextId:Se,layerStackContextId:ge,inertOutside:S,onPresentAutoFocus:c,onDismissAutoFocus:u,dismissOverlayIfNotAlertDialog:NS,onClickOutside:T,onEscapeKeyDown:k,viewElement:Nt.current,backdropElement:kn.current,scrollContainerElement:Pt.current,elementFocusedLastBeforeShowing:ue.current})},[W,Se,ge,S,c,u,NS,T,k,ue]),PS=h.useCallback(()=>{Ze.removeLayer(W)},[W]),ZU=h.useCallback(()=>{let L=J=>["ArrowDown","ArrowUp","PageDown","PageUp","End","Home"," "].includes(J.key),z=J=>{if(L(J)){var Le,Ve;(Le=Pt.current)===null||Le===void 0||Le.style.setProperty("overflow","hidden"),(Ve=Pt.current)===null||Ve===void 0||Ve.style.setProperty("scroll-snap-type","none")}},Z=J=>{if(L(J)){var Le,Ve;(Le=Pt.current)===null||Le===void 0||Le.style.removeProperty("overflow"),(Ve=Pt.current)===null||Ve===void 0||Ve.style.removeProperty("scroll-snap-type")}};return document.addEventListener("keydown",z),document.addEventListener("keyup",Z),()=>{document.removeEventListener("keydown",z),document.removeEventListener("keyup",Z)}},[]),Ql=h.useCallback(()=>{lt(L=>L+1),Ze.updateSheetStackingIndex(W,Ye.silent.value)},[lt,Ye.silent,W]),wi=h.useCallback(()=>{lt(L=>L-1),Ze.updateSheetStackingIndex(W,Ye.silent.value)},[lt,Ye.silent,W]),bh=Rs(xe,"active");Er("after-paint",bh,{state:"active:true",callback:YU}),Er("after-paint",bh,{state:"active:true",callback:ZU}),je("after-paint",bh,{state:"active:false",callback:PS});let ec=Rs(xe,"position"),Ei=Rs(xe,"position:covered.status");mt(ec,{state:"position:out",transition:"READY_TO_GO_FRONT",callback:h.useCallback(L=>{Ge?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:L.skipOpening}),Ql()},[Ql,Ge])}),mt(xe,{state:"position:front.status:opening",transition:"NEXT",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("NEXT")},[Ge])}),mt(xe,{state:"position:front.status:idle",transition:"READY_TO_GO_OUT",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("READY_TO_GO_UP")},[Ge])}),mt(xe,{state:"position:front.status:idle",transition:"GO_OUT",callback:h.useCallback(()=>{jo?.(0,{start:0,end:0}),zu(),Ge?.sendToPositionMachine("GO_UP"),wi()},[jo,zu,Ge,wi])}),mt(xe,{state:"position:front.status:idle",transition:"READY_TO_GO_DOWN",callback:h.useCallback(L=>{Ge?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:L.skipOpening}),Ql()},[Ql,Ge])}),mt(xe,{state:"position:front.status:closing",transition:"NEXT",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("NEXT"),wi()},[Ge,wi])}),mt(Ei,{state:"position:covered.status:going-down",transition:"NEXT",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("NEXT")},[Ge])}),mt(Ei,{state:"position:covered.status:idle",transition:"READY_TO_GO_DOWN",callback:h.useCallback(L=>{Ge?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:L.skipOpening}),Ql()},[Ql,Ge])}),mt(Ei,{state:"position:covered.status:idle",transition:"READY_TO_GO_UP",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("READY_TO_GO_UP")},[Ge])}),mt(Ei,{state:"position:covered.status:idle",transition:"GO_UP",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("GO_UP"),wi()},[wi,Ge])}),je("immediate",Ei,{state:"position:covered.status:come-back",callback:h.useCallback(()=>ye(""),[ye])}),mt(Ei,{state:"position:covered.status:going-up",transition:"NEXT",callback:h.useCallback(()=>{Ge?.sendToPositionMachine("NEXT"),wi()},[Ge,wi])}),je("immediate",Ei,{state:"position:covered.status:indeterminate",callback:h.useCallback(()=>{Ye.silent.value===0?ye("GOTO_front"):ye("GOTO_idle")},[Ye.silent,ye])});let tc=h.useCallback(()=>Ge?.sendToOpennessMachine({machine:"staging",type:"NEXT"}),[Ge]),Uo=h.useCallback((L,{newState:z})=>{st(z),Ft?.({sheetId:W,staging:z})},[n,st,Ft,W]),Ku=h.useCallback((L,{newState:z})=>{d?.(z)},[d]),Bo=h.useMemo(()=>{let L=z=>{_h.current=z[1],queueMicrotask(()=>{let Z=z[0],J=z[1];(Z!==Mt.current[0]||J!==Mt.current[1])&&(Mt.current=z,Z===J&&(On.current===null&&X?X(J):Z===On.current&&(On.current=null)))})};return f&&ot===!1?L=z=>{_h.current=z[1],queueMicrotask(()=>{let Z=z[0],J=z[1];(Z!==Mt.current[0]||J!==Mt.current[1])&&(Mt.current=z,f({start:Z,end:J}),Z===J&&(On.current===null&&X?X(J):Z===On.current&&(On.current=null)))})}:ot===!0&&(L=Vn?z=>{_h.current=z[1],queueMicrotask(()=>{let Z=z[0],J=z[1];if(Z!==Mt.current[0]||J!==Mt.current[1]){let Le=jr.length;vt&&Z===1&&J===1?j({machine:"backStuck",type:"STUCK_START"}):Z===Le&&J===Le?j({machine:"frontStuck",type:"STUCK_START"}):Yu.current?j({machine:"frontStuck",type:"STUCK_END"}):Sh.current&&j({machine:"backStuck",type:"STUCK_END"}),Mt.current=z,f?.({start:Z,end:J}),Z===J&&(On.current===null&&X?X(J):Z===On.current&&(On.current=null))}})}:z=>{_h.current=z[1],queueMicrotask(()=>{let Z=z[0],J=z[1];if(Z!==Mt.current[0]||J!==Mt.current[1]){let Le=jr.length;Z===Le&&J===Le?j({machine:"frontStuck",type:"STUCK_START"}):Yu.current&&j({machine:"frontStuck",type:"STUCK_END"}),Mt.current=z,f?.({start:Z,end:J}),Z===J&&(On.current===null&&X?X(J):Z===On.current&&(On.current=null))}})}),L},[f,ot,X,Vn,vt,jr.length,j]),Na=h.useCallback(L=>{let z={destinationDetent:L==="front"?Zt.current.detentMarkers.length:1,runTravelCallbacksAndAnimations:!1};if(gr(z),Wi()){var Z;(Z=Pt.current)===null||Z===void 0||Z.style.setProperty("overflow","hidden"),setTimeout(()=>{var J;(J=Pt.current)===null||J===void 0||J.style.removeProperty("overflow")},CSS.supports("overscroll-behavior","none")?1:10)}yh.current=!1},[gr]),DS=h.useCallback((L,z)=>{let Z=Mt.current[0],J=z??null;if(J===null){var Le,Ve;J=(L??"up")==="up"?(Le=Mt.current[0])<jr.length?Le+1:1:(Ve=Mt.current[0])>1?Ve-1:jr.length}return J===0||J===Z?null:J},[jr]),LS=h.useCallback(({direction:L,detent:z,behavior:Z})=>{let J=()=>{let Le=DS(L,z);Le&&j({type:"ACTUALLY_STEP",detent:Le,behavior:Z})};H.silent.matches("openness:open.scroll:ended.afterPaintEffectsRun:true")?J():F1.current=J},[H.silent,DS,j]),FS=h.useCallback((L,z)=>{On.current=L,X?.(L),gr({destinationDetent:L,behavior:z??(At.skip?"instant":"smooth"),animationConfig:At,travelEndCallback:()=>j({machine:"staging",type:"NEXT"})})},[X,gr,At,j]),jS=h.useCallback((L,z,Z,J)=>{let Le;if(L==="auto"){let Ve=J==="center"?Z+(z-Z)/2:Z;Le=Zo==="chromium"?Ve<=1440?70+.25*Ve:.3*Ve:Wi()?on==="ios"||on==="ipados"?Ve<=716?15+.1*Ve:.12*Ve:.5*Ve:10}else if(typeof L=="function"){let Ve=parseInt(L(Z),10);Le=Ve<1?1:Ve>Z/2?Z/2:Ve}else L==="initial"&&(Le=1);return Le},[]),US=h.useCallback(()=>{if(Nt.current){let L=(z,Z)=>Nt.current.style.setProperty(z,Z);L("--silk-aD",Zt.current.view.travelAxis.px),L("--silk-aE",Zt.current.view.crossAxis.px),L("--silk-aF",Zt.current.content.travelAxis.px),L("--silk-aG",Zt.current.content.crossAxis.px),L("--silk-aH",Zt.current.frontSpacer.travelAxis.px),L("--silk-aI",Zt.current.backSpacer.travelAxis.px),L("--silk-aJ",Zt.current.snapOutAccelerator.travelAxis.px),L("--silk-aK",Zt.current.detentMarkers[0].travelAxis.px)}},[]),JU=h.useCallback(L=>{let z=Nt.current,Z=bi.current,J=[];Zl.current.forEach(Jt=>{J.push(window.getComputedStyle(Jt))});let Le=Jt=>parseFloat(Jt),Ve=Jt=>parseInt(Jt,10),ut=Jt=>Be==="right"||Be==="left"||Be==="horizontal"?Jt==="travelAxis"?"width":"height":Jt==="travelAxis"?"height":"width",An=Jt=>{let qo,La,rc,co,Ke,sc;return La=Le(qo=Jt.getPropertyValue(ut("travelAxis"))),rc=Ve(qo),Ke=Ve(co=Jt.getPropertyValue(ut("crossAxis"))),sc=Ve(co),{travelAxis:{px:qo,unitless:La,unitlessRoundedDown:rc},crossAxis:{px:co,unitless:Ke,unitlessRoundedDown:sc}}},or=()=>{let Jt,qo,La=window.getComputedStyle(Nt.current),rc=window.getComputedStyle(bi.current),co=0;HU(zt=>zt+1),Zt.current={view:{...An(La)},scroll:{},snapOutAccelerator:{travelAxis:{}},frontSpacer:{travelAxis:{}},backSpacer:{travelAxis:{}},content:{...An(rc)},detentMarkers:[...J.map((zt,ls)=>{let Ts=An(zt);return ls!==J.length-1&&(co+=Ts.travelAxis.unitless),{...Ts,accumulatedOffsets:{travelAxis:{px:co+"px",unitless:co,unitlessRoundedDown:null}}}})],progressValueAtDetents:[]};let Ke=Zt.current;Ke.scroll=Ke.view;let sc=jS(v,Ke.view.travelAxis.unitless,Ke.content.travelAxis.unitless,tn);Ke.snapOutAccelerator.travelAxis.px=sc+"px",Ke.snapOutAccelerator.travelAxis.unitless=sc,Ke.snapOutAccelerator.travelAxis.unitlessRoundedDown=Ve(sc);let fB=Ke.detentMarkers.length,xh=Ke.content.travelAxis.unitless-co;Ke.detentMarkers[fB-1]={travelAxis:{px:xh+"px",unitless:xh,unitlessRoundedDown:null},crossAxis:{px:"1px",unitless:1,unitlessRoundedDown:1},accumulatedOffsets:{travelAxis:{px:co+xh+"px",unitless:co+xh,unitlessRoundedDown:null}}};let B1=zt=>({before:zt(-2.1),exact:zt(0),after:zt(2.1)}),Th=Ke.content.travelAxis.unitless,oc=[B1(zt=>zt/Th)],KS;Ke.detentMarkers.slice(0,-1).forEach(zt=>{let ls=zt.accumulatedOffsets.travelAxis.unitless;oc.push(B1(Ts=>(ls+Ts)/Th))}),oc.push(B1(zt=>(Th+zt)/Th)),KS=oc[Pn];let YS=I1.current.length>0?I1.current[Mt.current[1]]:0,ZS=function(zt,ls){let Ts=0;for(let Oi=1;Oi<ls.length;Oi++){let Zu=ls[Oi];Math.abs(Zu-zt)<Math.abs(ls[Ts]-zt)&&(Ts=Oi)}return Ts}(YS??1,oc.map(zt=>zt.exact));Bo([ZS,ZS]),Ke.progressValueAtDetents=oc,Ke.exactProgressValueAtDetents=oc.map(zt=>zt.exact),I1.current=Ke.progressValueAtDetents.map(zt=>zt.exact),Ke.progressValueAtInitialDetent=KS,Jt=pn?Be==="horizontal"||Be==="vertical"?Ke.view.travelAxis.unitless/2+1:1:vt?Ke.content.travelAxis.unitless-Zt.current.detentMarkers[0].travelAxis.unitless+Sr:Be==="horizontal"||Be==="vertical"?Ke.view.travelAxis.unitless/2+Ke.view.travelAxis.unitless-(Ke.view.travelAxis.unitless-Ke.content.travelAxis.unitless)/2+Ke.snapOutAccelerator.travelAxis.unitless:tn==="center"?Ke.view.travelAxis.unitless-(Ke.view.travelAxis.unitless-Ke.content.travelAxis.unitless)/2+Ke.snapOutAccelerator.travelAxis.unitless:Ke.view.travelAxis.unitless-(Ke.view.travelAxis.unitless-Ke.content.travelAxis.unitless)+Ke.snapOutAccelerator.travelAxis.unitless,Ke.frontSpacer.travelAxis.unitless=Jt,Ke.frontSpacer.travelAxis.px=Jt+"px",qo=ot===!0&&_==="auto"?Ke.view.travelAxis.unitless+Sr:Be==="horizontal"||Be==="vertical"?pn?Ke.view.travelAxis.unitless/2:Ke.view.travelAxis.unitless/2+Ke.view.travelAxis.unitless-(Ke.view.travelAxis.unitless-Ke.content.travelAxis.unitless)/2+Ke.snapOutAccelerator.travelAxis.unitless:Ke.view.travelAxis.unitless,Ke.backSpacer.travelAxis.unitless=qo,Ke.backSpacer.travelAxis.px=qo+"px",US(),$U(()=>()=>{let zt,ls;if(!Nt.current)return{top:null,bottom:null};let Ts=Nt.current.getBoundingClientRect(),Oi=Ts.top,Zu=Ts.bottom,JS=M1||Be==="top"||Be==="bottom",kh=Ke.view[JS?"travelAxis":"crossAxis"].unitless,Oh=Ke.content[JS?"travelAxis":"crossAxis"].unitless;return tn==="left"||tn==="right"||tn==="center"?(zt=Oi+(kh-Oh)/2,ls=Zu-(kh-Oh)/2):tn==="top"?(zt=Oi,ls=Zu-(kh-Oh)):tn==="bottom"&&(zt=Oi+(kh-Oh),ls=Zu),{top:zt,bottom:ls}})};or();let Pa=(Jt,qo)=>{let La=new ResizeObserver(rc=>{rc.forEach(()=>qo())});return La.observe(Jt,{box:"border-box"}),La},Ti=()=>{or(),gr({runTravelCallbacksAndAnimations:!1})},as=!0,ki=Pa(z,()=>{as?as=!1:Ti()}),Da=!0,Cn=Pa(Z,()=>{Da?(or(),Da=!1):Ti()});return()=>{ki&&z&&(ki.unobserve(z),ki.disconnect()),Cn&&Z&&(Cn.unobserve(Z),Cn.disconnect())}},[Be,jS,v,Pn,ot,US,Sr,_,gr,Bo,tn,vt,pn,jr]),BS=h.useCallback(L=>{let z,Z=0,J=L,Le=0;return Ve=>{z=Ve;let ut=J-Ve;return Z=ut,(ut===0||Math.abs(ut)<Math.abs(Le/2))&&H.silent.matches("scrollContainerTouch:ongoing")&&(z=J-Le/2,Z=J-z),Math.abs(Z)>=.1&&.35>Math.abs(Z)&&(z=Z>=0?J-.1:J+.1,Z=Z>=0?.1:-.1),Ve<=0&&(z=0),J=z,Le=Z,z}},[H.silent]),qS=h.useCallback(()=>{var L;let z,Z,J=Be==="right"||Be==="left"||Be==="horizontal"?"scrollLeft":"scrollTop",Le=Pt.current,Ve=Zt.current.snapOutAccelerator.travelAxis.unitless,ut=Zt.current.content.travelAxis.unitless,An=Zt.current.scroll.travelAxis.unitless,or=BS((L=xi.current)!==null&&L!==void 0?L:Zt.current.progressValueAtDetents[Mt.current[1]].exact),Pa=Be==="right"||Be==="bottom",Ti=Be==="left"||Be==="top";if(Pa||Ti){let as;if(pn)as=Ti?Cn=>1-Cn/ut:Cn=>1+Cn/ut;else if(Pa)if(tn!=="center"){let Cn=vt?Zt.current.detentMarkers[0].travelAxis.unitless-Sr:-Ve;as=Jt=>(Jt+Cn)/ut}else{let Cn=ut+(An-ut)/2;as=Jt=>(Jt-Ve)/Cn}else if(Ti)if(tn!=="center")as=Cn=>(ut+Sr-Cn)/ut;else{let Cn=ut+(An-ut)/2;as=Jt=>(Cn+Sr-Jt)/Cn}let ki=ot===!0?1:10,Da=ot===!0&&vt?Zt.current.progressValueAtDetents[1].exact:0;Z=()=>{z=Le[J];let Cn=Math.min(Math.max(as(z),Da),ki);return Math.min(Math.max(or(Cn),Da),ki)}}else if(Be==="horizontal"||Be==="vertical"){let as=(An-ut)/2,ki=pn?0:Ve+An-as,Da=ut+as;Z=()=>{z=Le[J];let Cn=1-Math.abs(z-ki)/Da;return Math.max(or(Math.max(Cn,0)),0)}}return Z},[Be,BS,ot,pn,tn,vt,Sr,MS]),Ch=h.useRef(),XU=h.useCallback(()=>{let L=Pt.current,z=()=>{j({machine:"openness:open.move",type:"MOVE_END"});for(let J=0;J<Zt.current.progressValueAtDetents.length;J++){let Le=Zt.current.progressValueAtDetents[J].exact;xi.current>Le-.01&&xi.current<Le+.01&&(j({machine:"openness:open.scroll",type:"SCROLL_END"}),j({machine:"openness:open.swipe",type:"SWIPE_END"}))}},Z=()=>{IS.current?N1(!1):(L1.current||j({machine:"openness:open.scroll",type:"SCROLL_START"}),Yu.current||Sh.current||(U1.current||j({machine:"openness:open.swipe",type:"SWIPE_START"}),j1.current||j({machine:"openness:open.move",type:"MOVE_START"}))),clearTimeout(Ch.current),Ch.current=setTimeout(z,200)};return L.addEventListener("scroll",Z),()=>{L.removeEventListener("scroll",Z),clearTimeout(Ch.current)}},[j,N1]),xi=h.useRef(null),QU=h.useCallback(()=>{let L;if(gh){let z=Zt.current.progressValueAtDetents,Z=z.length,J=qS();L=pfe(()=>{let Le,Ve=J();if(xi.current!==Ve){for(let ut=0;ut<Z;ut++){let An=z[ut],or=An.after;Ve>or&&ut+1<Z&&Ve<z[ut+1].before?(Le={start:ut,end:ut+1},Bo([ut,ut+1])):Ve>An.before&&Ve<or?(Le={start:ut,end:ut},Bo([ut,ut])):Ve<=0&&(Le={start:0,end:0},Bo([0,0]))}R1.current(Ve,Le),xi.current=Ve}})}return()=>{L?.()}},[Bo,gh,qS]),GS=h.useCallback(L=>{let z=1e5,Z=J=>{z<Math.abs(J.deltaY)?window.removeEventListener("wheel",Z,{passive:!1}):J.preventDefault(),z=Math.abs(J.deltaY)};return window.addEventListener("wheel",Z,{passive:!1}),setTimeout(()=>{L("SWIPED_OUT")},100),()=>window.removeEventListener("wheel",Z,{passive:!1})},[]),eB=h.useCallback((L,{send:z})=>{let Z,J=Nt.current,Le=bi.current,Ve=Pt.current,ut=!1,An=()=>ut=!0;window.addEventListener("wheel",An,{passive:!0,once:!0});let or=new IntersectionObserver(function(Pa){for(let Ti of Pa)Ti.isIntersecting||(J.style.setProperty("pointer-events","none","important"),J.style.setProperty("opacity","0","important"),J.style.setProperty("position","fixed","important"),J.style.setProperty("top","-100px","important"),J.style.setProperty("left","-100px","important"),Le.style.setProperty("pointer-events","none","important"),Ve.style.setProperty("width","1px","important"),Ve.style.setProperty("height","1px","important"),Ve.style.setProperty("clip-path","inset(0)","important"),requestAnimationFrame(()=>{ut?Z=GS(z):z("SWIPED_OUT")}))},{root:J,threshold:[0]});return or.observe(Le),()=>{Z?.(),window.removeEventListener("wheel",An,{passive:!0,once:!0}),or&&(or.unobserve(Le),or.disconnect())}},[GS]),tB=h.useRef(()=>0),nB=h.useCallback(()=>{let L=Nt.current,z=Z=>{Ao({nativeEvent:Z,defaultBehavior:{},handler:O})};return L?.addEventListener("focus",z,{capture:!0}),()=>{L?.removeEventListener("focus",z,{capture:!0})}},[O]),rB=h.useCallback(L=>{Pt.current.contains(L.target)&&j({machine:"scrollContainerTouch",type:"TOUCH_START"})},[j]),sB=h.useCallback(L=>{Pt.current.contains(L.target)&&j({machine:"scrollContainerTouch",type:"TOUCH_END"})},[j]);je("immediate",Ne,{state:"staging:none",callback:Uo,params:{newState:"none"}}),mt(Ne,{state:"staging:none",transition:"OPEN",callback:h.useCallback(()=>Ge?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:Ur?.skip}),[Ge,Ur?.skip])}),mt(Ne,{state:"staging:none",transition:"OPEN_PREPARED",callback:h.useCallback(L=>Ge?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:L.skipOpening}),[Ge])}),mt(Ne,{state:"staging:none",transition:"GO_DOWN",callback:h.useCallback(L=>Ge?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:L.skipOpening}),[Ge])}),mt(Ne,{state:"staging:none",transition:"ACTUALLY_CLOSE",callback:h.useCallback(()=>Ge?.sendToOpennessMachine({machine:"staging",type:"GO_UP"}),[Ge])}),mt(Ne,{state:"staging:none",transition:"GO_UP",callback:h.useCallback(L=>Ge?.sendToOpennessMachine({machine:"staging",type:"GO_UP",skipClosing:L.skipClosing}),[Ge])}),je("immediate",Ne,{state:"staging:open",callback:Uo,params:{newState:"open"}}),je("immediate",Ne,{state:"staging:open",callback:h.useCallback(()=>{j({machine:"longRunning",type:"TO_TRUE"})},[j])}),je("immediate",Ne,{state:"staging:open",callback:h.useCallback(()=>{K||G==null||G(!0)},[K,G])}),je("after-paint",Ne,{state:"staging:open",callback:h.useCallback(()=>{requestAnimationFrame(()=>{j({machine:"openness",type:"READY_TO_OPEN",skipOpening:!0}),j({machine:"staging",type:"NEXT"})})},[j])}),mt(Ne,{state:"staging:open",transition:"NEXT",callback:tc}),je("immediate",Ne,{state:"staging:opening",callback:Uo,params:{newState:"opening"}}),je("immediate",Ne,{state:"staging:opening",callback:h.useCallback(()=>{j({machine:"longRunning",type:"TO_TRUE"})},[j])}),je("immediate",Ne,{state:"staging:opening",callback:h.useCallback(()=>{K||G==null||G(!0)},[K,G])}),je("before-paint",Ne,{state:"staging:opening",callback:h.useCallback(()=>{b?.(),jo(0,{start:0,end:0})},[jo,b])}),je("after-paint",Ne,{state:"staging:opening",callback:h.useCallback(()=>{requestAnimationFrame(()=>{j({machine:"openness",type:"READY_TO_OPEN",skipOpening:!1})})},[j])}),Er("after-paint",Ne,{state:"staging:opening",callback:h.useCallback(()=>(Ude(W),()=>Bde(W)),[W])}),mt(Ne,{state:"staging:opening",transition:"NEXT",callback:tc}),je("immediate",Ne,{state:"staging:stepping",callback:Uo,params:{newState:"stepping"}}),je("after-paint",Ne,{state:"staging:stepping",callback:h.useCallback(({detent:L,behavior:z})=>{d?.("stepping"),FS(L,z)},[d,FS])}),Ii("immediate",Ne,{state:"staging:stepping",callback:h.useCallback(()=>{d?.("idleInside")},[d])}),je("immediate",Ne,{state:"staging:closing",callback:Uo,params:{newState:"closing"}}),je("immediate",Ne,{state:"staging:closing",callback:h.useCallback(()=>{K&&G?.(!1)},[K,G])}),je("after-paint",Ne,{state:"staging:closing",callback:h.useCallback(()=>{j({machine:"openness",type:"READY_TO_CLOSE"})},[j])}),mt(Ne,{state:"staging:closing",transition:"NEXT",callback:tc}),je("immediate",Ne,{state:"staging:go-down",callback:Uo,params:{newState:"go-down"}}),mt(Ne,{state:"staging:go-down",transition:"NEXT",callback:tc}),je("immediate",Ne,{state:"staging:going-down",callback:Uo,params:{newState:"going-down"}}),mt(Ne,{state:"staging:going-down",transition:"NEXT",callback:tc}),je("immediate",Ne,{state:"staging:going-up",callback:Uo,params:{newState:"going-up"}}),mt(Ne,{state:"staging:going-up",transition:"NEXT",callback:tc});let qr=Rs(H,"longRunning");je("immediate",qr,{state:"longRunning:true",callback:h.useCallback(()=>{ue.current===null&&(ue.current=document.activeElement)},[ue])}),je("immediate",qr,{state:"longRunning:true",callback:h.useCallback(()=>{_e(!0),gt?.(L=>L+1)},[_e,gt])}),Er("before-paint",qr,{state:"longRunning:true",callback:JU}),je("before-paint",qr,{state:"longRunning:true",guard:!Ur.skip,callback:h.useCallback(()=>{gr({trackToTravelOn:Fo,runTravelCallbacksAndAnimations:!1,destinationDetent:0})},[gr,Fo])}),Er("after-paint",qr,{state:"longRunning:true",guard:E,callback:h.useCallback(()=>nfe(Tn,x),[x])}),Er("after-paint",qr,{state:"longRunning:true",callback:KU}),je("immediate",qr,{state:"longRunning:false",callback:h.useCallback(()=>{_e(!1),gt?.(L=>L-1)},[_e,gt])}),je("immediate",qr,{state:"longRunning:false",callback:h.useCallback(()=>{ue.current=null},[ue])}),je("before-paint",qr,{state:"longRunning:false",callback:h.useCallback(()=>{Ze.removeAllOutletPersistedStylesFromSheet(W)},[W])}),je("after-paint",qr,{state:"longRunning:false",callback:RS}),Er("before-paint",bh,{state:"active:true",callback:WU});let Ht=Rs(H,"openness"),xs=Rs(H,"openness:closed.status");je("immediate",Ht,{state:"openness:closed",callback:Ku,params:{newState:"idleOutside"}}),je("immediate",Ht,{state:"openness:closed",callback:h.useCallback(()=>{j({machine:"longRunning",type:"TO_FALSE"})},[j])}),je("immediate",Ht,{state:"openness:closed",callback:h.useCallback(()=>{K&&G?.(!1)},[K,G])}),je("immediate",Ht,{state:"openness:closed",callback:h.useCallback(()=>{ye({machine:"active",type:"TO_FALSE"})},[ye])}),je("after-paint",Ht,{state:"openness:closed",callback:h.useCallback(()=>{clearTimeout(Ch.current),xi.current=null,Bo([0,0]),$u.current=!1,lt(-1),yh.current=!1},[lt,Bo])}),mt(Ht,{state:"openness:closed",transition:"READY_TO_OPEN",callback:h.useCallback(L=>{ye({machine:"position",type:"READY_TO_GO_FRONT",skipOpening:L.skipOpening})},[ye])}),efe(j,xs,"openness:closed.status:pending",{delay:3e3}),Ii("immediate",xs,{state:"openness:closed.status:pending",callback:h.useCallback(()=>{j("SWIPE_RESET")},[j])}),je("before-paint",xs,{state:"openness:closed.status:flushing-to-preparing-opening",callback:h.useCallback(()=>{j({machine:"openness:closed.status",type:""})},[j])}),je("before-paint",xs,{state:"openness:closed.status:flushing-to-preparing-open",callback:h.useCallback(()=>{j({machine:"openness:closed.status",type:""})},[j])}),je("after-paint",xs,{state:"openness:closed.status:preparing-opening",callback:h.useCallback(()=>{j({machine:"staging",type:"OPEN_PREPARED",skipOpening:!1})},[j])}),je("after-paint",xs,{state:"openness:closed.status:preparing-open",callback:h.useCallback(()=>{j({machine:"staging",type:"OPEN_PREPARED",skipOpening:!0})},[j])}),je("immediate",xs,{state:"openness:closed.status:safe-to-unmount",callback:h.useCallback(()=>{oe?.(!0)},[oe])}),Ii("immediate",xs,{state:"openness:closed.status:safe-to-unmount",callback:h.useCallback(()=>{oe?.(!1)},[oe])}),je("immediate",Ht,{state:"openness:opening",callback:Ku,params:{newState:"entering"}}),je("before-paint",Ht,{state:"openness:opening",callback:h.useCallback(()=>{On.current=Pn,X?.(Pn),gr({trackToTravelOn:Fo,destinationDetent:Pn,behavior:"smooth",animationConfig:Ur,travelEndCallback:()=>j("NEXT"),runOnTravelStart:!1})},[Fo,X,gr,Pn,Ur,j])}),mt(Ht,{state:"openness:opening",transition:"NEXT",callback:h.useCallback(()=>{ye("NEXT"),j({machine:"staging",type:"NEXT"})},[ye,j])}),je("immediate",Ht,{state:"openness:open",callback:Ku,params:{newState:"idleInside"}}),je("immediate",Ht,{state:"openness:open",callback:h.useCallback(()=>{ye({machine:"active",type:"TO_TRUE"})},[ye])}),je("before-paint",Ht,{state:"openness:open",guard:Ur.skip,callback:h.useCallback(()=>{On.current=Pn,X?.(Pn),gr({trackToTravelOn:Fo,destinationDetent:Pn})},[Pn,X,gr,Fo])}),Er("before-paint",Ht,{state:"openness:open",callback:h.useCallback(()=>{if(Wi()&&ct){var L;(L=Pt.current)===null||L===void 0||L.style.setProperty("will-change","transform"),requestAnimationFrame(()=>{var z;return(z=Pt.current)===null||z===void 0?void 0:z.style.removeProperty("will-change","transform")})}},[ct]),params:{unusedDep:MS}}),Er("before-paint",Ht,{state:"openness:open",guard:!Je,callback:XU}),je("after-paint",Ne,{state:"staging:open",guard:ot===!0&&_==="auto",callback:h.useCallback(()=>{Pn===jr.length?j({machine:"frontStuck",type:"STUCK_START"}):ct&&Pn===1&&j({machine:"backStuck",type:"STUCK_START"})},[j,Pn,jr,ct])}),Er("after-paint",Ht,{state:"openness:open",guard:!Je&&!pn&&!vt,callback:eB,params:{send:j}}),Er("after-paint",Ht,{state:"openness:open",callback:nB}),mt(Ht,{state:"openness:open",transition:"READY_TO_CLOSE",callback:h.useCallback(()=>ye("READY_TO_GO_OUT"),[ye])}),mt(Ht,{state:"openness:open",transition:"ACTUALLY_CLOSE",callback:h.useCallback(()=>{On.current=null,X?.(0),b?.(),ye("GO_OUT")},[X,b,ye])}),mt(Ht,{state:"openness:open",transition:"SWIPED_OUT",callback:h.useCallback(()=>{var L;(L=Pt.current)===null||L===void 0||L.style.setProperty("scroll-snap-type","none","important"),On.current=null,X?.(0),ye("GO_OUT")},[X,ye])}),Ii("immediate",Ht,{state:"openness:open",callback:h.useCallback(()=>{j("SWIPE_END")},[j])});let P1=Rs(H,"backStuck"),Sh=h.useRef(!1);mt(P1,{state:"backStuck:false",transition:"STUCK_START",callback:h.useCallback(()=>Sh.current=!0,[])}),mt(P1,{state:"backStuck:true",transition:"STUCK_END",callback:h.useCallback(()=>Sh.current=!1,[])}),mt(P1,{state:"backStuck:false",transition:"STUCK_START",guard:ot===!0&&_==="auto",callback:h.useCallback(()=>{H.silent.matches("scrollContainerTouch:ended")&&Na("back")},[H.silent,Na])});let D1=Rs(H,"frontStuck"),Yu=h.useRef(!1);mt(D1,{state:"frontStuck:false",transition:"STUCK_START",callback:h.useCallback(()=>Yu.current=!0,[])}),mt(D1,{state:"frontStuck:true",transition:"STUCK_END",callback:h.useCallback(()=>Yu.current=!1,[])}),mt(D1,{state:"frontStuck:false",transition:"STUCK_START",guard:ot===!0&&_==="auto",callback:h.useCallback(()=>{H.silent.matches("openness:open")&&H.silent.matches("scrollContainerTouch:ended")&&Na("front")},[H.silent,Na])}),je("immediate",H,{state:"scrollContainerTouch:ended",guard:ot===!0&&_==="auto",callback:h.useCallback(()=>{yh.current&&setTimeout(()=>{requestAnimationFrame(()=>{H.silent.matches("openness:open")&&(H.silent.matches("backStuck:true")?Na("back"):H.silent.matches("frontStuck:true")&&Na("front"))})},80)},[H.silent,Na])});let nc=Rs(H,"openness:open.scroll"),L1=h.useRef(!1);je("immediate",nc,{state:"openness:open.scroll:ongoing",callback:h.useCallback(()=>L1.current=!0,[])}),Ii("immediate",nc,{state:"openness:open.scroll:ongoing",callback:h.useCallback(()=>L1.current=!1,[])}),je("immediate",nc,{state:"openness:open.scroll:ongoing",callback:h.useCallback(()=>{yh.current=!0},[])}),Er({start:"immediate",update:"before-paint"},nc,{state:"openness:open.scroll:ongoing",callback:QU});let F1=h.useRef(()=>{});je("after-paint",nc,{state:"openness:open.scroll:ended",callback:h.useCallback(()=>{j({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"OCCURRED"}),F1.current(),F1.current=()=>{}},[j])}),Ii("immediate",nc,{state:"openness:open.scroll:ended",callback:h.useCallback(()=>{j({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"RESET"})},[j])});let j1=h.useRef(!1);je("immediate",H,{state:"openness:open.move:ongoing",callback:h.useCallback(()=>{j1.current=!0,R1.current=gh},[gh])}),Ii("immediate",H,{state:"openness:open.move:ongoing",callback:h.useCallback(()=>{j1.current=!1,R1.current=()=>{}},[])});let U1=h.useRef(!1);je("immediate",H,{state:"openness:open.swipe:ongoing",callback:h.useCallback(()=>U1.current=!0,[])}),Ii("immediate",H,{state:"openness:open.swipe:ongoing",callback:h.useCallback(()=>U1.current=!1,[])}),je("immediate",H,{state:"openness:open.swipe:ongoing",callback:h.useCallback(()=>b?.(),[b])}),je("immediate",H,{state:"openness:open.swipe:ongoing",callback:Ku,params:{newState:"stepping"}}),je("immediate",H,{state:"openness:open.swipe:ended",callback:h.useCallback(()=>zu(),[zu])}),je("immediate",H,{state:"openness:open.swipe:ended",guard:typeof d=="function",callback:h.useCallback(()=>{H.silent.matches("openness:open")&&d("idleInside")},[H.silent,d])});let VS=h.useCallback(()=>{!ec.matches("position:front")||Mt.current[0]===0&&Mt.current[1]===0||ct&&Mt.current[0]!==Mt.current[1]?K===!1&&G?.(!0):j("ACTUALLY_CLOSE")},[ec,j,K,G,ct]);mt(H,{state:"openness:open.evaluateCloseMessage:true",transition:"CLOSE",callback:VS}),mt(H,{state:"openness:open.evaluateCloseMessage:false",transition:"CLOSE",callback:VS}),mt(H,{state:"openness:open.evaluateStepMessage:true",transition:"STEP",callback:LS}),mt(H,{state:"openness:open.evaluateStepMessage:false",transition:"STEP",callback:LS}),je("immediate",Ht,{state:"openness:closing",callback:Ku,params:{newState:"exiting"}}),je("before-paint",Ht,{state:"openness:closing",callback:h.useCallback(()=>{On.current=0,X?.(0),gr({trackToTravelOn:fe.track,destinationDetent:0,behavior:"smooth",animationConfig:fe,travelEndCallback:()=>j("NEXT")})},[X,gr,fe,j])}),mt(Ht,{state:"openness:closing",transition:"NEXT",callback:h.useCallback(()=>{ye("NEXT"),j({machine:"staging",type:"NEXT"})},[ye,j])});let oB=h.useCallback(()=>j({machine:"skipOpening",type:Ur.skip?"TO_TRUE":"TO_FALSE"}),[j,Ur.skip]);Er("after-paint",H,{state:"",callback:oB});let iB=h.useCallback(()=>j({machine:"skipClosing",type:fe.skip?"TO_TRUE":"TO_FALSE"}),[j,fe.skip]);Er("after-paint",H,{state:"",callback:iB}),h.useEffect(()=>{K!==void 0&&j(K?"OPEN":"CLOSE")},[K,j]);let aB=ad(()=>{RS(),$t?.(W),Ze.removeAllOutletPersistedStylesFromSheet(W)}),HS=h.useRef(!0),lB=ad(()=>{K&&G?.(!1)});h.useEffect(()=>()=>{!HS.current&&(lB(),Uo(null,{newState:"none"}),aB(),_e(!1),qr.silent.matches("longRunning:true")&&gt?.(L=>L-1))},[]),h.useEffect(()=>()=>HS.current=!1),h.useEffect(()=>{Ie!==void 0&&Mt.current[0]!==Ie&&Mt.current[1]!==Ie&&On.current!==Ie&&j({type:"STEP",activeDetent:Ie})},[Ie,j]),h.useEffect(()=>{let L=()=>{var z;return(z=Pt.current)===null||z===void 0?void 0:z.scrollTo(0,0)};return window.addEventListener("unload",L),()=>window.removeEventListener("unload",L)},[]);let zS=ad((L,z)=>{Es.current&&!Ht.matches("openness:closed")&&jo(L,z)}),$S=ad(PS);h.useEffect(()=>()=>{zS(0,{start:0,end:0}),Es.current&&$S(),YD(null)},[qr.silent,gt,zS,$S]);let wh=qn("Sheet",{staging:Ne.getValues()[0],openness:Ht.getValues()[0],opennessClosedStatus:xs.getValues()[0],position:ec.getValues()[0],positionCoveredStatus:Ei.getValues()[0],placement:tn,track:Be,swipeDisabled:Je,swipeOutDisabledWithDetent:vt,swipeOvershootDisabled:ot,swipeTrap:Wu,scrollContainerShouldBePassThrough:Ra}),Eh=h.useMemo(()=>!xs.matches(["openness:closed.status:flushing-to-preparing-open","openness:closed.status:flushing-to-preparing-opening","openness:closed.status:safe-to-unmount"]),[xs]),cB=h.useMemo(()=>Ht.matches("openness:closed")&&Eh,[Eh,Ht]),WS=h.useMemo(()=>Ne.matches(["staging:opening","staging:open"]),[Ne]),uB=h.useMemo(()=>Eh||WS,[Eh,WS]),dB=h.useMemo(()=>S&&(ec.matches(["position:front","position:covered"])||re!=="none"),[S,ec,re]);return m.jsx(sh,{genericContext:pa,customContext:Se,value:Fe,children:m.jsx(Js.Provider,{value:{sheetContext:Me,titleId:de,descriptionId:ze,styleAttributes:wh,backdropRef:kn,scrollContainerRef:Pt,frontSpacerRef:ws,contentWrapperRef:un,contentRef:bi,backSpacerRef:Hu,detentMarkersRefs:Zl,leftEdgeRef:Tn,setBackdropSwipeable:Ma,setBleedingBackgroundPresent:Br,detents:jr,longRunningState:qr,staging:re,layerCovered:yt,placement:tn,track:Be,travelAxis:lo,nativeEdgeSwipePrevention:E,bleedingBackgroundPresent:Ia,setBackdropTravelHandler:VU,ancestorPrimarySwipeTrapActiveOnYAxis:Wu==="vertical"||Wu==="both",scrollContainerTouchStartHandler:rB,scrollContainerTouchEndHandler:sB,getContentCoordinatesWhenRestingOnLastDetent:zU,getOffsetFromCurrentToNextDetent:tB},children:uB&&m.jsxs("div",{id:W,...wh("view",["track","staging","openness","opennessClosedStatus","scrollContainerShouldBePassThrough"],{className:i,dataSilk:[a,"0ab",A&&"0ah",ao&&"0aj",cB&&"0ak","0al"]}),ref:hn,"aria-labelledby":de,"aria-describedby":ze,...Y,role:se,tabIndex:-1,children:[m.jsx(ri.Root,{...wh("primaryScrollTrapRoot",["track","scrollContainerShouldBePassThrough"]),active:Wu!=="none",axis:Wu,children:m.jsx(ri.Stabiliser,{children:o})}),m.jsx(ri.Root,{...wh("secondaryScrollTrapRoot",["scrollContainerShouldBePassThrough"]),automaticallyDisabledForOptimisation:!1,preventBodyScroll:dB})]})})})});nL.displayName="Sheet.Anonymous";class ju extends Ee.Component{static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t){console.error(t)}render(){return this.state.hasError?m.jsx("h1",{children:"Something went wrong."}):this.props.children}constructor(t){super(t),this.state={hasError:!1}}}let rL=Ee.forwardRef((e,t)=>{let{asChild:n,children:r,className:s,"data-silk":o,...i}=e,a=n?Gn:"span",l=qn("VisuallyHidden",{});return m.jsx(a,{...l("root",[],{className:s,dataSilk:[o]}),...i,ref:t,children:r})});rL.displayName="VisuallyHidden.Root";let bfe={Root:rL},y1=Ee.createContext(null);y1.displayName="SheetStack.GenericContext";let Ld=[],Cfe=(e,t)=>{let n=()=>{let[r,s]=function(a){let l=0,c=0;for(;a;)l+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return[l,c]}(e),o={top:s+scrollY,bottom:Math.max(e.offsetHeight-(s+scrollY+innerHeight),0),left:r+scrollX,right:Math.max(e.offsetWidth-(r+scrollX+innerWidth),0),height:innerHeight,width:innerWidth},i=o.top<=0&&o.bottom<=0&&o.left<=0&&o.right<=0?null:o;t(i)};Ld.push({element:e,callback:n}),n(),Ld.length===1&&(Dd=function(r,s){let o;return function(){clearTimeout(o),o=window.setTimeout(()=>{clearTimeout(o),r()},100)}}(()=>{Ld.forEach(r=>r.callback())}),window.addEventListener("scroll",Dd),window.addEventListener("resize",Dd))},Sfe=e=>{(Ld=Ld.filter(t=>t.element!==e)).length||(window.removeEventListener("scroll",Dd),window.removeEventListener("resize",Dd))},D6=(e,t)=>{let n=h.useId(),r=h.useRef(null),s=Lr(r,t),{sheetId:o,stackId:i,sheetsCount:a,travelAnimation:l,stackingAnimation:c,style:u}=e,{sheetId:d,longRunning:f}=b1(o),[p,g]=h.useState(null),{willChangesValuesString:v,outletTransformedOnAnimation:_,nonAnimatedTravelStyles:y,nonAnimatedStackingStyles:b,clippedToViewport:w}=h.useMemo(()=>{let k=[],O={},A={},M=!1,I=!1;return[l,c].forEach((N,q)=>{if(N){let P=N.hasOwnProperty("properties")?N.properties:N;Object.entries(P).forEach(([D,R])=>{!R||(D==="clipBoundary"&&(I=!0),typeof R=="string"&&(q===0?O[D]=R:A[D]=R),WD.includes(D)||D==="transform"?k.includes("transform")||(k.push("transform"),M=!0):D!=="opacity"||k.includes("opacity")||k.push("opacity"))})}}),{willChangesValuesString:k.join(", "),outletTransformedOnAnimation:M,nonAnimatedTravelStyles:O,nonAnimatedStackingStyles:A,clippedToViewport:I}},[c,l]),{modifiedTravelAnimation:C,modifiedNonAnimatedTravelStyles:S,modifiedStackingAnimation:E,modifiedNonAnimatedStackingStyles:x}=h.useMemo(()=>{let k;if(p){let{top:q,bottom:P,left:D,right:R}=p;k=`${q-.1}px ${R}px ${P}px ${D}px`}let O=(q,P)=>{let D,R,B;if(!q)return[];let{top:Y,left:Me,height:Fe,width:pe}=p||{},ge=q.hasOwnProperty("properties")?q.properties:q,Se=ge.clipBoundary,se=ge.clipBorderRadius,K=ge.clipTransformOrigin;if(Se&&(K||(K="50% 50% 0"),B=K.split(" ").map(ee=>ee==="top"||ee==="left"?"0%":ee==="bottom"||ee==="right"?"100%":ee).map((ee,Ie)=>{if(Ie===0){let X=ee;return ee.includes("%")?X=ee.replace(/\b\d+%/,W=>parseFloat(W)/100*pe+"px"):ee==="0"&&(X="0px"),"calc("+Me+"px + "+X+")"}if(Ie===1){let X=ee;return ee.includes("%")?X=ee.replace(/\b\d+%/,W=>parseFloat(W)/100*Fe+"px"):ee==="0"&&(X="0px"),"calc("+Y+"px + "+X+")"}}).join(" ")),Se)if(Se==="layout-viewport")if(k){if(typeof se=="string")D=`inset(${k} round ${se})`;else if(Array.isArray(se)){let oe=`inset(${k} round `;D=({tween:_e})=>oe+_e(...se)+")"}else if(typeof se=="function"){let oe=`inset(${k} round `;D=_e=>oe+se(_e)+")"}else D=`inset(${k})`;R="0.001px"}else R=se??null;else if(typeof Se=="function")if(k){if(typeof se=="string")D=oe=>Se(oe)!=="none"?`inset(${k} round ${se})`:"none";else if(Array.isArray(se)){let oe=`inset(${k} round `;D=_e=>Se(_e)!=="none"?oe+_e.tween(...se)+")":"none"}else if(typeof se=="function"){let oe=`inset(${k} round `;D=_e=>Se(_e)!=="none"?oe+se(_e)+")":"none"}else D=oe=>Se(oe)!=="none"?`inset(${k})`:"none";R="0.001px"}else se&&(R=oe=>{if(Se(oe)==="layout-viewport")return se});else Se==="none"&&(D="none",R=se??null);else{let oe={...ge},_e={...P};return delete oe.clipBoundary,delete oe.clipBorderRadius,delete oe.clipTransformOrigin,delete _e.clipBoundary,delete _e.clipBorderRadius,delete _e.clipTransformOrigin,[oe,_e]}let G={...ge},ue={...P};return delete G.clipBoundary,delete G.clipBorderRadius,delete G.clipTransformOrigin,delete ue.clipBoundary,delete ue.clipBorderRadius,delete ue.clipTransformOrigin,typeof D=="string"?ue.clipPath=D:G.clipPath=D,typeof R=="string"?ue.borderRadius=R:G.borderRadius=R,typeof B=="string"&&(ue.transformOrigin=B),[G,ue]},[A,M]=O(l,y),[I,N]=O(c,b);return{modifiedTravelAnimation:A,modifiedNonAnimatedTravelStyles:M,modifiedStackingAnimation:I,modifiedNonAnimatedStackingStyles:N}},[p,b,y,c,l]);wn(()=>{let k=r.current,O=n&&w&&(!i&&f||i&&a>=1);if(O)return Cfe(k,g),()=>{O&&Sfe(k)}},[n,w,f,i,a]);let T=h.useMemo(()=>i?{...u,...a>=1?x:{},willChange:a>=1?v+(u?.willChange?", "+u?.willChange:""):u?.willChange}:{...u,...f?S:{},...a>=1?x:{},willChange:f?v+(u?.willChange?", "+u?.willChange:""):u?.willChange},[i,u,S,x,f,a,v]);return wn(()=>{let k,O=Ze.findActualFixedComponentsInsideOutlet(r.current);if(O.length)return _&&(k=(A=>{let M=()=>{O.forEach(N=>{if(!N.element||N.compensated)return;let q=0,P=0,D=N.element.style.transform,R=window.getComputedStyle(N.element),B=R.getPropertyValue("--silk-fixed-side"),Y=R.getPropertyValue("transform");Ze.updateFixedComponent({id:N.id,initialInlineCSSTransform:D,compensated:!0}),q=B.includes("bottom")?-1*(r.current.offsetHeight-(scrollY+window.innerHeight)):scrollY,P=B.includes("right")?-1*(r.current.offsetWidth-(scrollX+window.innerWidth)):scrollX,(Math.abs(q)!==0||Math.abs(P)!==0)&&N.element.style.setProperty("transform",(Y!=="none"?Y+" ":"")+"translateX("+P+"px) translateY("+q+"px)")})},I=()=>{window.removeEventListener("resize",M),window.removeEventListener("scroll",M),O.forEach(N=>{N.element&&N.compensated&&(N.initialInlineCSSTransform?(N.element.style.setProperty("transform",N.initialInlineCSSTransform),Ze.updateFixedComponent({id:N.id,initialInlineCSSTransform:void 0,compensated:!1})):(N.element.style.removeProperty("transform"),Ze.updateFixedComponent({id:N.id,compensated:!1})))})};return A?(M(),window.addEventListener("resize",M),window.addEventListener("scroll",M)):I(),I})(i?a>0:f)),k},[f,n,_,a,i]),wn(()=>(Ze.addOutletToSheet(d,n),()=>Ze.removeOutletFromSheet(d,n)),[n,d]),wn(()=>{let k=r.current;return C&&Ze.addAnimationToSheetOrStack({sheetId:d,type:"travel",element:k,config:C}),E&&Ze.addAnimationToSheetOrStack({sheetId:i?null:d,stackId:i,type:"stacking",element:k,config:E}),()=>{C&&Ze.removeAnimationFromSheetOrStack({sheetId:d,type:"travel",element:k}),E&&Ze.removeAnimationFromSheetOrStack({sheetId:i?null:d,stackId:i,type:"stacking",element:k})}},[d,i,C,E]),{ref:r,outletId:n,styleValue:T,composedRef:s}},b1=e=>h.useContext(e??pa)||{};ju.displayName="Sheet.ErrorBoundary",Gn.displayName="Sheet.Slot.Root";let $l=Ee.forwardRef((e,t)=>{let{asChild:n,forComponent:r,travelAnimation:s,stackingAnimation:o,style:i,className:a,...l}=e,{staging:c,StackContext:u}=b1(r),d=u??Ee.createContext(null),{sheetsCount:f}=h.useContext(d)||{},{styleValue:p,composedRef:g}=D6({sheetId:r,sheetsCount:f,travelAnimation:s,stackingAnimation:o,style:i},t),v=h.useMemo(()=>c!=="none",[c]),_=n?Gn:"div",y=qn("Sheet",{});return m.jsx(_,{style:p,...y("outlet",[],{className:a,dataSilk:[v&&"0aj"]}),...l,ref:g})});$l.displayName="Sheet.Outlet";let L6=Ee.forwardRef(({asChild:e,...t},n)=>{let r=e?Gn:"button",{forComponent:s,className:o,"data-silk":i,onPress:a,onClick:l,children:c,action:u="present",travelAnimation:d,stackingAnimation:f,...p}=t,{sheetRole:g,sheetId:v,open:_,onOpenChange:y,elementFocusedLastBeforeShowing:b}=b1(s),w=Ze.findSheet(v),C=h.useRef(null),S=Lr(C,n),E=h.useMemo(()=>(g==="dialog"||g==="alertdialog")&&u==="present"?"dialog":void 0,[u,g]),x=h.useMemo(()=>u==="present"||u==="dismiss"?_:void 0,[u,_]),T=qn("Sheet",{});return m.jsx($l,{forComponent:s,asChild:!0,travelAnimation:d,stackingAnimation:f,children:m.jsx(r,{...T("trigger",[],{className:o,dataSilk:[i]}),onClick:k=>{var O,A;let{forceFocus:M,runAction:I}=Ao({nativeEvent:k,defaultBehavior:{forceFocus:!0,runAction:!0},handler:a});M&&((O=C.current)===null||O===void 0||O.focus({preventScroll:!0})),I&&(u==="present"?(b.current=C.current,y(!0)):u==="dismiss"?y(!1):(u==="step"||u.type==="step")&&(w==null||(A=w.sendToOpennessMachine)===null||A===void 0||A.call(w,{type:"STEP",direction:u==="step"?"up":u.direction,detent:u==="step"?null:u.detent}))),l?.(k)},"aria-haspopup":E,"aria-controls":v,"aria-expanded":x,ref:S,...p,children:c})})});L6.displayName="Sheet.Trigger";let sL=Ee.forwardRef((e,t)=>{let{children:n,className:r,action:s="step",...o}=e,{detents:i}=h.useContext(Js)||{},a=i.length===1&&s!=="dismiss",l=qn("Sheet",{});return m.jsx(L6,{...l("handle",[],{className:r}),action:s,disabled:a,...o,ref:t,children:m.jsx(bfe.Root,{children:n??(s==="dismiss"?"Dismiss":"Cycle")})})});sL.displayName="Sheet.Handle";let oL=e=>{var t;let[n,r]=h.useState(!1);return h.useEffect(()=>(r(!0),()=>r(!1)),[]),n?Qa.createPortal(e.children,(t=e.container)!==null&&t!==void 0?t:document.body):null};oL.displayName="Sheet.Portal";let wfe=({rootRef:e})=>(h.useEffect(()=>{let t=e.current;if(!t)return;getComputedStyle(t).getPropertyValue("--silk-aY").trim()!=="1"&&console.warn("The CSS styles for Silk are not found. Please refer to the documentation on how to import them.")},[e]),null),iL=Ee.forwardRef((e,t)=>{let{className:n,"data-silk":r,license:s,sheetRole:o,componentId:i,forComponent:a,defaultPresented:l,presented:c,onPresentedChange:u,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:p,onSafeToUnmountChange:g,...v}=e,_=h.useRef(null),y=Lr(_,t),b=l!=null&&l,[w,C]=h.useState(b),S=c!==void 0&&u!==void 0,E=h.useMemo(()=>S?c:w,[S,c,w]),x=h.useMemo(()=>S?u:C,[S,u,C]),T=h.useRef(null),[k,O]=h.useState(!b),A=h.useCallback(Y=>{g?.(Y),O(Y)},[g]),[M,I]=h.useState(E),[N,q]=h.useState("none"),P=a==="closest"?y1:a,D=Il(),R={license:s,StackContext:P,CustomSheetContext:i,sheetId:D,sheetRole:o,open:E,onOpenChange:x,onSafeToUnmountChange:A,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:p,safeToUnmount:k,longRunning:M,setLongRunning:I,staging:N,setStaging:q,elementFocusedLastBeforeShowing:T,...v},B=qn("Sheet");return m.jsxs(ju,{children:[m.jsx(wfe,{rootRef:_}),m.jsx(sh,{genericContext:pa,customContext:i,value:R,children:m.jsx($l,{...B("root",[],{className:n,dataSilk:[r]}),ref:y,...v})})]})});iL.displayName="Sheet.Root";let aL=Ee.forwardRef((e,t)=>{let{forComponent:n}=e,{open:r,safeToUnmount:s}=b1(n);return(r||!s)&&m.jsx(nL,{...e,ref:t})});aL.displayName="Sheet.View";let lL=Ee.forwardRef(({asChild:e,swipeable:t=!0,...n},r)=>{let{longRunningState:s,backdropRef:o,styleAttributes:i,setBackdropSwipeable:a,setBackdropTravelHandler:l}=h.useContext(Js)||{},{className:c,"data-silk":u,children:d,travelAnimation:f,stackingAnimation:p,themeColorDimming:g=!1,...v}=n,_=Lr(o,r);h.useEffect(()=>(a(t),()=>{a(!1)}),[a,t]);let y=h.useMemo(()=>({opacity:({progress:E})=>Math.min(.33*E,.33),...f}),[f]),[b,w]=h.useState(y),C=Il(),S=h.useRef(0);return wn(()=>{let E=!1,x=()=>{E&&Ze.removeThemeColorDimmingOverlay(C)};if(s.matches("longRunning:true")){let T;if(!(E=!!(Wi()&&!Ade()&&g==="auto"&&y.opacity&&Ze.getAndStoreUnderlyingThemeColorAsRGBArray())))return;let{opacity:k,...O}=y;if(w({opacity:"ignore",...O}),Array.isArray(k)){let[A,M]=k;T=({progress:I})=>A+(M-A)*I}else typeof k=="function"&&(T=k,w({opacity:"ignore",...O}));if(T&&o&&l){let A=window.getComputedStyle(o.current).backgroundColor,M=Ze.updateThemeColorDimmingOverlay({abortRemoval:!0,dimmingOverlayId:C,color:A,alpha:S.current}),I=N=>{var q;let P=T(N);Ze.updateThemeColorDimmingOverlayAlphaValue(M,P),(q=o.current)===null||q===void 0||q.style.setProperty("opacity",P),S.current=P};l(()=>I)}}return s.matches("longRunning:false")&&x(),()=>{x()}},[s,C,o,l,g,f,y]),m.jsx($l,{...i("backdrop",["scrollContainerShouldBePassThrough"],{className:c,dataSilk:[u]}),travelAnimation:b,stackingAnimation:p,...v,ref:_,asChild:e,children:d})});lL.displayName="Sheet.Backdrop";let cL=Ee.forwardRef((e,t)=>{var n;let{asChild:r,children:s,className:o,"data-silk":i,travelAnimation:a,stackingAnimation:l,style:c,...u}=e,d=r?Gn:"div",{StackContext:f}=h.useContext(pa)||{},p=f??Ee.createContext(null),{sheetsCount:g}=h.useContext(p)||{},{styleValue:v,composedRef:_}=D6({sheetId:pa,sheetsCount:g,travelAnimation:a,stackingAnimation:l,style:c},t),{scrollContainerRef:y,frontSpacerRef:b,contentWrapperRef:w,contentRef:C,backSpacerRef:S,detentMarkersRefs:E,leftEdgeRef:x,nativeEdgeSwipePrevention:T,scrollContainerTouchStartHandler:k,scrollContainerTouchEndHandler:O,styleAttributes:A,detents:M,bleedingBackgroundPresent:I}=h.useContext(Js)||{},N=Lr(C,_);return m.jsxs("div",{...A("scrollContainer",["track","swipeDisabled","swipeOvershootDisabled","staging","positionCoveredStatus","scrollContainerShouldBePassThrough","swipeTrap"],{dataSilk:["0ac"]}),ref:y,onTouchStart:k,onTouchEnd:O,children:[m.jsx("div",{...A("frontSpacer",["track"]),ref:b}),m.jsxs("div",{...A("contentWrapper",["placement","track","swipeOvershootDisabled","swipeOutDisabledWithDetent","staging","position"]),ref:w,children:[m.jsx(d,{...A("content",["track","placement","scrollContainerShouldBePassThrough"],{className:o,dataSilk:[i,I&&"0af"]}),style:v,...u,ref:N,children:s}),T&&m.jsx("div",{...A("leftEdge",["track"]),ref:x})]}),m.jsx("div",{...A("backSpacer",["track"]),ref:S,children:M.map((q,P)=>m.jsx("div",{ref:D=>{E.current.length>M.length&&(E.current=E.current.slice(0,M.length)),E.current[P]=D},...A("detentMarker",["track","swipeOutDisabledWithDetent"]),style:{"--silk-aA":(n=M[P-1])!==null&&n!==void 0?n:"0px","--silk-aB":q,"--silk-aC":P}},P))})]})});cL.displayName="Sheet.Content";let Efe=Ee.forwardRef(({asChild:e,...t},n)=>{let{className:r,"data-silk":s,...o}=t,{staging:i,placement:a,track:l,setBleedingBackgroundPresent:c}=h.useContext(Js)||{};h.useEffect(()=>(c(!0),()=>{c(!1)}),[c]);let u=l==="horizontal"||l==="vertical",d=qn("Sheet",{staging:i,placement:a,track:l,bleedDisabled:u});return m.jsx($l,{asChild:e,...d("bleedingBackground",["staging","placement","track","bleedDisabled"],{className:r,dataSilk:[s]}),...o,ref:n})});Efe.displayName="Sheet.BleedingBackground";let xfe=Ee.forwardRef((e,t)=>{let{className:n,"data-silk":r,...s}=e,{travelAxis:o}=h.useContext(Js)||{},i=h.useMemo(()=>o==="vertical"?"horizontal":"vertical",[o]),[a,l]=h.useState(!1);h.useEffect(()=>l(Wi()),[]);let c=qn("SpecialWrapper");return m.jsx(ri.Root,{...c("root",[],{className:n,dataSilk:[r]}),active:a,axis:i,...s,ref:t})});xfe.displayName="Sheet.SpecialWrapper.Root";let Tfe=Ee.forwardRef((e,t)=>m.jsx(ri.Stabiliser,{...e,ref:t}));Tfe.displayName="Sheet.SpecialWrapper.Content";let uL=Ee.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:s,...o}=e,i=n?Gn:"h2",{titleId:a}=h.useContext(Js);return m.jsx($l,{asChild:!0,travelAnimation:r,stackingAnimation:s,children:m.jsx(i,{id:a,ref:t,...o})})});uL.displayName="Sheet.Title";let kfe=Ee.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:s,...o}=e,{descriptionId:i}=h.useContext(Js),a=n?Gn:"p";return m.jsx($l,{asChild:!0,travelAnimation:r,stackingAnimation:s,children:m.jsx(a,{id:i,...o,ref:t})})});kfe.displayName="Sheet.Description";let Ki={Root:iL,Trigger:L6,View:aL,Backdrop:lL,Content:cL,Handle:sL,Portal:oL,Title:uL};ju.displayName="SheetStack.ErrorBoundary";let Ofe=Ee.forwardRef((e,t)=>{let{componentId:n,className:r,"data-silk":s,asChild:o,...i}=e,a=h.useId();wn(()=>(Ze.addSheetStack({id:a}),()=>Ze.removeSheetStack(a)),[a]);let[l,c]=h.useState([]),u=h.useCallback(x=>{c(T=>{let k,O=T.findIndex(A=>A.sheetId===x.sheetId);return O!==-1?(k=[...T])[O]=x:k=[...T,x],k})},[]),d=h.useCallback(x=>{c(T=>T.filter(k=>k.sheetId!==x))},[]),f=h.useCallback(x=>{let T=l.findIndex(k=>k.sheetId===x);return T===-1?l[l.length-1]:l[T-1]},[l]),[p,g]=h.useState(0);wn(()=>{p===0&&Ze.removeAllOutletPersistedStylesFromStack(a)},[p,a]);let[v,_]=h.useState([]),y=h.useCallback(x=>{_(T=>{let k=T.findIndex(O=>O.sheetId===x.sheetId);if(k===-1)return[...T,x];{let O=[...T];return O[k]=x,O}})},[]),b=h.useCallback(x=>{_(T=>T.filter(k=>k.sheetId!==x))},[]),w=h.useMemo(()=>v.some(x=>x.staging!=="none")?"not-none":"none",[v]),C=h.useMemo(()=>({stackId:a,sheetsCount:p,setSheetsCount:g,updateSheetStagingDataInStack:y,removeSheetStagingDataInStack:b,sheetsInStackMergedStaging:w,updateSheetDataInStack:u,removeSheetDataFromStack:d,getPreviousSheetDataInStack:f}),[a,p,y,b,w,u,d,f]),S=o?Gn:"div",E=qn("SheetStack");return m.jsx(ju,{children:m.jsx(sh,{genericContext:y1,customContext:n,value:C,children:m.jsx(S,{...E("root",[],{className:r,dataSilk:[s]}),ref:t,...i})})})});Ofe.displayName="SheetStack.Root";let Afe=Ee.forwardRef((e,t)=>{let{forComponent:n="closest",asChild:r,stackingAnimation:s,style:o,className:i,...a}=e,l=n==="closest"?y1:n,{stackId:c,sheetsCount:u,sheetsInStackMergedStaging:d}=h.useContext(l);wn(()=>{Ze.addSheetStack({id:c})},[c]);let{styleValue:f,composedRef:p}=D6({sheetsCount:u,stackId:c,stackingAnimation:s,style:o},t),g=h.useMemo(()=>d!=="none",[d]),v=qn("SheetStack",{}),_=r?Gn:"div";return m.jsx(_,{style:f,...v("outlet",[],{className:i,dataSilk:[g&&"0aj"]}),...a,ref:p})});Afe.displayName="SheetStack.Outlet";let F6=Ee.createContext(null);F6.displayName="Scroll.GenericContext";let C1=Ee.createContext({contentRef:null});C1.displayName="Scroll.Anonymous";let dL=e=>h.useContext(e??F6)||{},Mfe=on==="android"?102:54,l2=N6||on==="android"?"instant":"smooth",Ife=(e,t,n=300)=>{let r,s=e.scrollTop,o=()=>{clearTimeout(r),e.removeEventListener("scroll",i),t()},i=()=>{let a=e.scrollTop;if(a>s){o();return}s=a,clearTimeout(r),r=setTimeout(o,n)};r=setTimeout(o,n),e.addEventListener("scroll",i)},c2=e=>{if(!e)return{top:0,bottom:0};let t=e.getBoundingClientRect(),n=window.getComputedStyle(e),r=t.top+parseFloat(n.borderTopWidth),s=t.bottom-parseFloat(n.borderBottomWidth);return{top:r,bottom:s}},dT=()=>{let e=window.visualViewport.height,t=window.visualViewport.offsetTop;return{top:t,bottom:t+e}},Rfe=(e,t)=>Math.abs(Math.min(e+t,0)),Nfe=(e,t)=>Math.max(e-t,0),fT=(e,t,n)=>{e.style.setProperty("height",t+"px"),n.current=t},Pfe=({scrollContainer:e,elementTop:t,elementBottom:n,behavior:r,scrollMarginTop:s,scrollMarginBottom:o,scrollPortTop:i,scrollPortBottom:a,visualViewportTop:l,visualViewportBottom:c,beforeScrollCallback:u})=>{if(!e)return;let d=t-Math.max(i,l),f=Math.min(a,c)-n;if(d<s){let p=Math.max(-e.scrollTop,d-s);p!==0&&(u(),e.scrollBy({top:p,behavior:r}))}else if(f<o){let p=e.scrollHeight-e.clientHeight-e.scrollTop,g=Math.min(p,o-f);g!==0&&(u(),e.scrollBy({top:g,behavior:r}))}};ju.displayName="Scroll.ErrorBoundary";let fL=Ee.forwardRef((e,t)=>{let{asChild:n,className:r,componentId:s,componentRef:o,"data-silk":i,...a}=e,l=n?Gn:"div",c=h.useRef(()=>{}),u=h.useCallback((...v)=>{let _=c.current;return _(...v)},[]),d=h.useRef(()=>{}),f=h.useCallback((...v)=>{let _=d.current;return _(...v)},[]),p=h.useMemo(()=>({componentRef:o,scrollToRef:c,scrollTo:u,scrollByRef:d,scrollBy:f}),[o,f,u]),g=qn("Scroll",{});return m.jsx(ju,{children:m.jsx(sh,{genericContext:F6,customContext:s,value:p,children:m.jsx(l,{...g("root",[],{className:r,dataSilk:[i]}),...a,ref:t})})})});fL.displayName="Scroll.Root";let np=null,hL=()=>{let e=h.useRef(null);wn(()=>{np===null&&e.current&&(np=e.current.offsetWidth-e.current.clientWidth,document.body.style.setProperty("--ua-scrollbar-thickness",np+"px"))},[]);let t=qn("Scroll"),n=m.jsx("div",{...t("UAScrollbarMeasurer"),ref:e});return np===null?typeof window<"u"?Qa.createPortal(n,document.body):m.jsx(m.Fragment,{children:n}):null};hL.displayName="Scroll.Anonymous";let rp=(e,t,n,r=!1)=>typeof e=="boolean"?e:typeof e?.[t]=="boolean"?e[t]:typeof e?.[n]=="boolean"?e[n]:r,pL=Ee.forwardRef((e,t)=>{let{asChild:n,children:r,className:s,"data-silk":o,forComponent:i,axis:a="y",pageScroll:l=!1,nativePageScrollReplacement:c=!1,safeArea:u="visual-viewport",scrollGestureTrap:d=!1,scrollGestureOvershoot:f=!0,scrollGesture:p="auto",onScrollStart:g,onScroll:v,onScrollEnd:_,onFocusInside:y,nativeFocusScrollPrevention:b=!0,scrollAnimationSettings:w={skip:"auto"},scrollAnchoring:C=!0,scrollSnapType:S="none",scrollPadding:E="auto",scrollTimelineName:x="none",nativeScrollbar:T=!0,...k}=e,[O,A,M,I]=h.useMemo(()=>{let fe=rp(d,"xStart","x"),At=rp(d,"xEnd","x"),ct=rp(d,"yStart","y"),ot=rp(d,"yEnd","y"),Je=fe,vt=At,Vn=ct,pn=ot;return a==="y"?vt=Je=fe!==At||fe:pn=Vn=ct!==ot||ct,[Je,vt,Vn,pn]},[d,a]),N=h.useMemo(()=>O!==A,[A,O]),q=h.useMemo(()=>M!==I,[I,M]),P=h.useMemo(()=>{if(S==="proximity"){if(a==="y")return"proximityY";if(a==="x")return"proximityX"}else{if(S!=="mandatory")return"none";if(a==="y")return"mandatoryY";if(a==="x")return"mandatoryX"}},[a,S]),D=n?Gn:"div",R=h.useRef(null),B=Lr(R,t),Y=h.useRef(null),Me=h.useRef(null),Fe=h.useRef(null),pe=h.useRef(null),ge=h.useRef(null),Se=h.useRef(null),se=Il(),{componentRef:K,scrollToRef:G,scrollByRef:ue}=dL(i)||{},{getContentCoordinatesWhenRestingOnLastDetent:oe,contentRef:_e}=h.useContext(Js)||{},st=h.useMemo(()=>p===!1||p!=="auto",[p]),[ee,Ie]=h.useState(!1),[X,W]=h.useState(!1);wn(()=>{l&&(fe=>{let At="data-silk-native-page-scroll-replaced",ct=document.documentElement.getAttribute(At);if(!l&&ct!=="true")return;let ot=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(fe!==!0&&(fe!=="auto"||(on==="android"||on==="ios"||on==="ipados")&&!ot)){var vt,Vn;W(!1);let pn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(pn),ct==="false")return;let ao=(Vn=(vt=Y.current)===null||vt===void 0?void 0:vt.scrollTop)!==null&&Vn!==void 0?Vn:0;document.documentElement.setAttribute(At,"false"),ct==="true"&&window.scrollTo(0,ao)}else{W(!0),Y.current;let pn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(pn),ct==="true")return;let ao=window.pageYOffset;if(document.documentElement.setAttribute(At,"true"),!Y.current)return;Y.current.scrollTop=ao}})(c)},[l,c]);let[de,ze]=h.useState(!0),[re,H]=h.useState(!0);wn(()=>{let fe=Y.current,At=Me.current,ct=Fe.current,ot=pe.current,Je=new ResizeObserver(()=>{fe&&(a==="y"&&fe.scrollHeight>fe.clientHeight?ze(!0):ze(!1),a==="x"&&fe.scrollWidth>fe.clientWidth?H(!0):H(!1))});return fe&&At&&ct&&ot&&(Je.observe(fe,{box:"border-box"}),Je.observe(At,{box:"border-box"}),Je.observe(ct,{box:"border-box"}),Je.observe(ot,{box:"border-box"})),()=>{Je&&Je.disconnect()}},[a,st]);let[j,xe]=h.useState(!1);wn(()=>{xe(de||re?!0:()=>!1)},[de,re]);let[ye,yt]=h.useState(!1);h.useEffect(()=>{yt(qD())},[]);let Ye=h.useRef(!1),lt=h.useRef(!1),Ne=N||q,[bt,gt]=h.useState(O),[Ft,$t]=h.useState(M);h.useEffect(()=>{let fe;if(Ne){let At=ge.current,ct=Se.current;if(!At||!ct)return;(fe=new IntersectionObserver(ot=>{for(let Je of ot)Je.target===At?Je.isIntersecting?(Ye.current=!0,a==="x"?gt(O):$t(M)):Ye.current=!1:Je.target===ct&&(Je.isIntersecting?(lt.current=!0,a==="x"?gt(A):$t(I)):lt.current=!1),Ye.current&&lt.current&&(a==="x"?gt(!1):$t(!1))},{root:Y.current,rootMargin:"0px",threshold:[1]})).observe(At),fe.observe(ct)}return()=>{fe&&fe.disconnect()}},[A,O,I,M,a,Ne]);let Vt=h.useRef(!1),pt=h.useRef(),jt=h.useRef(""),bn=h.useRef(void 0);h.useEffect(()=>{let fe=Y.current;if(!fe)return;let At=ot=>{Pn.current=!1,Ao({nativeEvent:ot,defaultBehavior:{},handler:_});let Je=document.activeElement;(on=="ios"||on=="ipados")&&Je&&ol(Je)&&(bn.current===void 0&&(jt.current=Je.style.getPropertyValue("opacity"),Je.style.setProperty("opacity","0.9999","important")),clearTimeout(bn.current),bn.current=void 0,bn.current=setTimeout(()=>{jt.current===""?Je.style.removeProperty("opacity"):Je.style.setProperty("opacity",jt.current),bn.current=void 0},55))},ct=ot=>{if(!Vt.current){let{dismissKeyboard:Je}=Ao({nativeEvent:ot,defaultBehavior:{dismissKeyboard:!1},handler:g});Je&&!Vt.current&&!Pn.current&&qm()&&fe.focus({preventScroll:!0})}clearTimeout(pt.current),pt.current=setTimeout(()=>{Vt.current=!1,Ie(!1),"onscrollend"in window||At(null)},90),Vt.current=!0,Ie(!0)};return fe.addEventListener("scroll",ct),"onscrollend"in window&&fe.addEventListener("scrollend",At),()=>{fe.removeEventListener("scroll",ct),"onscrollend"in window&&fe.removeEventListener("scrollend",At)}},[_,g]),h.useEffect(()=>(b&&Ze.addNativeFocusScrollPreventer(se),()=>{b&&Ze.removeNativeFocusScrollPreventer(se)}),[b,se]);let Yt=h.useMemo(()=>l&&!X,[X,l]),Nt=h.useMemo(()=>a==="y"?Yt?()=>window.scrollY:()=>{var fe;return(fe=Y.current)===null||fe===void 0?void 0:fe.scrollTop}:Yt?()=>window.scrollX:()=>{var fe;return(fe=Y.current)===null||fe===void 0?void 0:fe.scrollLeft},[a,Yt]),hn=h.useMemo(()=>a==="y"?Yt?()=>document.body.scrollHeight-window.innerHeight:()=>{let fe=Y.current;return fe?.scrollHeight-fe?.offsetHeight}:Yt?()=>document.body.scrollWidth-window.innerWidth:()=>{let fe=Y.current;return fe?.scrollWidth-fe?.offsetWidth},[a,Yt]),Tn=h.useCallback(()=>Nt()/hn(),[Nt,hn]),kn=h.useCallback(fe=>{v?.({progress:Tn(),distance:Nt(),availableDistance:hn(),nativeEvent:fe})},[Tn,Nt,hn,v]);h.useEffect(()=>(Yt&&v&&document.addEventListener("scroll",kn),()=>{Yt&&v&&document.removeEventListener("scroll",kn)}),[Yt,v,kn]);let Pt=h.useCallback((fe,{progress:At,distance:ct,animationSettings:ot={skip:"default"}})=>{let Je=ct??(At??NaN)*hn();if(isNaN(Je))return;let vt=ot?.skip,Vn=Yt?window:Y.current;Vn?.[fe==="to"?"scrollTo":"scrollBy"]({[a==="y"?"top":"left"]:Je,behavior:vt===!0?"instant":vt===!1?"smooth":vt==="default"?"auto":N6?"instant":"smooth"})},[a,hn,Yt]),ws=h.useCallback(fe=>Pt("to",fe),[Pt]),un=h.useCallback(fe=>Pt("by",fe),[Pt]);h.useEffect(()=>{G.current=ws,ue.current=un},[un,ue,ws,G]),h.useImperativeHandle(K,()=>({getProgress:Tn,getDistance:Nt,getAvailableDistance:hn,scrollTo:ws,scrollBy:un}),[hn,Nt,Tn,ws,un]);let bi=h.useRef(!1),Hu=h.useRef(),Zl=h.useRef(),jr=h.useRef(0),Ci=h.useRef(0),Pn=h.useRef(!1),Be=h.useCallback(({scrollIntoPlace:fe=!0,scrollBehavior:At,safeViewport:ct="visual-viewport"})=>{let ot,Je;if(!Y.current||!Me.current||!pe.current||!Fe.current||a!=="y"||ct==="none"||_e?.current&&oe().top===null||!_e?.current&&oe)return;if(_e?.current){let{top:Br,bottom:Ra}=c2(Y.current),Sr=_e.current.getBoundingClientRect(),Es=Sr.top,Ge=Sr.bottom;ot=oe().top+(Br-Es),Je=oe().bottom-(Ge-Ra)}else{let{top:Br,bottom:Ra}=c2(Y.current);ot=Br,Je=Ra}let{top:vt,bottom:Vn}=dT(),pn=Math.min(Je,ct==="visual-viewport"?Vn:window.innerHeight),ao=Rfe(ot,ct==="visual-viewport"?vt:0),lo=Nfe(Je,ct==="visual-viewport"?Vn:window.innerHeight);if(1>Math.abs(jr.current-ao)&&1>Math.abs(Ci.current-lo))return;let Si=-1*(pn-pe.current.getBoundingClientRect().top),Ma=Y.current.offsetHeight-Me.current.offsetHeight>=0,Ia=()=>{fT(Fe.current,ao,jr),fT(pe.current,lo,Ci)};if(At==="smooth"&&(Si<0||Ma)?fe&&(Pn.current=!0,Ma?Y.current.scrollTo({top:0,behavior:At}):Y.current.scrollBy({top:Si,behavior:At}),Ci.current=lo,Ife(Y.current,()=>{Y.current&&Ma&&Y.current.scrollTo({top:0,behavior:"instant"}),Ia()})):Ia(),!fe)return{spacersHeightSetter:Ia,verticalScrollOffsetRequired:Si}},[a,oe,_e]),tn=h.useCallback(()=>Be({scrollBehavior:l2,safeViewport:u}),[u,Be]);wn(()=>{tn()},[tn]),h.useEffect(()=>{let fe=Y.current,At=Je=>{clearTimeout(Hu.current),clearTimeout(Zl.current);let vt=Je.target;if(vt===fe)return;let{scrollIntoView:Vn}=Ao({nativeEvent:Je,defaultBehavior:{scrollIntoView:!0},handler:y});if(!ol(vt)||SC(vt))return;let pn=vt.getBoundingClientRect().top-0,ao=vt.getBoundingClientRect().bottom-0,{top:lo,bottom:Si}=c2(Y.current),Ma=lo-0,Ia=Si-0,Br=()=>{if(clearTimeout(Hu.current),clearTimeout(Zl.current),!qm())return;bi.current=!0;let{top:Ra,bottom:Sr}=dT(),{spacersHeightSetter:Es=()=>{}}=Be({scrollIntoPlace:!1,scrollBehavior:"smooth",safeViewport:u})||{};Es(),Vn&&Pfe({scrollContainer:Y.current,behavior:l2,scrollMarginTop:64,scrollMarginBottom:Mfe,elementTop:pn,elementBottom:ao,scrollPortTop:Ma,scrollPortBottom:Ia,visualViewportTop:Ra,visualViewportBottom:Sr,beforeScrollCallback:()=>Pn.current=!0}),visualViewport.removeEventListener("resize",Br)};bi.current?(Br(),visualViewport.addEventListener("resize",Br),Hu.current=setTimeout(()=>{visualViewport.removeEventListener("resize",Br)},900)):(visualViewport.addEventListener("resize",Br),Zl.current=setTimeout(()=>{visualViewport.removeEventListener("resize",Br),Br()},900))},ct=Je=>{let vt=Je.target;!ol(vt)||SC(vt)||ol(Je.relatedTarget)||(bi.current=!1,Be({scrollBehavior:l2,safeViewport:u==="none"?"none":"layout-viewport"}))},ot=()=>{var Je;(Je=Y.current)===null||Je===void 0||Je.removeEventListener("scroll",tn),setTimeout(()=>{tn(),setTimeout(()=>{var vt;(vt=Y.current)===null||vt===void 0||vt.addEventListener("scroll",tn,{once:!0})},200)},1),setTimeout(()=>tn,350)};return fe?.addEventListener("focus",At,{capture:!0}),fe?.addEventListener("blur",ct,{capture:!0}),visualViewport.addEventListener("resize",ot),fe?.addEventListener("scroll",tn,{once:!0}),()=>{fe?.removeEventListener("focus",At,{capture:!0}),fe?.removeEventListener("blur",ct,{capture:!0}),visualViewport.removeEventListener("resize",ot),fe?.removeEventListener("scroll",tn)}},[y,u,Be,tn]);let M1=BD(Y),Fo=h.useMemo(()=>l&&!X,[X,l]),Ur=qn("Scroll",{axis:a,scrollTrapX:bt,scrollTrapY:!ye&&Ft||M1&&!Fo,scrollGestureOvershoot:f,scrollDisabled:st,pageScroll:l,nativePageScrollReplacement:c,overflowX:re,overflowY:de,skipScrollAnimation:w?.skip,scrollAnchoring:C,scrollSnapType:P,nativeScrollbar:T,scrollOngoing:ee});return m.jsxs(C1.Provider,{value:{contentRef:Me,axis:a,styleAttributes:Ur,nativeFocusScrollPrevention:b,swipeTrapIncapable:Fo,focusable:j,pageScroll:l,nativePageScrollReplacement:c,scrollContainerRef:Y,swipeTrapObserverRequired:Ne,startScrollSpyRef:ge,endScrollSpyRef:Se,startSpacerRef:Fe,endSpacerRef:pe,scrollHandler:kn,scrollPadding:E,scrollTimelineName:x},children:[l&&c!==!0&&m.jsx("style",{dangerouslySetInnerHTML:{__html:`
                            html[data-silk-native-page-scroll-replaced="false"] > body {
                                scroll-padding: ${E};
                                scroll-timeline-axis: ${x} ${a};
                            }
                        `}}),l&&c===!0&&m.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-true",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "true");
                        `}}),l&&c===!1&&m.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-false",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "false");
                        `}}),l&&c==="auto"&&m.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-auto",dangerouslySetInnerHTML:{__html:`
                            const standalone =
                                window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
                            const mobile = window.navigator.userAgent?.match(/android|iPhone|iPad/i);

                            document.documentElement.setAttribute("data-standalone", !!standalone);
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", !(mobile && !standalone));
                        `}}),m.jsx(hL,{}),m.jsx(D,{...Ur("view",["axis","pageScroll","skipScrollAnimation","scrollOngoing"],{className:s,dataSilk:[o]}),...k,ref:B,children:r})]})});pL.displayName="Scroll.View";let OC=Ee.forwardRef(({side:e,...t},n)=>{let{axis:r}=h.useContext(C1)||{},s=qn("Scroll",{side:e,axis:r});return m.jsx("div",{...s("spy",["side","axis"]),ref:n,...t})});OC.displayName="Scroll.Anonymous";let mL=Ee.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":s,...o}=e,i=n?Gn:"div",{contentRef:a,styleAttributes:l,nativeFocusScrollPrevention:c,swipeTrapIncapable:u,focusable:d,axis:f,pageScroll:p,nativePageScrollReplacement:g,scrollContainerRef:v,swipeTrapObserverRequired:_,startScrollSpyRef:y,endScrollSpyRef:b,startSpacerRef:w,endSpacerRef:C,scrollHandler:S,scrollPadding:E,scrollTimelineName:x}=h.useContext(C1)||{},T=Lr(a,t);return m.jsxs("div",{...l("scrollContainer",["axis","pageScroll","scrollTrapX","scrollTrapY","scrollGestureOvershoot","scrollDisabled","overflowX","overflowY","skipScrollAnimation","scrollAnchoring","scrollSnapType","nativeScrollbar"],{dataSilk:[s,"0ad",c&&"0ah",u&&"0ai"]}),style:{scrollPadding:E,scrollTimeline:x+" "+f},tabIndex:d?0:c?-1:void 0,role:p&&!g?void 0:"region",onScroll:S,ref:v,children:[_&&m.jsx(OC,{side:"start",ref:y}),f==="y"&&m.jsx("div",{ref:w,...l("startSpacer",["axis","pageScroll"])}),m.jsx(i,{...l("content",["axis","scrollTrapX","scrollTrapY","overflowX","overflowY"],{className:r,dataSilk:[s]}),...o,ref:T}),f==="y"&&m.jsx("div",{ref:C,...l("endSpacer",["axis","pageScroll"])}),_&&m.jsx(OC,{side:"end",ref:b})]})});mL.displayName="Scroll.Content";let Dfe=Ee.forwardRef(({asChild:e,...t},n)=>{let r=e?Gn:"button",{forComponent:s,onPress:o,onClick:i,children:a,action:l,...c}=t,{type:u,...d}=l||{},{scrollTo:f,scrollBy:p}=dL(s),g=h.useRef(null),v=Lr(g,n);return m.jsx(r,{onClick:_=>{var y;let{forceFocus:b,runAction:w}=Ao({nativeEvent:_,defaultBehavior:{forceFocus:!0,runAction:!0},handler:o});if(b&&((y=g.current)===null||y===void 0||y.focus({preventScroll:!0})),w){if(u==="scroll-to")return f(d);if(u==="scroll-by")return p(d)}i?.(_)},ref:v,...c,children:a})});Dfe.displayName="Sheet.Trigger";let u2={Root:fL,View:pL,Content:mL},Lfe=e=>h.useContext(e??pa)||{},gL=Ee.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":s,timing:o,forComponent:i,tabIndex:a,...l}=e,c=n?Gn:"div",{sheetId:u}=i?Lfe(i):{},d=u??"any",f=h.useCallback(w=>{Ze.addAutoFocusTarget({layerId:d,element:w,timing:o})},[d,o]),p=h.useCallback(w=>{Ze.removeAutoFocusTarget(w)},[]),g=h.useRef(null),v=h.useCallback(w=>{w?f(w):p(g.current),g.current=w},[f,p]),_=h.useRef(!0);h.useEffect(()=>(g.current&&!_.current&&f(g.current),_.current=!1,()=>{g.current&&p(g.current)}),[f,p]);let y=Lr(v,t),b=qn("AutoFocusTarget",{});return m.jsx(c,{...b("root",[],{className:r,dataSilk:[s]}),...n||Number.isInteger(a)?{}:{tabIndex:-1},...l,ref:y})});gL.displayName="AutoFocusTarget.Root";let vL={Root:gL},Ffe=Ee.forwardRef((e,t)=>{let{asChild:n,disabled:r=!1,children:s,contentGetter:o,forComponent:i,...a}=e,l=h.useRef(null),c=Lr(l,t),u=h.useMemo(()=>!!s,[s]);return h.useEffect(()=>{let d,f;if(!r){let p,g=!1;if(u&&l.current?p=l.current:o&&(p=Bm(o))&&(g=!0),p){let v=Array.isArray(i)?i:i?[i]:[];d=Ze.addIsland({componentId:v,element:p}),g&&(f=new MutationObserver(()=>{Bm(o)||(Ze.removeIsland(d),f.disconnect())})).observe(p.parentElement,{childList:!0})}}return()=>{r||(Ze.removeIsland(d),f?.disconnect())}},[t,r,u,o,i]),s?m.jsx(ri.Root,{active:!r,asChild:n,"data-silk":"0ag",...a,ref:c,children:s}):null});Ffe.displayName="Island.Root";let jfe=Ee.forwardRef((e,t)=>{let{asChild:n,children:r,...s}=e;return m.jsx(ri.Stabiliser,{asChild:n,...s,ref:t,children:r})});jfe.displayName="Island.Content";let Ufe=Ee.forwardRef(({asChild:e,children:t,contentGetter:n,disabled:r=!1,selfManagedInertOutside:s=!0,...o},i)=>{let a=Il(),l=h.useRef(null),c=Lr(l,i),u=e?Gn:"div",d=h.useMemo(()=>!!t,[t]);return wn(()=>{let f;if(!r&&a){let p,g=!1;d&&l.current?p=l.current:n&&(p=Bm(n))&&(g=!0),p&&(Ze.updateLayer({external:!0,layerId:a,viewElement:p,inertOutside:s,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},defaultClickOutsideAction:()=>{},defaultEscapeKeyDownAction:()=>{}}),g&&(f=new MutationObserver(()=>{Bm(n)||(Ze.removeLayer(a),f.disconnect())})).observe(p.parentElement,{childList:!0}))}return()=>{!r&&a&&(Ze.removeLayer(a),f?.disconnect())}},[d,n,r,a,s]),m.jsx(u,{ref:c,...o,children:t})});Ufe.displayName="ExternalOverlay.Root";const _L=en(()=>({anySheetOpen$:wt(!1)}));function Bfe(e){"use forget";const t=ke.c(12);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=ae();let o;t[3]!==s?(o=_L(s),t[3]=s,t[4]=o):o=t[4];const i=o;let a;t[5]!==r||t[6]!==i.anySheetOpen$?(a=c=>{i.anySheetOpen$.set(c),r.onPresentedChange?.(c)},t[5]=r,t[6]=i.anySheetOpen$,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==r||t[10]!==a?(l=m.jsx(Ki.Root,{license:"commercial","data-content-sheet-root":!0,...r,onPresentedChange:a,children:n}),t[8]=n,t[9]=r,t[10]=a,t[11]=l):l=t[11],l}function qfe(e){"use forget";const t=ke.c(23);let n,r,s,o,i;t[0]!==e?({children:n,className:r,onTravel:o,onCloseComplete:s,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5]);const a=h.useRef(null),l=Gg(),c=l?"center":"bottom",[u,d]=h.useState(null),f=ae();let p;t[6]!==f?(p=_L(f),t[6]=f,t[7]=p):p=t[7];const g=p;let v;t[8]!==s||t[9]!==o||t[10]!==g?(v=S=>{const{progress:E,...x}=S;if(!a.current)return o?.({progress:E,...x});E<.999?d(null):E===0?(g.anySheetOpen$.set(!1),s?.()):(g.anySheetOpen$.set(!0),d("opened")),o?.({progress:E,...x})},t[8]=s,t[9]=o,t[10]=g,t[11]=v):v=t[11];const _=v,y=`view-${l}`;let b;t[12]!==r?(b=he("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius:16px] sm:h-full",r),t[12]=r,t[13]=b):b=t[13];let w;t[14]===Symbol.for("react.memo_cache_sentinel")?(w={focus:!1},t[14]=w):w=t[14];let C;return t[15]!==n||t[16]!==c||t[17]!==i||t[18]!==y||t[19]!==b||t[20]!==_||t[21]!==u?(C=m.jsx(Ki.View,{className:b,"data-sheet-travel-state":u,"data-ignore-for-page-load":!0,contentPlacement:c,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:!0,onTravel:_,onDismissAutoFocus:w,ref:a,...i,children:n},y),t[15]=n,t[16]=c,t[17]=i,t[18]=y,t[19]=b,t[20]=_,t[21]=u,t[22]=C):C=t[22],C}function Gfe(e){"use forget";const t=ke.c(2),n=h.useRef(null);let r;return t[0]!==e?(r=m.jsx(Ki.Backdrop,{ref:n,...e}),t[0]=e,t[1]=r):r=t[1],r}function Vfe(e){"use forget";const t=ke.c(15);let n,r,s,o,i;t[0]!==e?({children:n,size:i,className:r,ref:s,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5]);const a=i===void 0?"fill":i,l=a==="fit"&&"h-min max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",c=a==="fill"&&"h-[calc(100%-max(env(safe-area-inset-top),6px))] sm:h-[calc(100%-4rem)]";let u;t[6]!==r||t[7]!==l||t[8]!==c?(u=he("max-w-md overflow-clip [border-radius:var(--sheet-radius)_var(--sheet-radius)_0_0] pb-4 focus:outline-hidden sm:w-[calc(800px-1.25rem)] sm:[border-radius:var(--sheet-radius)]",l,c,r),t[6]=r,t[7]=l,t[8]=c,t[9]=u):u=t[9];let d;return t[10]!==n||t[11]!==s||t[12]!==o||t[13]!==u?(d=m.jsx(Ki.Content,{className:u,...o,ref:s,children:n}),t[10]=n,t[11]=s,t[12]=o,t[13]=u,t[14]=d):d=t[14],d}const si={Root:Bfe,Portal:Ki.Portal,View:qfe,Backdrop:Gfe,Content:Vfe,Trigger:Ki.Trigger,Handle:Ki.Handle,Title:Ki.Title};function Hfe({children:e,className:t,...n}){return m.jsx(u2.Root,{asChild:!0,children:m.jsx(u2.View,{className:he("min-h-0",t),safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller",...n,children:m.jsx(u2.Content,{className:"align-content-start grid",tabIndex:-1,children:e})})})}function zfe({className:e,children:t,handle:n="auto",...r}){const s=Gg(),o=n==="auto"?!s:n;return m.jsxs(si.Content,{className:he("bg-token-bg-primary content-sheet popup shadow-long @container/sheet-content grid [--padding:1rem]",o?"grid-rows-[min-content_min-content_1fr_min-content]":"grid-rows-[min-content_1fr_min-content]",e),...r,children:[o&&m.jsx(vL.Root,{timing:"present",className:"flex justify-center focus-visible:outline-none",children:m.jsx($fe,{})}),t]})}function $fe(e){"use forget";const t=ke.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==n?(s=he("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 mb-0.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=s):s=t[4];let o;return t[5]!==r||t[6]!==s?(o=m.jsx(si.Handle,{className:s,...r}),t[5]=r,t[6]=s,t[7]=o):o=t[7],o}function Wfe(e){"use forget";const t=ke.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==r.className?(s=he("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",r.className),t[3]=r.className,t[4]=s):s=t[4];let o;return t[5]!==n||t[6]!==r||t[7]!==s?(o=m.jsx("header",{...r,className:s,children:n}),t[5]=n,t[6]=r,t[7]=s,t[8]=o):o=t[8],o}function Kfe(e){"use forget";const t=ke.c(5);let n;t[0]!==e.className?(n=he("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=m.jsx(si.Title,{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function Yfe(e){"use forget";const t=ke.c(5);let n;t[0]!==e.className?(n=he("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=m.jsx("footer",{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const Zfe=vde(sn,e=>m.jsx(si.Trigger,{action:"dismiss",asChild:!0,children:e}));function Jfe(e){"use forget";const t=ke.c(12);let n,r,s,o;t[0]!==e?({fullBleed:s,className:r,children:n,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o):(n=t[1],r=t[2],s=t[3],o=t[4]);const i=!s&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==i?(a=he(i,r),t[5]=r,t[6]=i,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==o||t[10]!==a?(l=m.jsx("section",{"data-content-sheet-section":!0,className:a,...o,children:n}),t[8]=n,t[9]=o,t[10]=a,t[11]=l):l=t[11],l}function Xfe(e){"use forget";const t=ke.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=Gg(),i=vZ()||s;let a;t[3]!==i?(a={preset:"snappy",skip:i},t[3]=i,t[4]=a):a=t[4];const l=a;let c;return t[5]!==l||t[6]!==n||t[7]!==r?(c=m.jsx(si.View,{enteringAnimationSettings:l,exitingAnimationSettings:l,...r,children:n}),t[5]=l,t[6]=n,t[7]=r,t[8]=c):c=t[8],c}function Qfe(e){"use forget";const t=ke.c(9);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const o=Gg()&&"before:starting:backdrop-blur-0 fixed inset-0 z-50 bg-transparent opacity-100! before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 before:starting:opacity-0";let i;t[3]!==n||t[4]!==o?(i=he(o,n),t[3]=n,t[4]=o,t[5]=i):i=t[5];let a;return t[6]!==r||t[7]!==i?(a=m.jsx(si.Backdrop,{themeColorDimming:!1,className:i,...r}),t[6]=r,t[7]=i,t[8]=a):a=t[8],a}const Co={Root:si.Root,Trigger:si.Trigger,Portal:si.Portal,View:Xfe,Backdrop:Qfe,Content:zfe,HeaderBar:Wfe,Title:Kfe,FooterBar:Yfe,DismissAction:Zfe,ScrollRoot:Hfe,AutoFocusTarget:vL.Root,ContentSection:Jfe},ehe=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.667 2.08496C15.0382 2.08509 18.582 5.62875 18.582 10C18.582 14.3713 15.0382 17.9149 10.667 17.915C6.29566 17.915 2.75195 14.3713 2.75195 10C2.75195 5.62867 6.29566 2.08496 10.667 2.08496ZM13.7588 6.74805C13.4585 6.53673 13.0434 6.60897 12.832 6.90918L9.35059 11.8545L7.82617 10.1777L7.72559 10.0879C7.47599 9.90563 7.12443 9.91699 6.88672 10.1328C6.64884 10.3491 6.60354 10.6989 6.76172 10.9648L6.8418 11.0723L8.9248 13.3643L8.97852 13.417C9.10977 13.532 9.28278 13.592 9.45898 13.5811C9.66011 13.5683 9.84489 13.4646 9.96094 13.2998L13.9199 7.6748C14.131 7.37468 14.0586 6.95952 13.7588 6.74805Z"})),j6=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M12.0961 2.91371C12.3297 2.68688 12.6984 2.64794 12.9779 2.83852C13.2571 3.02905 13.3554 3.38601 13.2299 3.68618L13.1615 3.81118L6.91152 12.9772C6.79412 13.1494 6.60631 13.2604 6.39882 13.2799C6.19137 13.2994 5.98565 13.226 5.83828 13.0788L2.08828 9.32875L1.99843 9.2184C1.81921 8.94677 1.84928 8.57767 2.08828 8.33852C2.3274 8.0994 2.69648 8.06947 2.96816 8.24868L3.07851 8.33852L6.23085 11.4909L12.0053 3.02211L12.0961 2.91371Z"})),the=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),nhe={threshold:1,rootMargin:"0%"};function rhe({target:e,onChange:t,options:n=nhe}){if(!e)return;const r=new IntersectionObserver(o=>{const i=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];o.forEach(a=>{const l=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t(l,a)})},n);function s(){r.disconnect()}return r.observe(e),s}function she({setIsScrolledToEdge:e,className:t,options:n}){return m.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:he("pointer-events-none h-px w-px",t),ref:r=>rhe({target:r,onChange:s=>e(!s),options:n})})}const ohe=({isOpen:e,onClose:t})=>{const n=h.useRef(null),r=n.current?.ownerDocument.body??null;return h.useEffect(()=>{if(!r||!e)return;const s=o=>{(!o.relatedTarget||o.relatedTarget instanceof HTMLElement&&!r.contains(o.relatedTarget))&&t()};return r.addEventListener("blur",s,{capture:!0}),()=>r.removeEventListener("blur",s,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var ihe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yc=new WeakMap,sp=new WeakMap,op={},d2=0,yL=function(e){return e&&(e.host||yL(e.parentNode))},ahe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lhe=function(e,t,n,r){var s=ahe(t,Array.isArray(e)?e:[e]);op[n]||(op[n]=new WeakMap);var o=op[n],i=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",v=(yc.get(f)||0)+1,_=(o.get(f)||0)+1;yc.set(f,v),o.set(f,_),i.push(f),v===1&&g&&sp.set(f,!0),_===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),d2++,function(){i.forEach(function(d){var f=yc.get(d)-1,p=o.get(d)-1;yc.set(d,f),o.set(d,p),f||(sp.has(d)||d.removeAttribute(r),sp.delete(d)),p||d.removeAttribute(n)}),d2--,d2||(yc=new WeakMap,yc=new WeakMap,sp=new WeakMap,op={})}},che=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=ihe(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),lhe(r,s,n,"aria-hidden")):function(){return null}},AC=["Enter"," "],uhe=["ArrowDown","PageUp","Home"],bL=["ArrowUp","PageDown","End"],dhe=[...uhe,...bL],fhe={ltr:[...AC,"ArrowRight"],rtl:[...AC,"ArrowLeft"]},hhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},oh="Menu",[pf,phe,mhe]=rR(oh),[Wl,CL]=ku(oh,[mhe,n1,Xg]),ih=n1(),SL=Xg(),[wL,Oa]=Wl(oh),[ghe,ah]=Wl(oh),EL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=ih(t),[l,c]=h.useState(null),u=h.useRef(!1),d=bs(o),f=U5(s);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),m.jsx(J5,{...a,children:m.jsx(wL,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(ghe,{scope:t,onClose:h.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:i,children:r})})})};EL.displayName=oh;var vhe="MenuAnchor",U6=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return m.jsx(WR,{...s,...r,ref:t})});U6.displayName=vhe;var B6="MenuPortal",[_he,xL]=Wl(B6,{forceMount:void 0}),TL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Oa(B6,t);return m.jsx(_he,{scope:t,forceMount:n,children:m.jsx(ro,{present:n||o.open,children:m.jsx(Uf,{asChild:!0,container:s,children:r})})})};TL.displayName=B6;var _s="MenuContent",[yhe,q6]=Wl(_s),kL=h.forwardRef((e,t)=>{const n=xL(_s,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Oa(_s,e.__scopeMenu),i=ah(_s,e.__scopeMenu);return m.jsx(pf.Provider,{scope:e.__scopeMenu,children:m.jsx(ro,{present:r||o.open,children:m.jsx(pf.Slot,{scope:e.__scopeMenu,children:i.modal?m.jsx(bhe,{...s,ref:t}):m.jsx(Che,{...s,ref:t})})})})}),bhe=h.forwardRef((e,t)=>{const n=Oa(_s,e.__scopeMenu),r=h.useRef(null),s=En(t,r);return h.useEffect(()=>{const o=r.current;if(o)return che(o)},[]),m.jsx(G6,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Che=h.forwardRef((e,t)=>{const n=Oa(_s,e.__scopeMenu);return m.jsx(G6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),G6=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...v}=e,_=Oa(_s,n),y=ah(_s,n),b=ih(n),w=SL(n),C=phe(n),[S,E]=h.useState(null),x=h.useRef(null),T=En(t,x,_.onContentChange),k=h.useRef(0),O=h.useRef(""),A=h.useRef(0),M=h.useRef(null),I=h.useRef("right"),N=h.useRef(0),q=g?R3:h.Fragment,P=g?{as:lu,allowPinchZoom:!0}:void 0,D=B=>{const Y=O.current+B,Me=C().filter(K=>!K.disabled),Fe=document.activeElement,pe=Me.find(K=>K.ref.current===Fe)?.textValue,ge=Me.map(K=>K.textValue),Se=Nhe(ge,Y,pe),se=Me.find(K=>K.textValue===Se)?.ref.current;(function K(G){O.current=G,window.clearTimeout(k.current),G!==""&&(k.current=window.setTimeout(()=>K(""),1e3))})(Y),se&&setTimeout(()=>se.focus())};h.useEffect(()=>()=>window.clearTimeout(k.current),[]),ZA();const R=h.useCallback(B=>I.current===M.current?.side&&Dhe(B,M.current?.area),[]);return m.jsx(yhe,{scope:n,searchRef:O,onItemEnter:h.useCallback(B=>{R(B)&&B.preventDefault()},[R]),onItemLeave:h.useCallback(B=>{R(B)||(x.current?.focus(),E(null))},[R]),onTriggerLeave:h.useCallback(B=>{R(B)&&B.preventDefault()},[R]),pointerGraceTimerRef:A,onPointerGraceIntentChange:h.useCallback(B=>{M.current=B},[]),children:m.jsx(q,{...P,children:m.jsx(I3,{asChild:!0,trapped:s,onMountAutoFocus:We(o,B=>{B.preventDefault(),x.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:m.jsx(jf,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:m.jsx(uR,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:We(l,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(KR,{role:"menu","aria-orientation":"vertical","data-state":HL(_.open),"data-radix-menu-content":"",dir:y.dir,...b,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:We(v.onKeyDown,B=>{const Me=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Fe=B.ctrlKey||B.altKey||B.metaKey,pe=B.key.length===1;Me&&(B.key==="Tab"&&B.preventDefault(),!Fe&&pe&&D(B.key));const ge=x.current;if(B.target!==ge||!dhe.includes(B.key))return;B.preventDefault();const se=C().filter(K=>!K.disabled).map(K=>K.ref.current);bL.includes(B.key)&&se.reverse(),Ihe(se)}),onBlur:We(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(k.current),O.current="")}),onPointerMove:We(e.onPointerMove,mf(B=>{const Y=B.target,Me=N.current!==B.clientX;if(B.currentTarget.contains(Y)&&Me){const Fe=B.clientX>N.current?"right":"left";I.current=Fe,N.current=B.clientX}}))})})})})})})});kL.displayName=_s;var She="MenuGroup",V6=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Gt.div,{role:"group",...r,ref:t})});V6.displayName=She;var whe="MenuLabel",OL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Gt.div,{...r,ref:t})});OL.displayName=whe;var Vm="MenuItem",hT="menu.itemSelect",S1=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=ah(Vm,e.__scopeMenu),a=q6(Vm,e.__scopeMenu),l=En(t,o),c=h.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(hT,{bubbles:!0,cancelable:!0});d.addEventListener(hT,p=>r?.(p),{once:!0}),zA(d,f),f.defaultPrevented?c.current=!1:i.onClose()}};return m.jsx(AL,{...s,ref:l,disabled:n,onClick:We(e.onClick,u),onPointerDown:d=>{e.onPointerDown?.(d),c.current=!0},onPointerUp:We(e.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:We(e.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||AC.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});S1.displayName=Vm;var AL=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=q6(Vm,n),a=SL(n),l=h.useRef(null),c=En(t,l),[u,d]=h.useState(!1),[f,p]=h.useState("");return h.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[o.children]),m.jsx(pf.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:m.jsx(dR,{asChild:!0,...a,focusable:!r,children:m.jsx(Gt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:We(e.onPointerMove,mf(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(e.onPointerLeave,mf(g=>i.onItemLeave(g))),onFocus:We(e.onFocus,()=>d(!0)),onBlur:We(e.onBlur,()=>d(!1))})})})}),Ehe="MenuCheckboxItem",ML=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return m.jsx(DL,{scope:e.__scopeMenu,checked:n,children:m.jsx(S1,{role:"menuitemcheckbox","aria-checked":Hm(n)?"mixed":n,...s,ref:t,"data-state":$6(n),onSelect:We(s.onSelect,()=>r?.(Hm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ML.displayName=Ehe;var IL="MenuRadioGroup",[xhe,The]=Wl(IL,{value:void 0,onValueChange:()=>{}}),RL=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=bs(r);return m.jsx(xhe,{scope:e.__scopeMenu,value:n,onValueChange:o,children:m.jsx(V6,{...s,ref:t})})});RL.displayName=IL;var NL="MenuRadioItem",PL=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=The(NL,e.__scopeMenu),o=n===s.value;return m.jsx(DL,{scope:e.__scopeMenu,checked:o,children:m.jsx(S1,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":$6(o),onSelect:We(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});PL.displayName=NL;var H6="MenuItemIndicator",[DL,khe]=Wl(H6,{checked:!1}),LL=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=khe(H6,n);return m.jsx(ro,{present:r||Hm(o.checked)||o.checked===!0,children:m.jsx(Gt.span,{...s,ref:t,"data-state":$6(o.checked)})})});LL.displayName=H6;var Ohe="MenuSeparator",FL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Gt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});FL.displayName=Ohe;var Ahe="MenuArrow",jL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return m.jsx(YR,{...s,...r,ref:t})});jL.displayName=Ahe;var z6="MenuSub",[Mhe,UL]=Wl(z6),BL=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,o=Oa(z6,t),i=ih(t),[a,l]=h.useState(null),[c,u]=h.useState(null),d=bs(s);return h.useEffect(()=>(o.open===!1&&d(!1),()=>d(!1)),[o.open,d]),m.jsx(J5,{...i,children:m.jsx(wL,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:m.jsx(Mhe,{scope:t,contentId:ko(),triggerId:ko(),trigger:a,onTriggerChange:l,children:n})})})};BL.displayName=z6;var wd="MenuSubTrigger",qL=h.forwardRef((e,t)=>{const n=Oa(wd,e.__scopeMenu),r=ah(wd,e.__scopeMenu),s=UL(wd,e.__scopeMenu),o=q6(wd,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),m.jsx(U6,{asChild:!0,...c,children:m.jsx(AL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HL(n.open),...e,ref:Cg(t,s.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:We(e.onPointerMove,mf(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:We(e.onPointerLeave,mf(d=>{u();const f=n.content?.getBoundingClientRect();if(f){const p=n.content?.dataset.side,g=p==="right",v=g?-5:5,_=f[g?"left":"right"],y=f[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:_,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:_,y:f.bottom}],side:p}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:We(e.onKeyDown,d=>{const f=o.searchRef.current!=="";e.disabled||f&&d.key===" "||fhe[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});qL.displayName=wd;var GL="MenuSubContent",VL=h.forwardRef((e,t)=>{const n=xL(_s,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Oa(_s,e.__scopeMenu),i=ah(_s,e.__scopeMenu),a=UL(GL,e.__scopeMenu),l=h.useRef(null),c=En(t,l);return m.jsx(pf.Provider,{scope:e.__scopeMenu,children:m.jsx(ro,{present:r||o.open,children:m.jsx(pf.Slot,{scope:e.__scopeMenu,children:m.jsx(G6,{id:a.contentId,"aria-labelledby":a.triggerId,align:"start",...s,ref:c,side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:We(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:We(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:We(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=hhe[i.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),a.trigger?.focus(),u.preventDefault())})})})})})});VL.displayName=GL;function HL(e){return e?"open":"closed"}function Hm(e){return e==="indeterminate"}function $6(e){return Hm(e)?"indeterminate":e?"checked":"unchecked"}function Ihe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Rhe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Nhe(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Rhe(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Phe(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,l=t[o].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Dhe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Phe(n,t)}function mf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Lhe=EL,Fhe=U6,jhe=TL,Uhe=kL,Bhe=V6,qhe=OL,Ghe=S1,Vhe=ML,Hhe=RL,zhe=PL,$he=LL,Whe=FL,Khe=jL,Yhe=BL,Zhe=qL,Jhe=VL,W6="DropdownMenu",[Xhe,p7e]=ku(W6,[CL]),mr=CL(),[Qhe,zL]=Xhe(W6),$L=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=mr(t),c=h.useRef(null),[u=!1,d]=Bl({prop:s,defaultProp:o,onChange:i});return m.jsx(Qhe,{scope:t,triggerId:ko(),triggerRef:c,contentId:ko(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:m.jsx(Lhe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};$L.displayName=W6;var WL="DropdownMenuTrigger",KL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=zL(WL,n),i=mr(n);return m.jsx(Fhe,{asChild:!0,...i,children:m.jsx(Gt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cg(t,o.triggerRef),onPointerDown:We(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:We(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});KL.displayName=WL;var epe="DropdownMenuPortal",YL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=mr(t);return m.jsx(jhe,{...r,...n})};YL.displayName=epe;var ZL="DropdownMenuContent",JL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zL(ZL,n),o=mr(n),i=h.useRef(!1);return m.jsx(Uhe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:We(e.onCloseAutoFocus,a=>{i.current||s.triggerRef.current?.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:We(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JL.displayName=ZL;var tpe="DropdownMenuGroup",XL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Bhe,{...s,...r,ref:t})});XL.displayName=tpe;var npe="DropdownMenuLabel",QL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(qhe,{...s,...r,ref:t})});QL.displayName=npe;var rpe="DropdownMenuItem",eF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Ghe,{...s,...r,ref:t})});eF.displayName=rpe;var spe="DropdownMenuCheckboxItem",tF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Vhe,{...s,...r,ref:t})});tF.displayName=spe;var ope="DropdownMenuRadioGroup",nF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Hhe,{...s,...r,ref:t})});nF.displayName=ope;var ipe="DropdownMenuRadioItem",rF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(zhe,{...s,...r,ref:t})});rF.displayName=ipe;var ape="DropdownMenuItemIndicator",sF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx($he,{...s,...r,ref:t})});sF.displayName=ape;var lpe="DropdownMenuSeparator",oF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Whe,{...s,...r,ref:t})});oF.displayName=lpe;var cpe="DropdownMenuArrow",upe=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Khe,{...s,...r,ref:t})});upe.displayName=cpe;var dpe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:o}=e,i=mr(t),[a=!1,l]=Bl({prop:r,defaultProp:o,onChange:s});return m.jsx(Yhe,{...i,open:a,onOpenChange:l,children:n})},fpe="DropdownMenuSubTrigger",iF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Zhe,{...s,...r,ref:t})});iF.displayName=fpe;var hpe="DropdownMenuSubContent",aF=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mr(n);return m.jsx(Jhe,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aF.displayName=hpe;var lF=$L,K6=KL,ppe=YL,mpe=JL,gpe=XL,vpe=QL,w1=eF,cF=tF,_pe=nF,ype=rF,bpe=sF,Cpe=oF,Spe=dpe,wpe=iF,Epe=aF;const xpe=Vl.button`
text-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent
leading-none outline-hidden cursor-pointer
hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary
focus-visible:bg-token-main-surface-secondary
radix-state-active:text-token-text-secondary
radix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent
data-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent
`,m7e="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none",uF=Vl.div`z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0`,g7e=Vl.div`popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long`,Fr=h.createContext({activeDetent$:wt(void 0),mode:"dropdown",open$:wt(!1)}),Y6=h.createContext({}),dF=6,fF=function(t){"use forget";const n=ke.c(39);let r,s,o,i,a,l,c,u,d;n[0]!==t?({children:s,className:o,size:c,align:r,addBottomGradient:u,sheetContentClassName:l,ref:i,sheetSize:d,...a}=t,n[0]=t,n[1]=r,n[2]=s,n[3]=o,n[4]=i,n[5]=a,n[6]=l,n[7]=c,n[8]=u,n[9]=d):(r=n[1],s=n[2],o=n[3],i=n[4],a=n[5],l=n[6],c=n[7],u=n[8],d=n[9]);const f=c===void 0?"default":c,p=u===void 0?!1:u,g=d===void 0?"fit":d,{detents:v,mode:_}=h.use(Fr),[y,b]=h.useState(!1);if(_==="sheet"){let A;n[10]===Symbol.for("react.memo_cache_sentinel")?(A=m.jsx(Co.Backdrop,{}),n[10]=A):A=n[10];let M;n[11]!==s||n[12]!==l?(M=m.jsx(Co.ScrollRoot,{children:m.jsx(Co.ContentSection,{"data-content-sheet-content-section":!0,className:l,children:s})}),n[11]=s,n[12]=l,n[13]=M):M=n[13];let I;n[14]!==o||n[15]!==i||n[16]!==a||n[17]!==g||n[18]!==M?(I=m.jsx(Co.Content,{size:g,ref:i,className:o,...a,children:M}),n[14]=o,n[15]=i,n[16]=a,n[17]=g,n[18]=M,n[19]=I):I=n[19];let N;return n[20]!==v||n[21]!==I?(N=m.jsxs(Co.View,{detents:v,children:[A,I]}),n[20]=v,n[21]=I,n[22]=N):N=n[22],N}const w=r??"start",C=f==="default",S=f==="large",E=f==="small",x=f==="medium";let T;n[23]!==o||n[24]!==C||n[25]!==S||n[26]!==E||n[27]!==x?(T=he({"min-w-[min(280px,95vw)]":C,"min-w-[min(350px,95vw)]":S,"min-w-[min(125px,95vw)]":E,"min-w-[min(200px,95vw)]":x},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",o),n[23]=o,n[24]=C,n[25]=S,n[26]=E,n[27]=x,n[28]=T):T=n[28];let k;n[29]!==p||n[30]!==y?(k=p&&m.jsxs(m.Fragment,{children:[m.jsx(she,{setIsScrolledToEdge:b},"dropdownBottomEdgeScrollObserver"),m.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:y?1:0}})]}),n[29]=p,n[30]=y,n[31]=k):k=n[31];let O;return n[32]!==s||n[33]!==i||n[34]!==a||n[35]!==k||n[36]!==w||n[37]!==T?(O=m.jsx(hte,{children:m.jsxs(uF,{ref:i,$as:mpe,sideOffset:4,align:w,collisionPadding:dF,className:T,...a,children:[s,k]})}),n[32]=s,n[33]=i,n[34]=a,n[35]=k,n[36]=w,n[37]=T,n[38]=O):O=n[38],O};function Tpe(e){"use forget";const t=ke.c(13);let n,r;t[0]!==e?({ref:r,...n}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:s}=h.use(Fr);let o;t[3]!==n?(o=l=>{l.stopPropagation(),n.onFocusCapture?.(l)},t[3]=n,t[4]=o):o=t[4];const i=o;if(s==="sheet"){let l;return t[5]!==i||t[6]!==n||t[7]!==r?(l=m.jsx(Co.Trigger,{asChild:!0,children:m.jsx("button",{ref:r,onFocusCapture:i,...n})}),t[5]=i,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==i||t[10]!==n||t[11]!==r?(a=m.jsx(xpe,{$as:K6,ref:r,...n,onFocusCapture:i}),t[9]=i,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function kpe(e){"use forget";const t=ke.c(20);let n,r,s,o;t[0]!==e?({ref:o,onClick:r,onFocusCapture:s,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o):(n=t[1],r=t[2],s=t[3],o=t[4]);const{mode:i,open$:a}=h.use(Fr),l=es(a);let c;t[5]!==r?(c=g=>{g.preventDefault(),r?.(g)},t[5]=r,t[6]=c):c=t[6];const u=c;let d;t[7]!==s?(d=g=>{g.stopPropagation(),s?.(g)},t[7]=s,t[8]=d):d=t[8];const f=d;if(i==="sheet"){const g=l?"open":"closed",v=u;let _;return t[9]!==f||t[10]!==n||t[11]!==o||t[12]!==g||t[13]!==v?(_=m.jsx(Co.Trigger,{ref:o,"data-state":g,onFocusCapture:f,onClick:v,...n}),t[9]=f,t[10]=n,t[11]=o,t[12]=g,t[13]=v,t[14]=_):_=t[14],_}let p;return t[15]!==u||t[16]!==f||t[17]!==n||t[18]!==o?(p=m.jsx(K6,{ref:o,onClick:u,onFocusCapture:f,...n}),t[15]=u,t[16]=f,t[17]=n,t[18]=o,t[19]=p):p=t[19],p}function hF({children:e}){const{mode:t}=h.use(Fr),n=iN();return t==="sheet"?m.jsx(Co.Portal,{...n,children:e}):m.jsx(ppe,{...n,children:e})}function Kl({onPointerMove:e,onPointerLeave:t,...n}){return{...n,onPointerMove:r=>{e?.(r),pT(r)},onPointerLeave:r=>{t?.(r),pT(r)}}}const pT=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&YI(t,"data-hold-focus")&&e.preventDefault()}},pF=e=>{const{disabled:t,ref:n,onSelect:r,...s}=e,[o,i]=Ee.useState(!1);return m.jsx("div",{role:"menuitem","data-highlighted":o?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n,...s,onFocus:a=>{i(!0),e.onFocus?.(a)},onBlur:a=>{i(!1),e.onBlur?.(a)},onSelect:a=>{r?.(a.nativeEvent)},children:e.children})},Ope=e=>{const{mode:t}=h.use(Fr);return m.jsx(gi,{as:t==="sheet"?pF:w1,hasManagedFocus:!0,...Kl(e)})},Ape=e=>{const{mode:t}=h.use(Fr),n=t==="sheet"?pF:w1;return m.jsx(n,{asChild:!0,...Kl({}),children:m.jsx(gi,{...e})})};function Mpe({className:e,noMargin:t,...n}){return m.jsx(Cpe,{className:he("bg-token-border-default h-px",!t&&"mx-4 my-1",e),...n})}const Ipe=({separator:e=!0,className:t,...n})=>{const{mode:r}=h.use(Fr),s=m.jsx(gpe,{className:he("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t),...n});return r==="sheet"?m.jsx(S5,{name:"DropdownGroup",fallback:m.jsx(m.Fragment,{}),children:s}):s};function Rpe(e){const{children:t,value:n,defaultValue:r,defaultChecked:s,...o}=e,i=o,{onRadioGroupChange:a}=h.use(Y6);return m.jsxs("label",{...i,children:[t,m.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:s,onChange:l=>{a?.(l.target.value)}})]})}const Npe=e=>{"use forget";const t=ke.c(6),{mode:n}=h.use(Fr),r=n==="sheet"?Rpe:ype;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=m.jsx(mF,{}),t[0]=s):s=t[0];let o;t[1]!==e?(o=Kl(e),t[1]=e,t[2]=o):o=t[2];let i;return t[3]!==r||t[4]!==o?(i=m.jsx(gi,{as:r,hasManagedFocus:!0,trailingColor:"primary",trailing:s,...o}),t[3]=r,t[4]=o,t[5]=i):i=t[5],i};function mF(){return m.jsxs(m.Fragment,{children:[m.jsx(bpe,{children:m.jsx(j6,{className:"icon-sm"})}),m.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const Ppe=Ee.forwardRef(function(t,n){const{className:r,...s}=t;return m.jsx(uF,{ref:n,$as:Epe,className:he("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:dF,...s})}),Dpe=e=>m.jsx(gi,{subMenu:!0,as:wpe,hasManagedFocus:!0,...Kl(e)});function v7e({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:s,onCloseAutoFocus:o,contentAlign:i,side:a,sideOffset:l=0,alignOffset:c=0,contentClassName:u,testId:d,tooltip:f,contentRef:p,modal:g=!1}){const[v,_]=h.useState(r??!1),y=r!==void 0,b=yZ(),w=x=>{y||_(x),s?.(x)},{triggerRef:C}=ohe({isOpen:!!v||!!r,onClose:()=>w(!1)}),S=m.jsx(K6,{asChild:!0,ref:C,"data-testid":d?`${d}-button`:void 0,children:e}),E=f?m.jsx(ns,{label:f,disabled:!b,triggerAs:null,children:S}):S;return m.jsxs(lF,{modal:g,open:r??v,onOpenChange:w,children:[E,m.jsx(hF,{children:m.jsx(fF,{ref:p,size:n,align:i,alignOffset:c,side:a,sideOffset:l,className:u,onCloseAutoFocus:o,onClick:x=>{x.stopPropagation()},children:t})})]})}function Lpe(e){return m.jsx(kX,{as:vpe,...e})}function Fpe(e){"use forget";const t=ke.c(13),{children:n,className:r}=e,{open$:s,activeDetent$:o}=h.use(Fr),i=es(s),a=es(o);let l;t[0]!==o||t[1]!==e?(l=d=>{o.set(d),e.onActiveDetentChange?.(d)},t[0]=o,t[1]=e,t[2]=l):l=t[2];let c;t[3]!==s||t[4]!==e?(c=d=>{s.set(d),e.onOpenChange?.(d)},t[3]=s,t[4]=e,t[5]=c):c=t[5];let u;return t[6]!==a||t[7]!==n||t[8]!==r||t[9]!==i||t[10]!==l||t[11]!==c?(u=m.jsx(Co.Root,{activeDetent:a,className:r,onActiveDetentChange:l,onPresentedChange:c,presented:i,children:n}),t[6]=a,t[7]=n,t[8]=r,t[9]=i,t[10]=l,t[11]=c,t[12]=u):u=t[12],u}function jpe(e){"use forget";const t=ke.c(14);let n,r,s,o,i,a;t[0]!==e?({className:n,detents:r,mode:s,open:o,open$:i,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i,t[6]=a):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5],a=t[6]);let l;return t[7]!==n||t[8]!==r||t[9]!==s||t[10]!==o||t[11]!==i||t[12]!==a?(l=m.jsx(pte,{children:s==="sheet"&&i?m.jsx(Fr,{value:{mode:s??"dropdown",open$:i,detents:r,activeDetent$:wt(void 0)},children:m.jsx(Fpe,{className:n,...a})}):m.jsx(lF,{...a,open:o})}),t[7]=n,t[8]=r,t[9]=s,t[10]=o,t[11]=i,t[12]=a,t[13]=l):l=t[13],l}function Upe(e){const{children:t,container:n,...r}=e,{mode:s}=h.use(Fr),o=s==="sheet"?Co.Portal:hF;return m.jsx(o,{...r,container:n,children:t})}function Bpe(e){"use forget";const t=ke.c(16);let n,r,s,o;t[0]!==e?({children:n,defaultValue:s,defaultChecked:r,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o):(n=t[1],r=t[2],s=t[3],o=t[4]);const i=o,{onRadioGroupChange:a}=h.use(Y6);let l;t[5]!==a||t[6]!==o?(l=d=>{d.preventDefault(),d.stopPropagation(),o.onCheckedChange?.(d.target.checked),a?.(d.target.value)},t[5]=a,t[6]=o,t[7]=l):l=t[7];let c;t[8]!==r||t[9]!==s||t[10]!==l?(c=m.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:s,defaultChecked:r,onChange:l}),t[8]=r,t[9]=s,t[10]=l,t[11]=c):c=t[11];let u;return t[12]!==n||t[13]!==i||t[14]!==c?(u=m.jsxs("label",{...i,children:[n,c]}),t[12]=n,t[13]=i,t[14]=c,t[15]=u):u=t[15],u}const qpe=e=>{const{mode:t}=h.use(Fr);return m.jsx(gi,{as:t==="sheet"?Bpe:cF,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:m.jsx(nR,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0}),...Kl(e)})};function Gpe({checked:e,onCheckedChange:t,children:n,onClick:r,className:s,...o}){const i=a=>{a.preventDefault()};return m.jsx(cF,{checked:e,onCheckedChange:t,onSelect:i,onClick:r,className:he(s,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus-visible:outline-0","radix-state-open:bg-token-main-surface-secondary"),...o,children:m.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n,e?m.jsx(ehe,{className:"icon-sm text-token-text-primary"}):m.jsx(the,{className:"icon-sm text-token-text-tertiary"})]})})}function Vpe(e){return m.jsx(w1,{asChild:!0,...Kl({}),children:m.jsx(xX,{...e})})}const Hpe=e=>m.jsx(w1,{asChild:!0,onSelect:t=>{t.preventDefault()},...Kl({}),children:m.jsx(AX,{...e})});function zpe(e){const{open$:t}=h.use(Fr);return m.jsx(Y6,{value:{onRadioGroupChange:n=>{e.onValueChange?.(n),t.set(!1)}},children:m.jsx("section",{...e})})}function $pe(e){"use forget";const t=ke.c(3),{mode:n}=h.use(Fr),r=n==="sheet"?zpe:_pe;let s;return t[0]!==r||t[1]!==e?(s=m.jsx(r,{...e}),t[0]=r,t[1]=e,t[2]=s):s=t[2],s}function Wpe(e){return m.jsx(D5,{as:"button",...e})}function Kpe(e){return m.jsx(D5,{...e,as:"button",row:!0})}const It={Root:jpe,Trigger:Tpe,BasicTrigger:kpe,Portal:Upe,Content:fF,Item:Ope,ItemAs:Ape,HeaderItem:Wpe,HeaderItemRow:Kpe,HeaderItemAs:D5,Separator:Mpe,Group:Ipe,RadioGroup:$pe,RadioItem:Npe,RadioItemCheck:mF,Sub:Spe,SubContent:Ppe,SubMenuTrigger:Dpe,Label:Lpe,CheckboxItem:qpe,MultiSelectCheckboxItem:Gpe,LinkItem:Vpe,InputItem:Hpe,Shimmer:OX},Ype=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M15.498 8.50159C16.3254 8.50159 16.9959 9.17228 16.9961 9.99963C16.9961 10.8271 16.3256 11.4987 15.498 11.4987C14.6705 11.4987 14 10.8271 14 9.99963C14.0002 9.17228 14.6706 8.50159 15.498 8.50159Z"}),h.createElement("path",{d:"M4.49805 8.50159C5.32544 8.50159 5.99689 9.17228 5.99707 9.99963C5.99707 10.8271 5.32555 11.4987 4.49805 11.4987C3.67069 11.4985 3 10.827 3 9.99963C3.00018 9.17239 3.6708 8.50176 4.49805 8.50159Z"}),h.createElement("path",{d:"M10.0003 8.50159C10.8276 8.50176 11.4982 9.17239 11.4984 9.99963C11.4984 10.827 10.8277 11.4985 10.0003 11.4987C9.17283 11.4987 8.50131 10.8271 8.50131 9.99963C8.50149 9.17228 9.17294 8.50159 10.0003 8.50159Z"})),Zpe=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M15.2146 18.1227L15.2439 18.2546C15.2809 18.5616 15.0985 18.8629 14.7937 18.9645C14.4889 19.0661 14.1622 18.9345 14.0076 18.6667L13.9529 18.5436L13.1189 16.0436L13.7498 15.8337L14.3806 15.6227L15.2146 18.1227ZM4.5027 8.72526C4.7467 8.45076 5.16765 8.4256 5.44215 8.6696C5.71651 8.91359 5.74073 9.33361 5.49684 9.60807L4.70875 10.4958C3.51378 11.8401 3.57361 13.8831 4.84547 15.1549L4.96656 15.2702C6.24396 16.4291 8.20223 16.4494 9.50465 15.2917L10.3914 14.5026L10.5007 14.4245C10.7685 14.2694 11.1173 14.318 11.3308 14.5583C11.5746 14.8327 11.5495 15.2528 11.2752 15.4967L10.3875 16.2858C8.57532 17.8963 5.85141 17.8686 4.07399 16.2565L3.90504 16.0954C2.13524 14.3256 2.05179 11.4827 3.71461 9.61198L4.5027 8.72526ZM13.5398 15.2028C13.8881 15.0867 14.2643 15.2745 14.3806 15.6227L13.1189 16.0436C13.0028 15.6953 13.1915 15.319 13.5398 15.2028ZM15.2029 13.5397C15.3191 13.1914 15.6953 13.0028 16.0437 13.1188L18.5437 13.9528L18.6668 14.0075C18.9346 14.1621 19.0662 14.4888 18.9646 14.7936C18.863 15.0985 18.5617 15.2808 18.2547 15.2438L18.1228 15.2145L15.6228 14.3805C15.2746 14.2642 15.0868 13.888 15.2029 13.5397ZM9.79078 3.56315C11.6599 2.0583 14.3811 2.19057 16.0955 3.90495L16.2566 4.07389C17.8168 5.79411 17.893 8.40087 16.4363 10.2096L16.2859 10.3874L15.4968 11.2751L15.3982 11.3659C15.1506 11.5514 14.7987 11.5441 14.5584 11.3307C14.2839 11.0867 14.2587 10.6658 14.5027 10.3913L15.2918 9.50456L15.4002 9.37663C16.4472 8.07662 16.3919 6.20274 15.2703 4.96647L15.155 4.84538C13.9229 3.6132 11.967 3.51839 10.6238 4.60026L10.4959 4.70866L9.60816 5.49674C9.3337 5.74063 8.91368 5.71642 8.66969 5.44206C8.42569 5.16756 8.45085 4.7466 8.72535 4.5026L9.61207 3.71452L9.79078 3.56315ZM1.74586 4.75651L1.87672 4.78581L4.37672 5.61881L4.49977 5.67448C4.76767 5.82912 4.89925 6.15572 4.79762 6.46061C4.69588 6.76536 4.39471 6.94789 4.08766 6.91081L3.9568 6.88053L1.4568 6.04753L1.33375 5.99186C1.06603 5.83724 0.93447 5.51146 1.0359 5.20671C1.13755 4.90175 1.43868 4.71938 1.74586 4.75651ZM5.2068 1.03581C5.51155 0.934377 5.83733 1.06594 5.99195 1.33366L6.04762 1.45671L6.88063 3.95671L6.9109 4.08756C6.94798 4.39462 6.76546 4.69579 6.4607 4.79753C6.15582 4.89916 5.82921 4.76758 5.67457 4.49967L5.61891 4.37663L4.7859 1.87663L4.7566 1.74577C4.71947 1.43859 4.90184 1.13746 5.2068 1.03581Z"})),Jpe=["https:","mailto:","tel:"],Xpe=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(Jpe.includes(t.protocol))return t.href},Z6="-",Qpe=e=>{const t=tme(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Z6);return a[0]===""&&a.length!==1&&a.shift(),gF(a,t)||eme(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},gF=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?gF(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Z6);return t.validators.find(({validator:i})=>i(o))?.classGroupId},mT=/^\[(.+)\]$/,eme=e=>{if(mT.test(e)){const t=mT.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},tme=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)MC(n[s],r,s,t);return r},MC=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:gT(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(nme(s)){MC(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{MC(i,gT(t,o),n,r)})})},gT=(e,t)=>{let n=e;return t.split(Z6).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nme=e=>e.isThemeGetter,rme=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},IC="!",RC=":",sme=RC.length,ome=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let i=0,a=0,l=0,c;for(let g=0;g<s.length;g++){let v=s[g];if(i===0&&a===0){if(v===RC){o.push(s.slice(l,g)),l=g+sme;continue}if(v==="/"){c=g;continue}}v==="["?i++:v==="]"?i--:v==="("?a++:v===")"&&a--}const u=o.length===0?s:s.substring(l),d=ime(u),f=d!==u,p=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(t){const s=t+RC,o=r;r=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},ime=e=>e.endsWith(IC)?e.substring(0,e.length-1):e.startsWith(IC)?e.substring(1):e,ame=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(i=>{i[0]==="["||t[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},lme=e=>({cache:rme(e.cacheSize),parseClassName:ome(e),sortModifiers:ame(e),...Qpe(e)}),cme=/\s+/,ume=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,i=[],a=e.trim().split(cme);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!v,y=r(_?g.substring(0,v):g);if(!y){if(!_){l=u+(l.length>0?" "+l:l);continue}if(y=r(g),!y){l=u+(l.length>0?" "+l:l);continue}_=!1}const b=o(f).join(":"),w=p?b+IC:b,C=w+y;if(i.includes(C))continue;i.push(C);const S=s(y,_);for(let E=0;E<S.length;++E){const x=S[E];i.push(w+x)}l=u+(l.length>0?" "+l:l)}return l};function dme(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vF(t))&&(r&&(r+=" "),r+=n);return r}const vF=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vF(e[r]))&&(n&&(n+=" "),n+=t);return n};function fme(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=lme(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=ume(l,n);return s(l,u),u}return function(){return o(dme.apply(null,arguments))}}const Mn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_F=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hme=/^\d+\/\d+$/,pme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mme=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vme=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_me=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bc=e=>hme.test(e),dt=e=>!!e&&!Number.isNaN(Number(e)),Ri=e=>!!e&&Number.isInteger(Number(e)),f2=e=>e.endsWith("%")&&dt(e.slice(0,-1)),Vo=e=>pme.test(e),yme=()=>!0,bme=e=>mme.test(e)&&!gme.test(e),bF=()=>!1,Cme=e=>vme.test(e),Sme=e=>_me.test(e),wme=e=>!Oe(e)&&!Ae(e),Eme=e=>Uu(e,wF,bF),Oe=e=>_F.test(e),Ga=e=>Uu(e,EF,bme),h2=e=>Uu(e,Ame,dt),vT=e=>Uu(e,CF,bF),xme=e=>Uu(e,SF,Sme),ip=e=>Uu(e,xF,Cme),Ae=e=>yF.test(e),ld=e=>Bu(e,EF),Tme=e=>Bu(e,Mme),_T=e=>Bu(e,CF),kme=e=>Bu(e,wF),Ome=e=>Bu(e,SF),ap=e=>Bu(e,xF,!0),Uu=(e,t,n)=>{const r=_F.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Bu=(e,t,n=!1)=>{const r=yF.exec(e);return r?r[1]?t(r[1]):n:!1},CF=e=>e==="position"||e==="percentage",SF=e=>e==="image"||e==="url",wF=e=>e==="length"||e==="size"||e==="bg-size",EF=e=>e==="length",Ame=e=>e==="number",Mme=e=>e==="family-name",xF=e=>e==="shadow",Ime=()=>{const e=Mn("color"),t=Mn("font"),n=Mn("text"),r=Mn("font-weight"),s=Mn("tracking"),o=Mn("leading"),i=Mn("breakpoint"),a=Mn("container"),l=Mn("spacing"),c=Mn("radius"),u=Mn("shadow"),d=Mn("inset-shadow"),f=Mn("text-shadow"),p=Mn("drop-shadow"),g=Mn("blur"),v=Mn("perspective"),_=Mn("aspect"),y=Mn("ease"),b=Mn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Ae,Oe],E=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],T=()=>[Ae,Oe,l],k=()=>[bc,"full","auto",...T()],O=()=>[Ri,"none","subgrid",Ae,Oe],A=()=>["auto",{span:["full",Ri,Ae,Oe]},Ri,Ae,Oe],M=()=>[Ri,"auto",Ae,Oe],I=()=>["auto","min","max","fr",Ae,Oe],N=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...T()],D=()=>[bc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],R=()=>[e,Ae,Oe],B=()=>[...C(),_T,vT,{position:[Ae,Oe]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Me=()=>["auto","cover","contain",kme,Eme,{size:[Ae,Oe]}],Fe=()=>[f2,ld,Ga],pe=()=>["","none","full",c,Ae,Oe],ge=()=>["",dt,ld,Ga],Se=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[dt,f2,_T,vT],G=()=>["","none",g,Ae,Oe],ue=()=>["none",dt,Ae,Oe],oe=()=>["none",dt,Ae,Oe],_e=()=>[dt,Ae,Oe],st=()=>[bc,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vo],breakpoint:[Vo],color:[yme],container:[Vo],"drop-shadow":[Vo],ease:["in","out","in-out"],font:[wme],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vo],shadow:[Vo],spacing:["px",dt],text:[Vo],"text-shadow":[Vo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bc,Oe,Ae,_]}],container:["container"],columns:[{columns:[dt,Oe,Ae,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ri,"auto",Ae,Oe]}],basis:[{basis:[bc,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dt,bc,"auto","initial","none",Oe]}],grow:[{grow:["",dt,Ae,Oe]}],shrink:[{shrink:["",dt,Ae,Oe]}],order:[{order:[Ri,"first","last","none",Ae,Oe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...N(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...N()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":N()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[a,"screen",...D()]}],"min-w":[{"min-w":[a,"screen","none",...D()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,ld,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,h2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",f2,Oe]}],"font-family":[{font:[Tme,Oe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ae,Oe]}],"line-clamp":[{"line-clamp":[dt,"none",Ae,h2]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",Ae,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[dt,"from-font","auto",Ae,Ga]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[dt,"auto",Ae,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:Me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ri,Ae,Oe],radial:["",Ae,Oe],conic:[Ri,Ae,Oe]},Ome,xme]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:Fe()}],"gradient-via-pos":[{via:Fe()}],"gradient-to-pos":[{to:Fe()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[dt,Ae,Oe]}],"outline-w":[{outline:["",dt,ld,Ga]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",u,ap,ip]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",d,ap,ip]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[dt,Ga]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",f,ap,ip]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[dt,Ae,Oe]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Ae,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:Me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Oe]}],filter:[{filter:["","none",Ae,Oe]}],blur:[{blur:G()}],brightness:[{brightness:[dt,Ae,Oe]}],contrast:[{contrast:[dt,Ae,Oe]}],"drop-shadow":[{"drop-shadow":["","none",p,ap,ip]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",dt,Ae,Oe]}],"hue-rotate":[{"hue-rotate":[dt,Ae,Oe]}],invert:[{invert:["",dt,Ae,Oe]}],saturate:[{saturate:[dt,Ae,Oe]}],sepia:[{sepia:["",dt,Ae,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Oe]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[dt,Ae,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[dt,Ae,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dt,Ae,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dt,Ae,Oe]}],"backdrop-invert":[{"backdrop-invert":["",dt,Ae,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[dt,Ae,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[dt,Ae,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",dt,Ae,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dt,"initial",Ae,Oe]}],ease:[{ease:["linear","initial",y,Ae,Oe]}],delay:[{delay:[dt,Ae,Oe]}],animate:[{animate:["none",b,Ae,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Ae,Oe]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ae,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Oe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[dt,ld,Ga,h2]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Rme=fme(Ime);function _7e({href:e,target:t="_blank",children:n,...r}){return m.jsx("a",{href:Xpe(e),target:t,rel:"noopener",alt:e,...r,children:n})}function yT(e){"use forget";const t=ke.c(14);let n,r,s,o,i;t[0]!==e?({className:r,openNewTab:o,children:n,underline:i,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=i):(n=t[1],r=t[2],s=t[3],o=t[4],i=t[5]);const a=o===void 0?!1:o,c=(i===void 0?!0:i)&&"underline";let u;t[6]!==r||t[7]!==c?(u=Rme("cursor-pointer font-normal",c,r),t[6]=r,t[7]=c,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==s||t[11]!==u||t[12]!==d?(f=m.jsx("a",{rel:"noopener",className:u,target:d,...s,children:n}),t[9]=n,t[10]=s,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function E1({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:s,transitionDuration:o,transitionTimingFunction:i,onTransitionEnd:a}){const l=s??120,c=l*t,d=(l-c)/2-c-2;return m.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:n,children:[m.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[m.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:`
        M${l} ${l/2}
        A${l/2} ${l/2} 0 1 0 0 ${l/2}
        A${l/2} ${l/2} 0 0 0 ${l} ${l/2}
        Z
        M${l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 1 0 ${l-l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 0 0 ${l*.1042} ${l/2}
        Z
      `,clipRule:"evenodd"}),m.jsx("defs",{children:m.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:`matrix(${l/2-l*.0625} 0 0 ${l/2-l*.0625} ${l*.0625} ${l/2})`,gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{stopColor:"#0285FF"}),m.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),m.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?`M ${l/2} ${l/2}
         m 0 -${d}
         a ${d} ${d} 0 1 1 0 ${2*d}
         a ${d} ${d} 0 1 1 0 -${2*d}
         Z`:`M ${l/2} ${l/2}
         L ${l/2} ${l/2-d}
         A ${d} ${d} 0 ${e>50?1:0} 1
         ${l/2+d*Math.sin(2*Math.PI*e/100)}
         ${l/2-d*Math.cos(2*Math.PI*e/100)}
         Z`,fill:"currentColor",style:{transitionDuration:o,transitionTimingFunction:i},onTransitionEnd:a})]})}function J6(){const e=ae();return hr(e).isElectron}function Nme({children:e}){return m.jsx(ns,{label:m.jsx(ie,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const Pme=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M11.2475 18.25C10.6975 18.25 10.175 18.1455 9.67999 17.9365C9.18499 17.7275 8.74499 17.436 8.35999 17.062C7.94199 17.205 7.50749 17.2765 7.05649 17.2765C6.31949 17.2765 5.63749 17.095 5.01049 16.732C4.38349 16.369 3.87749 15.874 3.49249 15.247C3.11849 14.62 2.93149 13.9215 2.93149 13.1515C2.93149 12.8325 2.97549 12.486 3.06349 12.112C2.62349 11.705 2.28249 11.2375 2.04049 10.7095C1.79849 10.1705 1.67749 9.6095 1.67749 9.0265C1.67749 8.4325 1.80399 7.8605 2.05699 7.3105C2.30999 6.7605 2.66199 6.2875 3.11299 5.8915C3.57499 5.4845 4.10849 5.204 4.71349 5.05C4.83449 4.423 5.08749 3.862 5.47249 3.367C5.86849 2.861 6.35249 2.465 6.92449 2.179C7.49649 1.893 8.10699 1.75 8.75599 1.75C9.30599 1.75 9.82849 1.8545 10.3235 2.0635C10.8185 2.2725 11.2585 2.564 11.6435 2.938C12.0615 2.795 12.496 2.7235 12.947 2.7235C13.684 2.7235 14.366 2.905 14.993 3.268C15.62 3.631 16.1205 4.126 16.4945 4.753C16.8795 5.38 17.072 6.0785 17.072 6.8485C17.072 7.1675 17.028 7.514 16.94 7.888C17.38 8.295 17.721 8.768 17.963 9.307C18.205 9.835 18.326 10.3905 18.326 10.9735C18.326 11.5675 18.1995 12.1395 17.9465 12.6895C17.6935 13.2395 17.336 13.718 16.874 14.125C16.423 14.521 15.895 14.796 15.29 14.95C15.169 15.577 14.9105 16.138 14.5145 16.633C14.1295 17.139 13.651 17.535 13.079 17.821C12.507 18.107 11.8965 18.25 11.2475 18.25ZM7.17199 16.1875C7.72199 16.1875 8.20049 16.072 8.60749 15.841L11.7095 14.059C11.8195 13.982 11.8745 13.8775 11.8745 13.7455V12.3265L7.88149 14.62C7.63949 14.763 7.39749 14.763 7.15549 14.62L4.03699 12.8215C4.03699 12.8545 4.03149 12.893 4.02049 12.937C4.02049 12.981 4.02049 13.047 4.02049 13.135C4.02049 13.696 4.15249 14.213 4.41649 14.686C4.69149 15.148 5.07099 15.511 5.55499 15.775C6.03899 16.05 6.57799 16.1875 7.17199 16.1875ZM7.33699 13.498C7.40299 13.531 7.46349 13.5475 7.51849 13.5475C7.57349 13.5475 7.62849 13.531 7.68349 13.498L8.92099 12.7885L4.94449 10.4785C4.70249 10.3355 4.58149 10.121 4.58149 9.835V6.2545C4.03149 6.4965 3.59149 6.8705 3.26149 7.3765C2.93149 7.8715 2.76649 8.4215 2.76649 9.0265C2.76649 9.5655 2.90399 10.0825 3.17899 10.5775C3.45399 11.0725 3.81149 11.4465 4.25149 11.6995L7.33699 13.498ZM11.2475 17.161C11.8305 17.161 12.3585 17.029 12.8315 16.765C13.3045 16.501 13.6785 16.138 13.9535 15.676C14.2285 15.214 14.366 14.697 14.366 14.125V10.561C14.366 10.429 14.311 10.33 14.201 10.264L12.947 9.538V14.1415C12.947 14.4275 12.826 14.642 12.584 14.785L9.46549 16.5835C10.0045 16.9685 10.5985 17.161 11.2475 17.161ZM11.8745 11.122V8.878L10.01 7.822L8.12899 8.878V11.122L10.01 12.178L11.8745 11.122ZM7.05649 5.8585C7.05649 5.5725 7.17749 5.358 7.41949 5.215L10.538 3.4165C9.99899 3.0315 9.40499 2.839 8.75599 2.839C8.17299 2.839 7.64499 2.971 7.17199 3.235C6.69899 3.499 6.32499 3.862 6.04999 4.324C5.78599 4.786 5.65399 5.303 5.65399 5.875V9.4225C5.65399 9.5545 5.70899 9.659 5.81899 9.736L7.05649 10.462V5.8585ZM15.4385 13.7455C15.9885 13.5035 16.423 13.1295 16.742 12.6235C17.072 12.1175 17.237 11.5675 17.237 10.9735C17.237 10.4345 17.0995 9.9175 16.8245 9.4225C16.5495 8.9275 16.192 8.5535 15.752 8.3005L12.6665 6.5185C12.6005 6.4745 12.54 6.458 12.485 6.469C12.43 6.469 12.375 6.4855 12.32 6.5185L11.0825 7.2115L15.0755 9.538C15.1965 9.604 15.2845 9.692 15.3395 9.802C15.4055 9.901 15.4385 10.022 15.4385 10.165V13.7455ZM12.122 5.3635C12.364 5.2095 12.606 5.2095 12.848 5.3635L15.983 7.195C15.983 7.118 15.983 7.019 15.983 6.898C15.983 6.37 15.851 5.8695 15.587 5.3965C15.334 4.9125 14.9655 4.5275 14.4815 4.2415C14.0085 3.9555 13.4585 3.8125 12.8315 3.8125C12.2815 3.8125 11.803 3.928 11.396 4.159L8.29399 5.941C8.18399 6.018 8.12899 6.1225 8.12899 6.2545V7.6735L12.122 5.3635Z"})),Dme=()=>{const[e,t]=h.useState(!1),n=sr();return!n?.data.profilePictureUrl||e?m.jsx("span",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:m.jsx(Pme,{className:"h-8 w-8"})}):m.jsx("span",{className:"h-12 w-12 overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm",children:m.jsx("img",{src:n.data.profilePictureUrl,alt:n.data.name??"",onError:()=>t(!0)})})},Lme=({title:e,connectorIcon:t,connectorDeveloper:n,onClose:r})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex justify-end pb-6",children:m.jsx($3,{onClick:r})}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx(Dme,{}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),m.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),m.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),t]}),m.jsx("div",{className:"pt-4 text-center text-2xl font-semibold",children:e}),n&&m.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:m.jsx(ie,{...Fme.developedBy,values:{developer:n}})})]})]}),Fme=St({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),jme=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M9.99512 12.3145C10.4837 12.3145 10.8701 12.6847 10.8701 13.1572C10.87 13.6296 10.4836 14 9.99512 14C9.50661 14 9.12021 13.6296 9.12012 13.1572C9.12012 12.6848 9.50655 12.3145 9.99512 12.3145Z"}),h.createElement("path",{d:"M10.001 6C10.4785 6.00018 10.7792 6.29538 10.7793 6.78906C10.7793 6.83198 10.7788 6.89653 10.7734 6.9502L10.6934 10.666C10.6772 11.1222 10.4407 11.3906 9.99512 11.3906C9.54959 11.3906 9.31355 11.1222 9.30273 10.666L9.2168 6.9502C9.21679 6.89653 9.21094 6.83198 9.21094 6.78906C9.21102 6.29522 9.51782 6 10.001 6Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),Ume=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M21.0461 12.2099C21.0461 11.5553 20.9874 10.9259 20.8783 10.3217H12.1846V13.8966H17.1524C16.9342 15.0462 16.2797 16.0197 15.2979 16.6742V18.9987H18.2937C20.0391 17.3875 21.0461 15.0211 21.0461 12.2099Z",fill:"#4285F4"}),h.createElement("path",{d:"M12.1844 21.2307C14.6767 21.2307 16.7662 20.4084 18.2935 18.9986L15.2977 16.6741C14.4753 17.2279 13.4264 17.5636 12.1844 17.5636C9.78441 17.5636 7.74525 15.944 7.01518 13.7622H3.94385V16.1454C5.46273 19.158 8.57602 21.2307 12.1844 21.2307Z",fill:"#34A853"}),h.createElement("path",{d:"M7.01516 13.7539C6.83054 13.2 6.72145 12.6126 6.72145 12C6.72145 11.3874 6.83054 10.8 7.01516 10.2462V7.86295H3.94382C3.31445 9.10491 2.95361 10.5063 2.95361 12C2.95361 13.4937 3.31445 14.8951 3.94382 16.1371L6.33544 14.2741L7.01516 13.7539Z",fill:"#FBBC05"}),h.createElement("path",{d:"M12.1844 6.44475C13.5439 6.44475 14.7522 6.91469 15.7173 7.82098L18.3606 5.17762C16.7578 3.68391 14.6767 2.76923 12.1844 2.76923C8.57602 2.76923 5.46273 4.84196 3.94385 7.86294L7.01518 10.2462C7.74525 8.06434 9.78441 6.44475 12.1844 6.44475Z",fill:"#EA4335"})),Bme=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M10 9.25C10.4142 9.25002 10.75 9.5858 10.75 10V13.333C10.75 13.7472 10.4142 14.083 10 14.083C9.58579 14.083 9.25 13.7472 9.25 13.333V10C9.25 9.58579 9.58579 9.25 10 9.25Z"}),h.createElement("path",{d:"M10 5.83301C10.5293 5.83303 10.958 6.26273 10.958 6.79199C10.9578 7.3211 10.5291 7.74998 10 7.75C9.47084 7.75 9.04217 7.32111 9.04199 6.79199C9.04199 6.26272 9.47073 5.83301 10 5.83301Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),X6=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:m.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[m.jsxs("div",{children:[e," "]}),m.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),qme=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},h.createElement("path",{d:"M6.80073 3.27765C7.05872 3.10739 7.40946 3.13571 7.63667 3.36261C7.89637 3.62231 7.89637 4.04432 7.63667 4.30402L4.60542 7.33527H13L13.1337 7.34894C13.4368 7.4109 13.665 7.6789 13.665 8.00031C13.6648 8.32162 13.4368 8.58979 13.1337 8.65168L13 8.66535H4.6064L7.63667 11.6966L7.72163 11.8011C7.89202 12.0592 7.86389 12.4098 7.63667 12.637C7.40942 12.8641 7.05879 12.8924 6.80073 12.722L6.69624 12.637L2.52925 8.47003C2.26993 8.21036 2.26982 7.78921 2.52925 7.5296L6.69624 3.36261L6.80073 3.27765Z"})),Gme=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},h.createElement("path",{d:"M8.36328 3.36261C8.59049 3.13571 8.94123 3.10739 9.19922 3.27765L9.30371 3.36261L13.4707 7.5296L13.5557 7.6341C13.7259 7.89208 13.6976 8.24282 13.4707 8.47003L9.30371 12.637C9.04407 12.8967 8.62299 12.8966 8.36328 12.637C8.10358 12.3773 8.10358 11.9563 8.36328 11.6966L11.3936 8.66535H3C2.63284 8.66535 2.33514 8.36743 2.33496 8.00031C2.33496 7.63304 2.63273 7.33527 3 7.33527H11.3945L8.36328 4.30402L8.27832 4.19953C8.10759 3.94137 8.13592 3.58997 8.36328 3.36261Z"})),TF=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("g",{clipPath:"url(#clip0_5645_180)"},h.createElement("path",{d:"M12.2328 13.3571C15.3153 13.3571 17.8142 10.9267 17.8142 7.92857C17.8142 4.93045 15.3153 2.5 12.2328 2.5C9.15024 2.5 6.65137 4.93045 6.65137 7.92857C6.65137 10.9267 9.15024 13.3571 12.2328 13.3571Z",fill:"#036C70"}),h.createElement("path",{d:"M16.8834 17.8815C19.709 17.8815 21.9997 15.6536 21.9997 12.9053C21.9997 10.157 19.709 7.92911 16.8834 7.92911C14.0577 7.92911 11.7671 10.157 11.7671 12.9053C11.7671 15.6536 14.0577 17.8815 16.8834 17.8815Z",fill:"#1A9BA1"}),h.createElement("path",{d:"M12.93 21.4996C15.1135 21.4996 16.8835 19.778 16.8835 17.6543C16.8835 15.5307 15.1135 13.8091 12.93 13.8091C10.7466 13.8091 8.97656 15.5307 8.97656 17.6543C8.97656 19.778 10.7466 21.4996 12.93 21.4996Z",fill:"#37C6D0"}),h.createElement("path",{opacity:.1,d:"M13.1628 7.39878V17.0526C13.1605 17.388 12.9515 17.6894 12.6326 17.8171C12.5311 17.8589 12.4219 17.8804 12.3117 17.8804H8.98144C8.9768 17.8035 8.9768 17.7312 8.9768 17.6543C8.97525 17.5787 8.97835 17.5032 8.9861 17.4281C9.07123 15.982 9.98715 14.7061 11.3535 14.1302V13.2888C8.31257 12.8201 6.23802 10.0424 6.71991 7.0847C6.72326 7.06422 6.72671 7.04375 6.73029 7.0233C6.75344 6.87073 6.78607 6.71966 6.82797 6.57092H12.3117C12.781 6.57266 13.1611 6.94229 13.1628 7.39878Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M11.8467 7.02365H6.73038C6.21354 9.97603 8.25531 12.7769 11.2908 13.2796C11.3827 13.2948 11.475 13.3078 11.5676 13.3185C10.1257 13.9835 9.07503 15.8722 8.98573 17.4284C8.97799 17.5036 8.97488 17.5791 8.97642 17.6546C8.97642 17.7315 8.97642 17.8039 8.98107 17.8808C8.98946 18.0329 9.00968 18.1841 9.04153 18.3332H11.8462C12.1911 18.3309 12.5009 18.1276 12.6322 17.8175C12.6752 17.7187 12.6973 17.6125 12.6973 17.5053V7.85151C12.6956 7.3952 12.3158 7.02564 11.8467 7.02365Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M11.8466 7.02365H6.73034C6.21361 9.97631 8.25569 12.7773 11.2915 13.2799C11.3536 13.2902 11.4158 13.2995 11.4783 13.3077C10.0829 14.0206 9.07361 15.9048 8.98616 17.4284H11.8466C12.3152 17.425 12.6942 17.0563 12.6978 16.6006V7.85151C12.696 7.39502 12.316 7.02539 11.8466 7.02365Z",fill:"currentColor"}),h.createElement("path",{opacity:.2,d:"M11.3814 7.02365H6.73019C6.24226 9.81099 8.03799 12.4952 10.8558 13.1905C9.78883 14.3762 9.13442 15.8594 8.98601 17.4284H11.3814C11.8507 17.4267 12.2307 17.057 12.2325 16.6006V7.85151C12.2323 7.3944 11.8513 7.0239 11.3814 7.02365Z",fill:"currentColor"}),h.createElement("path",{d:"M2.85256 7.02365H11.38C11.8509 7.02365 12.2326 7.3949 12.2326 7.85287V16.1468C12.2326 16.6048 11.8509 16.976 11.38 16.976H2.85256C2.3817 16.976 2 16.6048 2 16.1468V7.85287C2 7.3949 2.3817 7.02365 2.85256 7.02365Z",fill:"url(#paint0_linear_5645_180)"}),h.createElement("path",{d:"M5.80776 11.8985C5.60797 11.7696 5.44108 11.598 5.31985 11.3968C5.20239 11.1865 5.14385 10.9499 5.15008 10.7106C5.13962 10.3866 5.25202 10.0702 5.46589 9.82165C5.69064 9.57277 5.98113 9.38847 6.30589 9.28874C6.67602 9.17025 7.0637 9.11186 7.45333 9.11593C7.96573 9.09772 8.47741 9.1674 8.96496 9.32177V10.3622C8.75312 10.2374 8.52238 10.1458 8.28124 10.0908C8.01958 10.0284 7.7511 9.99712 7.4817 9.99762C7.19761 9.98748 6.91534 10.0456 6.65984 10.1668C6.46259 10.2496 6.33467 10.4383 6.33426 10.6472C6.33346 10.774 6.38352 10.896 6.4738 10.9874C6.58043 11.0952 6.70656 11.1829 6.84589 11.2462C7.00093 11.3213 7.23349 11.4211 7.54357 11.5457C7.57771 11.5562 7.61099 11.5692 7.6431 11.5846C7.94828 11.7006 8.24269 11.8418 8.5231 12.0067C8.73546 12.134 8.91368 12.3086 9.04311 12.516C9.1758 12.7512 9.24011 13.0171 9.22915 13.2851C9.2443 13.6177 9.13968 13.945 8.93334 14.2107C8.72767 14.4549 8.45269 14.6349 8.14264 14.7282C7.77795 14.8394 7.39733 14.8931 7.01519 14.8874C6.67234 14.8889 6.32999 14.8617 5.99194 14.806C5.70651 14.7606 5.42796 14.6809 5.16264 14.5689V13.4719C5.41625 13.6481 5.69959 13.7798 5.99985 13.861C6.2991 13.9517 6.61017 14.0001 6.92357 14.0048C7.21363 14.0227 7.50318 13.9629 7.76078 13.832C7.94123 13.733 8.05098 13.5454 8.04637 13.3439C8.04757 13.2037 7.99055 13.069 7.88823 12.9702C7.76098 12.8487 7.61366 12.7489 7.45242 12.6748C7.26638 12.5843 6.99242 12.4651 6.63056 12.317C6.34269 12.2044 6.06706 12.0643 5.80776 11.8985Z",fill:"white"})),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_5645_180",x1:3.7776,y1:6.37572,x2:10.1808,y2:17.7779,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#058F92"}),h.createElement("stop",{offset:.5,stopColor:"#038489"}),h.createElement("stop",{offset:1,stopColor:"#026D71"})),h.createElement("clipPath",{id:"clip0_5645_180"},h.createElement("rect",{width:20,height:19,fill:"white",transform:"translate(2 2.5)"})))),Vme="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function kF({children:e,className:t,style:n,...r}){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,...r,style:n,children:e})}const Hme=({className:e})=>m.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),zme="ChatGPT",Q6=({className:e})=>m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[m.jsx("text",{x:"-9999",y:"-9999",children:zme}),m.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function $me({className:e}){const t=ht();return m.jsx("img",{src:Vme,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const Wme=({className:e})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1180 320",width:"118",height:"32",fill:"currentColor",className:e,children:m.jsx("path",{d:"M367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68zM614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84V114h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48zM747.65 242.64c25.2 0 45.12-13.2 54-35.28L776.93 198c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92zM823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88V240h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84V114h-28.8zM1014.17 67.68 948.89 240h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24zM1163.69 68.18h-30.72V240.5h30.72zM297.06 130.97a79.712 79.712 0 0 0-6.85-65.48c-17.46-30.4-52.56-46.04-86.84-38.68A79.747 79.747 0 0 0 143.24 0C108.2-.08 77.11 22.48 66.33 55.82a79.754 79.754 0 0 0-53.31 38.67c-17.59 30.32-13.58 68.54 9.92 94.54a79.712 79.712 0 0 0 6.85 65.48c17.46 30.4 52.56 46.04 86.84 38.68a79.687 79.687 0 0 0 60.13 26.8c35.06.09 66.16-22.49 76.94-55.86a79.754 79.754 0 0 0 53.31-38.67c17.57-30.32 13.55-68.51-9.94-94.51zM176.78 299.08a59.77 59.77 0 0 1-38.39-13.88c.49-.26 1.34-.73 1.89-1.07l63.72-36.8a10.36 10.36 0 0 0 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zM47.94 244.05a59.71 59.71 0 0 1-7.15-40.18c.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83L129.87 266c-28.69 16.52-65.33 6.7-81.92-21.95zM31.17 104.96c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91L118.44 224c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94a59.94 59.94 0 0 1-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8a10.375 10.375 0 0 0-10.47 0l-77.79 44.92V92c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22a59.95 59.95 0 0 1 7.15 40.1zm-168.51 55.43-26.94-15.55a.943.943 0 0 1-.52-.74V80.86c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07L116 72.67a10.344 10.344 0 0 0-5.24 9.06l-.04 89.79zM125.35 140 160 119.99l34.65 20V180L160 200l-34.65-20z"})}),Kme=e=>m.jsxs(kF,{viewBox:"0 0 36 36",fill:"none",...e,children:[m.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]}),Yme=({className:e})=>m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[m.jsx("rect",{x:"2",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M2 12H1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M22 12H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("rect",{x:"17",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M7 12L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M16 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M9 3L15 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Zme=({className:e})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:m.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),Jme=({className:e})=>m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[m.jsx("path",{d:"M8.78158 8.60266L9.8188 5.49098C10.037 4.83634 10.963 4.83634 11.1812 5.49098L12.2184 8.60266C12.7187 10.1035 13.8965 11.2813 15.3973 11.7816L18.509 12.8188C19.1637 13.037 19.1637 13.963 18.509 14.1812L15.3973 15.2184C13.8965 15.7187 12.7187 16.8965 12.2184 18.3973L11.1812 21.509C10.963 22.1637 10.037 22.1637 9.8188 21.509L8.78158 18.3973C8.28128 16.8965 7.10354 15.7187 5.60266 15.2184L2.49098 14.1812C1.83634 13.963 1.83634 13.037 2.49098 12.8188L5.60266 11.7816C7.10354 11.2813 8.28128 10.1035 8.78158 8.60266Z",fill:"currentColor"}),m.jsx("path",{d:"M17.1913 3.69537L17.6794 2.23105C17.7821 1.92298 18.2179 1.92298 18.3206 2.23105L18.8087 3.69537C19.0441 4.40167 19.5983 4.9559 20.3046 5.19133L21.769 5.67944C22.077 5.78213 22.077 6.21787 21.769 6.32056L20.3046 6.80867C19.5983 7.0441 19.0441 7.59833 18.8087 8.30463L18.3206 9.76895C18.2179 10.077 17.7821 10.077 17.6794 9.76895L17.1913 8.30463C16.9559 7.59833 16.4017 7.0441 15.6954 6.80867L14.231 6.32056C13.923 6.21787 13.923 5.78213 14.231 5.67944L15.6954 5.19133C16.4017 4.9559 16.9559 4.40167 17.1913 3.69537Z",fill:"currentColor"})]}),y7e=Object.freeze(Object.defineProperty({__proto__:null,GPT4FilledIcon:Jme,Hexagon:Hme,IconBase:kF,NoModelTrainingIcon:Yme,OpenaiLockup:Wme,OpenaiLogo:Q6,OpenaiLogoConditionalSvg:$me,TriangleIcon:Zme,WorkspaceDefaultAvatar:Kme},Symbol.toStringTag,{value:"Module"})),OF=()=>m.jsx(x1,{ConnectorIcon:Lu}),Xme=()=>m.jsx(x1,{ConnectorIcon:h1}),Qme=()=>m.jsx(x1,{ConnectorIcon:pD}),ege=()=>m.jsx(x1,{ConnectorIcon:TF}),x1=({ConnectorIcon:e})=>m.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[m.jsx(Q6,{className:"h-12 w-12"}),m.jsxs("div",{className:"text-token-text-secondary",children:[m.jsx(qme,{className:"icon-sm me-1.5"}),m.jsx(Gme,{className:"icon-sm ms-1.5"})]}),m.jsx(e,{width:48,height:48})]}),b7e=e=>{switch(e){case"google_drive_oauth":case"google_drive_dwd":return m.jsx(OF,{});case"slack":return m.jsx(Xme,{});case"github":return m.jsx(Qme,{});case"sharepoint":return m.jsx(ege,{});default:return null}},AF=new BroadcastChannel("oauth_channel"),C7e=e=>{AF.postMessage(e)};async function MF({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:s,intl:o,isAdminQuickstartFlow:i=!1,accountId:a}){const l=window.open("about:blank","_blank");if(!l)throw new Error(o.formatMessage(lp.popupBlocked));if(i&&!a)throw new Error(o.formatMessage(lp.somethingWentWrong));const c=xt(),u=$e(c,"4153230103");let d;try{d=await(i?ha.admin_request_connect_quickstart(a??"",e,n):ha.user_request_connect(e,n,u))}catch{throw l.close(),new Error(o.formatMessage(lp.somethingWentWrong))}return V.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:s,isAdminQuickstartFlow:i}),l.location.href=d.oauth_flow_url,new Promise(f=>{const p=g=>{const{error:v,errorDesc:_,errorType:y,pluginId:b,success:w}=g.data;if(g.origin===window.location.origin&&!(d.plugin_id&&d.plugin_id!==b))if(w)V.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:i}),f({success:!0,message:o.formatMessage(lp.connectedDriveSyncDesc)});else{V.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:y,isAdminQuickstartFlow:i});const C=`${v}${_?`: ${_}`:""}`;f({errorType:y,success:w,message:C})}};AF.addEventListener("message",p,!1),l.addEventListener("beforeunload",()=>{window.removeEventListener("message",p,!1)})})}const lp=St({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),tge=wg(()=>le(()=>import("./vg26urh1t1u7ig8z.js"),__vite__mapDeps([6,1,7,8,9,10,11,12])).then(e=>e.GoogleRedirectContent)),eS={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:m.jsx(OF,{})},nge=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:s,accountId:o,onSuccess:i,excludeModalWrapper:a=!1})=>{const l=x6()?.enabled??!1,c=!t&&l,[u,d]=h.useState(c?"cta":"disclaimer"),[f,p]=h.useState(),g=ht(),v=h.useCallback(()=>{i?.(),e?.()},[e,i]),_={connectionId:r,connectorType:"google_drive_oauth",location:s,isAdminQuickstartFlow:n,accountId:o,onSuccess:v,onError:y=>{p(y),d("error")}};switch(u){case"disclaimer":return m.jsx(rge,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:m.jsx(Md,{title:g.formatMessage(Rc.cancel),color:"secondary",onClick:e}),primaryButton:m.jsx(Md,{color:"primary",onClick:()=>d("cta"),children:g.formatMessage(Rc.continue)})});case"cta":return c?m.jsx(oge,{onClose:e,isReconnect:!1,excludeModalWrapper:a,..._}):m.jsx(sge,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:m.jsx(Md,{title:g.formatMessage(Rc.back),color:"secondary",onClick:()=>d("disclaimer")}),primaryButton:m.jsx(bT,{label:g.formatMessage(Rc.loginWithGoogle),..._})});case"error":return c?m.jsx(age,{onClose:e,error:f,excludeModalWrapper:a,isReconnect:!0,..._}):m.jsx(ige,{isOpen:!0,onClose:e,error:f,excludeModalWrapper:a,primaryButton:m.jsx(bT,{label:g.formatMessage(Rc.reconnect),isReconnect:!0,..._})})}};function rge({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s,isAdminFlow:o,isAdminQuickstartFlow:i}){const a=m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"px-6 pt-4 pb-10",children:[m.jsx("div",{className:"text-xl font-medium",children:m.jsx(ie,{id:"zjbSLP",defaultMessage:"Connect your organization’s Google Drive "})}),m.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:i?m.jsx(ie,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):m.jsx(ie,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answers—grounded in your organization’s content. ChatGPT semantically searches your Drive and only surfaces content you’re authorized to view.",values:{userText:!o&&m.jsx(ie,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),m.jsx("div",{className:"mt-6 text-lg font-medium",children:m.jsx(ie,{id:"x/LOXH",defaultMessage:"What to expect"})}),m.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[m.jsx("li",{className:"mb-2 list-disc",children:m.jsx(ie,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),m.jsx("li",{className:"mb-2 list-disc",children:m.jsx(ie,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions — it can only access what you can."})}),m.jsx("li",{className:"list-disc",children:m.jsx(ie,{id:"uHiJ04",defaultMessage:"You’re in control: Disconnect anytime to instantly revoke access."})})]}),i&&m.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[m.jsx(vu,{className:"icon-lg"}),m.jsx("span",{className:"text-token-text-secondary text-sm",children:m.jsx(ie,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> — personal accounts won’t work. Be sure you’re using the right one.",values:{b:l=>m.jsx("strong",{children:l}),i:l=>m.jsx("em",{children:l}),code:l=>m.jsx("code",{children:l})}})})]})]}),m.jsx(X6,{secondaryButton:r,primaryButton:s})]});return n?a:m.jsx(pi,{...eS,isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a})}function sge({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s}){const o=m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"px-6 pt-4 pb-10",children:[m.jsx("div",{className:"mb-3 text-xl font-medium",children:m.jsx(ie,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),m.jsx("div",{children:m.jsx(ie,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:i=>m.jsx("strong",{children:i})}})})]}),m.jsx(X6,{secondaryButton:r,primaryButton:s})]});return n?o:m.jsx(pi,{...eS,isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:o})}function oge({onClose:e,excludeModalWrapper:t,...n}){const{loading:r,initiateOAuthFlow:s}=tS(n),o=m.jsx(tge,{connectorIcon:m.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:m.jsx(Lu,{height:32,width:32})}),connectorName:"Google Drive",onClose:e,isConnecting:r,onContinue:()=>s()});return t?o:m.jsx(pi,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:o})}const IF=({intl:e,error:t})=>{let n,r;switch(t?.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=t?.message??e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function ige({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:s}){const o=ht(),{title:i,body:a}=IF({intl:o,error:s}),l=m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"px-6 pt-4 pb-10",children:[m.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[m.jsx(jme,{className:"icon-lg"}),i]}),m.jsx("div",{children:a})]}),m.jsx(X6,{primaryButton:r})]});return n?l:m.jsx(pi,{...eS,isOpen:e,onClose:t,testId:"modal-gdrive-error",children:l})}function age({onClose:e,error:t,excludeModalWrapper:n,...r}){const s=ht(),{title:o,body:i}=IF({intl:s,error:t}),{loading:a,initiateOAuthFlow:l}=tS(r),c=m.jsxs(m.Fragment,{children:[m.jsx(Lme,{onClose:e,connectorIcon:m.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:m.jsx(Lu,{height:32,width:32})}),title:o}),m.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[m.jsx(Bme,{className:"icon-lg"}),i]}),m.jsx(sn,{className:"w-full",size:"large",onClick:()=>l(),loading:a,children:s.formatMessage(Rc.reconnect)})]});return n?c:m.jsx(pi,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:c})}const tS=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:s,accountId:o,onSuccess:i,onError:a})=>{const[l,c]=h.useState(!1),u=ht(),d=xn(),f=h.useCallback(async()=>{try{c(!0);const{message:p,errorType:g,success:v}=await MF({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:s,accountId:o});v?(d.success(p),i?.()):(d.danger(p,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p}),a?.({errorType:g,message:p}))}catch(p){a?.(),p instanceof Error&&d.danger(p.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p.message})}finally{c(!1)}},[e,t,n,r,u,s,o,d,i,a]);return{loading:l,initiateOAuthFlow:f}},bT=({label:e,...t})=>{const{loading:n,initiateOAuthFlow:r}=tS(t);return m.jsx(Md,{loading:n,onClick:r,color:"primary",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ume,{}),e]})})},Rc=St({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),lge=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:s})=>{const o=ht(),[i,a]=h.useState(!1),l=xn(),c=J6(),u=_ae(),d=e==="google_drive_oauth",f=h.useCallback(async()=>{try{a(!0),await MF({connectorType:e,connectionId:t,location:n,intl:o})}catch(y){y instanceof Error?l.danger(y.message,{toastId:"ca_oauth_button"}):l.danger(o.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r?.()}},[t,e,o,n,r,l]),[p,g]=h.useState(!1),v=s({disabled:c||u,isLoading:i,onClick:()=>{d?g(!0):f()}}),_=v;return c?m.jsx(ns,{label:o.formatMessage(cge.gdriveTooltip),children:v}):u?m.jsx(Nme,{children:v}):m.jsxs(m.Fragment,{children:[_,p&&m.jsx(nge,{isAdminFlow:!1,onClose:()=>g(!1),connectionId:t,location:n,onSuccess:r})]})},cge=St({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),uge=({givenDate:e,now:t,intl:n})=>{const r=Math.floor((t.getTime()-e.getTime())/1e3);if(r<60)return n.formatMessage({id:"DUWSt+",defaultMessage:"{seconds}s ago"},{seconds:r});if(r<3600){const s=Math.floor(r/60);return n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:s})}else if(r<86400){const s=Math.floor(r/3600);return n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:s})}else{const s=Math.floor(r/86400);return n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:s})}},RF=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const s=r/n,o=Math.min(1,Math.log1p(s*9)/Math.log1p(10));return Math.round(o*100)},NF=(e=1e3)=>{const[t,n]=h.useState(new Date);return h.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},dge=({connection:e})=>{const t=ht(),n=NF(),r=e.user_connection_details.initialized_at,s=r?RF({startDate:new Date(r),now:n,scale:1e3*60*60*3})/2:25;return m.jsx(ns,{label:t.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:m.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[m.jsx(E1,{sizeOverride:18,percentage:s}),m.jsx(ie,{id:"fYaL40",defaultMessage:"Syncing"})]})})},fge=({className:e,connection:t,ignoreLabel:n=!1})=>{const r=ht(),s=NF(),o=t.user_connection_details.initialized_at,i=o?RF({startDate:new Date(o),now:s,scale:1e3*60*60*6})/2+50:75;return m.jsx(ns,{label:r.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:r.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:m.jsxs("div",{className:he("text-caption-regular text-token-text-tertiary flex items-center gap-2",e),children:[m.jsx(E1,{sizeOverride:18,percentage:i,className:"text-blue-400"}),!n&&m.jsx(ie,{id:"k4otrZ",defaultMessage:"Partially synced"})]})})},hge=({connection:e,location:t,inactiveButtonOverride:n})=>{const[r,s]=h.useState(new Date);h.useEffect(()=>{const l=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(l)},[]);const{refetch:o}=th({skip:!0}),i=ht();switch(e.user_connection_details.activation_status){case"activated":{const l=e.user_connection_details.last_delta_sync_completed_at??e.user_connection_details.last_full_sync_completed_at;return l?m.jsx("div",{className:"text-body-small-regular",children:uge({now:r,givenDate:new Date(l),intl:i})}):m.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[m.jsx(j6,{className:"icon-sm"}),m.jsx(ie,{id:"SWdiTP",defaultMessage:"Synced"})]})}case"activating":return m.jsx(dge,{connection:e});case"partially_activated":return m.jsx(fge,{connection:e});case"inactive":return n||m.jsx(pge,{connection:e,refetch:o,location:t})}},CT="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",PF=({displayName:e,connectorType:t})=>m.jsx(ns,{withArrow:!0,interactive:!0,label:m.jsx(yT,{openNewTab:!0,underline:!1,href:CT,children:m.jsx(ie,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:m.jsx(yT,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:CT,openNewTab:!0,children:m.jsx(vu,{className:"icon"})})}),S7e=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return m.jsx(ie,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return m.jsx(PF,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return m.jsx(ie,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return m.jsx(E1,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},pge=({connection:e,refetch:t,location:n})=>{const r=h.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return m.jsx(sn,{disabled:!0,size:"small",color:"ghost",children:m.jsx(ie,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return m.jsx(PF,{displayName:e.connection_display_info.display_name});case"not_connected":return m.jsx(mge,{connection:e,location:n,refetch:t});case"user_connected":return m.jsx(E1,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return m.jsx(m.Fragment,{children:r})},mge=({connection:e,location:t,refetch:n})=>{const r=({disabled:s,isLoading:o,onClick:i})=>m.jsx(sn,{size:"small",disabled:s,loading:o,onClick:i,color:"secondary",children:m.jsx(ie,{id:"9ZiK24",defaultMessage:"Connect"})});return m.jsx(lge,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},gge=["admin_connected","admin_managed_disconnected"];function vge({connection:e,refetch:t}){const n=xn(),[r,s]=h.useState(!1);if(gge.includes(e.user_connection_details.auth_status))return null;const o=async()=>{try{s(!0),await ha.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch{n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{s(!1),t?.()}};return m.jsxs(It.Root,{children:[m.jsx(It.BasicTrigger,{children:m.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:m.jsx(Ype,{className:"icon-sm"})})}),m.jsx(It.Portal,{children:m.jsx(It.Content,{size:"small",align:"end",children:m.jsx(It.Item,{disabled:r,onClick:o,icon:m.jsx(Zpe,{}),color:"danger",children:m.jsx(ie,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const lh=()=>{const e=Hl();return Tt({queryKey:["user_connection_status"],queryFn:ha.user_connection_status,enabled:e})},_ge=new Set(["gdrive_sync_connector","sharepoint_sync_connector","github_sync_connector"]);function w7e(){const e=ae(),t=$e(e,"2509278897"),{data:n,isLoading:r,refetch:s}=lh(),o=h.useMemo(()=>t?n?.connection_statuses.filter(i=>!_ge.has(i.user_connection_details.connection_type)):n?.connection_statuses,[n,t]);return h.useEffect(()=>{V.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),t&&!o?.length?null:m.jsx(_te,{description:m.jsx(ie,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:m.jsx(ie,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:m.jsx("div",{className:"border-b",children:r?m.jsx("div",{className:"p-2",children:m.jsx(hde,{lines:4})}):o?.length?m.jsx("div",{children:o.map(i=>m.jsx(yte,{children:m.jsx($ue,{icon:m.jsx("img",{src:i.connection_display_info.icon_url??"",alt:i.connection_display_info.display_name,className:"icon-lg"}),title:i.connection_display_info.display_name,statusIndicator:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(hge,{connection:i,location:"user_settings"}),i.user_connection_details?.activation_status!=="inactive"&&m.jsx(vge,{connection:i,refetch:s})]})})},i.user_connection_details.connection_instance_id))}):m.jsx("p",{className:"text-token-text-secondary my-2",children:m.jsx(ie,{id:"nzXh59",defaultMessage:"No connections found."})})})})}const DF=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M3.31302 16.7412C3.11928 17.0571 2.90169 17.4237 2.71689 17.7158C2.63737 17.8502 2.61375 18.0104 2.65109 18.162C2.68844 18.3136 2.78377 18.4445 2.91659 18.5266L6.79145 20.9111C6.85879 20.9527 6.93372 20.9804 7.01189 20.9928C7.09007 21.0051 7.1699 21.0017 7.24676 20.9828C7.32361 20.964 7.39593 20.93 7.45952 20.8829C7.5231 20.8358 7.57667 20.7765 7.6171 20.7084C7.77209 20.4491 7.9718 20.1123 8.18938 19.7516C9.72443 17.2181 11.2684 17.5281 14.0523 18.8574L17.8944 20.6846C17.9664 20.7189 18.0446 20.7383 18.1243 20.7419C18.204 20.7454 18.2836 20.7329 18.3583 20.7051C18.4331 20.6773 18.5015 20.6348 18.5596 20.5801C18.6176 20.5253 18.6641 20.4595 18.6962 20.3865L20.5413 16.2136C20.6039 16.0703 20.6078 15.9082 20.552 15.7621C20.4963 15.6161 20.3854 15.4977 20.2432 15.4327C19.4324 15.0511 17.8199 14.2911 16.3683 13.5906C11.1462 11.0541 6.708 11.218 3.31302 16.7412Z",fill:"#1868DB"}),h.createElement("path",{d:"M20.6871 7.27164C20.8808 6.95569 21.0984 6.58907 21.2832 6.29696C21.3627 6.16259 21.3864 6.00239 21.349 5.85079C21.3117 5.69919 21.2163 5.56829 21.0835 5.48622L17.2086 3.10169C17.1408 3.056 17.0643 3.02476 16.9839 3.00991C16.9034 2.99506 16.8208 2.99692 16.7411 3.01537C16.6615 3.03382 16.5864 3.06847 16.5207 3.11717C16.455 3.16586 16.4 3.22756 16.3592 3.29842C16.2042 3.55773 16.0045 3.89455 15.7869 4.25521C14.2518 6.78877 12.7078 6.47878 9.92391 5.14941L6.09376 3.3312C6.02173 3.29692 5.94356 3.27744 5.86387 3.27392C5.78419 3.2704 5.7046 3.28291 5.62984 3.3107C5.55507 3.3385 5.48664 3.38101 5.4286 3.43573C5.37057 3.49045 5.3241 3.55627 5.29196 3.62927L3.44693 7.8022C3.38427 7.94545 3.38041 8.10758 3.43616 8.25366C3.49192 8.39973 3.60283 8.51806 3.745 8.58313C4.55574 8.96466 6.16827 9.72473 7.61986 10.4252C12.8539 12.9587 17.2921 12.7888 20.6871 7.27164Z",fill:"#1868DB"})),LF=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M20.248 3H11.5801C11.5801 4.03775 11.9923 5.03299 12.7261 5.76679C13.4599 6.50058 14.4552 6.91283 15.4929 6.91283H17.0896V8.45439C17.091 10.6134 18.8409 12.3633 20.9999 12.3647V3.75198C20.9999 3.33667 20.6633 3 20.248 3Z",fill:"#1868DB"}),h.createElement("path",{d:"M15.9594 7.31897H7.2915C7.29289 9.47801 9.04279 11.2279 11.2018 11.2293H12.7985V12.7759C12.8013 14.9349 14.5523 16.6837 16.7114 16.6837V8.07095C16.7114 7.65564 16.3747 7.31897 15.9594 7.31897Z",fill:"#1868DB"}),h.createElement("path",{d:"M11.6679 11.6353H3C3 13.7963 4.75183 15.5481 6.91283 15.5481H8.51455V17.0897C8.51593 19.2468 10.2628 20.9959 12.4199 21V12.3873C12.4199 11.972 12.0832 11.6353 11.6679 11.6353Z",fill:"#1868DB"})),yge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint0_radial_376_5370)"}),h.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint1_linear_376_5370)"}),h.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint2_radial_376_5370)"}),h.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint3_linear_376_5370)"}),h.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint4_radial_376_5370)"}),h.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint5_linear_376_5370)"}),h.createElement("defs",null,h.createElement("radialGradient",{id:"paint0_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.00587 5.92579) rotate(110.528) scale(15.1669 26.4541)"},h.createElement("stop",{offset:.06441,stopColor:"#AE7FE2"}),h.createElement("stop",{offset:1,stopColor:"#0078D4"})),h.createElement("linearGradient",{id:"paint1_linear_376_5370",x1:9.04828,y1:18.3037,x2:6.88428,y2:14.5609,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#114A8B"}),h.createElement("stop",{offset:1,stopColor:"#0078D4",stopOpacity:0})),h.createElement("radialGradient",{id:"paint2_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82811 17.6139) rotate(-8.36717) scale(14.1144 9.32348)"},h.createElement("stop",{offset:.133928,stopColor:"#D59DFF"}),h.createElement("stop",{offset:1,stopColor:"#5E438F"})),h.createElement("linearGradient",{id:"paint3_linear_376_5370",x1:19.4317,y1:12.6254,x2:17.1128,y2:15.9504,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#493474"}),h.createElement("stop",{offset:1,stopColor:"#8C66BA",stopOpacity:0})),h.createElement("radialGradient",{id:"paint4_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7505 13.1378) rotate(-165.772) scale(11.329 19.0713)"},h.createElement("stop",{offset:.0584996,stopColor:"#50E6FF"}),h.createElement("stop",{offset:1,stopColor:"#436DCD"})),h.createElement("linearGradient",{id:"paint5_linear_376_5370",x1:8.80489,y1:2.47938,x2:12.2191,y2:2.47938,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#2D3F80"}),h.createElement("stop",{offset:1,stopColor:"#436DCD",stopOpacity:0})))),bge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#4285F4"}),h.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#1967D2"}),h.createElement("path",{d:"M8 13.75C8 13.6119 8.11193 13.5 8.25 13.5H15.75C15.8881 13.5 16 13.6119 16 13.75V14.75C16 14.8881 15.8881 15 15.75 15H8.25C8.11193 15 8 14.8881 8 14.75V13.75ZM8 16.75C8 16.6119 8.11193 16.5 8.25 16.5H13.75C13.8881 16.5 14 16.6119 14 16.75V17.75C14 17.8881 13.8881 18 13.75 18H8.25C8.11193 18 8 17.8881 8 17.75V16.75Z",fill:"white"}),h.createElement("path",{d:"M8 10.75C8 10.6119 8.11193 10.5 8.25 10.5H15.75C15.8881 10.5 16 10.6119 16 10.75V11.75C16 11.8881 15.8881 12 15.75 12H8.25C8.11193 12 8 11.8881 8 11.75V10.75Z",fill:"white"})),Cge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#34A853"}),h.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#188038"}),h.createElement("path",{d:"M7.5 10.5C7.22386 10.5 7 10.7239 7 11V17.5C7 17.7761 7.22386 18 7.5 18H16.5C16.7761 18 17 17.7761 17 17.5V11C17 10.7239 16.7761 10.5 16.5 10.5H7.5ZM11.25 16.5L8.5 16.5V14.75L11.25 14.75V16.5ZM11.25 13.75H8.5V12H11.25V13.75ZM15.5 16.5H12.75V14.75L15.5 14.75V16.5ZM15.5 13.75H12.75V12H15.5V13.75Z",fill:"white"})),Sge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#F4B400"}),h.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#9D7607"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.25C7 10.8358 7.33579 10.5 7.75 10.5H16.25C16.6642 10.5 17 10.8358 17 11.25V17.25C17 17.6642 16.6642 18 16.25 18H7.75C7.33579 18 7 17.6642 7 17.25V11.25ZM8.5 12.5V16H15.5V12.5H8.5Z",fill:"white"})),wge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M13.5574 11.5349L5.65039 10.1395V20.4498C5.65039 20.9206 6.03209 21.3023 6.50295 21.3023H20.1467C20.6175 21.3023 20.9992 20.9206 20.9992 20.4498V16.6512L13.5574 11.5349Z",fill:"#185C37"}),h.createElement("path",{d:"M13.5574 2.69763H6.50295C6.03209 2.69763 5.65039 3.07933 5.65039 3.55019V7.34879L13.5574 12L17.7434 13.3953L20.9992 12V7.34879L13.5574 2.69763Z",fill:"#21A366"}),h.createElement("path",{d:"M5.65039 7.34888H13.5574V12H5.65039V7.34888Z",fill:"#107C41"}),h.createElement("path",{opacity:.1,d:"M11.3095 6.41858H5.65039V18.0465H11.3095C11.7797 18.045 12.1605 17.6641 12.162 17.1939V7.27114C12.1605 6.80092 11.7797 6.42011 11.3095 6.41858Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73634C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),h.createElement("path",{d:"M1.85256 6.88379H10.38C10.8508 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7346 10.8508 17.1163 10.38 17.1163H1.85256C1.3817 17.1163 1 16.7346 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5372)"}),h.createElement("path",{d:"M3.63965 14.7712L5.43314 11.9921L3.78988 9.22839H5.11174L6.00848 10.9958C6.09128 11.1637 6.14802 11.2884 6.17872 11.3707H6.19035C6.24926 11.2368 6.31128 11.1067 6.37639 10.9805L7.335 9.22933H8.54848L6.86336 11.9768L8.59128 14.7712H7.30012L6.2643 12.8312C6.21551 12.7486 6.17411 12.6619 6.14059 12.5721H6.12524C6.09489 12.6601 6.05464 12.7444 6.00523 12.8233L4.93872 14.7712H3.63965Z",fill:"white"}),h.createElement("path",{d:"M20.1489 2.69763H13.5596V7.34879H21.0014V3.55019C21.0014 3.07933 20.6197 2.69763 20.1489 2.69763Z",fill:"#33C481"}),h.createElement("path",{d:"M13.5596 12H21.0014V16.6512H13.5596V12Z",fill:"#107C41"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_376_5372",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#18884F"}),h.createElement("stop",{offset:.5,stopColor:"#117E43"}),h.createElement("stop",{offset:1,stopColor:"#0B6631"})))),Ege=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M13.0927 12.9302L11.6973 2.69763H11.5932C6.51931 2.71244 2.40983 6.82193 2.39502 11.8958V12L13.0927 12.9302Z",fill:"#ED6C47"}),h.createElement("path",{d:"M11.8019 2.69763H11.6978V12L16.3489 13.8604L21.0001 12V11.8958C20.9853 6.82193 16.8758 2.71244 11.8019 2.69763Z",fill:"#FF8F6B"}),h.createElement("path",{d:"M20.9997 12V12.1023C20.9851 17.1773 16.8746 21.2878 11.7997 21.3023H11.595C6.52004 21.2878 2.40958 17.1773 2.39502 12.1023V12H20.9997Z",fill:"#D35230"}),h.createElement("path",{opacity:.1,d:"M12.1625 7.26975V17.1953C12.1602 17.5402 11.9512 17.8501 11.6322 17.9814C11.5307 18.0243 11.4216 18.0465 11.3113 18.0465H4.59038C4.46015 17.8977 4.33457 17.7395 4.21829 17.5814C3.03331 16.0006 2.39349 14.0779 2.39503 12.1023V11.8977C2.39231 10.1157 2.9131 8.37221 3.8927 6.8837C3.99503 6.72556 4.102 6.56742 4.21829 6.41858H11.3113C11.7799 6.42213 12.1589 6.80114 12.1625 7.26975Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M11.6974 7.73496V17.6605C11.6973 17.7708 11.6752 17.8799 11.6322 17.9815C11.5009 18.3004 11.1911 18.5094 10.8462 18.5117H5.01364C4.86648 18.3623 4.72528 18.2071 4.59038 18.0466C4.46015 17.8977 4.33457 17.7396 4.21829 17.5815C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88733 11.6938 7.26634 11.6974 7.73496Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M11.6974 7.73495V16.7303C11.6938 17.1989 11.3148 17.5779 10.8462 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88732 11.6938 7.26633 11.6974 7.73495Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M11.2322 7.73495V16.7303C11.2287 17.1989 10.8497 17.5779 10.3811 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.3811C10.8497 6.88732 11.2287 7.26633 11.2322 7.73495Z",fill:"#282828"}),h.createElement("path",{d:"M1.85255 6.88379H10.38C10.8509 6.88379 11.2325 7.2655 11.2325 7.73634V16.2638C11.2325 16.7346 10.8508 17.1163 10.38 17.1163H1.85255C1.38171 17.1163 1 16.7346 1 16.2638V7.73634C1 7.2655 1.38171 6.88379 1.85255 6.88379Z",fill:"url(#paint0_linear_376_5382)"}),h.createElement("path",{d:"M6.20915 9.15766C6.76426 9.12021 7.31459 9.28145 7.76171 9.61255C8.13464 9.94549 8.3339 10.4313 8.30217 10.9302C8.30827 11.277 8.21585 11.6185 8.03567 11.9149C7.85325 12.2062 7.59043 12.4385 7.27892 12.5837C6.9228 12.7493 6.53344 12.8311 6.14077 12.8228H5.06217V14.8274H3.95752V9.15766H6.20915ZM5.06125 11.9567H6.01195C6.31334 11.9789 6.61239 11.8897 6.85242 11.706C7.05094 11.5156 7.155 11.247 7.1366 10.9726C7.1366 10.3477 6.7735 10.0353 6.0473 10.0353H5.06126V11.9567H5.06125Z",fill:"white"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_376_5382",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#CA4C28"}),h.createElement("stop",{offset:.5,stopColor:"#C5401E"}),h.createElement("stop",{offset:1,stopColor:"#B62F14"})))),xge=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M20.1467 2.69775H6.50295C6.03209 2.69775 5.65039 3.07946 5.65039 3.55031V7.34892L13.5574 9.6745L20.9992 7.34892V3.55031C20.9992 3.07946 20.6175 2.69775 20.1467 2.69775Z",fill:"#41A5EE"}),h.createElement("path",{d:"M20.9992 7.34888H5.65039V12L13.5574 13.3954L20.9992 12V7.34888Z",fill:"#2B7CD3"}),h.createElement("path",{d:"M5.65039 12.0001V16.6513L13.0923 17.5815L20.9992 16.6513V12.0001H5.65039Z",fill:"#185ABD"}),h.createElement("path",{d:"M6.50295 21.3024H20.1467C20.6175 21.3024 20.9992 20.9207 20.9992 20.4498V16.6512H5.65039V20.4498C5.65039 20.9207 6.03209 21.3024 6.50295 21.3024Z",fill:"#103F91"}),h.createElement("path",{opacity:.1,d:"M11.3095 6.4187H5.65039V18.0466H11.3095C11.7797 18.0451 12.1605 17.6643 12.162 17.194V7.27126C12.1605 6.80104 11.7797 6.42023 11.3095 6.4187Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),h.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73635C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),h.createElement("path",{d:"M1.85256 6.88379H10.38C10.8509 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7347 10.8509 17.1164 10.38 17.1164H1.85256C1.3817 17.1164 1 16.7347 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5387)"}),h.createElement("path",{d:"M4.49888 13.4224C4.51562 13.554 4.52679 13.6684 4.5319 13.7666H4.55143C4.55887 13.6736 4.57437 13.5615 4.59794 13.4303C4.62151 13.2991 4.64275 13.1883 4.66166 13.0978L5.55841 9.22891H6.71795L7.64818 13.0396C7.70223 13.2766 7.74092 13.5168 7.764 13.7587H7.77935C7.79669 13.5243 7.82901 13.2913 7.87609 13.061L8.61795 9.22705H9.6733L8.37004 14.7712H7.13702L6.2533 11.0996C6.22772 10.994 6.19842 10.8559 6.16632 10.6861C6.13423 10.5163 6.11423 10.3922 6.10632 10.314H6.09097C6.08074 10.4042 6.06073 10.5382 6.03097 10.7159C6.0012 10.8936 5.97732 11.025 5.95933 11.1103L5.12863 14.7703H3.87468L2.56445 9.2289H3.63887L4.44678 13.1056C4.46492 13.1852 4.48214 13.2912 4.49888 13.4224Z",fill:"white"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_376_5387",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#2368C4"}),h.createElement("stop",{offset:.5,stopColor:"#1A5DBE"}),h.createElement("stop",{offset:1,stopColor:"#1146AC"})))),E7e=({className:e,contextConnector:t,extension:n})=>{const r=ht(),s=Tge(t,n);return m.jsx("div",{className:`${e} dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10`,children:m.jsx(s,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function Tge(e,t){switch(e){case be.CONFLUENCE:return DF;case be.GDRIVE:switch(t){case"doc":case"docx":return bge;case"xls":case"xlsx":return Cge;case"ppt":case"pptx":return Sge;default:return Lu}case be.JIRA:return LF;case be.NOTION_OPEN_CONNECTOR:return k6;case be.O365_BUSINESS:case be.O365_PERSONAL:case be.O365:switch(t){case"doc":case"docx":return xge;case"xls":case"xlsx":return wge;case"ppt":case"pptx":return Ege;default:return yge}case be.SLACK_OPEN_CONNECTOR:return h1}}function x7e(e){switch(e){case be.CONFLUENCE:return DF;case be.GDRIVE:return Lu;case be.JIRA:return LF;case be.NOTION_OPEN_CONNECTOR:return k6;case be.O365_PERSONAL:case be.O365:return mD;case be.O365_BUSINESS:return TF;case be.SLACK_OPEN_CONNECTOR:return h1}}var cd={},ST;function kge(){if(ST)return cd;ST=1,Object.defineProperty(cd,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return cd.assertNever=e,cd.default=e,cd}var Oge=kge();const Age=yn(Oge),Mge=Ln({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),Ige=Ln({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),T7e=St({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function k7e(e,t,n){switch(e){case be.CONFLUENCE:return"Confluence";case be.GDRIVE:return"Google Drive";case be.JIRA:return"Jira";case be.NOTION_OPEN_CONNECTOR:return"Notion";case be.O365:return n?"OneDrive":"Microsoft OneDrive";case be.O365_PERSONAL:return n?"OneDrive":t?.formatMessage(Mge)??"Microsoft OneDrive (personal)";case be.O365_BUSINESS:return n?"Sharepoint":t?.formatMessage(Ige)??"Microsoft OneDrive (work/school)";case be.SLACK_OPEN_CONNECTOR:return"Slack"}}function Rge(e,t){switch(e){case be.CONFLUENCE:return"Confluence Page";case be.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case be.JIRA:return"Jira Issue";case be.NOTION_OPEN_CONNECTOR:return"Notion Page";case be.O365:case be.O365_PERSONAL:case be.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case be.SLACK_OPEN_CONNECTOR:return"Slack"}Age(e)}function O7e({contextConnector:e,extension:t}){return m.jsx(m.Fragment,{children:Rge(e,t)})}const Nge=en(e=>{const n=If(e)?.user,r=Bn(e,"1967546325"),s=r.get("gdrivePicker",!1),o=r.get("o365Picker",!1),i=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),l=r.get("o365BusinessLink",!1),c=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),p=Bn(e,"3747383021"),g=$e(e,"3544641259")&&p.get("github",!1),v=r.get("gdrivePercentage",0),_=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),b=r.get("testCtor2Percentage",0),w=r.get("testCtor3Percentage",0),C=r.get("oversmokePercentage",0),S=r.get("loadTestPercentage",0),E=r.get("showWorkspaceSettings",!1),x=n?Pge(n.id):null;return{confluenceLinkStatus:Os(c,x,y),gdriveLinkStatus:Os(i,x,v),gdriveStatus:Os(s,x,v),jiraLinkStatus:Os(u,x,b),notionLinkStatus:Os(d,x,w),o365BusinessLinkStatus:Os(l,x,_),o365PersonalLinkStatus:Os(a,x,_),o365Status:Os(o,x,_),slackLinkStatus:Os(f,x,C),githubLinkStatus:Os(g,x,100),loadTest:Os(!0,x,S)==="true",showWorkspaceSettings:E}});function nS(){const e=ae();return Nge(e)}function Os(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function Pge(e){const n=Dge(e)%100;return Math.abs(n)}function Dge(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const Lge=new Map;function A7e(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:s,o365PersonalLinkStatus:o,slackLinkStatus:i}=nS();return rS(t,s,o,e,n,r,i)}function M7e(){const{gdriveStatus:e,o365Status:t}=nS();return rS(e,t,t)}function Fge(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:s,slackLinkStatus:o,githubLinkStatus:i}=nS();return rS(e,t,t,i,n,r,s,o)}function rS(e,t,n,r=null,s=null,o=null,i=null,a=null){const l=ae(),u=fn(l)?.getWorkspaceId(),d=[be.GDRIVE,be.O365_PERSONAL,be.O365_BUSINESS,...s==="true"||s==="ifConnected"?[be.CONFLUENCE]:[],...o==="true"||o==="ifConnected"?[be.JIRA]:[],...i==="true"||i==="ifConnected"?[be.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[be.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:p,error:g,refetch:v}=jge(d),{data:_,isLoading:y,error:b,refetch:w}=Ng(u),C=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_CONFLUENCE],S=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_GDRIVE],E=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_JIRA],x=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_NOTION],T=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_O365_PERSONAL],k=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_O365_BUSINESS],O=!u||_?.beta_settings?.[Ni.CONTEXT_CONNECTOR_SLACK],A=f.get(be.CONFLUENCE),M=f.get(be.GDRIVE),I=f.get(be.JIRA),N=f.get(be.NOTION_OPEN_CONNECTOR),q=f.get(be.O365_PERSONAL),P=f.get(be.O365_BUSINESS),D=f.get(be.SLACK_OPEN_CONNECTOR),R=(Fe,pe)=>Fe==="true"||Fe==="ifConnected"&&pe,B=h.useMemo(()=>{const Fe=!!s&&R(s,!!A?.access_token),pe=!!M?.access_token,ge=R(e,pe),Se=!!o&&R(o,!!I?.access_token),se=!!i&&R(i,!!N?.access_token),K=!!(q?.access_token??P?.access_token),G=R(t,K),ue=R(n,K),oe=!!a&&R(a,!!D?.access_token),_e=[Fe&&A&&C?[be.CONFLUENCE,A]:null,ge&&M&&S?[be.GDRIVE,M]:null,Se&&I&&E?[be.JIRA,I]:null,se&&N&&x?[be.NOTION_OPEN_CONNECTOR,N]:null,ue&&q&&T?[be.O365_PERSONAL,q]:null,G&&P&&k?[be.O365_BUSINESS,P]:null,oe&&D&&O?[be.SLACK_OPEN_CONNECTOR,D]:null];return new Map(bN(_e))},[A,s,M,e,I,o,N,i,P,D,t,q,n,C,a,S,x,E,T,k,O]);let Y=null,Me=v;return g?(Y=g,Me=v):b&&(Y=b,Me=w),{connectorConfig:B,isLoading:p||y,error:Y,refetch:Me}}function jge(e){const{isUnauthenticated:t}=Hf(),{data:n,isLoading:r,error:s,refetch:o}=Tt({queryKey:["fetchConnectorData",e],queryFn:Uge,refetchInterval:30*60*1e3,enabled:!t});return{connectors:h.useMemo(()=>!n||!n.length||s?Lge:new Map(n.map(a=>[a.type,a])),[n,s]),isLoading:r,error:s,refetch:o}}async function Uge({queryKey:e}){const[t,n]=e;let r=null;try{r=await Q.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(o){throw U.addAction("Server Error while retrieving context connector entry",{cause:o}),o}return!r||!r.connectors?[]:r.connectors.map(o=>{const{type:i,...a}=o,l=i;if(a.access_token){if(l===be.O365_PERSONAL)return{type:l,...a,onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}};if(l===be.O365_BUSINESS){const c=a.onedrive_business_metadata?.base_url;if(c){const u=new URL(c);return{type:l,...a,onedrive_endpoint_hint:{type:"business",baseUrl:c,parsedUrl:`https://${u.hostname}/_layouts/15/FilePicker.aspx`}}}}}return{type:l,...a}})}const wT=10,I7e=4,NC={duration:20,hasCloseButton:!0},Bge=512,R7e=Bge*1024*1024,qge="application/vnd.google-apps.spreadsheet",Gge="application/vnd.google-apps.presentation",Vge="application/vnd.google-apps.document",Hge=["xlsx","pptx","docx","page","issue"],zge={[qge]:"xlsx",[Gge]:"pptx",[Vge]:"docx"};function N7e(e){return e?zge[e.split(";")[0]]??null:null}function $ge(e){return Hge.includes(e)}function Wge(e){return e&&$ge(e)?e:null}var Yn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(Yn||{});function P7e(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:Wge(e.synthetic_extension),type:e.type}}var Bi=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Bi||{}),p2,ET;function Kge(){if(ET)return p2;ET=1;var e=S6(),t=Wg(),n=m5(),r=mi(),s=Gf();function o(i,a,l,c){if(!r(i))return i;a=t(a,i);for(var u=-1,d=a.length,f=d-1,p=i;p!=null&&++u<d;){var g=s(a[u]),v=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return i;if(u!=f){var _=p[g];v=c?c(_,g,p):void 0,v===void 0&&(v=r(_)?_:n(a[u+1])?[]:{})}e(p,g,v),p=p[g]}return i}return p2=o,p2}var m2,xT;function FF(){if(xT)return m2;xT=1;var e=k5(),t=Kge(),n=Wg();function r(s,o,i){for(var a=-1,l=o.length,c={};++a<l;){var u=o[a],d=e(s,u);i(d,u)&&t(c,n(u,s),d)}return c}return m2=r,m2}var g2,TT;function Yge(){if(TT)return g2;TT=1;var e=FF(),t=NI();function n(r,s){return e(r,s,function(o,i){return t(r,i)})}return g2=n,g2}var v2,kT;function Zge(){if(kT)return v2;kT=1;var e=Ou(),t=h5(),n=Ss(),r=e?e.isConcatSpreadable:void 0;function s(o){return n(o)||t(o)||!!(r&&o&&o[r])}return v2=s,v2}var _2,OT;function Jge(){if(OT)return _2;OT=1;var e=d5(),t=Zge();function n(r,s,o,i,a){var l=-1,c=r.length;for(o||(o=t),a||(a=[]);++l<c;){var u=r[l];s>0&&o(u)?s>1?n(u,s-1,o,i,a):e(a,u):i||(a[a.length]=u)}return a}return _2=n,_2}var y2,AT;function Xge(){if(AT)return y2;AT=1;var e=Jge();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return y2=t,y2}var b2,MT;function Qge(){if(MT)return b2;MT=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return b2=e,b2}var C2,IT;function e1e(){if(IT)return C2;IT=1;var e=Qge(),t=Math.max;function n(r,s,o){return s=t(s===void 0?r.length-1:s,0),function(){for(var i=arguments,a=-1,l=t(i.length-s,0),c=Array(l);++a<l;)c[a]=i[s+a];a=-1;for(var u=Array(s+1);++a<s;)u[a]=i[a];return u[s]=o(c),e(r,this,u)}}return C2=n,C2}var S2,RT;function t1e(){if(RT)return S2;RT=1;function e(t){return function(){return t}}return S2=e,S2}var w2,NT;function n1e(){if(NT)return w2;NT=1;var e=t1e(),t=nD(),n=O5(),r=t?function(s,o){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return w2=r,w2}var E2,PT;function r1e(){if(PT)return E2;PT=1;var e=800,t=16,n=Date.now;function r(s){var o=0,i=0;return function(){var a=n(),l=t-(a-i);if(i=a,l>0){if(++o>=e)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return E2=r,E2}var x2,DT;function s1e(){if(DT)return x2;DT=1;var e=n1e(),t=r1e(),n=t(e);return x2=n,x2}var T2,LT;function o1e(){if(LT)return T2;LT=1;var e=Xge(),t=e1e(),n=s1e();function r(s){return n(t(s,void 0,e),s+"")}return T2=r,T2}var k2,FT;function i1e(){if(FT)return k2;FT=1;var e=Yge(),t=o1e(),n=t(function(r,s){return r==null?{}:e(r,s)});return k2=n,k2}var a1e=i1e();const l1e=yn(a1e),D7e=["none","delay","indexed"],L7e=["none","Adaptive","ChunkedCatchup","Punctuation"],c1e={label:"Auto",value:""},u1e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",d1e=()=>({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showCompletionPerfData:!0,forceParagen:!1,forceParagenModel:c1e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:u1e,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null,...{}}),jF=cn(CN(d1e,{name:Et.DebugSettings,partialize:e=>l1e(e,["fConversationEndpoint","showCompletionPerfData","jsonViewerFilters","recordRendering","recordTransformedConvoJson"])})),ch=()=>jF.getState(),F7e=e=>jF.setState(e);function j7e(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function U7e(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function B7e(e){return e.startsWith("file-service://")}function PC(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage($n.fileZeroBytes,n);case"file_too_large":return e.formatMessage($n.fileTooLarge,n);case"over_user_quota":return e.formatMessage($n.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage($n.fileNotFound,n);case"file_timed_out":return e.formatMessage($n.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage($n.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage($n.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage($n.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage($n.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage($n.fileEmpty,n);case"too_many_tokens":return e.formatMessage($n.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage($n.fileEncrypted,n);case"file_corrupted":return e.formatMessage($n.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage($n.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage($n.unknownError)}}function q7e(){const e=ht();return h.useCallback((t,n)=>PC(e,t,n),[e])}const G7e=1e3*60*58;async function f1e(e,t,n=!1,r,s,o,i){const[,a,l]=/^(.*?)(\?.*)?$/.exec(e)??[],c=new URLSearchParams(l),u=a.replaceAll("#","*"),d=await Q.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:u},query:{gizmo_id:t,post_id:i,...Object.fromEntries(c.entries()),conversation_id:r,inline:s}},authOption:n?Qt.Anonymous:void 0});if(d.status===Kd.Success||d.status===Kd.Retry)return d;throw new gn("Could not get file download link","error_code"in d?d.error_code:"unknown_error")}function V7e(){const{session:e}=Rf(),{isUnauthenticated:t}=Hf(),n=xn();return async(r,s)=>{if(!t&&e==null)return n.danger($n.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const o=await f1e(r,void 0,t);if(o.status!==Kd.Success)throw new Error("File is not ready to download: "+JSON.stringify(o));const i=o.download_url,a=document.createElement("a");a.href=i,a.download=s,a.click(),window.open(i,"_blank")}catch{return n.danger($n.fileDownloadFailed,{toastId:"file_download_failed"}),!1}return!0}}function sS(e,t){return(t?.kind===an.GizmoInteraction||t?.kind===an.GizmoTest)&&!(t?.gizmo&&MD(t?.gizmo))?t.gizmo?.product_features:e?.product_features}function H7e(e,t,n){const r=sS(e,t);return n===ve.Research?Yn.Retrieval:r?.attachments?.type===el.CodeInterpreter?Yn.Interpreter:r?.attachments?.type===el.Multimodal?Yn.Multimodal:r?.attachments?.type===el.Retrieval?Yn.Retrieval:r?.attachments?.type===el.ContextConnector?Yn.ContextConnector:Yn.None}function UF(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t??""]||""}function h1e(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function BF(e,t,n){const r=UF(e);return r&&(t=r),n&&(t=h1e(t)),t}function p1e(e,t,n,r,s){if(s==null)return e;const o=BF(t,n,r),{accepted_mime_types:i,can_accept_all_mime_types:a}=s;return i==null||i.length===0||!a||i.includes(o)?e:Yn.Interpreter}function z7e(e,t,n,r){const s=BF(n,t,r),o=e?.product_features?.attachments;if(o!=null)return o.accepted_mime_types?.includes(s)?o.type:o.image_mime_types?.includes(s)?el.Multimodal:el.CodeInterpreter}function $7e(e,t){const n=sS(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function W7e(e,t){const n=sS(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??m1e:[]}const m1e=["image/png","image/jpeg","image/gif","image/webp"],jT={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};function g1e(e){return e.reduce((t,n)=>(n in jT?t[n]=jT[n]:n.includes("/")&&(t[n]=[`.${n.split("/")[1]}`]),t),{})}function K7e(e){return h.useMemo(()=>e===void 0?{}:{accept:g1e(e)},[e])}function oS(e){return e.split(".").pop()?.toLowerCase()}function Y7e(e){const t=oS(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function Z7e(e){const t=oS(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function J7e(e){const t=oS(e);return t!=null&&["xls","xlsx"].includes(t)}function qF(e,t,n="fit"){return new Promise((r,s)=>{const o=new FileReader;o.onerror=i=>{U.addError(new Error("File reading has failed:",{cause:i})),s(new Error("Failed to read the file."))},o.onload=i=>{const a=new Image;a.onerror=l=>{U.addError(new Error("Image loading has failed:",{cause:l})),s(new Error("Failed to load the image."))},a.onload=()=>{const l=document.createElement("canvas");let c,u=0,d=0;switch(n){case"fill":c=t/Math.min(a.width,a.height);break;case"square":c=t/Math.min(a.width,a.height);break;case"fit":c=t/Math.max(a.width,a.height);break}const f=a.width*c,p=a.height*c;n==="square"?(l.width=t,l.height=t,u=(t-f)/2,d=(t-p)/2):(l.width=f,l.height=p);const g=l.getContext("2d");if(g==null){U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}g.drawImage(a,u,d,f,p);const v=e.type||"image/png";l.toBlob(_=>{_?r(new File([_],e.name,{type:v})):(U.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},v)},i.target==null?(U.addError("Event target is null. Failed to load image."),s("Failed to load image.")):a.src=i.target.result},o.readAsDataURL(e)})}function X7e(e,t){return qF(e,t,"square")}function Q7e(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function v1e(e,t){return t?e.slice(0,-t.length-1):e}function e9e(){const e=ae(),t=Wt(e,"3278106051"),n=Wt(e,"2356508715");return h.useMemo(()=>()=>!t.get("allow_receiver_see_user_uploaded_files")&&!n.get("allow_receiver_see_user_uploaded_files"),[t,n])}const $n=St({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}});let O2=null;async function _1e(){return O2||(O2=(await le(async()=>{const{default:e}=await import("./e8thlmiuh1tetfnu.js");return{default:e}},[])).default),O2}const cp={duration:20,hasCloseButton:!0};function t9e(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function DC(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=o=>n(o),s.src=r.result},r.readAsDataURL(e)})}async function y1e(e,t,n,r,s){try{const o=await Q.safePost("/files",{authOption:s?Qt.Anonymous:void 0,requestBody:{file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===Fn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r}});if(o.status===Kd.Error)throw V.logEvent("Create File Entry Error",{error_code:o.error_code,error_type_name:"FileServiceErrorResponse",error_msg:o.error_code,error_stack:""}),new gn("Could not create file",o.error_code);return o}catch(o){throw o instanceof gn||(o instanceof Mg?V.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:o.message,error_stack:o.stack}):o instanceof ft?V.logEvent("Create File Entry Error",{error_type_name:o.detail?.type==="throttled"?"RequestThrottled":"RequestError",error_msg:o.message,error_stack:o.stack}):o instanceof Error?V.logEvent("Create File Entry Error",{error_type_name:o.name,error_msg:o.message,error_stack:o.stack}):V.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(o),error_stack:""})),o}}function GF(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function VF(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,s=r.file_id,o=r.width,i=r.height,a=r.size_bytes;typeof s=="string"&&typeof o=="number"&&typeof i=="number"&&typeof a=="number"&&(t={fileId:s,width:o,height:i,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function b1e(e,t,n){try{const r=tt.streamedJsonPost(`${nt}/files/process_upload_stream`,e,{authOption:n?Qt.Anonymous:void 0});let s,o;for await(const i of r){if(GF(i.event)){const l=`Error stream processing upload: indexing failed: ${i.event}`;throw new gn(l,i.event,i.extra)}i.progress!=null&&t?.(i.progress),i?.extra?.total_tokens!=null&&(s=i.extra.total_tokens);const a=VF(i.extra);a&&(o=a)}return s||o?{fileTokenSize:s,thumbnail:o?.thumbnail,transcript:o?.transcript}:void 0}catch(r){throw r instanceof gn||r instanceof ft&&r.isClientError()?r:new gn(`Error stream processing upload: ${r}`,"stream_process_error")}}async function HF(e,t,n,r,s,o,i){const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let l=Fs.Initial;V.logEvent("Upload File Initiated",{client:"web",useCase:s.kind,uploadEntry:"local"}),at.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:s.kind,uploadEntry:"local"});const c=i.usesRetrievalIndex??!1,u=c?performance.now():void 0,d=ch().resetRateLimits;try{const{file_id:f,upload_url:p}=await y1e(t.name,t.size,s,!!d,i.isUnauthenticated);o.onFileCreated(e,f,p),l=Fs.FileCreated,o.onFileUploadProgress(e,a.ENTRY_CREATED);const g=s.kind===Fn.Gizmo?s.gizmoId:void 0,v={client:"web",useCase:s.kind,uploadEntry:"local",fileId:f,fileSize:t.size};V.logEvent("Blob Store Upload Started",v);const _=b=>b.toLowerCase().includes("estuary");let y;if(_(p)){const{finalStatus:b}=await x1e({file:t,cdnUrl:p,fileId:f,fileName:t.name,useCaseType:s,shouldIndexForRetrieval:c,gizmoId:g,handlers:o,tempId:e,imageDimensions:i.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED}});l=b}else{const b=await T1e(t,p,C=>{o.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*C)});if(o.onFileUploadProgress(e,a.FILE_UPLOADED),b.status!==201)throw V.logEvent("Blob Store Upload Error",{...v,error_type_name:`HTTPStatus${b.status}`,error_msg:`HTTP status ${b.status}: ${b.statusText}`,error_stack:""}),new gn("File upload to blobstore failed","failed_upload_to_blobstore");V.logEvent("Blob Store Upload Completed",v),l=Fs.FileUploaded;const w={file_id:f,use_case:s.kind,gizmo_id:g,index_for_retrieval:c,file_name:t.name};y=await b1e(w,C=>{o.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*C/100)},i.isUnauthenticated),l=Fs.FileProcessed,o.onFileUploaded(e,f,i.imageDimensions,y),c&&(l=Fs.RetrievalIndexCreated)}u!=null&&vn(xt())&&Q.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-u,type:"file"}})}catch(f){zF(n,r,t.name,f);let p="NotInstanceOfError";f instanceof ft?p=`${f.name}_${f.status}`:(f instanceof Error||f instanceof gn)&&(p=f.name),o.onError(e,"error",p,s,l)}}async function n9e(e,t,n,r,s,o){const{width:i,height:a}=await DC(t);return HF(e,t,n,r,{kind:s},o,{imageDimensions:{width:i,height:a}})}async function C1e(e,t){const n=await Q.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:n.metadata?.retrieval?.status??Vc.Processing,error_code:n.metadata?.retrieval?.error_code,file_size_tokens:n.file_size_tokens}}async function S1e(e,t){const n=Date.now()+6e4,r=o=>new Promise(i=>setTimeout(i,o));let s=0;for(;Date.now()<n;){const o=await C1e(e,t);if(o.status===Vc.Success||o.status===Vc.Skipped)return o;if(o.status===Vc.Failed)throw new gn("Context extraction failed",o.error_code);s++,await r(Math.min(1e3,100*s))}throw new gn("Retrieval indexing timed out")}function w1e(e){if(e.code==="file.indexing.error"){const t=e.extra?.file_parse_error_code;return typeof t=="string"?t:"file.indexing.error"}return e.code??"internal_error"}function zF(e,t,n,r){if(r instanceof gn&&r.code!=null){const s=PC(e,w1e(r));t.danger(s,{...cp,toastId:"file_upload_error",loggingTitle:s,loggingDescription:s})}else if(r instanceof ft&&r.detail?.type==="throttled"){const s=r.message,o="file-upload-rate-limit";(t.getToasts?.()??[]).some(a=>String(a.id).startsWith(o)&&a.isShown!==!1)||t.info(s,{...cp,id:o,action:t6.file_upload_rate_limit_upsell_plus})}else if(r instanceof Mg){const s=e.formatMessage(LC.noAuthFileUpload);t.info(s,cp)}else{const s=PC(e,"default_upload_error",{fileName:n});t.danger(s,{...cp,toastId:"file_upload_error",loggingTitle:s,loggingDescription:s})}}const LC=St({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function E1e(e){const{file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:o,shouldIndexForRetrieval:i,gizmoId:a,onOverallProgress:l,onUploadComplete:c,milestones:u}=e,d=new FormData;d.append("file",t);const p=new URL(n,window.location.origin).searchParams.get("upload_url")??n;d.append("upload_url",p),d.append("file_id",r),d.append("file_name",s),d.append("use_case",o.kind),d.append("index_for_retrieval",String(!!i)),a&&d.append("gizmo_id",a);const g=vg(xt()),v=Ca(),_={[T3]:v,[x3]:Mf};g&&(_.Authorization=`Bearer ${g}`);const y=qe.getCookie(Re.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==Ji&&(_["ChatGPT-Account-ID"]=encodeURIComponent(y.trim()));let b=!1;const w=D=>{l(u.entry+(u.uploaded-u.entry)*D)},C=D=>{l(u.uploaded+(u.processed-u.uploaded)*(D/100))},S=1e4,E=120,x=96;let T,k=0,O=!1,A=0,M=0;function I(D){return 1-Math.pow(1-D,3)}function N(){if(!O)return;const D=performance.now()-k,R=Math.min(1,D/S),B=x*I(R),Y=Math.max(M,Math.min(x,B),A);if(Y>M&&(M=Y,C(Y)),A>=100){P();return}T=window.setTimeout(N,Y>=x&&A===0?E*4:E)}function q(){O||(O=!0,k=performance.now(),N())}function P(D=!1){O=!1,T!==void 0&&(window.clearTimeout(T),T=void 0),D&&(M=100,C(100))}return await new Promise((D,R)=>{const B=new XMLHttpRequest;B.open("POST",n,!0),B.withCredentials=!0;for(const[K,G]of Object.entries(_))B.setRequestHeader(K,G);let Y="",Me,Fe=!1,pe;function ge(K){if(!Fe){Fe=!0;try{B.abort()}catch{}R(K instanceof gn?K:new gn(`Error stream processing upload: ${String(K)}`,"stream_process_error"))}}function Se(K){for(;;){const G=Y.indexOf(`
`);if(G===-1)break;const ue=Y.slice(0,G).trim();if(Y=Y.slice(G+1),!!ue)try{const oe=JSON.parse(ue);if(GF(oe.event)){P(),ge(new gn(`Error stream processing upload: indexing failed: ${oe.event}`,oe.event,oe.extra));return}oe.progress!=null&&(A=oe.progress,A>M&&(M=A,C(A)),A>=100&&P(!0)),oe.event==="file.processing.metadata"&&(A=100,P(!0)),oe?.extra?.total_tokens!=null&&(Me=oe.extra.total_tokens);const _e=VF(oe.extra);_e&&(pe=_e)}catch{if(!K){Y=ue+`
`+Y;break}}}}B.upload.onprogress=K=>{if(!K.lengthComputable)return;const G=K.loaded/K.total;w(G),G===1&&!b&&(b=!0,c(),q())};let se=0;B.onreadystatechange=()=>{if(B.readyState===XMLHttpRequest.LOADING||B.readyState===XMLHttpRequest.DONE){const K=B.responseText.substring(se);se=B.responseText.length,Y+=K,Se(B.readyState===XMLHttpRequest.DONE)}if(B.readyState===XMLHttpRequest.DONE){if(B.status>=400){P(),ge(new gn("File upload to blobstore failed","failed_upload_to_blobstore"));return}P(M<100),D(Me||pe?{fileTokenSize:Me,thumbnail:pe?.thumbnail,transcript:pe?.transcript}:{})}};try{B.send(d)}catch(K){ge(K)}})}async function x1e(e){const{file:t,cdnUrl:n,fileId:r,fileName:s,useCaseType:o,shouldIndexForRetrieval:i,gizmoId:a,handlers:l,tempId:c,imageDimensions:u,milestones:d}=e,f=await E1e({file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:o,shouldIndexForRetrieval:i,gizmoId:a,onOverallProgress:g=>{l.onFileUploadProgress(c,g)},onUploadComplete:()=>{l.onFileUploadProgress(c,d.uploaded)},milestones:d});let p=Fs.FileProcessed;return l.onFileUploaded(c,r,u,f),i&&(p=Fs.RetrievalIndexCreated),{finalStatus:p,metadata:f}}async function T1e(e,t,n,r){const s=await _1e();return await s.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:o=>{o.progress!==void 0&&n&&n(o.progress)}}).catch(function(o){let i={...r};throw s&&o instanceof s.AxiosError&&o.response?.status?i={...i,error_type_name:`AxiosHTTPError${o.response.status}`,error_msg:o.message,error_stack:o.stack}:o instanceof Error&&(i={...i,error_type_name:o.name,error_msg:o.message,error_stack:o.stack}),V.logEvent("Blob Store Upload Error",i),new gn("File upload to blobstore failed","failed_upload_to_blobstore")})}const $F={files:[],connectorFileData:{}},WF=h.createContext(null);function r9e({children:e,initialState:t=$F}){const[n]=h.useState(()=>hi(()=>t));return m.jsx(WF.Provider,{value:n,children:e})}function KF(){const e=h.useContext(WF);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function s9e(e){const t=KF();return Ul(t,e)}const o9e={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Bi.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Bi.Ready)},A2=2048;async function UT(e){let t=e,{width:n,height:r}=await DC(t);if(n>A2||r>A2)try{const s=await qF(t,A2),o=await DC(s);n=o.width,r=o.height,t=s}catch(s){U.addError(new Error("Error resizing image:",{cause:s}))}return{file:t,width:n,height:r}}async function k1e(e,t,n,r,s,o,i,a,l){const c=performance.now();V.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:o.contextConnector,fileSourceType:o.type}),at.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:o.contextConnector,fileSourceType:o.type});let u=Fs.Initial;const d=ZF(e);try{const f=await Q.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:o.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:i,drive_id:o.o365DriveId,manifest:o.manifest}});switch(r.kind===Fn.Gizmo&&(r={...r,kind:s.includes(YF(n))?Fn.Multimodal:Fn.MyFiles}),f.type){case"error":throw O1e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",o.contextConnector),u=Fs.FileProcessed,r.kind){case Fn.MyFiles:{d.onFileUploadProgress(t,90);const p=await S1e(f.file.file_id,i);p?.status===Vc.Skipped&&l.danger(a.formatMessage(LC.retrievalSkippedFile,{fileName:p.name}),{...NC,toastId:"retrieval_index_skipped",loggingTitle:LC.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"}),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:p.file_size_tokens,mimeType:f.file.mime_type}),u=Fs.RetrievalIndexCreated;break}case Fn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case Fn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case Fn.DalleAgent:case Fn.Gizmo:case Fn.ProfilePicture:default:throw new gn(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new gn("Folder type not supported")}vn(xt())&&Q.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-c,type:o.contextConnector}})}catch(f){U.addError(new Error(`Failed to upload connected file by ${o.contextConnector}`,{cause:f}));const p=v1e(n.name,o?.syntheticExtension);zF(a,l,p,f);let g="NotInstanceOfError";f instanceof ft?g=`${f.name}_${f.status}`:(f instanceof Error||f instanceof gn)&&(g=f.name),d.onError(t,"error","connector_upload_"+g,{kind:Fn.MyFiles},u)}}function YF(e){return e.type||UF(e.name)}function O1e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new gn(n,r)}else return ft.createWithErrorMessage("/connectors/upload","server",n)}const Yi={reset:e=>{e.setState($F)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,s,o,i,a={},l,c)=>{const{gizmoId:u,isUnauthenticated:d}=a,f=e.getState().files,p=p1e(r,n.name,n.type,c?.contextConnector,l),g={tempId:t,gizmoId:a.gizmoId,status:Bi.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:c,contextConnector:c?.contextConnector};if(f.length===wT)V.logEvent("Uploaded Max Files Error"),i.danger(o.formatMessage(up.maxUploadsAtATime,{maxUploads:wT,fileName:n.name}),{...NC,toastId:"max_uploads_at_a_time",loggingTitle:up.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"});else if(f.some(v=>v.tempId===t))V.logEvent("Uploaded Duplicate File Error"),i.danger(o.formatMessage(up.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),{...NC,toastId:"duplicate_file_attached",loggingTitle:up.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"});else{e.setState(({files:y})=>({files:[...y,g]}));let v;const _={isUnauthenticated:d};if(s.includes(n.type)){if(v={kind:Fn.Multimodal},!c){const y=await UT(n);n=y.file,_.imageDimensions={width:y.width,height:y.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&s.includes("image/png")&&$e(xt(),"3681682292"))v={kind:"multimodal_video"};else if(p===Yn.Codex){v={kind:Fn.Codex};const y=await UT(n);n=y.file,_.imageDimensions={width:y.width,height:y.height}}else switch(p){case Yn.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+s.join(", "));case Yn.Interpreter:v={kind:Fn.AceUpload};break;case Yn.Retrieval:v={kind:Fn.MyFiles},_.usesRetrievalIndex=!0;break;case Yn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Yn.ContextConnector:case Yn.None:return}u!=null&&(v={kind:Fn.Gizmo,gizmoId:u}),a.skipUpload||(c?await k1e(e,t,n,v,s,c,a.gizmoId,o,i):await HF(t,n,o,i,v,ZF(e),_))}},createFileCompleted:(e,t,n,r,s)=>{const o=e.getState().files,i=o.findIndex(l=>l.tempId===t),a=o[i];if(i>=0&&a.status===Bi.Uploading){const l=[...o];l.splice(i,1,{...a,progress:10,fileId:n,cdnUrl:r,contextConnector:s}),e.setState({files:l})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(i=>i.tempId===t),o=r[s];if(s>=0&&o.status===Bi.Uploading){const i=[...r];i.splice(s,1,{...o,progress:n}),e.setState({files:i})}},uploadCompleted:(e,t,n,r,s,o)=>{const i=e.getState().files,a=i.findIndex(l=>l.tempId===t);if(a>=0&&i[a].status===Bi.Uploading&&i[a].fileId!=null){const l=i[a],c=[...i],u={...l,tempId:t,status:Bi.Ready,progress:100,fileSpec:{name:l.file.name,id:l.fileId,size:l.file.size,contextConnectorInfo:l.contextConnectorInfo,mimeType:s?.mimeType??YF(l.file),...r||{},...s||{}}};c.splice(a,1,u);const d={...e.getState().connectorFileData};o&&(d[o?.file_id]=o),e.setState({files:c,connectorFileData:d}),V.logEvent("Upload File Completed",{status:l.status,fileId:l.fileId,contextConnector:l.contextConnector??"local"}),at.logEvent("chatgpt_file_upload_completed",null,{status:l.status,contextConnector:l.contextConnector??"local"})}},remove:(e,t,n,r,s,o)=>{const i=e.getState().files,a=i.findIndex(l=>l.tempId===t);if(a>=0){const l=i[a];n==="error"?(V.logEvent("Upload File Error",{status:l.status,fileId:l.fileId,client:"web",errorClassName:r??"undefined",useCaseType:s,uploadStatus:o??"undefined",contextConnector:l.contextConnector}),at.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r??"undefined",useCaseType:s?.kind??"undefined",uploadStatus:o??"undefined",contextConnector:l.contextConnector??"undefined"})):V.logEvent("Remove File",{status:l.status,fileId:l.fileId});const c=[...i];c.splice(a,1),e.setState({files:c})}}},ZF=e=>({onFileCreated:Yi.createFileCompleted.bind(null,e),onFileUploadProgress:Yi.updateProgress.bind(null,e),onFileUploaded:Yi.uploadCompleted.bind(null,e),onError:Yi.remove.bind(null,e)}),up=St({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),A1e=Ee.createContext({mode:void 0,getGizmoId:void 0}),M1e=()=>h.useContext(A1e),M2={filePickerStarted:e=>{V.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{V.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{V.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{V.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{V.logEvent("Context Connectors: Link Pasted",{...e})},linkMetadataFetchStarted:e=>{V.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{V.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{V.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{V.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{V.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function i9e(e,t,n,r){const s=xn(),o=ht(),{getGizmoId:i}=M1e(),[a,l]=h.useState();h.useEffect(()=>{i?i().then(f=>l(f)):l(void 0)},[i]);const c=Ul(t),u=KF();return h.useCallback(f=>{const{docsReferencedByURL:p}=ln(e)??{};if(p!=null)for(const g of f){const{id:v,type:_,handler:y}=g,b=`${_}:${v}`,w=p[b],S=u.getState().files.find(E=>E.tempId===v);if(w!=null&&w!=="failed"&&S){s.success(o.formatMessage(dp.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(y.type){case"fetch":{Lt(e,E=>{E.docsReferencedByURL[b]="pending"}),Yi.uploadFile(u,v,new File([],o.formatMessage(dp.fileLoading)),Yn.None,n,o,s,{skipUpload:!0,gizmoId:a},r,{contextConnector:_,sourceUrl:g.url,syntheticExtension:null,type:Zd.Link}),M2.linkMetadataFetchStarted(_),y.tryFetch().then(E=>{if(Yi.remove(u,v,"none"),E==null)return null;const{id:x,title:T,connector:k,mimeType:O,url:A,syntheticExtension:M,o365DriveId:I,manifest:N}=E;M2.linkMetadataFetchSucceeded(_,O),Lt(e,P=>{P.docsReferencedByURL[b]="fetched"});let q=T;k===be.GDRIVE&&(q=M?`${T}.${M}`:T),Yi.uploadFile(u,x,new File([],q,{type:O.split(";")[0]}),Yn.Retrieval,n,o,s,{gizmoId:a},r,{contextConnector:k,sourceUrl:A,syntheticExtension:M,type:Zd.Link,o365DriveId:I,manifest:N})}).catch(E=>{M2.linkMetadataFetchFailed(_,E),E instanceof ft&&E.status===404&&_===be.NOTION_OPEN_CONNECTOR?(s.danger(dp.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),c.appendMessageIfNotDismissed({connector:_,type:"not-connected"})):s.danger(dp.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),Lt(e,x=>{x.docsReferencedByURL[b]="failed"}),Yi.remove(u,v,"none")});break}case"prompt":{c.appendMessageIfNotDismissed({connector:_,type:y.message}),Lt(e,E=>{E.docsReferencedByURL[b]="prompted"});break}}}},[e,u,s,o,n,a,r,c])}const dp=St({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),JF=()=>{const e=J6(),{connectorConfig:t,isLoading:n,error:r,refetch:s}=Fge(),o=t.has(be.CONFLUENCE)&&!e,i=t.has(be.GDRIVE)&&!e,a=t.has(be.JIRA)&&!e,l=t.has(be.NOTION_OPEN_CONNECTOR)&&!e,c=(t.has(be.O365_PERSONAL)||t.has(be.O365_BUSINESS))&&!e,u=t.has(be.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:o,isGdriveEnabled:i,isJiraEnabled:a,isNotionOpenConnectorEnabled:l,isO365Enabled:c,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:o||i||a||l||c||u,error:r,refetch:s}},a9e=()=>{const e=Qs();return({connectorId:t,redirectAfter:n,systemHintType:r,referrer:s})=>e(XF(o=>{o.set(I6,"true"),o.set(R6,nr.CONNECTOR_SETTING),t&&o.set(RD,t),n&&o.set(ND,n),r&&o.set(Vue,r),s&&o.set(PD,s)}),{replace:!0})},l9e=()=>{const e=Qs();return()=>e(XF(t=>{t.delete(I6),t.delete(R6),t.delete(PD)}),{replace:!0})};function XF(e){const t=window.location.hash,[n,r]=t.split("?"),s=new URLSearchParams(r);e(s);const o=s.toString();return CC+(o?`?${o}`:"")}const c9e=()=>{const{hash:e}=rs(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(I6)==="true"},u9e=()=>{const{hash:e}=rs(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(que)==="true"},d9e=()=>{const{hash:e}=rs(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(Gue)==="true"},f9e=()=>{const e=Qs();return t=>{const n=window.location.hash,[r,s]=n.split("?"),o=new URLSearchParams(s);t?o.set("connector",t):o.delete("connector");const i=o.toString()?`${r}?${o.toString()}`:r;e(i,{replace:!0})}},iS=e=>{const{hash:t}=rs();return h.useMemo(()=>{const n=t.indexOf("?");return n===-1?void 0:new URLSearchParams(t.slice(n+1)).get(e)??void 0},[t,e])},h9e=()=>iS(ND),p9e=()=>iS(R6),m9e=()=>iS(RD),I1e=e=>e.supported_auth.some(t=>t.type==="OAUTH")?"OAUTH":"NONE",R1e=e=>Q.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:e.actions.map(t=>t.name)},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}}),N1e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:s,toaster:o,intl:i,productSku:a})=>{const l={connectorId:e.id,name:e.name,actionNames:e.connector_type==="MCP"||e.connector_type==="OPEN_API"?e.actions.map(c=>c.name):null,oauthClientId:null,oauthClientScopes:null};return gN({redirectUri:mN(e.id),connectorPlatformParams:l,redirectTo:t||(n?`${CC}?connector=${e.id}`:CC),onError:r,openPopup:s,toaster:o,intl:i,productSku:a})},P1e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:s})=>{switch(I1e(e)){case"OAUTH":return await N1e({connector:e,redirectAfter:void 0,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:s,productSku:nr.CONNECTOR_SETTING}),null;case"NONE":return await R1e(e)}},g9e=(e,t)=>Q.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}}}),D1e=()=>{const e=Hl(),t=lh(),n=h.useMemo(()=>t.data?.connection_statuses.filter(i=>["google_drive_oauth","google_drive_dwd"].includes(i.user_connection_details.knowledge_connector_type)),[t.data]),r=JF(),s=r.connectorConfig.get(be.GDRIVE),o=r.isGdriveEnabled&&!!s;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:o?s:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&n?.length?n:null}},v9e=()=>{const e=Hl(),t=lh(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},_9e=()=>{const e=Hl(),t=lh(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},L1e=()=>{const e=JF(),t=e.connectorConfig.get(be.O365_PERSONAL),n=e.connectorConfig.get(be.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&t?.access_token?t:null,businessConfig:e.isO365Enabled&&n?.access_token?n:null}},y9e=()=>{const e=Hl(),t=rh(e,nr.CONNECTOR_SETTING),n=Ml({fetchValidLinksOnly:!0,productSku:nr.CONNECTOR_SETTING}),{fileUploadConfig:r,internalKnowledgeConfigs:s}=D1e(),o=L1e(),{availableConnectors:i}=O6(),a=(n.connectorLinks.get(fr[F.GDRIVE_ACTION_CONNECTOR])?.length??0)>0||(s?.filter(_=>_.user_connection_details.auth_status!=="not_connected").length??0)>0,l=(n.connectorLinks.get(fr[F.SHAREPOINT_CONNECTOR])?.length??0)>0,c=!!r?.access_token,u=!!o.businessConfig?.access_token,d=t.platformConnectors.get(fr[F.GDRIVE_ACTION_CONNECTOR]),f=d&&d.status!=="DISABLED_BY_ADMIN"||(s?.filter(_=>_.user_connection_details.auth_status==="not_connected").length??0)>0,p=i.some(_=>_.type===F.SHAREPOINT_CONNECTOR&&_.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:c&&!a&&f,canUpgradeSharepoint:u&&!l&&p,isLoading:t.isLoading||n.isLoading}};async function b9e(e){return(await Q.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}})).oauth_config}function C9e(e){return Q.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}})}function S9e(e,t){return Q.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}})}function F1e(e){return Q.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}})}function j1e(e){return Q.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[dr]:nr.CONNECTOR_SETTING}})}const U1e=St({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),w9e=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(U1e.gdriveBrandName):e;async function E9e(e,t,n){const r=`https://chat.openai.com/aip/${e.id}/oauth/callback`,s=t,o=await Q.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:s}}});window.location.href=o.redirect_uri}async function x9e(e,t,n,r){const s=await Q.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=s.redirect_uri}async function B1e(e,t){e&&await Q.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[dr]:t}:void 0})}async function q1e(e,t){await Q.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[dr]:t}:void 0}),window.location.reload()}function T9e(e){switch(e){case Zd.Link:return"link_paste_popover";case Zd.Picker:return"file_upload_menu"}}async function k9e(e){await Q.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function G1e(e,t,n){const{isLoading:r,error:s,refetch:o,platformConnectors:i}=rh(!0,t,n),a=i.get(e);return{enabled:!!a&&a.status!=="DISABLED_BY_ADMIN",isLoading:r,error:s,refetch:o}}function O9e(e){return G1e(fr[F.GITHUB_CONNECTOR],e)}function V1e(e,t,n){const r=nh(),s=ht(),o=xn(),{data:i,isLoading:a,error:l,refetch:c}=Tt({queryKey:["connector-client-data",e],queryFn:async()=>{const u=await Q.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[dr]:n}:void 0});return u.oauth_clients?u.oauth_clients:(o.danger(s.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:r});return{oAuthClients:i,isLoading:a,error:l,refetch:c}}function A9e(e,t,n="/",r,s,o){const{platformConnectors:i,isLoading:a,error:l,refetch:c}=rh(!0,r),{connectorLinks:u,isLoading:d,error:f,refetch:p}=Ml({productSku:r}),{oAuthClients:g,isLoading:v,error:_,refetch:y}=V1e(e,t,r),b=H1e(),w=h.useCallback(()=>{c(),p(),y()},[c,p,y]),C=fr[e],S=i.get(C),E=u.has(C),x=u.get(C)?.[0]?.id,T=h.useCallback(()=>{x&&b(x,()=>{w()},r)},[b,w,x,r]),k=l??f??_,O=a||d||v,A=h.useCallback(()=>{if(!O){if(!S){s?.();return}if(!g?.length){o?.();return}window.location.hash=`#settings/${Kf.Connectors}?connector=${C}&add-connector-link=true&redirectAfter=${n}&product-sku=${r}&referrer=${DD.Codex}`}},[O,S,g,C,s,o,n,r]);return h.useMemo(()=>({isLoading:O,isConnected:E,openGithubModal:A,error:k,refetch:w,handleDisconnect:T}),[O,E,A,k,w,T])}function M9e(e){"use forget";const t=ke.c(20),n=ht(),r=xn(),s=rle(),{refetch:o}=rh(!0,e);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={fetchValidLinksOnly:!0},t[0]=i):i=t[0];const{refetch:a}=Ml(i);let l;t[1]!==e?(l={fetchValidLinksOnly:!1,productSku:e},t[1]=e,t[2]=l):l=t[2];const{refetch:c}=Ml(l),u=PK(Df.DeveloperMode);let d;t[3]!==n||t[4]!==u||t[5]!==s||t[6]!==e||t[7]!==r?(d=async v=>{const{supported_auth:_,...y}=v,{connector:b}=await Q.safePost("/aip/connectors/mcp",{requestBody:{...y,auth_request:{supported_auth:_,oauth_client_params:null}},additionalHeaders:e?{[dr]:e}:void 0});if(b.supported_auth.length===0){const C=await F1e(b.id);if(!u.data&&!C.implements_retrievable)return await j1e(b.id),{connector:null,link:null,implementsRetrievable:!1}}const w=await P1e({connector:b,shouldRedirectToConnectorDetails:!0,openPopup:s,toaster:r,intl:n});return{connector:b,link:w,implementsRetrievable:!0}},t[3]=n,t[4]=u,t[5]=s,t[6]=e,t[7]=r,t[8]=d):d=t[8];let f;t[9]!==n||t[10]!==r?(f=v=>{const _=v instanceof ft&&v.status===409?n.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):n.formatMessage({id:"9J7rOY",defaultMessage:"Error creating connector"});r.danger(_)},t[9]=n,t[10]=r,t[11]=f):f=t[11];let p;t[12]!==o||t[13]!==c||t[14]!==a?(p=()=>{o(),a(),c()},t[12]=o,t[13]=c,t[14]=a,t[15]=p):p=t[15];let g;return t[16]!==d||t[17]!==f||t[18]!==p?(g={mutationFn:d,onError:f,onSettled:p},t[16]=d,t[17]=f,t[18]=p,t[19]=g):g=t[19],er(g)}function I9e(){const e=ht(),t=xn(),n=sr(),r=Ml(),s=Pr();return async(i,a,l)=>{try{await q1e(i,l),s.invalidateQueries({queryKey:["fetchConnectorLinkData",n?.normalizedAccountUserId]}),await r.refetch(),a?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function H1e(){const e=ht(),t=xn(),n=sr(),r=Ml(),s=Pr();return async(i,a,l)=>{try{await B1e(i,l),s.invalidateQueries({queryKey:["fetchConnectorLinkData",n?.normalizedAccountUserId]}),await r.refetch(),a?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function R9e(){const e=sr(),t=ht(),n=xn(),{refetch:r}=th({skip:!0});return er({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:s,user_extension:o})=>e?.isPersonalAccount()?ha.user_request_connect_upgrade_to_sync({link_id:s.id,user_extension:o}):ha.user_activate_workspace_connection_and_user({link_id:s.id,user_extension:o}),onMutate:({link:s,isConnectingAndUpgrading:o=!1})=>{V.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onSuccess:(s,{link:o,isConnectingAndUpgrading:i=!1})=>{r(),n.success(i?t.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:o.name}):t.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:o.name})),V.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:o.connector_id,isConnectingAndUpgrading:i?"true":"false"})},onError:(s,{link:o,isConnectingAndUpgrading:i=!1})=>{if(i)n.warning(t.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:o.name}));else{const a=s instanceof ft&&s.status===409?t.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):t.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:o.name});n.danger(a,{toastId:"upgrade_connector_to_sync",loggingTitle:s instanceof ft&&s.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}V.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:o.connector_id,isConnectingAndUpgrading:i?"true":"false"})}})}function N9e(){const e=ht(),t=xn(),{refetch:n}=lh(),{refetch:r}=th({skip:!0});return async o=>{try{await ha.user_delete_sync(o),n(),r(),t.success(e.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch{t.danger({defaultMessage:"Error disabling sync for your connector.",description:"Error message when disabling sync for a connector fails"},{toastId:"disable_sync_on_connector"})}}}function z1e(){const t=sr()?.isEnterprisey(),{availableConnectors:n}=O6(),r=lD()??!1;return t?n.length>0||r:!0}function P9e({platformConnectors:e,enabled:t}){const{isLoading:n,data:r}=hD(t),{disabledTools:s=[],...o}=r??{},i=Pr(),{isPending:a,mutate:l}=er({mutationFn:async({data:y})=>await Dae(y),onSettled:(y,b)=>{const w=["userContext"];y!=null&&!b?i.setQueryData(w,y):i.invalidateQueries({queryKey:w})},onError:y=>(V.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:y.message}),y)}),{allAutoConnectors:c,enabledAutoConnectors:u,isLoading:d}=gD({getDisabledAutoConnectors:t}),[f,p]=h.useState(!1),g=h.useMemo(()=>c.filter(y=>e.has(fr[y])&&e.get(fr[y])?.status==="DISABLED_BY_ADMIN"),[c,e]),{newDisabledTools:v,maybeNewEnabledTools:_}=h.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const y=[],b=[];return u.length>0&&u.forEach(w=>{g.includes(w)&&!s.includes(Kh(w)??"")&&y.push(w)}),g.length<c.length&&g.length<c.length&&c.forEach(w=>{!g.includes(w)&&s.includes((Kh(w)??"").concat("_admin_disabled"))&&b.push(w)}),{newDisabledTools:y,maybeNewEnabledTools:b}},[t,u,s,c,g]);h.useEffect(()=>{if(!t||n||a||f||d||v.length===0&&_.length===0)return;const y=new Set(s);_.forEach(b=>{const w=Kh(b);w&&(y.delete(w),y.delete(`${w}_admin_disabled`))}),v.forEach(b=>{const w=Kh(b);w&&(y.add(w),y.add(`${w}_admin_disabled`))}),l({data:{disabledTools:Array.from(y),...o}}),p(!0)},[n,a,l,v,_,o,f,s,d,t])}function D9e(){const e=h.useCallback(r=>{n(r),qt.setItem(Et.ConnectorToggleState,{toggleIsOn:r})},[]),[t,n]=h.useState(()=>qt.getItem(Et.ConnectorToggleState)?.toggleIsOn??!1);return{toggleIsOn:t,setToggleIsOn:e}}function $1e(){return Tt({queryKey:["userIsInSearchHoldoutWithWebDisabled"],queryFn:()=>Q.safeGet("/user_is_in_search_holdout_with_web_disabled",{authOption:Qt.SendIfAvailable}),select:e=>({userIsInSearchHoldoutWithWebDisabled:e.user_is_in_search_holdout_with_web_disabled??!1})})}function W1e(){"use forget";const e=ke.c(3),t=ae(),n=fn(t),r=!vn(t),s=$1e();if(r||n&&!n.isFree()){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a={userIsInSearchHoldoutWithWebDisabled:!1},e[0]=a):a=e[0],a}const o=s.isLoading?!1:s.data?.userIsInSearchHoldoutWithWebDisabled;let i;return e[1]!==o?(i={userIsInSearchHoldoutWithWebDisabled:o},e[1]=o,e[2]=i):i=e[2],i}const K1e=hi(()=>({}));function Y1e(){const e=ae(),t=NA(_g),n=Ul(K1e);if(!vn(e)){const y=Wt(e,"2526598250");return{isSingleLine:t?!0:y.get("single-line",!1),plusButtonLabel:y.get("plus-button-label",!1),loggedOutVoiceLabel:y.get("logged-out-voice-label",!0),fontSize:y.get("font-size","base"),attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,hasLegacyEffortDefault:!1}}const r=Wt(e,"790459319"),s=n.isSingleLine??(t?!0:r.get("single-line",!1)),o=n.fontSize??r.get("font-size","base"),i=n.attachfileRateLimitMessageVariant??r.get("attachfile-rate-limit-message-variant","title_and_description"),a=n.attachfileRateLimitMessageShowIcon??r.get("attachfile-rate-limit-message-show-icon",!0),l=n.fullyCollapsedToolMenu??r.get("fully-collapsed-tool-menu",!1),c=n.showSlashHint??r.get("show-slash-hint",!1),u=n.plusButtonLabel??r.get("plus-button-label",!1),d=n.loggedOutVoiceLabel??r.get("logged-out-voice-label",!0),f=n.showModelsInPlusMenu??r.get("models-in-plus-menu",!1),p=n.showSelectedModelInComposer??r.get("show-selected-model-in-composer",!1),g=n.showModelSlashCommands??r.get("model-slash-commands",!1),v=n.showThinkingEffortPicker??r.get("show-juice-control",!1),_=n.hasLegacyEffortDefault??r.get("legacy-juice-default",!1);return{isSingleLine:s,fontSize:o,attachfileRateLimitMessageVariant:i,attachfileRateLimitMessageShowIcon:a,fullyCollapsedToolMenu:l,showSlashHint:c,plusButtonLabel:u,loggedOutVoiceLabel:d,showModelsInPlusMenu:f,showSelectedModelInComposer:p,showModelSlashCommands:g,showThinkingEffortPicker:v,hasLegacyEffortDefault:_}}const Z1e=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M14.0857 8.74999C14.0857 5.80355 11.6972 3.41503 8.75073 3.41503C5.80429 3.41503 3.41577 5.80355 3.41577 8.74999C3.41577 11.6964 5.80429 14.085 8.75073 14.085C11.6972 14.085 14.0857 11.6964 14.0857 8.74999ZM15.4158 8.74999C15.4158 10.3539 14.848 11.8245 13.9041 12.9746L13.9705 13.0303L16.9705 16.0303L17.0564 16.1338C17.2269 16.3919 17.1977 16.7434 16.9705 16.9707C16.7432 17.1975 16.3925 17.226 16.1345 17.0557L16.03 16.9707L13.03 13.9707L12.9753 13.9033C11.8253 14.8472 10.3547 15.415 8.75073 15.415C5.06975 15.415 2.08569 12.431 2.08569 8.74999C2.08569 5.06901 5.06975 2.08495 8.75073 2.08495C12.4317 2.08495 15.4158 5.06901 15.4158 8.74999Z"}));function QF({className:e,inputClassName:t,value:n,onChange:r,onKeyDown:s,onFocus:o,onBlur:i,placeholder:a,id:l,autoFocus:c}){return m.jsxs("div",{className:he("relative",e),children:[m.jsx(Z1e,{className:"icon-sm text-token-text-tertiary absolute start-2 top-1/2 -translate-y-1/2 transform"}),m.jsx("input",{id:l,type:"text",value:n,onKeyDown:s,onChange:r,onFocus:o,onBlur:i,placeholder:a,autoFocus:c,className:he("rounded-lg border border-gray-200 ps-8 placeholder:text-gray-500 dark:border-gray-600 dark:bg-gray-700",t),autoComplete:"off"})]})}const J1e=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M9.50052 9.00046C9.71306 9.00069 9.89164 9.16037 9.91556 9.37156C10.0629 10.6708 10.7997 11.4662 12.1187 11.5835C12.3346 11.6026 12.5008 11.7837 12.5005 12.0005C12.5003 12.2172 12.3337 12.3978 12.1177 12.4165C10.8173 12.5292 10.0292 13.3173 9.91654 14.6177C9.89785 14.8336 9.71729 15.0002 9.50052 15.0005C9.28377 15.0007 9.10271 14.8345 9.08353 14.6186C8.96627 13.2996 8.17085 12.5628 6.87162 12.4155C6.66043 12.3916 6.50075 12.213 6.50052 12.0005C6.50031 11.7879 6.65949 11.6088 6.87064 11.5844C8.18858 11.4323 8.93237 10.6885 9.08451 9.37058C9.10886 9.15943 9.28798 9.00025 9.50052 9.00046Z",fill:"currentColor"}),h.createElement("path",{d:"M9.52591 2.56101C10.8927 1.19443 13.1083 1.19443 14.4751 2.56101L21.44 9.52585C22.8061 10.8927 22.8064 13.1084 21.44 14.4751L14.4751 21.4399C13.1085 22.8063 10.8927 22.806 9.52591 21.4399L2.56107 14.4751C1.19449 13.1083 1.19449 10.8926 2.56107 9.52585L9.52591 2.56101ZM13.0611 3.97507C12.4753 3.38954 11.5257 3.38954 10.94 3.97507L3.97513 10.9399C3.3896 11.5257 3.3896 12.4753 3.97513 13.061L10.94 20.0259C11.5258 20.6109 12.4755 20.6112 13.0611 20.0259L20.0259 13.061C20.6113 12.4754 20.611 11.5257 20.0259 10.9399L13.0611 3.97507Z",fill:"currentColor"})),BT=e=>h.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M8 7.33301C8.36819 7.33301 8.66699 7.63181 8.66699 8V10.667C8.66682 11.035 8.36808 11.333 8 11.333C7.63192 11.333 7.33318 11.035 7.33301 10.667V8C7.33301 7.63181 7.63181 7.33301 8 7.33301Z"}),h.createElement("path",{d:"M8 4.66699C8.42342 4.66699 8.7666 5.01018 8.7666 5.43359C8.76646 5.85689 8.42333 6.2002 8 6.2002C7.57667 6.20019 7.23354 5.85689 7.2334 5.43359C7.2334 5.01018 7.57658 4.66699 8 4.66699Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),qT=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z",fill:"currentColor"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z",fill:"currentColor"})),X1e=e=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z",fill:"currentColor"})),ej=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M16.0012 14.4404C16.0011 13.9504 15.8513 13.4739 15.5735 13.0742L15.4465 12.9082L15.012 12.3877C13.8614 12.8911 12.9152 13.1121 12.0618 13.1562C11.1474 13.2035 10.3804 13.0475 9.66528 12.8857C8.94197 12.7221 8.2815 12.5562 7.4729 12.5146C6.70029 12.475 5.77576 12.5504 4.5686 12.8887L4.55298 12.9082C4.19457 13.3383 3.9984 13.8806 3.99829 14.4404C3.99829 15.7627 5.07059 16.835 6.39282 16.835H13.6077C14.9298 16.8349 16.0012 15.7626 16.0012 14.4404ZM11.8352 3.16504H8.16528V7.72949C8.16528 8.20671 8.01876 8.6713 7.74829 9.06055L7.62427 9.22266L5.93384 11.25C6.52115 11.1756 7.05045 11.1614 7.54028 11.1865C8.48665 11.2351 9.26917 11.432 9.95825 11.5879C10.6556 11.7456 11.2718 11.8653 11.9924 11.8281C12.5791 11.7978 13.2616 11.6591 14.1213 11.3184L12.3752 9.22266C12.0261 8.80363 11.8352 8.27494 11.8352 7.72949V3.16504ZM13.1653 7.72949C13.1653 7.96372 13.2468 8.19111 13.3967 8.37109L16.468 12.0566L16.6653 12.3154C17.0974 12.9371 17.3312 13.6782 17.3313 14.4404C17.3313 16.4971 15.6643 18.1649 13.6077 18.165H6.39282C4.33605 18.165 2.66821 16.4972 2.66821 14.4404C2.66832 13.5694 2.97386 12.7258 3.53149 12.0566L6.60278 8.37109L6.65552 8.30176C6.77186 8.13447 6.83521 7.93464 6.83521 7.72949V3.16504H6.66626C6.29914 3.16486 6.00122 2.86716 6.00122 2.5C6.00122 2.13284 6.29914 1.83514 6.66626 1.83496H13.3333L13.467 1.84863C13.7702 1.91057 13.9983 2.17857 13.9983 2.5C13.9983 2.82143 13.7702 3.08943 13.467 3.15137L13.3333 3.16504H13.1653V7.72949Z"})),L9e=Object.freeze(Object.defineProperty({__proto__:null,default:ej},Symbol.toStringTag,{value:"Module"}));function Q1e(e){qe.setCookie(Re.LastUsedModel,e,{path:"/",maxAge:60*60*24*30})}function F9e(){qe.deleteCookie(Re.LastUsedModel)}function j9e(){return qe.getCookie(Re.LastUsedModel)}function e0e({modelSwitcherDeny:e}){const t=ae(),r=fn(t)?.isPro();switch(e.reason){case us.UNSUPPORTED_TOOL_USE:case us.UNSUPPORTED_AUDIO:case us.UNSUPPORTED_IMAGE:case us.UNSUPPORTED_GIZMO:case us.UNSUPPORTED_ATTACHMENT:case us.UNSUPPORTED_CUSTOM_INSTRUCTIONS:case us.UNSUPPORTED_CANVAS:case us.UNSUPPORTED_TEMPORARY_CHAT:return m.jsx(m.Fragment,{children:e.description});case Y3.RATE_LIMIT:{const{resetsAfter:o}=e,i=new Date(o),a=new Date(o).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(r)return m.jsx("div",{children:m.jsx(ie,{id:"CwSQn9",defaultMessage:"Temporarily limited. Contact <supportEmail>support@openai.com</supportEmail> for help.",values:{supportEmail:l=>m.jsx(bf,{to:"mailto:support@openai.com",className:"underline",children:l})}})});if(Gce(i))return m.jsx(ie,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:a}});if(Vce(i))return m.jsx(ie,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:a}});{const l=i.toLocaleDateString([],{month:"short",day:"numeric"});return m.jsx(ie,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:l}})}}}const s=e.description;if(s)return m.jsx(m.Fragment,{children:s})}var Fd=(e=>(e.GPT4o="AG8PqS2q",e.AUTO="auto",e))(Fd||{});const U9e=e=>{const{categoryId:t}=e;return t==="auto"};function B9e(e){return e?.categories.some(({categoryId:t})=>t===Fd.GPT4o)??!1}function tj(e,t){return t!=null?e?.get(t)??null:null}function t0e(e=!1){const t=ae(),n=$e(t,"1213809372"),r=$e(t,"1854238036"),s=rs(),o=Qs(),[,i]=ng();return h.useCallback(({location:a,modelId:l,options:c,extraQueryParams:u=new URLSearchParams})=>{const d=s.pathname.includes("/g/"),f=s.pathname.startsWith("/g/g-p-");if(e||d&&!n&&!r&&!f){V.logNewChatButtonClicked({location:a}),u.toString();const p=new URLSearchParams(u);p.set("model",l),o({pathname:"/",search:"?"+p.toString()},c)}else i(p=>{const g=new URLSearchParams([...u,...p]);return g.set("model",l),g}),V.logNewChatButtonClicked({location:a})},[e,s,o,i,n,r])}function nj(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e,{modelsData:r}=P5({isGizmo:n}),s=_i(t,o=>o?.modelId);return tj(r?.models,s)??null}function n0e(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e;return nj({clientThreadId:t,isGizmo:n})}function r0e(e,t){return e?.enabledTools?.includes(t)??!1}function rj(e){return tj(e?.models,e?.defaultModelSlug)}const q9e="g-2fkFE8rbu",G9e={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var s0e=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(s0e||{});const o0e={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},V9e={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},H9e={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},Vr={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var i0e=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(i0e||{});const z9e=e=>e.gizmo.tags?.includes("first_party"),$9e=e=>e.gizmo.gizmo_type!=="snorlax"&&!e.gizmo.tags?.includes("unreviewable");var Rl=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Rl||{}),sj=(e=>(e.FILE_SERVICE="fs",e))(sj||{});function W9e(e){return e.type===10||e.type===1||e.type===2}const GT=[1,2,3,4];function K9e(e){return e.length===0?null:e.reduce((t,n)=>GT.indexOf(n.type)<GT.indexOf(t.type)?t:n,e[0])}function Y9e(e,t,n){return t=t.filter(r=>r.type===Vr.User||r.type===Vr.Group),e===Vr.Private||e===Vr.User||e===Vr.Group?[{type:Vr.Private,capabilities:o0e},...t]:[...t,{type:e,capabilities:n}]}class a0e{constructor(t){this.response=t}}var qc=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(qc||{});const l0e="q",Z9e="author",c0e="project_id",u0e="owner_user_id";function fp(e,t,n,r,s){return n&&t&&r&&s&&r!==s?`${vf(gf(t))}/shared/c/${e}?${c0e}=${t.gizmo.id}&${u0e}=${r}`:t?`${vf(gf(t))}/c/${e}`:`/c/${e}`}function gf(e){return e.gizmo.short_url??e.gizmo.id??"-"}function vf(e){return`/g/${e}`}function J9e(){return"/gpts"}function X9e(){return"/schedules"}function Q9e(){return"/gpts/mine"}function oj(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function eEe(e){const t=d0e();return e==null?t:oj(e)}function d0e(e){return oj(e)}function f0e(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function tEe(e){const t=f0e(e);return t?t.replace(/^www\./,""):e}const T1="client-correlated-secret";function VT(){const e=localStorage.getItem(T1);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function ij(){VT()==null&&localStorage.setItem(T1,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=VT();if(t==null)throw new Error("Failed to get key from storage");return t}function h0e(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function p0e(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function m0e(e){const t=new URL(e),n=Tt({queryKey:[T1,"generate-challenge",e.search],queryFn:async()=>p0e(await crypto.subtle.sign("HMAC",await ij(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function nEe(){const e=location?.search,t=location?.hash;return Tt({queryKey:[T1,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await ij(),h0e(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class _n{static getMyGizmos(){return rt("gizmo_api.get_my_gizmos",()=>tt.get(`${nt}/gizmos?mine=true`))}static getGizmosByUser(t){return rt("gizmo_api.get_gizmos_by_user",()=>tt.get(`${nt}/gizmos/u/${t}`))}static getGizmo(t,n){const r=n?"?draft=true":"";return rt("gizmo_api.get_gizmo",()=>tt.get(`${nt}/gizmos/${t}${r}`))}static shareGizmo(t,n){return rt("gizmo_api.share",()=>tt.post(`${nt}/gizmos/${t}/share`,n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),rt("gizmo_api.discovery",()=>tt.get(n?`${Sp}/gizmos/discovery_anon?${r}`:`${Sp}/gizmos/discovery?${r}`,{authOption:Qt.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=o=>{const i={};o!=null&&(i.cursor=o),n?.limit!=null&&(i.limit=`${n.limit}`),n?.locale!=null&&(i.locale=n.locale);const a=`${Sp}/gizmos/discovery/${t}`;return rt("gizmo_api.discovery",()=>tt.get(a,{params:i,authOption:Qt.SendIfAvailable}))},s=await r(n?.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(o=>setTimeout(o,Math.random()*30)),await r(s.list.cursor)):s}static getGizmoBootstrap(t){return rt("gizmo_api.bootstrap",()=>tt.get(`${nt}/gizmos/bootstrap?limit=${t}`))}static getGizmoPinned(){return rt("gizmo_api.pinned",()=>tt.get(`${nt}/gizmos/pinned`))}static getGizmoSearch(t,n=null){return n?rt("gizmo_api.search_with_cursor",()=>tt.get(`${nt}/gizmos/search?q=${t}&cursor=${n} `)):rt("gizmo_api.search",()=>tt.get(`${nt}/gizmos/search?q=${t}`))}static getGizmoSearchForWorkspace(t,n=null){return n?rt("gizmo_api.search_workspace_cursor",()=>tt.get(`${nt}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`)):rt("gizmo_api.search_workspace",()=>tt.get(`${nt}/gizmos/search?q=${t}&workspace_only=true`))}static async postGizmoAppeal(t,n,r,s,o){await rt("gizmo_api.appeal",()=>tt.post(`${nt}/gizmos/${n}/appeal`,{reason:r,share_recipient:s,categories:o})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await rt("gizmo_api.cancel_appeal",()=>tt.post(`${nt}/gizmos/${n}/cancel_appeal`,{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?rt("gizmo_api.upsert_gizmo",()=>tt.post(`${nt}/gizmos?gizmo_id=${n}`,t)):rt("gizmo_api.upsert_gizmo",()=>tt.post(`${nt}/gizmos`,t))}static promoteDraft(t,n){return rt("gizmo_api.promote",()=>tt.post(`${nt}/gizmos/${n}/promote`,t))}static deleteGizmo(t){return rt("gizmo_api.delete_gizmos",()=>Q.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return rt("gizmo_api.gizmo_creator_profile",()=>tt.get(`${nt}/gizmo_creator_profile`))}static updateBuilderProfile(t){return rt("gizmo_api.gizmo_creator_profile",()=>tt.post(`${nt}/gizmo_creator_profile`,t))}static unverifySocialAuth(t){return rt("gizmo_api.delete_socials",()=>Q.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,s,o){const i=await rt("gizmo_api.update_sidebar",()=>tt.post(`${nt}/gizmos/${r}/sidebar`,{action:s}));switch(s){case"keep":V.logEvent("Sidebar Gizmo Keep",{location:o}),n.handleGizmoSidebarKeep(t,r);break;case"hide":V.logEvent("Sidebar Gizmo Hide",{location:o}),n.handleGizmoSidebarHide(t,r);break}return i}static async removeFromRecent(t,n){const r=await rt("gizmo_api.remove_recent",()=>tt.post(`${nt}/gizmos/${n}/remove_recent`,{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return rt("gizmo_api.fetch_openapi",()=>tt.post(`${nt}/gizmos/fetch_openapi`,{url:t}))}static validateOpenAPISpec(t){return rt("gizmo_api.validate_openapi",()=>tt.post(`${nt}/gizmos/validate_openapi`,{raw_spec:t}))}static transformToOpenAPISpec(t,n){return rt("gizmo_api.transform_openapi",()=>tt.post(`${nt}/gizmos/transform_openapi`,{...t,auth:n}))}static async doOAuthRedirect(t,n,r,s,o){const i=await rt("gizmo_api.oauth_redirect",()=>tt.post(`${nt}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:o}));window.location.href=i.redirect_uri}static async upsertUserActionSettings(t,n,r){return rt("gizmo_api.action_settings",()=>tt.post(`${nt}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return rt("gizmo_api.user_action_settings",()=>tt.get(`${nt}/gizmos/user_action_settings?gizmo_id=${t}`))}static async generateCategory(t,n){return rt("gizmo_api.gen_category",()=>tt.post(`${nt}/gizmos/gen_category`,{name:t,instructions:n}))}static async getConversations(t,n=null){return rt("gizmo_api.conversations",()=>tt.get(`${nt}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getProjectConversations(t,n=null){return rt("gizmo_api.conversations",()=>tt.get(`${nt}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getCategories(){return rt("gizmo_api.categories",()=>tt.get(`${nt}/gizmos/categories`))}static async getUserReview(t){return rt("gizmo_api.get_gizmo_reviews",()=>tt.get(`${nt}/gizmo_reviews/${t}`))}static async upsertUserReview(t,n,r,s){return rt("gizmo_api.upsert_gizmo_reviews",()=>tt.post(`${nt}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:s}))}static async sendFeedbackEmail(t,n,r){return rt("gizmo_api.feedback",()=>tt.post(`${nt}/gizmos/${t}/feedback`,{message:n,include_from:r}))}static async getAbout(t){return rt("gizmo_api.about",()=>tt.get(`${nt}/gizmos/${t}/about`))}static async getCreatorSlice({creatorId:t}){return rt("gizmo_api.gizmo_creators",()=>tt.get(`${nt}/gizmo_creators/${t}/gizmos`))}static async getVersion({gizmoId:t,version:n}){return n==null?rt("gizmo_api.latest_version",()=>tt.get(`${nt}/gizmos/${t}/version/latest`)):rt("gizmo_api.version",()=>tt.get(`${nt}/gizmos/${t}/version/${n}`))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),rt("gizmo_api.versions",()=>tt.get(`${nt}/gizmos/${t}/versions`,{params:s}))}static async copyGizmo({gizmoId:t}){return rt("gizmo_api.copy",()=>tt.post(`${nt}/gizmos/${t}/copy`))}}async function rt(e,t){return U.addAction(`${e}.start`),t().catch(n=>{throw U.addAction(`${e}.failure`,{error:n}),n})}async function g0e(){const e=await Q.safeGet("/me",{authOption:Qt.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const v0e=Xs({queryKey:["user"],queryFn:g0e,staleTime:1/0});function rEe(){return Tt(v0e).data}const _0e={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function aj(e){const t=Tt({...ui(),select:n=>{const r=qg(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(s=>s.data)}}}).data??_0e;return e?e(t):t}const y0e={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Nr.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>Bf(e?.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&Pg(e.planType),isTeamPlan:({subscriptionStatus:e})=>e?.planType===it.TEAM,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function sEe(){return sr()?.data.subscriptionStatus.lastActiveSubscription}function oEe(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function iEe(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const aS=e=>{const t=sr(),n=t?.getWorkspaceId(),r=xue(),{data:s,isLoading:o}=Ng(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const i=s?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?i:!0,isLoading:o}},aEe=()=>{const e=sr(),{hasWorkspacePermission:t,isLoading:n}=aS(zl.CrudGPT);return{canCreate:e?.hasPaidFeatures()&&t,isLoading:n}};function lEe(e){const{hasWorkspacePermission:t,isLoading:n}=aS(zl.CrudGPT);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}}function cEe(e){const{hasWorkspacePermission:t,isLoading:n}=aS(zl.CrudGPT);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}}function uEe(e){return{canViewConfig:e.gizmo.current_user_permission?.can_view_config??!1}}function b0e(e,t,n){const r=t?.name;switch(e){case Vr.Link:return n.formatMessage(hp.privacyAnyoneWithLink);case Vr.Private:return n.formatMessage(hp.privacyOnlyMe);case Vr.Group:case Vr.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case Vr.Marketplace:return n.formatMessage(hp.privacyMarketplace);case Vr.Workspace:return n.formatMessage(hp.privacyWorkspace,{workspaceName:r});case Vr.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function dEe(e){const t=ht(),n=aj(r=>r.currentWorkspace);return b0e(e,n,t)}function C0e(e){return"gizmo"in e}function S0e(e){return"id"in e}function fEe(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const hp=St({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),hEe="GPT Builder",lj="gizmo-bootstrap",cj=1;function pEe(e){if(e)return`ChatGPT - ${e}`}function mEe(e){returnwindow.location.origin+`${vf(e)}`}function w0e(e,t){return $e(e,"491279851")&&ka(t.gizmo.id)?`${vf(gf(t))}/project`:vf(gf(t))}function gEe(e,t,n){const r=new URLSearchParams;return n!=null&&r.set(l0e,n),m0e(new URL(`${w0e(e,t)}?${r}`,window.location.origin))}function vEe(e){return`/g/${gf(e)}`}function _Ee(e){return C0e(e)&&e.gizmo.live_version===0||S0e(e)&&e.liveVersion===0}function yEe(e,t){return Tt({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>_n.getGizmoDiscovery(e,t)})}function bEe({cutId:e,locale:t,limit:n,cursor:r,enabled:s=!0}){return e3({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:o})=>_n.getGizmoDiscoveryCut(e,{locale:t,cursor:o,limit:n}),initialPageParam:r,getNextPageParam:o=>o.list.cursor??void 0,enabled:s})}const CEe=en(e=>Af(e,()=>Xs({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>_n.getGizmoDiscoveryCut("recent",{limit:20}),enabled:vn(e)}))),SEe=en(e=>Af(e,()=>Xs({queryKey:["gizmos","pinned"],enabled:vn(e),queryFn:_n.getGizmoPinned})));function gl(e=2){return Xs({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>_n.getGizmoBootstrap(e).then(t=>(U.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>r.resource.gizmo?.gizmo_type!==Rl.PROJECT).map(r=>({resource:r.resource,flair:r.flair}))}))})}const wEe=en(e=>Af(e,gl));function EEe(){const e=ae(),n=$e(e,"1524046265")?20:2,r=gl(n),s=Yg(lj,cj,r.queryKey);return Tt({...r,initialData:s})}function xEe(){const e=ae(),n=$e(e,"1524046265")?20:2,r=gl(n),s=Yg(lj,cj,r.queryKey);return bB({...r,initialData:s})}function HT(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===qc.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const TEe={handleGizmoInteracted(e,t){const n=e.getQueryData(Nl(e,t).queryKey);n==null||ka(t)||e.setQueryData(gl().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(o=>o.resource.gizmo.id===t);return s?.flair.kind===qc.FirstParty||s?.flair.kind===qc.SidebarKeep?r:{gizmos:HT(r.gizmos,{resource:n,flair:{kind:qc.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(Nl(e,t).queryKey);n!=null&&e.setQueryData(gl().queryKey,r=>r==null?r:{gizmos:HT(r.gizmos,{resource:n,flair:{kind:qc.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(gl().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function uj(e,t=!1){const n=Pr();return Tt(Nl(n,e,t))}const kEe=({gizmoId:e,limit:t,cursor:n})=>Tt({queryFn:async()=>_n.listVersions({gizmoId:e}),queryKey:["gizmo","versions",{gizmoId:e,limit:t,cursor:n}]});function OEe({gizmoId:e,draft:t,version:n}){const r=Pr(),s=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>_n.getVersion({gizmoId:e,version:n}),enabled:e!=null}:Nl(r,e,t);return Tt(s)}function AEe(e,t){return Tt({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>_n.getUserActionSettings(e),enabled:e!=null&&t})}function Nl(e,t,n=!1){return Xs({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>_n.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(gl().queryKey);if(r!=null)return r.gizmos.find(o=>o.resource.gizmo.id===t)?.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const o of s.cuts){const i=o.list.items.find(a=>a.resource.gizmo.id===t)?.resource;if(i!=null)return i}}})}function E0e(e,t){return e.fetchQuery(Nl(e,t))}function MEe(e){return Tt({queryKey:["gizmo",{search:e}],queryFn:async()=>_n.getGizmoSearch(e),enabled:e.length>0})}function IEe(e,t){return Tt({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>_n.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function REe(e,t=!1,n=!1,r=null){return e3({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:s})=>n?_n.getGizmoSearchForWorkspace(e,r=s):_n.getGizmoSearch(e,r=s),initialPageParam:r,getNextPageParam:s=>s.cursor??void 0,enabled:t})}function NEe(){const e=Pr();return er({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:s,description:o,emoji:i,theme:a,profilePictureId:l,profilePictureUrl:c,promptStarters:u,tools:d,files:f,defaultModel:p,trainingDisabled:g}=n,v={instructions:r,display:{name:s,description:o,emoji:i,theme:a,profile_pic_id:l,profile_picture_url:c,prompt_starters:u},tools:d,files:f.map(_=>({..._,location:sj.FILE_SERVICE})),training_disabled:g,default_model:p??void 0};return _n.upsertDraft(v,t)},onSettled:t=>{t&&(e.setQueryData(Nl(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function PEe(){const e=Pr();return er({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:s}=n,o=await _n.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(o.error)throw new a0e(o);return o.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(Nl(e,t.gizmo.id,!1).queryKey,t)}})}function DEe(){const e=Pr();return er({mutationFn:async({gizmoId:t})=>_n.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function LEe(){const e=Pr(),t=xn();return er({mutationFn:async({name:n,hideName:r,websiteUrl:s,willReceiveSupportEmails:o})=>_n.updateBuilderProfile({name:n,hide_name:r,website_url:s,will_receive_support_emails:o}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function FEe(){return Tt({queryKey:["builderProfile"],queryFn:async()=>_n.getBuilderProfile()})}function jEe(){return er({mutationFn:async({gizmoId:e})=>_n.copyGizmo({gizmoId:e})})}function UEe(){return Tt({queryKey:["gizmoCategories"],queryFn:async()=>_n.getCategories()})}function BEe(e,t){const n=ae(),r=$e(n,"2632917233");return!!(t!=null&&[an.PrimaryAssistant,an.GizmoInteraction].includes(t)&&(r||e?.includes(W3.GPT_4)))}function qEe(e,t){const n=Pr(),r=xn();return er({mutationFn:async({rating:s,message:o,includeFrom:i})=>{await _n.upsertUserReview(e,s,o,i)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:s=>{r.danger(s.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:s.message})}})}function x0e({clientThreadId:e}){const t=A5(),[n,r]=_i(e,f=>[me.getCurrentNode(f)?.message.metadata?.model_switcher_deny,me.getGizmoId(f)]),s=r??t,{data:o}=uj(s),{data:i}=pX({isGizmo:!!s}),a=ht(),l={},c=ae(),u=$e(c,"891514942"),d=XW();for(const{resets_after:f,model_slug:p}of d)[fd.CONVERSATION,fd.REGENERATE].forEach(g=>{const v=l[p]??{},_=v[g]??[],y={reason:Y3.RATE_LIMIT,resetsAfter:f,isAvailable:!1};_.push(y),v[g]=_,l[p]=v});if(n?.forEach(f=>{const{slug:p,context:g,reason:v,description:_,is_available:y}=f,b=u&&y,w=l[p]??{},C=w[g]??[];C.push({reason:v,description:_,isAvailable:b}),w[g]=C,l[p]=w}),s&&ka(s)){const f=[po.GIZMO_PROJECT];o?.files?.length&&f.push(po.ATTACHMENT),o?.gizmo.instructions.length&&f.push(po.CUSTOM_INSTRUCTIONS),i?.categories.forEach(p=>{const{defaultModel:g,supportedFeatures:v}=p,_=v||[],y=[];if(f.includes(po.GIZMO_PROJECT)&&!_.includes(po.GIZMO_PROJECT)&&y.push({reason:us.UNSUPPORTED_GIZMO,description:a.formatMessage({id:"6w0z4F",defaultMessage:"This model doesn't support projects."}),isAvailable:!1}),f.includes(po.ATTACHMENT)&&!_.includes(po.ATTACHMENT)&&y.push({reason:us.UNSUPPORTED_ATTACHMENT,description:a.formatMessage({id:"ZKjdak",defaultMessage:"This model doesn't support file attachments."}),isAvailable:!1}),f.includes(po.CUSTOM_INSTRUCTIONS)&&!_.includes(po.CUSTOM_INSTRUCTIONS)&&y.push({reason:us.UNSUPPORTED_CUSTOM_INSTRUCTIONS,description:a.formatMessage({id:"zaubcf",defaultMessage:"This model doesn't support custom instructions."}),isAvailable:!1}),y.length){const b=l[g]??{};[fd.CONVERSATION,fd.REGENERATE].forEach(w=>{const C=b[w]??[];C.push(...y),b[w]=C,l[g]=b})}})}return l}function T0e({modelSlug:e,modelSwitcherDenialsBySlug:t}){const n=e?t[e]?.conversation:null;return n?n.every(r=>r.isAvailable===!0):!0}function k0e({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1,onModelItemClick:o,preferredModelId:i}){const a=ht(),l=e?.id??null,[c,u]=h.useState(""),d=h.useMemo(()=>c?t.filter(f=>f.name.toLowerCase().includes(c.toLowerCase())):t,[t,c]);return m.jsx(It.Portal,{children:m.jsxs(It.SubContent,{className:he("flex flex-col pt-0",n),children:[m.jsxs("div",{style:{borderRadius:"inherit"},className:"sticky top-0 z-1 bg-white",children:[m.jsx("div",{className:"p-2",children:m.jsx(QF,{inputClassName:"w-full",value:c,onKeyDown:f=>{f.stopPropagation()},onChange:f=>{u(f.target.value)}})}),m.jsx("hr",{})]}),m.jsxs("div",{className:"scrollbar-gutter-stable w-[min(320px,95vw)] flex-grow overflow-auto",children:[d.length===0&&m.jsx(It.Item,{children:a.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),d.map(f=>{const{value:p}=f;return"options"in f?m.jsx(Nc,{currentModel:e,isSelected:l?.startsWith(p),option:f,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s,onModelItemClick:o,preferredModelId:i},p):m.jsx(Ja,{currentModelId:l,isSelected:l===p,value:p,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s,onClick:o,preferredModelId:i,children:f.name},p)})]})]})})}function Nc({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1,onModelItemClick:o,preferredModelId:i}){const{name:a,options:l,categoryId:c}=t,u=`${a} Models`,d=()=>m.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ej,{className:"icon"}),u]})});let f;return s&&n&&(f=t.options.find(p=>p.value===e?.id)?.name),m.jsxs(It.Sub,{children:[m.jsx(It.SubMenuTrigger,{children:m.jsxs("div",{className:he("flex grow justify-between gap-2 overflow-hidden",s?"items-center break-all":""),children:[c?d():a,n&&m.jsx("div",{className:"text-token-text-tertiary truncate",children:f??e?.title})]})}),m.jsx(k0e,{currentModel:e,categoryOptions:l,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s,onModelItemClick:o,preferredModelId:i})]})}function Ja({value:e,children:t,icon:n,secondary:r,currentModelId:s,isSelected:o,onClick:i,modelSwitcherDenialsBySlug:a,isUpgradeUpsell:l=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:u=!1,deprecated:d,preferredModelId:f,disabledByAdmin:p}){const g=ae(),v=t0e(),_=e?a[e]?.conversation?.[0]:null,y=T0e({modelSlug:e,modelSwitcherDenialsBySlug:a}),b=p||!y,w=Wt(g,"1846737571"),C=()=>{if(i)i(e);else if(e){V.logEvent("Model Switcher Model Changed",{from:s,to:e}),at.logEvent("chatgpt_model_switcher_model_changed",e,{from:s??"",to:e});const E=e;Q1e(E),v({modelId:E,location:"Model switcher menu item"})}},S=m.jsx(It.Item,{onClick:C,disabled:b,className:he(u&&"break-all"),icon:n,secondary:r,trailingColor:"primary",trailing:l?m.jsx(sn,{color:"secondary",size:"small",className:w.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:m.jsx(ie,{id:"oKo8wt",defaultMessage:"Upgrade"})}):o?m.jsx(j6,{className:"icon-sm"}):m.jsx("span",{className:"icon"}),"data-testid":c,children:m.jsxs("span",{className:"flex items-center gap-1",children:[t,e&&e===f&&!o&&!l&&!d&&m.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:m.jsx(ie,{id:"model-switcher.preferred",defaultMessage:"GPT creator recommended"})})]})},e);return _?m.jsx(ns,{withArrow:!0,side:"right",sideOffset:-10,label:m.jsx(e0e,{modelSwitcherDeny:_}),children:S}):S}function O0e(e,t){switch(t){case"gpt-4o":return ss(e).checkGate("1627380539");default:return!1}}function A0e(e){return yC(new URL(e,window.location.origin).searchParams).includes(ve.Search)}var M0e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(M0e||{});function I0e({isOpen:e}){qe.setCookie(Re.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const _t=cn()(()=>({isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1})),GEe={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},jd={setBrowseMode:e=>{_t.setState(t=>({...t,browseMode:e}))},setIsConversationScrolledFromTop:e=>{_t.setState(t=>({...t,isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{_t.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{_t.setState({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{_t.setState({autoHighlightNicknameInput:e})},setSidebarOpen(e){R0e()?jd.setPopoverSidebarOpen(e):jd.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{_t.setState(({isPopoverSidebarOpen:t})=>({isPopoverSidebarOpen:e??!t}))},setSlideoverSidebarOpen:e=>{_t.setState(({isSlideoverSidebarOpen:t})=>{const n=e??!(t??dj());return I0e({isOpen:n}),V.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),fj=!1},hideThreadHeader:()=>{_t.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{_t.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){_t.setState({sharingModalThreadId:e}),V.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){_t.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){_t.setState({feedbackModalThreadId:e})},closeFeedbackModal(){_t.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){_t.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){_t.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){_t.setState({activeSidebar:e})},setThreadModelPickerAlertDot:e=>{_t.setState(({shouldShowThreadModelPickerDot:t})=>(t!==e&&V.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},toggleActiveSidebar(e){_t.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){_t.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){_t.setState({activeStageSidebar:e})},toggleModal(e){_t.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){_t.setState(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){_t.setState(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){_t.setState(t=>({...t,deepResearchShareTaskId:e})),jd.openModal("deep-research-share")},closeAllActiveModals(){_t.getState().activeModals.size>0&&_t.setState({activeModals:new Set})},hideLatencyDevTools:()=>{_t.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{_t.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){_t.setState(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{_t.setState({noAuthMadlibsModalOpen:e}),qt.setItem(Et.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{_t.setState({onboardingConvoState:e})}};function VEe(e){return _t(t=>t.activeModals.has(e))}function dj(){if(fj)return!1;const e=qe.getCookie(Re.NavigationState);return e!=null?e==="1":!0}let fj=A0e(window.location.href);function R0e(){const e=_t.getState().activeStageSidebar,t=_Z();return e||!t}function N0e(){const e=_t(n=>n.activeStageSidebar),t=bI();return e||!t}function HEe(){const e=ae(),t=N0e(),n=_t(r=>r.isSlideoverSidebarOpen);return vn(e)&&!t&&(n??dj())}function zEe(){return _t(e=>e.activeModals.has("blocking-initial-component"))}function $Ee(){const[e,t]=h.useState(!1);return h.useEffect(()=>_t.subscribe(n=>{n.activeModals.has("blocking-initial-component")&&t(r=>r||n.activeModals.has("blocking-initial-component"))}),[]),e}const WEe=(e,t,n,r)=>{const s=$e(e,"2861925050"),o=n?.some(({model_slug:i})=>r?.models.get(i));return!(!s||!o||!t||!t.isTeam())},hj=()=>{const e=qt.getItem(Et.FinchAdminNotified);return new Date(e??0)},P0e=()=>{const e=new Date;e.setDate(e.getDate()+1),qt.setItem(Et.FinchAdminNotified,e.toISOString())},D0e=()=>{const e=hj();return qt.getItem(Et.FinchAdminNotified)!=null&&new Date<=e},KEe=()=>{const e=hj();return new Date>e},YEe=e=>{switch(e){case"wham":return"wham";case"deep_research":return"deep_research";case"image_gen":return"image_gen";case"gpt-4-5":return"gpt-4-5";default:return null}},L0e=cn(e=>({hasRequestedCredits:D0e(),setHasRequestedCredits:t=>e(()=>({hasRequestedCredits:t}))})),F0e=wg(()=>le(()=>import("./in5q7g6zxgxsxabn.js"),__vite__mapDeps([13,1,14,15,9,10,16,17])).then(e=>e.CreditPurchaseModal)),j0e=()=>{const e=xn(),t=ht(),{hasRequestedCredits:n,setHasRequestedCredits:r}=L0e(),{mutate:s,isPending:o}=er({mutationFn:i=>Q.safePost("/credits/pleas",{requestBody:{product:i}}),onError:i=>{U.addError(new Error("Error occurred while submitting credit plea request",{cause:i})),e.danger(Qc.errorRequestCredits,{toastId:"teams_credit_plea_button"})},onSuccess:()=>{r(!0),e.success(t.formatMessage(Qc.successRequestCredits)),P0e(),jd.setThreadModelPickerAlertDot(!1)}});return{submitCreditPleaRequest:s,hasRequestedCredits:n,isPending:o}},U0e=({trigger:e,...t})=>{const n=ae();h.useEffect(()=>{V.logEventWithStatsig("ChatGPT Credits: Add Credits Button Shown","chatgpt_credits_add_credits_button_shown",{trigger:e})},[e]);const r=()=>{V.logEventWithStatsig("ChatGPT Credits: Add Credits Clicked","chatgpt_credits_add_credits_clicked"),bg(n,F0e)};return m.jsx(sn,{color:"primary",onClick:r,...t,children:m.jsx(ie,{...Qc.addCredits})})},B0e=({creditConsumingProduct:e,trigger:t,...n})=>{const r=ht(),{submitCreditPleaRequest:s,isPending:o,hasRequestedCredits:i}=j0e();h.useEffect(()=>{V.logEventWithStatsig("ChatGPT Credits: Notify Admin Button Shown","chatgpt_credits_notify_admin_button_shown",{trigger:t,creditConsumingProduct:e})},[e,t]);const a=()=>{i||(s(e),V.logEventWithStatsig("ChatGPT Credits: Notify Admin Clicked","chatgpt_credits_notify_admin_clicked"))},l=m.jsx(sn,{loading:o,color:i?"secondary":"primary",disabled:i,onClick:a,...n,children:i?r.formatMessage(Qc.requested):r.formatMessage(Qc.notifyAdmin)});return i?m.jsx(ns,{className:"w-auto whitespace-nowrap",withArrow:!0,labelTextAlign:"left",contentClassName:"w-[180px]",side:"right",label:r.formatMessage(Qc.alreadyRequested),children:l}):l},Qc=St({notifyAdmin:{id:"prompt-textarea.teamsCreditRequestBanner.notifyAdmin",defaultMessage:"Notify admin"},addCredits:{id:"prompt-textarea.teamsCreditRequestBanner.addCredits",defaultMessage:"Add credits"},requested:{id:"prompt-textarea.teamsCreditRequestBanner.requested",defaultMessage:"Requested"},errorRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.error",defaultMessage:"Error occurred while submitting credit request"},successRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.success",defaultMessage:"Request sent to your admin"},alreadyRequested:{id:"prompt-textarea.teamsCreditRequestBanner.alreadyRequested",defaultMessage:"You’ve already notified your admin"}}),zT="needsCreditsSection",q0e=()=>{const t=sr()?.isOwnerOfAccount();return m.jsxs(It.Item,{className:"pointer-events-none pe-2.5! hover:bg-transparent hover:text-inherit",onSelect:n=>n.preventDefault(),disabled:!0,children:[m.jsx("div",{className:"text-token-text-tertiary text-xs",children:m.jsx(ie,{...t?$T.ownerDescription:$T.description})}),t?m.jsx(U0e,{size:"small",trigger:"thread-header-dropdown-credits-section"}):m.jsx(B0e,{size:"small",creditConsumingProduct:"gpt-4-5",trigger:"thread-header-dropdown-credits-section"})]})},$T=St({description:{id:"prompt-textarea.teamsCreditRequestBanner.label",defaultMessage:"Limits reached. Send a request to your admin to get access"},ownerDescription:{id:"prompt-textarea.teamsCreditRequestBanner.ownerLabel",defaultMessage:"Limits reached. Add credits to your account"}}),G0e="/assets/no-auth-upsell-m8ypcpwf.webp",V0e={src:G0e};function H0e(){const e=ae();return Wt(e,"3637408529").get("is_login_primary_button",!1)}const z0e=()=>{const e=ae();return Wt(e,"1346366956").get("signup_cta_copy","SIGN_UP")},$0e=()=>{const e=ae();return Wt(e,"1803944755").get("login_or_signup_cta_copy","LOGIN_OR_SIGNUP")},ZEe=()=>{switch($0e()){case"LOGIN_OR_SIGNUP":return WT.loginOrSignup;case"SIGNIN":return WT.signin}},W0e=e=>{switch(z0e()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return pp.signUpForFreeCta;case"CREATE_ACCOUNT":return pp.createAccountCta;case"CREATE_NEW_ACCOUNT":return pp.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return pp.createFreeAccountCta}},WT=St({loginOrSignup:{id:"loginOrSignupCta.loginOrSignup",defaultMessage:"Log in or sign up"},signin:{id:"loginOrSignupCta.signin",defaultMessage:"Sign in"}}),pp=St({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function K0e({statsig_login_event:e,statsig_signup_event:t,location:n}){const r=ae(),s=H0e(),o=W0e(KT.signUpCta),i=`no-auth-${n}`,a=Qs(),l=rg(r,"2210309751").get("variant","control"),c=()=>{a({hash:dN,search:window.location.search},{state:{[fN]:"NoAuth Model Picker Upsell"}})},u=()=>{fu(r,{authType:"login",callback:g=>{V.logLogInButtonClicked({location:i,provider:g}),at.logEvent(e)}})},d=()=>{fu(r,{authType:"signup",callback:g=>{V.logSignUpButtonClicked({location:i,provider:g}),at.logEvent(t)}})},f=m.jsx(sn,{as:"button",size:"medium",color:s?"primary":"secondary",onClick:u,children:m.jsx(ie,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})},"login-button"),p=m.jsx(sn,{as:"button",size:"medium",color:s?"secondary":"primary",onClick:d,children:m.jsx(ie,{...o})},"signup-button");return m.jsxs("div",{className:"-mt-4 flex max-w-[calc(100vw-2rem)] flex-col",children:[m.jsx("img",{className:"max-xs:hidden h-[132px] object-fill",src:V0e.src,alt:""}),m.jsxs("div",{className:"flex flex-col px-4 pt-5 pb-2",children:[m.jsx("p",{className:"text-token-text-primary mb-1 text-lg font-medium text-pretty",children:m.jsx(ie,{id:"rwmTbn",defaultMessage:"Try advanced features for free"})}),m.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:m.jsx(ie,{id:"unOBJo",defaultMessage:"Get smarter responses, upload files, create images, and more by logging in."})}),m.jsx("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:s?[f,p]:[p,f]}),l==="model-picker"&&m.jsx("p",{className:"text-token-text-secondary mt-5 text-xs",children:m.jsx(ie,{...KT.createWorkspaceTeamOrBusiness,values:{createWorkspaceLink:g=>m.jsx("span",{onClick:c,className:"text-token-text-secondary decoration-token-text-primary cursor-pointer underline",children:g})}})})]})]})}const KT=St({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},createWorkspaceTeamOrBusiness:{id:"components.noAuthUpsell.createWorkspaceTeamOrBusiness",defaultMessage:"<createWorkspaceLink>Create a workspace</createWorkspaceLink> for a team or business"}});function Y0e(){"use forget";const e=ke.c(2),t=ae();let n;return e[0]!==t?(n=$e(t,"491279851"),e[0]=t,e[1]=n):n=e[1],n}function Z0e(e){"use forget";const t=ke.c(3),n=Y0e();if(!e)return!1;let r;return t[0]!==e||t[1]!==n?(r=n&&ka(e),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}function J0e(e,t){return t!=null&&ka(t)&&$e(e,"491279851")}const X0e=({isUnauthenticated:e,enabled:t=!0})=>Xs({queryKey:["modelMessageCap",e],queryFn:()=>RK.safeGet("/conversation_limit",{authOption:Qt.SendIfAvailable}),enabled:t});function JEe(e){return e.map(t=>typeof t=="string"?t:"").join("")}function Q0e(e,t){const n=[];let r=0;for(let s=0;s<e.length;s++){const o=e[s];if(typeof o=="string")if(t!=null&&t<r+o.length){n.push({type:"text",text:o.slice(0,t-r)});break}else n.push({type:"text",text:o}),r+=o.length;else if(o.content_type===Kn.ImageAssetPointer){const i=s>0?n[s-1]:null;i?.type==="images"?i.imageAssets.push(o):n.push({type:"images",imageAssets:[o]})}else o.content_type===Kn.AudioTranscription&&n.push({type:"transcription",text:o.text})}return n}function XEe({isUserTurn:e,parts:t}){if(!e)return Q0e(t);const n={text:[],images:[]};for(let s=0;s<t.length;s++){const o=t[s];typeof o=="string"?o.trim().length>0&&n.text.push({type:"text",text:o}):o.content_type===Kn.AudioTranscription?n.text.push({type:"transcription",text:o.text}):o.content_type===Kn.ImageAssetPointer&&n.images.push(o)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(s=>({type:s.type,text:s.text}))),r}function eve(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}const tve="gpt-4",nve="oai/apps/capExpiresAt";cn(()=>({serverThreadIds:new Set}));function rve(){const e=k1(s=>s.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return h.useEffect(()=>{r&&pj()},[r]),r?null:e?tve:null}const k1=cn()(CN(()=>({isoDate:""}),{name:nve}));function sve(e){k1.setState({isoDate:e})}function pj(){k1.setState({isoDate:""})}function ove(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const I2={textarea:"","model-switcher":""};function ive(){const e=k1(a=>a.isoDate),t=eve(e),n=ht(),r=aj(y0e.isEnterpriseyPlan),{isUnauthenticated:s,isLoading:o}=Hf(),{data:i}=Tt(X0e({isUnauthenticated:s,enabled:!o}));return h.useMemo(()=>{const a=i?.message_cap??0,l=i?.message_cap_window??1,{text:c,type:u,value:d}=ove(l),f=i?.message_disclaimer??I2;if(!c||r)return{textareaDisclaimer:f.textarea,modelSwitcherDisclaimer:f["model-switcher"],modelSwitcherLimitShort:""};if(!i||!l||!a)return{textareaDisclaimer:I2.textarea,modelSwitcherDisclaimer:I2["model-switcher"],modelSwitcherLimitShort:""};let p=n.formatMessage(R2.shortLimitMinutes,{numerator:a,denominator:d});switch(u){case"hour":p=n.formatMessage(R2.shortLimitHours,{numerator:a,denominator:d});break;case"day":p=n.formatMessage(R2.shortLimitDays,{numerator:a,denominator:d});break}return{textareaDisclaimer:f.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherDisclaimer:f["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherLimitShort:p}},[i,t,n,r])}const R2=St({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var zo=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(zo||{});const YT={code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}},ave=e=>dD(e,({id:t})=>t.split(":").slice(0,1).join(":"));function QEe(){const e=A5(),{modelsData:t}=P5({isGizmo:!!e}),n=rve(),{modelSwitcherDisclaimer:r}=ive();return h.useMemo(()=>{const s=[];if(!t)return s;const{categories:o,groups:i,models:a}=t;for(const l of o){const{defaultModel:c,categoryId:u,label:d}=l,f=a.get(c);if(f){const p=n===c,g=p?[]:lve(l,a);s.push({categoryId:u,value:c,name:d,description:p?r:f.description,options:[Ud(f,{name:"Default"}),...g]})}}for(const l of i){const{group:c,label:u,modelIds:d}=l,f=d[0],p=[];for(const g of d){const v=a.get(g);v&&!v.tags.includes(W3.HIDDEN)&&p.push(v)}if(c==="experiments"){const g=ave(p),v=Object.entries(g).map(([_,y])=>{const b=_.split(":").slice(-1)[0];return{key:_,value:b,name:b,options:y.map(w=>{const{title:C}=w;return Ud({...w,title:C.replace(b,"")})})}});s.push({categoryId:c,value:f,name:u,options:v})}else s.push({categoryId:c,value:f,name:u,options:p.map(g=>Ud(g))})}return s},[t,n,r])}function Ud(e,t={}){return{value:e.id,name:e.title,...t}}function lve(e,t){const n=[],r=e.code_interpreter_model!=null&&t.get(e.code_interpreter_model);if(r){const o=YT.code_interpreter_model;n.push(Ud(r,{name:o.name}))}const s=e.dalle_model!=null&&t.get(e.dalle_model);if(s){const o=YT.dalle_model;n.push(Ud(s,{name:o.name}))}return n}function ZT(e,t){let n=e;if(e===Sb.AUTO){const o=t?.categories.filter(({defaultModel:i})=>i!==Sb.AUTO);o?.length===1&&(n=o[0].defaultModel)}const r=t?.categories.find(({defaultModel:o,supportedModels:i})=>o===n||n&&i?.includes(n));if(r){const{categoryId:o}=r;return{selectedCategory:o,modelLabel:r.shortLabel,fullModelLabel:r.label}}const s=t?.groups.find(({modelIds:o})=>n&&o.includes(n));if(s){const{group:o,shortLabel:i,label:a}=s;return{selectedCategory:o,modelLabel:i,fullModelLabel:a}}return{selectedCategory:null,modelLabel:null,fullModelLabel:null}}function cve(e,t,n,r){const s=t?e.formatMessage(FC.beta):n?e.formatMessage(FC.alpha):r;if(s)return m.jsx(L5,{children:s})}function uve({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,testId:s,preferredModelId:o,disabledByAdmin:i=!1}){const a=ht(),{defaultModel:l,label:c,description:u,isBeta:d,isAlpha:f,modelBadge:p}=e,g=ka(n??""),v=ae(),_=O0e(v,l),y=m.jsxs(Ja,{value:l,currentModelId:r,modelSwitcherDenialsBySlug:t,secondary:u,deprecated:_,disabledByAdmin:i,isSelected:(!n||g)&&r===l,testId:s,preferredModelId:o,children:[c,cve(a,d,f,p)]},l);return i?m.jsx(ns,{label:a.formatMessage(FC.disabledByAdmin),children:y}):y}function e8e({sections:e}){return m.jsx(m.Fragment,{children:e.map((t,n)=>m.jsxs(Ee.Fragment,{children:[n!==0&&e[n-1]?.id!=="model-picker-title"?m.jsx(It.Separator,{}):null,t.content]},t.id))})}function mj(){const{session:e}=Rf(),{data:t}=oZ();return hI(e?.account?.planType??it.FREE)||t&&iZ(t)&&!!1}function t8e(e,t,n,r,s){const o=ht(),i=ae(),a=!vn(i),{session:l}=Rf(),c=l?.user,u=c&&RH(c),d=n0e(e),f=d?.id??null,p=$ne(e),g=Z0e(p);let{modelsData:v}=P5({isGizmo:!!p&&!g});const _=mj(),y=Gne(e),b=x0e({clientThreadId:e}),w=v?.modelPickerVersion===2,{gizmoModelsData:C}=hX({enabled:!!p}),S=!y,E=t.find(({categoryId:G})=>G===zo.ALPHA),x=t.find(({categoryId:G})=>G===zo.DATA_CAMPAIGNS),T=t.find(({categoryId:G})=>G===zo.EXPERIMENTS),k=t.find(({categoryId:G})=>G===zo.MAINLINE),[O,A]=h.useState(""),M=es(()=>!0),I=[E,x,T,k].reduce((G,ue)=>ue?[...G,...ue.options.map(oe=>({...oe,badge:ue.categoryId}))]:G,[]),N=h.useMemo(()=>O?I.filter(G=>G.name.toLowerCase().includes(O.toLowerCase())):I,[I,O]);if(r&&p&&v&&C){const G=JSON.parse(JSON.stringify(v));G.categories=G.categories.filter(({defaultModel:ue})=>C.editor.models_list_with_custom_actions.includes(ue)),v=G}const q=!!E?.options.length,P=!!x?.options.length,D=!!T?.options.length,R=!!k?.options.length,B=Qs(),Y=h.useCallback(()=>{V.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),e6(B,"Thread header dropdown")},[B]),Me=()=>{at.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),V.logEvent("Model Switcher Plus Upgrade Button Clicked"),a?fu(i,{shouldOpenPaymentModalOnAuth:!0,callback:G=>{V.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:G})}}):Y()},Fe=()=>{V.logEventWithStatsig("Model Switcher Go Upgrade Button Clicked","chatgpt_model_switcher_go_upgrade_button_clicked"),a?fu(i,{shouldOpenPaymentModalOnAuth:!0,callback:G=>{V.logSignUpButtonClicked({location:"Model switcher Go upsell",provider:G})}}):Y()},pe=[],ge=$e(i,"3315017149");v?.title&&ge&&pe.push({id:"model-picker-title",content:[m.jsx(It.Label,{className:"mb-0",children:v.title},"model-picker-title")]});const Se=m.jsxs(It.Label,{className:"flex items-center",children:[m.jsx(ie,{id:"coNCb7",defaultMessage:"Models"}),m.jsx(ns,{side:"right",className:"ms-1.5",delayDuration:120,label:m.jsx(ie,{id:"/vFWz/",defaultMessage:"Learn more"}),children:m.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:m.jsx(BT,{className:"h-3.5 w-3.5 shrink-0"})})})]},"models-section-header");if(a){const G={id:"modelSection",content:[]};G.content.push(m.jsx(K0e,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),pe.push(G)}else if(!_&&!p){const G={id:"modelSection",content:[]};kte(i)?G.content.push(m.jsx(Ja,{value:"",currentModelId:f,onClick:Fe,modelSwitcherDenialsBySlug:b,isUpgradeUpsell:!0,icon:J1e,secondary:m.jsx(ie,{id:"vm2Wqf",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:m.jsx(ie,{id:"/d/+gD",defaultMessage:"ChatGPT Go"})},"goUpgrade")):G.content.push(m.jsx(Ja,{value:"",currentModelId:f,onClick:Me,modelSwitcherDenialsBySlug:b,isUpgradeUpsell:!0,icon:qT,secondary:m.jsx(ie,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:m.jsx(ie,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade")),G.content.push(m.jsx(Ja,{value:Fd.AUTO,currentModelId:f,modelSwitcherDenialsBySlug:b,icon:X1e,secondary:m.jsx(ie,{id:"n96qML",defaultMessage:"Great for everyday tasks"}),isSelected:!p&&f===Fd.AUTO,children:m.jsx(ie,{id:"U9E7Rx",defaultMessage:"ChatGPT"})},Fd.AUTO)),pe.push(G)}else{const G={id:"modelSection",content:[]};v?.categories.length&&!w&&G.content.push(Se),fn(i)?.isGo()&&G.content.push(m.jsx(Ja,{value:"",currentModelId:f,onClick:Me,modelSwitcherDenialsBySlug:b,isUpgradeUpsell:!0,icon:qT,secondary:m.jsx(ie,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:m.jsx(ie,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade"));const ue=new Map;v?.categories.forEach(ee=>{const Ie=m.jsx(uve,{category:ee,currentGizmoId:p,currentModelId:f,modelSwitcherDenialsBySlug:b,preferredModelId:s,testId:`model-switcher-${ee.defaultModel}`,disabledByAdmin:ee.disabledByAdmin},ee.categoryId);ee.subcategory?(ue.has(ee.subcategory)||ue.set(ee.subcategory,[]),ue.get(ee.subcategory)?.push(Ie)):G.content.push(Ie)});const oe=v?.categories?.some(ee=>ee.defaultModel==="gpt-5")??!1,_e=v?.categories?.some(ee=>ee.defaultModel==="gpt-5-pro")??!1;if(oe&&!_e&&!fn(i)?.isPro()&&$e(i,"3309244414")){const ee=m.jsx(dve,{}),Ie=v?.categories?.find(X=>X.defaultModel==="gpt-5-thinking")?.subcategory;Ie?ue.get(Ie)?.push(ee):G.content.push(ee)}w?ue.forEach((ee,Ie)=>{Ie&&G.content.push(m.jsx(It.Separator,{},`${Ie}-divider`));const X=v?.categories.find(de=>de.subcategory===Ie&&de.defaultModel===d?.id),{fullModelLabel:W}=ZT(X?.defaultModel??"",v);G.content.push(m.jsxs(It.Sub,{children:[m.jsx(It.SubMenuTrigger,{"data-testid":Ie+"-submenu",trailing:m.jsx("div",{className:"truncate",children:W}),children:Ie}),m.jsx(It.Portal,{children:m.jsx(It.SubContent,{children:ee})})]},Ie))}):ue.forEach((ee,Ie)=>{const X=v?.categories.find(W=>W.subcategory===Ie&&W.defaultModel===d?.id);G.content.push(m.jsxs(It.Sub,{children:[m.jsx(It.SubMenuTrigger,{"data-testid":Ie?`${Ie}-submenu`:void 0,trailing:X&&m.jsx("div",{className:"truncate",children:X.label}),children:Ie}),m.jsx(It.Portal,{children:m.jsx(It.SubContent,{children:ee})})]},Ie))});const st=v?.categories?.some(ee=>ee.defaultModel==="gpt-4o"||ee.defaultModel==="gpt-4.1")??!1;r&&p&&G.content.push(m.jsx(It.Label,{className:"flex flex-col items-start gap-1",children:m.jsxs("span",{className:"flex items-center",children:[m.jsx(ie,{id:"Y96ci5",defaultMessage:"Limited models for Custom Action GPTs"}),m.jsx(ns,{side:"right",className:"ms-1.5 cursor-pointer",delayDuration:0,label:oe&&st?m.jsx(ie,{id:"CicYT3",defaultMessage:"GPTs with custom web actions can currently only use GPT-5, GPT-4o, and GPT-4.1."}):oe?m.jsx(ie,{id:"VfAyqX",defaultMessage:"GPTs with custom web actions can currently only use GPT-5."}):m.jsx(ie,{id:"wDE3HX",defaultMessage:"GPTs with custom web actions can currently only use GPT-4o and GPT-4.1. If your GPT has no custom actions it can use any model."}),children:m.jsx(BT,{className:"h-4 w-4 shrink-0"})})]})})),pe.push(G)}const se={id:"otherOptionsSection",content:[]},{selectedCategory:K}=ZT(f,v);return S&&(q||P||D||R?se.content.push(m.jsx("div",{className:"px-4 py-2",children:m.jsx(QF,{inputClassName:"w-full",onKeyDown:G=>{G.stopPropagation()},onChange:G=>{A(G.target.value)},value:O})})):u&&se.content.push(m.jsxs(m.Fragment,{children:[m.jsx(It.Shimmer,{size:"long"}),m.jsx(It.Shimmer,{size:"long"}),m.jsx(It.Shimmer,{size:"long"}),m.jsx(It.Shimmer,{size:"long"})]})),O?se.content.push(m.jsxs("div",{className:"scrollbar-gutter-stable max-h-64 w-[min(320px,95vw)] overflow-y-scroll",children:[N.length===0&&m.jsx(It.Item,{className:"w-full",children:o.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),N.map(G=>{const{value:ue}=G;return"options"in G?m.jsx(Nc,{currentModel:d,isSelected:f?.startsWith(ue),option:G,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s},ue):m.jsxs(Ja,{currentModelId:f,isSelected:f===ue,value:ue,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s,children:[G.name,G.badge&&m.jsx(L5,{children:G.badge})]},ue)})]})):(q&&se.content.push(m.jsx(Nc,{isSelected:K===zo.ALPHA,currentModel:d,option:E,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s},E.value)),P&&se.content.push(m.jsx(Nc,{isSelected:K===zo.DATA_CAMPAIGNS,currentModel:d,option:x,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s},x.value)),D&&se.content.push(m.jsx(Nc,{currentModel:d,isSelected:K===zo.EXPERIMENTS,option:T,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s},T.value)),R&&se.content.push(m.jsx(Nc,{isSelected:K===zo.MAINLINE,currentModel:d,option:k,modelSwitcherDenialsBySlug:b,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:s},k.value)))),se.content.length&&M&&pe.push(se),n&&pe.push({id:zT,content:[m.jsx(q0e,{},zT)]}),pe}const dve=()=>{const e=Qs(),t=ae(),n=$e(t,"3315017149");let r=m.jsx(ie,{id:"4myKt+",defaultMessage:"GPT-5 Pro"});return n&&(r=m.jsx(ie,{id:"fCVj6z",defaultMessage:"Pro"})),m.jsx(It.Item,{disabled:!0,label:r,secondary:m.jsx(ie,{id:"BsApen",defaultMessage:"Research-grade intelligence"}),trailing:m.jsx(sn,{color:"secondary",size:"small",onClick:()=>{V.logEventWithStatsig("Model Switcher Pro Upgrade Button Clicked","chatgpt_model_switcher_pro_upgrade_button_clicked"),V.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),e6(e,"Thread header dropdown")},children:m.jsx(ie,{id:"aJndhk",defaultMessage:"Upgrade"})})})},FC=St({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"},disabledByAdmin:{id:"XoQ6cH",defaultMessage:"Disabled by Admin"}});function fve(){const e=ae(),t=z1e(),{data:n,isSuccess:r,isLoading:s}=YM(),{userIsInSearchHoldoutWithWebDisabled:o}=W1e(),i=mj(),a=$e(e,"1627380539"),{showModelsInPlusMenu:l}=Y1e();return{systemHints:h.useMemo(()=>{if(s)return;if(!n||!r)return[];const u=fn(e)?.planType;return n.sort(hve(u)).filter(d=>!(d.systemHint===ve.Think&&i&&(!a||l)||d.systemHint===ve.Search&&o||d.systemHint===ve.Slurm&&!t))},[n,s,r,e,o,t,i,a,l]),isLoading:s}}function hve(e){const t=pve(e);return(n,r)=>{const s=t.indexOf(n.systemHint),o=t.indexOf(r.systemHint),i=s===-1?Number.MAX_SAFE_INTEGER:s,a=o===-1?Number.MAX_SAFE_INTEGER:o;return i===a?0:i>a?1:-1}}function pve(e){switch(e){case void 0:case it.FREE:case it.EDUCATION:case it.DEPRECATED_EDU:return[ve.Tatertot,ve.PictureV2,ve.Picture,ve.Think,ve.Agent,ve.Research,ve.ContextualAnswers,ve.Slurm,ve.Search,ve.Canvas,ve.Video];case it.GO:case it.PLUS:case it.PRO:return[ve.Agent,ve.Research,ve.PictureV2,ve.Picture,ve.Think,ve.ContextualAnswers,ve.Slurm,ve.Tatertot,ve.Search,ve.Canvas,ve.Video];case it.BUSINESS:case it.TEAM:case it.QUORUM:case it.DEPRECATED_ENTERPRISE:return[ve.Agent,ve.ContextualAnswers,ve.Slurm,ve.Research,ve.Think,ve.PictureV2,ve.Picture,ve.Search,ve.Canvas,ve.Video]}}const{useDebugValue:mve}=Ee,{useSyncExternalStoreWithSelector:gve}=EA,vve=e=>e;function gj(e,t=vve,n){const r=gve(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return mve(r),r}const JT=(e,t)=>{const n=hi(e),r=(s,o=t)=>gj(n,s,o);return Object.assign(r,n),r},n8e=(e,t)=>e?JT(e,t):JT;let _ve=0;const vj=h.createContext(null);function yve({children:e}){const[t]=h.useState(()=>({}));return h.createElement(vj.Provider,{value:t},e)}function uh(e){if(e===void 0)return uh;const t=typeof e=="function"?e:()=>e;let n;const r=h.createContext(null);return class{static useState(o=bve,i){return gj(this.useStore(),o,i)}static useStore(){return this.useStoreWithInit()}static useStoreWithInit(...o){const i=h.useContext(r),a=h.useContext(vj);if(i)return i;const l=this.name??"Store";if(!a)throw new Error(`No StoreScope found. Must use ${l} within a <StoreScopeProvider> or <${l}.Provider>.`);if(n||(n=`${l}:${_ve++}`),n in a)return a[n];if(typeof t=="function"&&t.length>0&&o.length===0)throw new Error(`Not initialized. First call ${l}.useStoreWithInit(value) or <${l}.Provider store={() => new ${l}(value)}>`);return a[n]=new this(...o)}static Provider({store:o,children:i}){const[a]=h.useState(o);return h.createElement(r.Provider,{value:a},i)}constructor(o){const i=t(o);Object.assign(this,hi(typeof i=="function"?i:()=>i))}}}function bve(e){return e}const Eo=e=>{const t={turn_index:e.turnIndex?.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?Ys(e.clientThreadId):void 0,message_id:e?.messageId};return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0))};function Cve(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),s=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(s)},n)}class Pl extends uh()(({initialHint:t=null,locked:n=!1})=>({locked:n,activeSystemHintType:t,activeSystemHintTrigger:void 0})){getActiveSystemHintType=()=>this.getState().activeSystemHintType;setActiveSystemHint(t,n){const{locked:r,activeSystemHintType:s}=this.getState();r&&n?.locked===void 0||n?.ifPrevSystemHint!==void 0&&n.ifPrevSystemHint!==s||(wve(s,t,n?.analyticsMetadata,n?.triggerSource),this.setState({locked:n?.locked??r,activeSystemHintType:t,activeSystemHintTrigger:t?n?.triggerSource:void 0}))}getPersistedSystemHintTrigger=t=>{if(!this.getState().locked&&this.getState().activeSystemHintType===t)return this.getState().activeSystemHintTrigger}}const s8e=()=>Pl.useState(e=>e.activeSystemHintType),Sve=()=>{const e=Pl.useStore(),t=pae();return h.useCallback((n,r)=>{e.setActiveSystemHint(n,r),CI()&&n&&Cve(hf(t).dom)},[t,e])};function XT({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:s,systemHintsFromSearchParams:o,lazySystemHint:i}){return r||(o.length>0?o[0]:e?ve.Search:t?ve.Tatertot:n?ve.Agent:s?s[0]:null)}function wve(e,t,n,r){t?(Ux(t,bC.Enable,Eo(n??{})),t===ve.Agent&&U.addAction("agent.hint.enabled",{client_thread_id:String(n?.clientThreadId??"")})):e&&(Ux(e,bC.Disable,Eo(n??{})),e===ve.Agent&&U.addAction("agent.hint.disabled",{client_thread_id:String(n?.clientThreadId??"")})),t===ve.Search?V.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",{...Eo(n??{}),triggerSource:r}):t==null&&e===ve.Search&&V.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",Eo(n??{}))}function o8e({children:e,clientThreadId:t,forcedSystemHintType:n}){const r=ae(),[s]=ng(),{systemHints:o}=fve(),i=nj(t),a=r0e(i,SM.Search),l=_i(t,me.getLastMessageSystemHints),c=rg(r,"269676899",{disableExposureLog:!0}),u=c.get("clear_all",!1),d=c.get("skip_search",!1),f=u&&!d,p=l.includes(ve.Search)&&a&&!f,v=lue()&&l.includes(ve.Tatertot),y=Xae()&&l.includes(ve.Agent),b=h.useMemo(()=>l.find(k=>o?.find(O=>O.systemHint===k)?.persistBetweenMessages),[l,o]),w=es(()=>ID(r)()[t]),C=!1,S=null,[E]=h.useState(()=>{const k=yC(s),O=XT({persistSearchMode:p,persistTatertotMode:v,persistAgentMode:y,forcedSystemHintType:n,completionMetadataHints:w,systemHintsFromSearchParams:k,lazySystemHint:S});return new Pl({initialHint:O,locked:n!=null})}),x=h.useRef(t);h.useEffect(()=>{if(x.current!==t){E.setActiveSystemHint(null);const O=yC(s),A=XT({persistSearchMode:p,persistTatertotMode:v,persistAgentMode:y,forcedSystemHintType:n,completionMetadataHints:w,systemHintsFromSearchParams:O,lazySystemHint:S});E.setActiveSystemHint(A,{locked:n!=null}),x.current=t;return}const k=E.getActiveSystemHintType();p&&k!==ve.Search?E.setActiveSystemHint(ve.Search,{analyticsMetadata:{clientThreadId:t}}):v&&k!==ve.Tatertot?E.setActiveSystemHint(ve.Tatertot,{analyticsMetadata:{clientThreadId:t}}):b&&E.setActiveSystemHint(b,{analyticsMetadata:{clientThreadId:t}})},[t,w,n,p,v,y,E,b,s,C,S]);const T=h.useRef(n);return h.useEffect(()=>{if(o==null||o.length===0){T.current=n;return}const k=n!=null?o.find(O=>O.systemHint===n):void 0;n!=null&&k!=null?E.setActiveSystemHint(n,{locked:!0}):E.getState().locked&&E.setActiveSystemHint(null,{locked:!1}),T.current=n},[o,E,n]),m.jsx(Pl.Provider,{store:E,children:e})}function Eve({children:e}){const[t]=h.useState(()=>new Pl({initialHint:null,locked:!0}));return m.jsx(Pl.Provider,{store:t,children:e})}class xve{#e;#t=t=>(this.#e||(this.#e=le(()=>import("./lu2xqwqmjc95q6j6.js").then(n=>n.aB),[]).then(n=>n?.datadogLogs)),this.#e.then(n=>n&&t(n)));init(t){this.#t(n=>n.init(t))}setGlobalContextProperty(t,n){this.#t(r=>r.setGlobalContextProperty(t,n))}setUser(t){this.#t(n=>n.setUser(t))}get logger(){return{setHandler:t=>{this.#t(n=>n.logger.setHandler(t))}}}createLogger(t,n){return new Tve(this.#t,t,n)}}class Tve{#e;constructor(t,n,r){this.#e=t(s=>s.createLogger(n,r))}#t=t=>this.#e.then(n=>n&&t(n));ok(t,n,r){this.#t(s=>s.ok(t,n,r))}debug(t,n,r){this.#t(s=>s.debug(t,n,r))}info(t,n,r){this.#t(s=>s.info(t,n,r))}notice(t,n,r){this.#t(s=>s.notice(t,n,r))}warn(t,n,r){this.#t(s=>s.warn(t,n,r))}error(t,n,r){this.#t(s=>s.error(t,n,r))}critical(t,n,r){this.#t(s=>s.critical(t,n,r))}alert(t,n,r){this.#t(s=>s.alert(t,n,r))}emerg(t,n,r){this.#t(s=>s.emerg(t,n,r))}}const Cc=new xve,kve="datadoghq.com",Ove="pub1f79f8ac903a5872ae5f53026d20a77c";class Ave{initialize(){const t=og?jn?.getTelemetryConfig?.():void 0,n=t!==void 0?t.datadogService:dO();Cc.init({clientToken:Ove,site:kve,service:n,env:"prod",version:"b75083646cc93698cf8032b6afb1acf9ad5d8b7d",sessionSampleRate:100,forwardErrorsToLogs:!1,beforeSend:r=>(r.view.url=Td(r.view.url),r.http&&r.http.url&&(r.http.url=Td(r.http.url)),!0)}),Cc.setGlobalContextProperty("track","stable"),Cc.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),Cc.logger.setHandler(["http"])}setUser(t,n){const r={user_id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};Cc.setUser(r)}createLogger(t,n="info",r="http",s){return Cc.createLogger(t,{level:n,handler:r,context:s})}}const jC=new Ave;function _j(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let QT=!1;if(uO()){const e=function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}}();U.initialize(e)}function Mve(e,t){if(t){const n=qe.getCookie(Re.Workspace),r=n===Ji?void 0:n,s=t.structure===Nr.WORKSPACE?t.id:void 0;r!==s&&U.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:n,lightAccount:t})}e.fetchQuery(ui()).then(n=>{const r=qg(n),s=qe.getCookie(Re.Workspace),o=QY(r,n.accountItems);s!==o&&Ab(o),r&&t&&(r.id!==t.id||r.planType!==t.planType||r.isDelinquent!==t.isDelinquent||r.gracePeriodId!==t.gracePeriodId)&&r5()}).catch(n=>{if(!(n instanceof ft&&n.isClientError()))return U.addAction("bootstrap_client.fetchAccounts.error",{error:n}),null})}function Ive(e,t,n){if(QT)return;QT=!0;const r=ss(e);if(r.checkGate("4011688770")&&le(()=>import("./dcmdc5lmg2seoj8s.js"),__vite__mapDeps([18,1])).then(s=>s?.initOpenTelemetry()),r.on("gate_evaluation",({gate:s})=>{U.addFeatureFlagEvaluation(s.name,s.value)}),_j("refresh_account"),window.addEventListener("vite:preloadError",s=>{s.preventDefault(),U.addAction("vite:preloadError",{payload:s.payload})}),Ca(),YJ(),U.addTiming("chatgpt.web.bootstrapClient"),U.addAction("bootstrap_client.start"),window.__oai_SSR_HTML?U.addFirstTiming("composer.html",window.__oai_SSR_HTML):window.__oai_logHTML=()=>{U.addFirstTiming("composer.html")},window.__oai_SSR_TTI?U.addFirstTiming("composer.visible",window.__oai_SSR_TTI):window.__oai_logTTI=()=>{U.addFirstTiming("composer.visible")},uO()&&jC.initialize(),t.authStatus===cr.LoggedIn){const s=t.user,o=t.session?.account;U.addAction("bootstrap_client.has_session_user"),Mve(n,o),EK(s,o,t.intercomHash),U.setUser(s,o),jC.setUser(s,o),V.initialize({userInfo:{currentAccount:o??null,sessionUser:s}}),U.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else U.addAction("bootstrap_client.does_not_have_session_user"),V.initialize(),U.addAction("bootstrap_client.success.is_not_authenticated");fetch(`${nt}/edge`).catch(()=>{})}function Rve({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let s=null;for(const o of r)if(o.offsetWidth>0&&o.offsetHeight>0){s=o;break}return t&&s?.focus(),s}const Nve=()=>{const e=ae();return{country:hr(e).userCountry}};function ek(e){return e!=null&&e in gq}const N2=60*60*24*30*6,yj=e=>{qe.setBooleanCookie(Re.ConsentAnalytics,e.consent_analytics,{maxAge:N2,domain:Q1}),qe.setBooleanCookie(Re.ConsentMarketing,e.consent_marketing,{maxAge:N2,domain:Q1}),qe.setBooleanCookie(Re.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:N2,domain:Q1}),U.addAction("update-cookie-consent.cookie.success")};async function bj(e){if(yj(e),hr(xt()).authStatus===cr.LoggedIn)try{await Q.safePost("/user_granular_consent",{authOption:Qt.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),U.addAction("update-cookie-consent.backend.success")}catch(n){U.addError(n)}}const lS=Xs({queryKey:["cookie-consent"],queryFn:async()=>{const{isUserInPioneerHR:e,userCountry:t}=hr(eo(xt()));if(!e){const o=qe.getBooleanCookie(Re.ConsentAnalytics),i=qe.getBooleanCookie(Re.ConsentMarketing);return o!=null||i!=null?{consent_analytics:o??!1,consent_marketing:i??!1,is_consent_required:!0}:(U.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!ek(t))return U.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(ek(t)&&!e)return U.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const o=await Q.safeGet("/user_granular_consent",{authOption:Qt.Required});n={consent_analytics:o.granular_consent?.analytics??null,consent_marketing:o.granular_consent?.marketing??null,is_consent_required:o.is_consent_required},U.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(o){o instanceof Mg||U.addError(o,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=qe.getBooleanCookie(Re.ConsentAnalytics),s=qe.getBooleanCookie(Re.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||s!==n.consent_marketing)?(yj({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),U.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&s!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(bj({consent_analytics:r??!1,consent_marketing:s??!1}),U.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n={...n,consent_analytics:r??!1,consent_marketing:s??!1}),n}}),i8e=e=>{const{country:t}=Nve(),n=Pr();return er({...e,mutationFn:r=>bj(r),onSuccess:(r,s,o)=>{e?.onSuccess?.(r,s,o),n.setQueryData(lS.queryKey,i=>{if(!i){U.addError(new Error("Cookie consent query data is undefined during mutation"));return}return{...i,consent_analytics:s.consent_analytics,consent_marketing:s.consent_marketing}})},onError:(r,s,o)=>{e?.onError?.(r,s,o),U.addError(r,{country:t})}})};class P2 extends uh()(()=>({cookieConsentBannerClosed:!1,cookieConsentBannerIgnored:qe.getBooleanCookie(Re.CookieBannerIgnored)??!1,onCloseSideEffect:()=>{},manuallySetVisibility:!1})){closeCookieConsentBanner=t=>{const n={cookieConsentBannerClosed:!0,...t?{cookieConsentBannerIgnored:!0}:{}};this.setState(n),t&&qe.setBooleanCookie(Re.CookieBannerIgnored,!0)};setOnCloseSideEffect=t=>{this.setState(n=>({...n,onCloseSideEffect:t}))};setManualVisibility=t=>{this.setState(n=>({...n,manuallySetVisibility:t}))};static useWasClosed=()=>this.useState(t=>t.cookieConsentBannerClosed);static useWasIgnored=()=>this.useState(t=>t.cookieConsentBannerIgnored);static useOnCloseSideEffect=()=>this.useState(t=>t.onCloseSideEffect);static useManuallySetVisibility=()=>this.useState(t=>t.manuallySetVisibility)}const a8e=()=>{const e=P2.useStore(),{isUnauthenticated:t,isLoading:n}=Hf(),{data:r,isLoading:s}=Tt(lS),o=P2.useWasClosed(),i=P2.useWasIgnored(),a=qe.getCookie(Re.CookieBannerShownPath),l=a===window.location.pathname,c=n||s;return{shouldShowCookieBanner:(!c&&t&&!(o||i)&&(!a||l)&&r?.is_consent_required&&r?.consent_analytics==null&&r?.consent_marketing==null)??!1,isCookieConsentBannerLoading:c,closeCookieConsentBanner:e.closeCookieConsentBanner,ignoreCookieConsentBanner:()=>e.closeCookieConsentBanner(!0)}};var Pc=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e))(Pc||{});function l8e(e){switch(e){case"gclid":return qe.getMarketingCookie(Re.Gclid);case"fbclid":return qe.getMarketingCookie(Re.Fbclid);case"rdt_cid":return qe.getMarketingCookie(Re.Rdtcid);case"ttclid":return qe.getMarketingCookie(Re.Tiktokclid);case"li_fat_id":return qe.getMarketingCookie(Re.Liclid)}}function Pve(e){switch(e){case"gclid":return Re.Gclid;case"fbclid":return Re.Fbclid;case"rdt_cid":return Re.Rdtcid;case"ttclid":return Re.Tiktokclid;case"li_fat_id":return Re.Liclid}}function Dve({searchParams:e,clidLifetimeSeconds:t=24*60*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const s=Pve(r);qe.setMarketingCookie(s,e.get(r),{path:"/",maxAge:t})}}let Cj=!1;const Lve=e=>{const t=hr(e);if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);Dve({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[Pc.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[Pc.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[Pc.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[Pc.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[Pc.Liclid]:[]]}),Cj=!0},Fve=(e,t)=>{const n=hr(e).userCountry;new XC(t,lS).subscribe(s=>{if(s.isPending)return;const o=s.data;if(!o)return;(o.is_consent_required?o.consent_marketing:!0)?(qe.setAllowMarketingCookies_CLIENT_ONLY(!0),U.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),Cj||(Lve(e),U.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):(qe.setAllowMarketingCookies_CLIENT_ONLY(!1),U.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function jve(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await le(()=>import("./ju44vdme8sg2h8v1.js"),[])}catch(e){return U.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function Uve(){if(!Array.prototype.findLast)try{await le(()=>import("./dfol4zbai651uc3m.js"),__vite__mapDeps([19,1]))}catch(e){return U.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function Bve(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await le(()=>import("./mv7t0tsdviudgwx9.js"),[])}catch(e){return U.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}async function qve(){performance.mark("polyfill.all.start"),await Promise.allSettled([Uve(),jve(),Bve()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const zm=["light","dark"],cS="(prefers-color-scheme: dark)",Gve=typeof window>"u",uS=h.createContext(void 0),Vve={setTheme:e=>{},themes:[]},Sj=()=>{var e;return(e=h.useContext(uS))!==null&&e!==void 0?e:Vve},Hve=e=>h.useContext(uS)?Ee.createElement(h.Fragment,null,e.children):Ee.createElement($ve,e),zve=["light","dark"],$ve=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=zve,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{const[d,f]=h.useState(()=>tk(s,i)),[p,g]=h.useState(()=>tk(s)),v=l?Object.values(l):o,_=h.useCallback(C=>{let S=C;if(!S)return;C==="system"&&n&&(S=nk());const E=l?l[S]:S,x=t?Kve():null,T=document.documentElement;if(a==="class"?(T.classList.remove(...v),E&&T.classList.add(E)):E?T.setAttribute(a,E):T.removeAttribute(a),r){const k=zm.includes(i)?i:null,O=zm.includes(S)?S:k;T.style.colorScheme=O}x?.()},[]),y=h.useCallback(C=>{f(C);try{localStorage.setItem(s,C)}catch{}},[e]),b=h.useCallback(C=>{const S=nk(C);g(S),d==="system"&&n&&!e&&_("system")},[d,e]);h.useEffect(()=>{const C=window.matchMedia(cS);return C.addListener(b),b(C),()=>C.removeListener(b)},[b]),h.useEffect(()=>{const C=S=>{S.key===s&&y(S.newValue||i)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[y]),h.useEffect(()=>{_(e??d)},[e,d]);const w=h.useMemo(()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:d==="system"?p:d,themes:n?[...o,"system"]:o,systemTheme:n?p:void 0}),[d,y,e,p,n,o]);return Ee.createElement(uS.Provider,{value:w},Ee.createElement(Wve,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:c,attrs:v,nonce:u}),c)},Wve=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{const c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${a.map(g=>`'${g}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?zm.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,_=!0)=>{const y=i?i[g]:g,b=v?g+"|| ''":`'${y}'`;let w="";return s&&_&&!v&&zm.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?w+=v||y?`c.add(${b})`:"null":y&&(w+=`d[s](n,${b})`),w},p=e?`!function(){${u}${f(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${cS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${c?"":"else{"+f(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${d}}catch(t){}}();`;return Ee.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})},()=>!0),tk=(e,t)=>{if(Gve)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Kve=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},nk=e=>(e||(e=window.matchMedia(cS)),e.matches?"dark":"light");function wj(e){return e==="system"||Ej(e)}function Ej(e){return e==="dark"||e==="light"}function Yve(e){if(!wj(e))throw new Error(`Unexpected theme ${e}`)}function c8e(){const{theme:e,setTheme:t}=Sj();function n(r){Yve(r),r!==e&&t(r)}return[wj(e)?e:"system",n]}function Zve(){const e=Sj().resolvedTheme;if(Ej(e))return e}function Jve(){return Zve()==="dark"}function Xve(){return document.documentElement.classList.contains("dark")}const $m=new n6;class Qve{start=0;connectTime=0;hasLoggedGetSocketURL=!1;didLogPingFromWorker=!1;didLogPingFromServer=!1;pingId=Cs();actionMetadata={};onFetchSocketURL=()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,U.addAction("ws.get-socket-url",this.actionMetadata),lr.hist(Xn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}};#e=({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const s=performance.now()-this.start,o=s-this.connectTime;this.actionMetadata.receive_server_ping_time=s,this.actionMetadata.receive_server_ping_duration=o,U.addAction("ws.receive-server-ping",this.actionMetadata),lr.hist(Xn.WEBSOCKET,"receive-server-ping",[],o)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const s=performance.now()-this.start,o=s-this.connectTime;this.actionMetadata.receive_ping_time=s,this.actionMetadata.receive_ping_duration=o,U.addAction("ws.receive-ping",this.actionMetadata),lr.hist(Xn.WEBSOCKET,"receive-ping",[],o)}this.didLogPingFromWorker&&this.didLogPingFromServer&&$m.off("ping",this.#e)}};onInit(){U.addAction("ws.init"),lr.count(Xn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,U.addAction("ws.connect",this.actionMetadata),lr.hist(Xn.WEBSOCKET,"connect",[],t),$m.on("ping",this.#e),U.addAction("ws.send-ping",this.actionMetadata),Q.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){U.addAction("ws.error",{error:t}),lr.count(Xn.WEBSOCKET,"error")}}}const xj=en(e=>$e(e,"1281927149")?new Qve:void 0);(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Tj=class extends Event{message;error;constructor(e,t){super("error",t),this.message=e.message,this.error=e}},kj=class extends Event{code;reason;wasClean=!0;constructor(e=1e3,t="",n){super("close",n),this.code=e,this.reason=t}},D2={Event,ErrorEvent:Tj,CloseEvent:kj};function e_e(e,t){if(!e)throw new Error(t)}function t_e(e){return new e.constructor(e.type,e)}function n_e(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new kj(e.code||1999,e.reason||"unknown reason",e):"error"in e?new Tj(e.error,e):new Event(e.type,e)}var rk,r_e=typeof process<"u"&&typeof((rk=process.versions)==null?void 0:rk.node)<"u"&&typeof document>"u",mp=r_e?n_e:t_e,Va={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},sk=!1,UC=class Ya extends EventTarget{_ws;_retryCount=-1;_uptimeTimeout;_connectTimeout;_shouldReconnect=!0;_connectLock=!1;_binaryType="blob";_closeCalled=!1;_messageQueue=[];_debugLogger=console.log.bind(console);_url;_protocols;_options;constructor(t,n,r={}){super(),this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Ya.CONNECTING}get OPEN(){return Ya.OPEN}get CLOSING(){return Ya.CLOSING}get CLOSED(){return Ya.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((n,r)=>(typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Ya.CLOSED:Ya.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}onclose=null;onerror=null;onmessage=null;onopen=null;close(t=1e3,n){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)}reconnect(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:n=Va.maxEnqueuedMessages}=this._options;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=Va.reconnectionDelayGrowFactor,minReconnectionDelay:n=Va.minReconnectionDelay,maxReconnectionDelay:r=Va.maxReconnectionDelay}=this._options;let s=0;return this._retryCount>0&&(s=n*t**(this._retryCount-1),s>r&&(s=r)),this._debug("next delay",s),s}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const n=t();if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(n.then)return n}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=Va.maxRetries,connectionTimeout:n=Va.connectionTimeout}=this._options;if(this._retryCount>=t){this._debug("max retries reached",this._retryCount,">=",t);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([r,s])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!sk&&(console.error(`‼️ No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),sk=!0);const o=this._options.WebSocket||WebSocket;this._debug("connect",{url:r,protocols:s}),this._ws=s?new o(r,s):new o(r),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),n)}).catch(r=>{this._connectLock=!1,this._handleError(new D2.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new D2.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(t=1e3,n){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,n),this._handleClose(new D2.CloseEvent(t,n,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_handleOpen=t=>{this._debug("open event");const{minUptime:n=Va.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),n),e_e(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(r=>{var s;return(s=this._ws)==null?void 0:s.send(r)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(mp(t))};_handleMessage=t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(mp(t))};_handleError=t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(mp(t)),this._connect()};_handleClose=t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(mp(t))};_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */let Ho=null;function s_e(e,t){let n=null;const r=()=>{const s=Date.now(),o=n!=null?s-n.time:null;return n!=null&&o!=null&&o<t?(U.addAction("websocket-url-cache.hit",{timeSinceLastValue:o}),n.promise):(U.addAction("websocket-url-cache.miss",{timeSinceLastValue:o}),n={promise:e().catch(i=>{throw U.addAction("websocket-url-cache.error"),n=null,i}),time:s},n.promise)};return r.invalidate=()=>{U.addAction("websocket-url-cache.invalidate"),n=null},r}const Oj=async()=>(await Q.safeGet("/celsius/ws/user")).websocket_url,o_e=s_e(Oj,15e5);function Aj(e){return $e(e,"2892913572")?o_e():Oj()}function i_e(e){const t=xj(e);t?.onInit(),Ho=new UC(async()=>{const r=await Aj(e);return t?.onFetchSocketURL(),r},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});let n;return Ho.addEventListener("open",()=>{t?.onConnect(),$e(e,"3274829134")&&(n=setInterval(()=>{Ho&&Ho.readyState===UC.OPEN&&Ho.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}),Ho.addEventListener("close",()=>{n!==void 0&&(clearInterval(n),n=void 0)}),Ho.addEventListener("message",r=>{const s=JSON.parse(r.data),{type:o,...i}=s,a={kind:o,...i};$m.publish(a)}),Ho.addEventListener("error",r=>{U.addAction("websocket error",{error:r.error,message:r.message})}),Ho}const a_e=en(e=>new l_e(e));class l_e{constructor(t){this.ctx=t}ws;pingTest;nextRequestId=1;commandCallbacks={};topics={};isTransportOpen=!1;isBatchingCommands=!1;batchCommands=[];keepaliveInterval;init(){this.pingTest=xj(this.ctx),this.pingTest?.onInit();const t=new UC(async()=>{const n=await Aj(this.ctx);return this.pingTest?.onFetchSocketURL(),n},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});this.ws=t,t.addEventListener("open",()=>{this.#e()}),t.addEventListener("close",()=>{this.#t()}),t.addEventListener("message",n=>{this.#r(n)}),t.addEventListener("error",n=>{this.#n(n)})}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}#e(){this.pingTest?.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect"});for(const t of Object.values(this.topics))t.state===1&&t.subscribe();this.endBatchCommands(),$e(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}#t(){this.isTransportOpen=!1;for(const t of Object.values(this.topics))t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)}#r(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const r=n;for(const s of r)if("type"in s&&s.type==="message"){const{topic_id:o}=s,i=this.topics[o];i&&i.handleMessage(s.payload)}else"id"in s&&"reply"in s&&this.commandCallbacks[s.id].resolve(s.reply)}else{const r=n,{type:s,...o}=r,i={kind:s,...o};$m.publish(i)}}#n(t){U.addAction("websocket error",{error:t.error,message:t.message})}getTopic(t){if(this.topics[t])return this.topics[t];const n=new c_e(t,this);return this.topics[t]=n,n}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const s=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],s}}class c_e{constructor(t,n){this.topicId=t,this.client=n}state=2;#e=new n6;#t=!1;onMessage(t){return this.#e.on("message",n=>t(n.payload))}handleMessage(t){this.#e.publish({kind:"message",payload:t})}handleDisconnect(){this.state=1,this.#t=!1}async subscribe(){if(this.state!==0&&(this.state=1,this.client.isTransportOpen&&!this.#t)){this.#t=!0;const t=await this.client.sendCommand({type:"subscribe",topic_id:this.topicId});if(this.#t=!1,t.type==="subscribe"&&t.topic_id===this.topicId)this.state=0;else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||this.#t)&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}function u_e(e){if($e(e,"1819663106")){a_e(e).init();return}$e(e,"4141006638")&&i_e(e)}function d_e(e){vn(e)&&(hZ(e),u_e(e))}let ok=!1;function f_e(e){ok||(ok=!0,d_e(e))}const BC="_tm",Bd="_m";var h_e=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.ENABLE_MFA_ERROR="enable_mfa_error",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(h_e||{});function u8e(e,t="/",n){const r=typeof window<"u",s=new URL(t,r?window.location.origin:window.location.origin);return s.searchParams.set(BC,e),(e==="c_err"||e==="c_msg")&&(n?s.searchParams.set(Bd,n):s.searchParams.set(Bd,"An error has occurred")),s.pathname+s.search+s.hash}function p_e(){const[e]=ng(),{pathname:t,hash:n}=rs(),r=Qs(),s=ht(),o=xn();h.useEffect(()=>{const i=e.get(BC);if(i!==void 0){const a=(l,c,u,d,f)=>{const p=typeof l=="string"?l:s.formatMessage(l);o[d](p,{id:c,duration:u,hasCloseButton:f});const g=new URLSearchParams(e);g.delete(BC),g.delete(Bd),r({search:`?${g.toString()}`,hash:n},{replace:!0})};switch(i){case"share_not_found":U.addAction("global_toast.conversation_inaccessible",{path:t}),a(cs.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(cs.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(cs.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(cs.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(cs.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(cs.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(cs.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(cs.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(cs.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(Bd),"c_msg",10,"success",!0);break;case"c_err":a(e.get(Bd),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings → Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"disable_mfa_success":a(cs.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(cs.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(cs.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[s,o,t,e,r,n])}const cs=St({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}});let Yl;function m_e(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:g_e,resolve:v_e}=m_e();function d8e(e){Yl=e,v_e(e)}async function __e(){try{const e=Yl?.getHost();return e?await e.getToolNames():null}catch{return null}}const y_e=6e4,b_e="unqfp8es",C_e="kaur1br5",f8e="side_chat",h8e="ntp",p8e="website";function dh(){return Yl?.getHost()}function S_e(){const[e,t]=h.useState(()=>dh());return h.useEffect(()=>{if(e)return;let n=!0;return g_e.then(r=>{n&&t(r.getHost())}),()=>{n=!1}},[e]),e}function m8e(){return Yl?.getLinkHandler()}function g8e(){return Yl?.getProductEventHandler()}function v8e(e,t,n){return Yl?Promise.race([w_e(e,t,n),new Promise(r=>setTimeout(()=>r(null),y_e))]):Promise.resolve(null)}async function w_e(e,t,n){const r=await Yl?.getSidebarWhisperContent();return!r||!r.content?null:await Ij(r,Mj(e?.url),e,t,n)}function E_e(e,t){return e.map(n=>({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,...t&&{kaur1br5:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}}))}function Mj(e){return e?`${b_e} - ${e}`:void 0}async function Ij(e,t,n,r,s){if(s?.includes(ve.Agent))return;const{imageAssetPointers:o,content:i,files:a}=e;if(!i)throw new Error("Whisper content is missing content");let l;if(o){const c=o.map(d=>({content_type:Kn.ImageAssetPointer,asset_pointer:d.assetPointer,size_bytes:d.sizeBytes,width:d.width,height:d.height})),u=i;l={content_type:Xe.MultimodalText,parts:[...c,u]}}else l={content_type:Xe.Text,parts:[i]};return Vg(l,{is_visually_hidden_from_conversation:!0,attachments:E_e(a??[],n),exclusive_key:t,...await x_e(n,r,"context",s)})}async function _8e(e,t,n){if(!(!e||!to()||!Hr.whisperContent))return await Ij(Hr.whisperContent,Mj(e.url),e,t,n)}async function x_e(e,t,n,r){const s=u=>{const d=u.trim();if("Intl"in window&&"Segmenter"in Intl){const f=navigator.language||"en-US",g=new Intl.Segmenter(f,{granularity:"word"}).segment(d);let v=0;for(const _ of g)_.isWordLike&&v++;return v}return d.split(/\s+/).filter(f=>f.length>0).length},o=r?.includes(ve.Agent)===!0;let i,a;if(!o&&e?.selection){const u=e.selection;a=s(u),i=u.length>1e3?u.substring(0,1e3):u}let l;try{const u=dh();u&&(l=await u.getClientID())}catch{}const c={origin:t,type:n,client_id:l,sources:e?[{id:e.id,url:e.url,host:e.url?new URL(e.url).hostname:void 0,title:e.title,...i&&{selection:i,selection_word_count:a},base64favicon:e.base64favicon??void 0}]:[]};return{[C_e]:c}}const Rj=t3("Conversation"),O1=en(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:wt([])}));function T_e(e){return{id:e,serverId$:wt(Ys(e))}}function Aa(e,t){const{conversations:n,newClientIdToServerId:r}=O1(e);if(n[t]!=null)return n[t];if(Zf(t)){const o=r[t];if(o!=null&&n[o]!=null)return n[o]}const s=T_e(t);return n[t]=s,O_e(e),s}function k_e(e,t,n){const r=Aa(e,t);r.serverId$.set(n);const{conversations:s,newClientIdToServerId:o}=O1(e);delete s[t],s[n]=r,Zf(t)&&(o[t]=n,_u.setServerIdForNewThread(t,n))}function y8e(e){const{conversations:t,allKnownConversationIds$:n}=O1(e);return n(),Object.values(t)}let L2;function O_e(e){L2==null&&(L2=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=O1(e);n.set(Object.keys(t)),L2=void 0},100))}const b8e=h.createContext(void 0),eu=hi(()=>({activeRequests:{}})),C8e=e=>{const{activeRequests:t}=eu.getState();return t[e]??null},Nj=e=>Ul(eu,e);function S8e(e){return Nj(t=>Pj(e,t))}function Pj(e,t=eu.getState()){return e!=null&&t.activeRequests[e]!=null}function w8e(){return Nj(e=>Object.keys(e.activeRequests).length>0)}const qd={addRequest(e,t,n){eu.setState(r=>({activeRequests:{...r.activeRequests,[e]:{id:e,abortController:t,turnTracker:n}}}))},removeRequest(e){eu.setState(t=>{const n={...t.activeRequests};return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=eu.getState();return t[e]!=null?(t[e].abortController.abort(),qd.removeRequest(e),!0):!1}},Dj=Rj(()=>wt(null));function Lj(e){return Dj(e)()}function Fj(e,t){const n=Dj(e);A_e(al(()=>n()),t)&&n.set(t)}function A_e(e,t){return!(e?.value===kr.REALTIME&&t?.value===kr.STREAMING)}const E8e=e=>{const t=ae();return es(()=>{if(e===void 0)return null;const n=Aa(t,e);return Lj(n)})},dS=(e,t)=>{const n=Aa(e,t);return Lj(n)},Xa=(e,t)=>{const n=Aa(xt(),e);Fj(n,t)};async function jj(e,t=me.getRequestId(ln(e)),n=!1){const r=Pj(t),s=xt(),o=Ys(e),i=dS(s,e),a=i?.value===kr.REALTIME,l=i?.value===kr.STREAMING,c=me.getCurrentNode(ln(e)),d=(()=>{const v=c?.message;return v?iJ(v):!1})(),f=l&&c?.message?.metadata?.model_slug?.endsWith("-pro");if(!r&&!a&&!f&&!(l&&n))return;Lt(e,v=>{v.interruptionInProgress=!0});let g;return o&&$e(s,"3922476776")&&(g=await Q.safePost("/stop_conversation",{requestBody:{conversation_id:o,check_async_status:a||f&&!r},authOption:Qt.SendIfAvailable})),r&&!d&&qd.abortRequest(t),Lt(e,v=>{v.interruptionInProgress=!1}),g}const Wm=new Set,x8e=e=>{h.useEffect(()=>(Wm.add(e),()=>{Wm.delete(e)}),[e])},M_e=()=>Wm.size>0,I_e=()=>Promise.allSettled(Array.from(Wm).map(e=>e()));class R_e{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{at.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),V.logEvent("Focus After Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),at.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),V.logEvent("Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}const qC=new Set,T8e=e=>{h.useEffect(()=>(qC.add(e),()=>{qC.delete(e)}),[e])},ik=e=>{for(const t of qC)try{t({error:e})}catch(n){U.addError(n)}},qu=cn(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),N_e=()=>qu.getState().ui.focusedNodeId,Gu=()=>qu.getState().messagesDevData;function k8e(e){const t=Object.keys(Gu()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function O8e(e){const t=Object.keys(Gu()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function A8e(e){return Object.keys(Gu()).indexOf(e)}const M8e=()=>Object.keys(Gu()).length;var F2,ak;function P_e(){if(ak)return F2;ak=1;function e(t,n){for(var r,s=-1,o=t.length;++s<o;){var i=n(t[s]);i!==void 0&&(r=r===void 0?i:r+i)}return r}return F2=e,F2}var j2,lk;function D_e(){if(lk)return j2;lk=1;var e=P_e(),t=NaN;function n(r,s){var o=r==null?0:r.length;return o?e(r,s)/o:t}return j2=n,j2}var U2,ck;function L_e(){if(ck)return U2;ck=1;var e=D_e(),t=O5();function n(r){return e(r,t)}return U2=n,U2}var F_e=L_e();const j_e=yn(F_e);function U_e(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function B_e(e){const t=e.length;if(t===0)return 0;const n=U_e(e)||0,r=e.reduce((s,o)=>s+Math.pow(o-n,2),0)/t;return Math.sqrt(r)}function uk(e,t){const n=e.slice().sort((a,l)=>a-l),r=t*(n.length-1),s=Math.floor(r),o=Math.ceil(r);if(s===o)return n[s];const i=r-s;return(1-i)*n[s]+i*n[o]}function q_e(e){if(e.length===0)return null;const t=e.slice().sort((r,s)=>r-s),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var Ns=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(Ns||{});const Uj=e=>{const t=e.filter(f=>f.requestCount>1);let n=0;for(let f=0;f<e.length;f++){const p=e[f];if(n=p.requestDuration,p.content!=="")break}const r=uk(t.map(f=>f.lastTokenDuration),.95),s=uk(t.map(f=>f.lastTokenDuration),.99),o=j_e(t.map(f=>f.lastTokenDuration)),i=q_e(t.map(f=>f.lastTokenDuration)),a=t.filter(f=>f.lastTokenDuration!==0).reduce((f,p)=>Math.min(f,p.lastTokenDuration),1/0),l=t.reduce((f,p)=>Math.max(f,p.lastTokenDuration),-1/0),c=B_e(t.map(f=>f.lastTokenDuration)),u=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:u?`${(u/1e3).toFixed(2)}s`:null,value:u||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${c.toFixed(2)}`,value:c,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:i?`${i.toFixed(2)}ms`:null,value:i??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${a.toFixed(2)}ms`,value:a??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"}]},I8e=()=>{const e=Gu(),t=N_e();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:Uj(r),targetLatencyData:r}},G_e=(e,t,n,r)=>{qu.setState(s=>{const o={focusedNodeId:e},i={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...s,activeNodeId:e,ui:o,messagesDevData:{...s.messagesDevData,[e]:i}}})},V_e=(e,t,n)=>{const r=n?.search_source;qu.setState(s=>{const o=s.messagesDevData[e];return{...s,activeNodeId:e,messagesDevData:{...s.messagesDevData,[e]:{...o,data:[...o?.data??[],t],searchSource:r}}}})},fo=(e,t)=>t.find(n=>n.id===e)?.value,H_e=e=>{if(!vn(xt()))return;const n=Gu()[e],r=Uj(n.data),{preflightTime:s,model:o,serverRequestId:i,searchSource:a}=n;return Q.safePost("/lat/r",{requestBody:{server_request_id:i,model:o,preflight_time_ms:s,search_source:a,count_tokens:fo(Ns.TokenCount,r)??0,ts_first_token_ms:fo(Ns.FirstTokenLatency,r),ts_max_token_time_ms:fo(Ns.MaxTokenLatency,r),ts_mean_token_without_first_ms:fo(Ns.MeanTokenLatency,r),ts_median_token_without_first_ms:fo(Ns.MedianTokenLatency,r),ts_min_token_time_ms:fo(Ns.MinTokenLatency,r),ts_p95_token_without_first_ms:fo(Ns.P95TokenLatency,r),ts_p99_token_without_first_ms:fo(Ns.P99TokenLatency,r),ts_std_dev_token_ms:fo(Ns.StdDevTokenLatency,r),ts_total_request_ms:fo(Ns.TotalRequestTime,r)}})},z_e=e=>qu.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),R8e=e=>qu.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class $_e{constructor(t,n){this.requestLatencyId=t,this.requestStartTime=n,this.requestLastTokenTime=n}requestLastTokenTime;requestCount=0;requestTimes=[];onResponse(t,n,r){const s=performance.now(),o=s-this.requestLastTokenTime,i=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;const a={requestCount:this.requestCount,requestDuration:i,lastTokenDuration:Number(JSON.stringify(o)),messageType:n.content.content_type,content:vm(n)?zg(n):""};this.requestTimes.push(a),t.type==="message"?V_e(this.requestLatencyId,a,n.metadata):t.type==="done"&&r!=null&&(z_e(this.requestLatencyId),H_e(this.requestLatencyId))}}const W_e=(e,t)=>{const{isCompletion:n,messageId:r,conversationId:s,flagged:o,blocked:i,disclaimers:a,metadata:l,shouldDisableConversation:c}=e,u=!!a?.length&&n;Lt(t,d=>{xr.updateTree(d,f=>{const p=f.messageIdToNodeId(r);i&&f.clearNodeMessageParts(p);const g=i,v=l?.safety_limited??!1;f.updateNodeMetadata(p,{...(u&&!!a?.length&&EI(a,i))??{},...o&&SI,...i&&xI({isSafetyLimited:v,shouldDisableConversation:c,isModelIncompatibility:g}),...c&&wI,completionSampleFinishTime:Date.now()})})}),V.logEvent(n?i?"Moderation: Completion Content Blocked":"Moderation: Completion Content Flagged":i?"Moderation: Prompt Content Blocked":"Moderation: Prompt Content Flagged",{threadId:s,id:r})};var B2,dk;function Bj(){if(dk)return B2;dk=1;var e=RI(),t=Vf(),n=FF(),r=oD();function s(o,i){if(o==null)return{};var a=e(r(o),function(l){return[l]});return i=t(i),n(o,a,function(l,c){return i(l,c[0])})}return B2=s,B2}var K_e=Bj();const qj=yn(K_e),fk={base_config:void 0,eval_preset:void 0,sonicberry_model_ids:void 0,settings_overrides:void 0,dump_sub_conversation:void 0};cn(e=>({settings:Gj(),setSettings:t=>{e({settings:t}),qe.setCookie(Re.InternalSearchSettings,JSON.stringify(t),{maxAge:2*365*24*60*60})}}));function Gj(){let e;try{const t=qe.getCookie(Re.InternalSearchSettings);e=t?JSON.parse(t):fk}catch{e=fk}return qj(e,t=>!!t)}const Vj=(e=xt(),t=!1)=>vn(e)?fn(e)?.planType===it.FREE?Wt(e,"3178812292",{disableExposureLog:t}):Wt(e,"3703416703",{disableExposureLog:t}):Wt(e,"2861477803",{disableExposureLog:t}),Y_e=(e=xt())=>{const t=ch().fConversationEndpoint;return t==="convo2"?!0:t==="convo1"?!1:$e(e,"4154476537")?!0:Vj(e,!0).get("use_f_prepare",!1)},fS=(e=xt(),t=!1)=>{const n=ch().fConversationEndpoint;return n==="convo2"?!0:n==="convo1"?!1:$e(e,"4154476537")?!0:Vj(e,t).get("use_f_convo",!1)},Z_e=()=>Gj().fast_search??!1;function hk(e,t){Jf.setState(n=>{const r=n.threads[e];if(r)r.prepareRequestBlocked=t,t||(r.lastCompletionFinishedTimestamp=performance.now());else{const s=Ys(e);if(s){const o=n.threads[s];o&&(o.prepareRequestBlocked=t,t||(o.lastCompletionFinishedTimestamp=performance.now()))}}})}const J_e="starredConversations",N8e=5,pk="snorlaxConversations",X_e="disable_history",P8e="user_latency_tools",D8e="mfa",L8e="chatgpt_allow_workspace_instruction",F8e="workspace_ip_allowlist";var Q_e=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e))(Q_e||{});const eye=28,hS="conversationHistory",tye="conversation-history",nye=1,pS=en(()=>wt([]));function rye(e,t,n){if(!$e(e,"1753085879"))return;pS(e).set(s=>{const o=s.findIndex(i=>i.conversationId===t);if(o!==-1){const i=s.slice();return i[o]={...i[o],title:n},i}return[{conversationId:t,title:n},...s]})}function Hj(){return CB({queryKey:[hS],queryFn:async({pageParam:e})=>{const t=await Q.safeGet("/conversations",{parameters:{query:{offset:e,limit:eye,order:"updated",is_archived:!1,is_starred:!1}},intercomEventOnError:"fetch-error:conversations:get",authOption:Qt.SendIfAvailable});return U.addFirstTiming("load.conversationHistory"),XV(()=>{const n=pS(xt()),r=al(()=>n());for(const s of t.items){if(s.async_status!=null){const o=Aa(xt(),s.id);Fj(o,{source:vo.SERVER,value:s.async_status})}r.some(o=>o.conversationId===s.id)&&n.set(o=>o.filter(i=>i.conversationId!==s.id))}}),t},initialPageParam:0,getNextPageParam:e=>{const t=(e.offset??0)+(e.limit??0);return t<(e.total??0)?t:void 0}})}function j8e(e={}){"use forget";const{buckets:t,recentConversationLimit:n}=e,s=gI()?.includes(X_e)??!1,o=ae(),i=fn(o),a=!s&&!!i,l=ht(),c=J6(),u=es(()=>pS(o)()),d=c,f=Yg(tye,nye,[hS]),{data:p,fetchNextPage:g,hasNextPage:v,isLoading:_,isFetchingNextPage:y,isError:b,refetch:w}=e3({...Hj(),enabled:a,refetchOnReconnect:d?"always":!0,refetchOnWindowFocus:d?"always":!0,placeholderData:f}),C=h.useMemo(()=>{const x=p?.pages.flatMap(k=>k.items)??[];return[...u.map(k=>({id:k.conversationId,title:k.title})).filter(k=>!x.some(O=>O.id===k.id)),...x]},[p,u]),S=h.useMemo(()=>{if(!p||!t)return[];const x=sye(C,l);return[x.recent,x.dynamicMonths,x.dynamicYears].flatMap(k=>Object.entries(k).map(([O,{items:A,label:M}],I)=>({key:`${O}-${I}`,label:M,items:A}))).filter(k=>k.items.length>0)},[C,p,l,t]),E=h.useMemo(()=>{const x=C.slice(0,n??5);return{key:"recents",label:l.formatMessage(Ed.historyBucketRecent),items:x}},[C,n,l]);return{buckets:S,conversations:C,data:p,fetchNextPage:g,hasNextPage:v,refetch:w,recents:E,isLoading:_,isFetchingNextPage:y,isError:b}}function sye(e,t){return e.reduce((n,r)=>{const s=new Date(r.update_time??r.create_time??0),o=CD(new Date,s);if(o===0)n.recent.today.items.push(r);else if(o<=1)n.recent.yesterday.items.push(r);else if(o<=7)n.recent.lastSeven.items.push(r);else if(o<=30)n.recent.lastThirty.items.push(r);else if(qce(s)){const i=Mx(s),a=Fce(s),l=`${i}-${a}`;n.dynamicMonths[l]?n.dynamicMonths[l].items.push(r):n.dynamicMonths[l]={label:t.formatDate(s,{month:"long"}),items:[r]}}else{const a=`${Mx(s)}-`;n.dynamicYears[a]?n.dynamicYears[a].items.push(r):n.dynamicYears[a]={label:t.formatDate(s,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(Ed.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(Ed.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(Ed.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(Ed.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function zj(e,t){e.invalidateQueries({queryKey:[hS]}),e.invalidateQueries({queryKey:[J_e]}),t?e.invalidateQueries({queryKey:[pk,{gizmoId:t}]}):e.invalidateQueries({queryKey:[pk]})}function oye(e,t,n){ma(e).setQueryData(Hj().queryKey,r=>{if(r!==void 0)return Ps(r,s=>{for(const o of s.pages)for(const i of o.items)i.id===t&&(i.title=n)})})}const Ed=St({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function iye(e){window.history.pushState({},"",e)}function $j(e,t,n,r){Lt(t,s=>{s.title=n,s.titleSource=r}),Wc.publish({kind:"updateThreadTitle",conversationId:t}),oye(e,t,n)}function aye(e,t,n){const s=me.getCurrentNode(ln(t)).message.id;Q.safePost("/conversation/gen_title/{conversation_id}",{parameters:{path:{conversation_id:t}},requestBody:{message_id:s},intercomEventOnError:"fetch-error:conversation:generate-title",authOption:Qt.SendIfAvailable}).then(({title:o})=>{const i=me.getGizmoId(ln(t));$j(e,t,o,r6.Generated),zj(ma(e),i),V.logEvent("Rename Thread",{threadId:t,content:o,model:n})})}function lye(e,t,n,r,s){const o=me.getGizmoId(ln(n));o!=null?E0e(t,o).then(i=>{if(r){e(fp(n,i));return}iye(fp(n,i))}).catch(i=>{U.addError(i),e(fp(n))}):e(fp(n))}var go=(e=>(e.Unavailable="unavailable",e.Thinking="thinking",e.Generating="generating",e.AsyncGenerating="async_generating",e.AsyncHanging="async_hanging",e.Complete="complete",e.Errored="errored",e.Empty="empty",e))(go||{});const cye=["generating","async_generating","async_hanging","thinking"],uye="sj1i4kz",tu=`${ll.T2UAY3K}.${uye}`;function mS(e){return e.author.role==="tool"&&e.author.name===tu&&e.content.content_type===Xe.MultimodalText}function dye(e,{skipSort:t}={skipSort:!1}){let n=e.filter(o=>mS(o)&&!o.metadata?.is_visually_hidden_from_conversation);t||(n=[...n].sort((o,i)=>(o.metadata?.generation_index??0)-(i.metadata?.generation_index??0)));const r=n.flatMap(o=>w5.getImageAssetPointers(o)),s=n.map(o=>o.id);return{imageAssetPointers:r,messageIds:s}}const Wj=(e,t)=>{const n=e.find(v=>v.author.role===Ue.Tool&&[Xe.Error,Xe.SystemError].includes(v.content.content_type)||v.metadata?.is_error),{imageAssetPointers:r}=dye(e),s=r.length>0,i=e.some(v=>mS(v))&&!s,a=e.some(v=>{if(v.metadata?.image_gen_async)return!1;const _=v.author.name===ll.IMAGE_GEN_HALLUCINATED||v.author.name===tu,y=v.content.content_type===Xe.Text,b=!!v.metadata?.is_visually_hidden_from_conversation;return _&&y&&b}),l=e.length>0&&!!e[e.length-1]?.metadata?.image_gen_async,u=!e.some(v=>[tu,ll.IMAGE_GEN_HALLUCINATED].includes(v.author.name??"")&&v.content.content_type===Xe.MultimodalText)&&e.some(v=>{const _=[tu,ll.IMAGE_GEN_HALLUCINATED].includes(v.author.name??""),y=v.recipient==="assistant";return _&&y});let d=0;for(const v of r){const _=v.height,y=v.metadata?.generation?.height??void 0;d+=_!==void 0&&y!==void 0?y/_:0}const f=r.length>0?d/r.length:0,p=n!==void 0,g=t?go.AsyncGenerating:go.AsyncHanging;if(i||a||u)return go.Empty;if(p)return go.Errored;if(f){if(f<1)return l?g:go.Generating;if(f===1)return go.Complete}else return l?g:go.Thinking;return go.Unavailable},fye=e=>Wj([e],!0)===go.Complete,hye=e=>e.author.role===Ue.Assistant&&e.recipient===tu;function U8e(e){return(e.author.name===tu||hye(e))&&cye.includes(Wj([e],!0))}const pye=["notificationSettings"];class mye{static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return Q.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async getSettings(){return Q.safeGet("/notifications/settings")}static async updateSettings(t){const{category:n,...r}=t;return Q.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const gye=1e4,Kj=cn(Sa(()=>({notifications:[]}))),vye=e=>{const t=crypto.randomUUID();Kj.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??gye;setTimeout(()=>{_ye(t)},n)},_ye=e=>{Kj.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},B8e=({onSuccess:e,alwaysRefetchOnMount:t=!1})=>Tt({queryKey:pye,queryFn:async()=>{const r=(await mye.getSettings()).settings;return e?.(r),r},refetchOnMount:t?"always":!0});function yye(e,t){return t&&(e?.kind===an.GizmoInteraction||e?.kind===an.PrimaryAssistant)?{gizmo_id:t,kind:an.GizmoInteraction}:e}function bye(e){return e==null||[an.PrimaryAssistant,an.GizmoInteraction].includes(e.kind)}function q8e(e,t){"use forget";const n=ke.c(5);let r;n[0]!==t?(r=i=>yye(i?.mode,t),n[0]=t,n[1]=r):r=n[1];const s=_i(e,r),{data:o}=uj(s!=null&&"gizmo_id"in s?s.gizmo_id:void 0,s?.kind===an.GizmoTest);if(s!=null)switch(s.kind){case an.GizmoInteraction:case an.GizmoMagicCreate:case an.GizmoTest:{let i;return n[2]!==s||n[3]!==o?(i={gizmo:o,...s},n[2]=s,n[3]=o,n[4]=i):i=n[4],i}case an.FlyingCircusCustomization:case an.PrimaryAssistant:return s}}const Km=cn(Sa(()=>null)),Cye={updateDetails:e=>{["beacon_banner_info","beacon_modal_info"].includes(e.ui_info.type)&&Km.setState(()=>({...e}),!0)},dismiss:()=>{Km.setState(()=>null,!0)}};function G8e(){return Km(e=>e?.ui_info.type==="beacon_banner_info"?e:null)}function V8e(){return Km(e=>e?.ui_info.type==="beacon_modal_info"?e:null)}const H8e="https://help.openai.com/en/articles/8590148-memory-faq";function Yj(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function z8e(e,t=!0,n=!0){return Tt({queryKey:Yj(e,t),queryFn:async()=>{const r=await Q.safeGet("/memories",{parameters:{query:{gizmo_id:e,include_memory_entries:t}}}),s=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:s}},refetchOnMount:"always",enabled:n})}const Sye=(e,t)=>{window.__reactRouterDataRouter.navigate(e,t)},Zj={[cr.LoggedIn]:Et.LoggedInUserMessageCount,[cr.LoggedOut]:Et.NoAuthUserMessageCount},wye=cn(Sa(()=>({messageCountByAuthStatus:{[cr.LoggedIn]:mk(cr.LoggedIn),[cr.LoggedOut]:mk(cr.LoggedOut)}})));function $8e(e){return e.messageCountByAuthStatus[cr.LoggedOut]}function W8e(e){return e.messageCountByAuthStatus[cr.LoggedIn]}const Eye={incrementUserMessageCount:e=>{wye.setState(t=>{const n=t.messageCountByAuthStatus[e]+1;t.messageCountByAuthStatus[e]=n,xye({authStatus:e,messageCount:n})})}};function mk(e){const t=localStorage.getItem(Zj[e]);return t?Number(t):0}function xye({authStatus:e,messageCount:t}){localStorage.setItem(Zj[e],String(t))}const Ym="gpt-5-thinking",Tye=e=>{const t=Wt(e,"790459319");return{showJuiceControl:t.get("show-juice-control",!1),legacyDefault:t.get("legacy-juice-default",!1),high:{proPlan:t.get("juice-value-high-pro-plan",128),default:t.get("juice-value-high",64)},standard:{default:t.get("juice-value-standard",18)}}},kye=en(()=>aX(Et.ModelCustomConfig,()=>({})));function Oye(e,t){return e[Ym]?.effort??(t?Jd.High:Jd.Standard)}function K8e(e,t){return{...e,[Ym]:{...e[Ym]??{},effort:t}}}function gk(e){return!(e.type==="perf_stats"||e.type==="server_ste_metadata"||e.type==="message_marker")}var Bt=(e=>(e.Starter="starter",e.Reply="reply",e.Capabilities="capabilities",e.Autocomplete="autocomplete",e.Trending="trending",e))(Bt||{}),Aye=(e=>(e.Search="Search",e.Canvas="Canvas",e.Image="Image",e.ContextualAnswers="ContextualAnswers",e.ContextualAnswersNUX="ContextualAnswersNUX",e.ChatGPTTrending="ChatGPTTrending",e.ImageGenTrending="ImageGenTrending",e.Slurm="Slurm",e.Tatertot="Tatertot",e))(Aye||{});let Gd=null;async function Jj(){return Gd==null&&(Gd=await __e()),Gd??[]}function Y8e(e){return Gd==null?!1:Gd.includes(e)}var Wo=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(Wo||{});async function*Xj(e,t){let n=null;for await(const r of e)if("response"in r)yield r;else if(r.event==="delta_encoding"){const s=String(r.data);if(t?.(s),s==="v1")n=new Mye;else throw new Error(`[delta] unknown delta encoding: ${s}`)}else if(r.event==="delta"){if(!n)throw new Error("[delta] delta event before delta_encoding");yield{data:n.applyDelta(r.data)}}else yield r}var Qj=(e=>(e.V1="v1",e))(Qj||{});class Mye{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,s=this.prevObjByChannel[r],o=Nye(s,n);return this.prevObjByChannel[r]=o,o}catch(n){U.addError(`Error applying delta: ${n}`)}}decodeDelta(t){Rye(t);const n=Iye(t,this.prevDelta),r=eU(n);return this.prevDelta=r,r}}function Iye(e,t){for(const[n,r]of tU)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function eU(e){const t=e;for(const[n,r]of tU)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(eU)),t}function Rye(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const tU=[["channel","c"],["path","p"],["op","o"],["value","v"]];function Nye(e,t){return Ps({__root:e},r=>nU(r,t)).__root}function nU(e,t){const n=Lye(t.path??"");for(let s=0;s<n.length-1;s++)e[n[s]]===void 0&&(typeof n[s+1]=="number"?e[n[s]]=[]:e[n[s]]={}),e=e[n[s]];const r=n[n.length-1];switch(t.op){case"patch":for(const s of t.value){const o={__root:e[r]};nU(o,s),e[r]=o.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...Fye(t.value));else if(vk(e[r])&&vk(t.value))for(const s in t.value)e[r][s]=t.value[s];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function Pye(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const Dye=/^(?:0|[1-9]\d*)$/d;function Lye(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))Dye.test(n)?t.push(parseInt(n,10)):t.push(Pye(n));return t}function Fye(e){return Array.isArray(e)?e:[e]}function vk(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function jye(e){let t=!1;const n=[],r=[];function s(l){n.length>0?n.shift()(l):r.push(l)}function o(l){t||s({value:l,done:!1})}function i(){t||(t=!0,n.forEach(l=>l({value:void 0,done:!0})),n.length=0)}function a(l){t||(s(Promise.reject(l)),i())}try{e(o,i,a)}catch(l){a(l)}return{next(){return new Promise(l=>{r.length>0?l(r.shift()):t?l({value:void 0,done:!0}):n.push(l)})},[Symbol.asyncIterator](){return this}}}async function Uye(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function Bye(e){let t,n,r,s=!1;return function(i){t===void 0?(t=i,n=0,r=-1):t=Gye(t,i);const a=t.length;let l=0;for(;n<a;){s&&(t[n]===10&&(l=++n),s=!1);let c=-1;for(;n<a&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:s=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===a?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function qye(e,t,n){let r=_k();const s=new TextDecoder;return function(i,a){if(i.length===0)n?.(r),r=_k();else if(a>0){const l=s.decode(i.subarray(0,a)),c=a+(i[a+1]===32?2:1),u=s.decode(i.subarray(c));switch(l){case"data":r.data=r.data?r.data+`
`+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function Gye(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function _k(){return{data:"",event:"",id:"",retry:void 0}}var Vye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const GC="text/event-stream",Hye=1e3,yk="last-event-id";function zye(e,t){var{signal:n,headers:r,onopen:s,onmessage:o,onclose:i,onerror:a,openWhenHidden:l,fetch:c}=t,u=Vye(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const p=Object.assign({},r);p.accept||(p.accept=GC);let g;function v(){g.abort(),document.hidden||S()}l||document.addEventListener("visibilitychange",v);let _=Hye,y=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(y),g.abort()}n?.addEventListener("abort",()=>{b(),d()});const w=c??window.fetch,C=s??$ye;async function S(){var E;g=new AbortController;try{const x=await w(e,Object.assign(Object.assign({},u),{headers:p,signal:g.signal}));await C(x),await Uye(x.body,Bye(qye(T=>{T?p[yk]=T:delete p[yk]},T=>{_=T},o))),i?.(),b(),d()}catch(x){if(!g.signal.aborted)try{const T=(E=a?.(x))!==null&&E!==void 0?E:_;window.clearTimeout(y),y=window.setTimeout(S,T)}catch(T){b(),f(T)}}}S()})}function $ye(e){const t=e.headers.get("content-type");if(!t?.startsWith(GC))throw new Error(`Expected content-type to be ${GC}, Actual: ${t}`)}function Wye(e){if(typeof navigator<"u"&&!navigator.onLine||e instanceof TypeError)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network error")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0}return!1}function bk(e){return e.headers.get("x-request-id")??e.headers.get("cf-ray")??void 0}function rU(e,{ctx:t,method:n,headers:r,body:s,intercomEventOnError:o,signal:i,observer:a}={}){return jye((l,c,u)=>{let d=!1;function f(v){if(d)return v;d=!0;try{return u(v),a?.onClose?.("error",v),v}finally{v instanceof ft?(qM(v,"stream"),GM(v),o&&s5(o,{url:v.url,message:v.message})):(U.addError(v),V.logEvent("request_stream_error",{error:v instanceof Error?v.message:String(v)}))}}function p(){if(!d)if(d=!0,i?.aborted){const v=i.reason??new DOMException("Aborted","AbortError");u(v),a?.onClose?.("aborted",v)}else c(),a?.onClose?.("completed")}const g=t?vg(t):void 0;zye(e,{method:n,credentials:"include",headers:{...g?Rg({accessToken:g}):Ig(),...s?{"Content-Type":"application/json"}:null,...r},body:s?JSON.stringify(s):void 0,signal:i,openWhenHidden:!0,async onopen(v){const _=v.headers.get("content-type")??"";if(v.ok&&_.includes("text/event-stream"))l({response:v}),a?.onOpen?.(v);else if(_.includes("application/json")){const y=await v.json();throw f(new ft(e,v.status,y,bk(v)))}else{const y=await v.text();throw f(new ft(e,v.status,{detail:{message:qB,code:"unexpected_content_type",contentType:_,text:y.substring(0,1e3)}},bk(v)))}},onmessage(v){const _=new TextEncoder,y=v.data==="[DONE]";if(a?.onEvent?.({byteLength:_.encode(v.data).length,isDoneEvent:y}),v.event==="ping"||!v.data)return;if(y){p();return}const b=JSON.parse(v.data);b.error?f(ft.createWithErrorMessage(e,"server",b.error)):l({event:v.event||void 0,data:b})},onerror(v){const _=v instanceof Error?v:new Error(JSON.stringify(v));throw Wye(_)?f(ft.createWithErrorMessage(e,"client",ru)):_.message==="Failed to fetch"?(V.logFailedToFetchError({source:"request_stream"}),f(ft.createWithErrorMessage(e,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${n3}`))):f(_)}}).then(p,f)})}function Kye(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619)>>>0;return t^=t>>>16,t=Math.imul(t,2246822507)>>>0,t^=t>>>13,t=Math.imul(t,3266489909)>>>0,t^=t>>>16,(t>>>0).toString(16).padStart(8,"0")}class Yye{answers=new Map;maxAttempts=5e5;requirementsSeed=Zye();sid=Cs();errorPrefix="wQ8Lk5FbGpA2NcR9dShT6gYjU7VxZ4D";async initializeAndGatherData(t){this._getAnswer(t)}async startEnforcement(t){this._getAnswer(t)}getEnforcementTokenSync(t){const n=this._getAnswer(t);return typeof n=="string"?n:null}async getEnforcementToken(t,n){return this._getAnswer(t,n?.forceSync)}async getRequirementsToken(){return this.answers.has(this.requirementsSeed)||this.answers.set(this.requirementsSeed,this._generateAnswerAsync(this.requirementsSeed,"0")),"gAAAAAC"+await this.answers.get(this.requirementsSeed)}getRequirementsTokenBlocking(){return"gAAAAAC"+this._generateRequirementsTokenAnswerBlocking()}_getAnswer(t,n=!1){const r="gAAAAAB";if(!t?.proofofwork?.required)return null;const{seed:s,difficulty:o}=t.proofofwork;if(!(typeof s=="string"&&typeof o=="string"))return null;const i=this.answers.get(s);if(typeof i=="string")return i;if(n){const a=this._generateAnswerSync(s,o),l=r+a;return this.answers.set(s,l),l}return this.answers.has(s)||this.answers.set(s,this._generateAnswerAsync(s,o)),Promise.resolve().then(async()=>r+await this.answers.get(s)).then(a=>(this.answers.set(s,a),a))}_runCheck=(t,n,r,s,o)=>{s[3]=o,s[9]=Math.round(performance.now()-t);const i=gp(s);return Kye(n+i).substring(0,r.length)<=r?i+"~S":null};buildGenerateFailMessage(t){return this.errorPrefix+gp(String(t??"e"))}_generateAnswerSync(t,n){const r=performance.now();try{const s=this.getConfig();for(let o=0;o<this.maxAttempts;o++){const i=this._runCheck(r,t,n,s,o);if(i)return i}}catch(s){return this.buildGenerateFailMessage(s)}return this.buildGenerateFailMessage()}async _generateAnswerAsync(t,n){const r=performance.now();try{let s=null;const o=this.getConfig();for(let i=0;i<this.maxAttempts;i++){(!s||s.timeRemaining()<=0)&&(s=await Xye());const a=this._runCheck(r,t,n,o,i);if(a)return a}}catch(s){return this.buildGenerateFailMessage(s)}return this.buildGenerateFailMessage()}_generateRequirementsTokenAnswerBlocking(){let t="e";const n=performance.now();try{const r=this.getConfig();return r[3]=1,r[9]=Math.round(performance.now()-n),gp(r)}catch(r){t=gp(String(r))}return this.errorPrefix+t}getConfig(){return[screen?.width+screen?.height,""+new Date,performance?.memory?.jsHeapSizeLimit,Math?.random(),navigator.userAgent,Zp(Array.from(document.scripts).map(t=>t?.src).filter(t=>t)),(Array.from(document.scripts||[]).map(t=>t?.src?.match("c/[^/]*/_")).filter(t=>t?.length)[0]??[])[0]??document.documentElement.getAttribute("data-build"),navigator.language,navigator.languages?.join(","),Math?.random(),Jye(),Zp(Object.keys(document)),Zp(Object.keys(window)),performance.now(),this.sid,[...new URLSearchParams(window.location.search).keys()].join(","),navigator?.hardwareConcurrency,performance.timeOrigin]}}function Zp(e){return e[Math.floor(Math.random()*e.length)]}function Zye(){return""+Math.random()}function Jye(){const e=Zp(Object.keys(Object.getPrototypeOf(navigator)));try{return`${e}−${navigator[e].toString()}`}catch{return`${e}`}}function gp(e){return e=JSON.stringify(e),window.TextEncoder?btoa(String.fromCharCode(...new TextEncoder().encode(e))):btoa(unescape(encodeURIComponent(e)))}function Xye(){return new Promise(e=>{(window.requestIdleCallback||Qye)(n=>{e(n)},{timeout:10})})}function Qye(e){return setTimeout(()=>{e({timeRemaining:()=>1,didTimeout:!1})},0),0}const VC=new Yye,e2e=0,t2e=1,n2e=2,r2e=3,s2e=4,o2e=5,i2e=6,a2e=24,l2e=7,c2e=8,nu=9,u2e=10,d2e=11,f2e=12,h2e=13,p2e=14,m2e=15,sU=16,g2e=17,v2e=18,_2e=19,y2e=23,b2e=20,C2e=21,S2e=22,w2e=25,E2e=26,x2e=27,T2e=28,te=new Map;let Vd=0;function oU(){for(;te.get(nu).length>0;){const[e,...t]=te.get(nu).shift();te.get(e)(...t),Vd++}}function HC(e){return new Promise((t,n)=>{setTimeout(()=>t(""+Vd),100),te.set(r2e,r=>t(btoa(""+r))),te.set(s2e,r=>n(btoa(""+r)));try{te.set(nu,JSON.parse(iU(atob(e),""+te.get(sU)))),oU(),t(btoa(""+Vd))}catch(r){t(btoa(Vd+": "+r))}})}function k2e(e){O2e(),Vd=0,te.set(sU,e)}function iU(e,t){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%t.length));return n}function O2e(){te.clear(),te.set(e2e,HC),te.set(t2e,(e,t)=>te.set(e,iU(""+te.get(e),""+te.get(t)))),te.set(n2e,(e,t)=>te.set(e,t)),te.set(o2e,(e,t)=>{const n=te.get(e);Array.isArray(n)?n.push(te.get(t)):te.set(e,n+te.get(t))}),te.set(x2e,(e,t)=>{const n=te.get(e);Array.isArray(n)?n.splice(n.indexOf(te.get(t)),1):te.set(e,n-te.get(t))}),te.set(i2e,(e,t,n)=>te.set(e,te.get(t)[te.get(n)])),te.set(l2e,(e,...t)=>te.get(e)(...t.map(n=>te.get(n)))),te.set(g2e,(e,t,...n)=>te.set(e,te.get(t)(...n.map(r=>te.get(r))))),te.set(h2e,(e,t,...n)=>{try{te.get(t)(...n)}catch(r){te.set(e,""+r)}}),te.set(c2e,(e,t)=>te.set(e,te.get(t))),te.set(u2e,window),te.set(d2e,(e,t)=>te.set(e,(Array.from(document.scripts||[]).map(n=>n?.src?.match(te.get(t))).filter(n=>n?.length)[0]??[])[0]??null)),te.set(f2e,e=>te.set(e,te)),te.set(p2e,(e,t)=>te.set(e,JSON.parse(""+te.get(t)))),te.set(m2e,(e,t)=>te.set(e,JSON.stringify(te.get(t)))),te.set(v2e,e=>te.set(e,atob(""+te.get(e)))),te.set(_2e,e=>te.set(e,btoa(""+te.get(e)))),te.set(b2e,(e,t,n,...r)=>te.get(e)===te.get(t)?te.get(n)(...r):null),te.set(C2e,(e,t,n,r,...s)=>Math.abs(te.get(e)-te.get(t))>te.get(n)?te.get(r)(...s):null),te.set(y2e,(e,t,...n)=>te.get(e)!==void 0?te.get(t)(...n):null),te.set(a2e,(e,t,n)=>te.set(e,te.get(t)[te.get(n)].bind(te.get(t)))),te.set(S2e,(e,t)=>{const r=[...te.get(nu)];te.set(nu,[...t]);try{oU()}catch(s){te.set(e,""+s)}finally{te.set(nu,r)}}),te.set(T2e,()=>{}),te.set(E2e,()=>{}),te.set(w2e,()=>{})}const A2e=1e3*60*9;var Hd=(e=>(e.NOAUTH="chatgpt-noauth",e.FREEACCOUNT="chatgpt-freeaccount",e.PAID="chatgpt-paid",e))(Hd||{}),M2e=(e=>(e.ChatRequirementsToken="OpenAI-Sentinel-Chat-Requirements-Token",e.TurnstileToken="OpenAI-Sentinel-Turnstile-Token",e.ProofToken="OpenAI-Sentinel-Proof-Token",e.Token="OpenAI-Sentinel-Token",e))(M2e||{});let I2e=-1,Ds=null;function R2e(){if(Ds){const{chatRequirements:e,expiration:t}=Ds;if(Date.now()>=t)return Ds=null,null;if(e)return Ds=null,e}return null}async function N2e(e=!1){if(Ds){const{expiration:s,chatRequirementsPromise:o}=Ds;if(Date.now()<s)try{return e||(Ds=null),o}catch{}else o.then(i=>U.addAction("chat_requirements_cache_expired",{app:i.persona.toString()}));Ds=null}const t=VC.getRequirementsTokenBlocking();k2e(t);const n=Q.safePost("/sentinel/chat-requirements",{requestBody:{p:t},authOption:Qt.SendIfAvailable}),r=++I2e;return e&&(Ds={id:r,chatRequirements:null,chatRequirementsPromise:n.then(s=>(Ds?.id===r&&(Ds.chatRequirements=s),s)),expiration:Date.now()+A2e}),n}function P2e(){return new Promise((e,t)=>{const n=document.createElement("script");n.type="text/javascript",n.src=window.location.origin+"/backend-api/sentinel/sdk.js",n.async=!0,n.defer=!0,n.onload=e,n.onerror=t,document.getElementsByTagName("head")[0].appendChild(n)})}function Z8e(e){return D2e().then(()=>window.SentinelSDK.token(e))}const D2e=(()=>{let e;return()=>(e||(e=P2e()),e)})();function L2e(e,t,n,r){const s={};return e?.token&&(s["OpenAI-Sentinel-Chat-Requirements-Token"]=e.token),t&&(s["OpenAI-Sentinel-Turnstile-Token"]=t),n&&(s["OpenAI-Sentinel-Proof-Token"]=n),r&&(s["OpenAI-Sentinel-Token"]=r),s}const xd=e=>{if(e.type===Bt.Starter&&e.category==="onboarding")return"";switch(e.type){case Bt.Reply:return e.text;case Bt.Starter:case Bt.Autocomplete:case Bt.Trending:case Bt.Capabilities:return e.prompt}},F2e=e=>e.type===Bt.Reply,aU=e=>e.type===Bt.Starter,gS=e=>e.type===Bt.Autocomplete,lU=e=>e.type===Bt.Trending,Zm=e=>gS(e)&&!!e.theme,cU=e=>e.type===Bt.Capabilities,j2e=e=>lU(e)||cU(e)||gS(e)&&!Zm(e),J8e=(e,t,n,r)=>{switch(at.logEvent("chatgpt_prompt_use_suggestion",j2e(e)?"":xd(e),{id:aU(e)||Zm(e)?e.id??"":"",index:`${t}`,type:e.type}),e.type){case Bt.Reply:V.logEvent("Use Suggested Reply",{value:xd(e),prompt_type:Bt.Reply,messageId:r});break;case Bt.Capabilities:V.logEvent("Use Capabilities Suggestion",{prompt_type:Bt.Capabilities,categoryId:e.categoryId,client_thread_id:n,messageId:r});break;case Bt.Starter:V.logEvent("Use Starter Prompt",{value:xd(e),prompt_type:Bt.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case Bt.Autocomplete:{const s=Zm(e);V.logEvent("Use Autocomplete",{value:s?xd(e):"",prompt_type:Bt.Autocomplete,title:s?e.title:"",body:s?e.body:"",id:s?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}case Bt.Trending:{V.logEvent("Use Trending Prompt",{prompt_type:Bt.Trending,title:e.title,index:t,messageId:r,client_thread_id:n});break}}},X8e=(e,t)=>{if(e.length===0)return;const r=me.getCurrentNode(ln(t)).message.id;if(at.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(F2e))V.logEvent("Show Suggested Replies",{prompt_count:e.length,prompt_type:Bt.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(aU)){const{isAdditional:s}=e[0];V.logEvent(s?"More Starter Prompts Shown":"Show Starter Prompts",{prompt_count:e.length,prompt_type:Bt.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),s&&V.logEvent("Expand More Starter Prompts",{client_thread_id:t,message_id:r})}else if(e.every(gS)){const s=!!e.find(o=>Zm(o));V.logEvent("Show Autocomplete Prompts",{prompt_count:e.length,prompt_type:e[0].type,titles:e.map(o=>s?o.title:""),bodies:e.map(o=>s?o.body:""),ids:e.map(o=>s?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else e.every(lU)?V.logEvent("Show Trending Prompts",{prompt_count:e.length,prompt_type:Bt.Trending,titles:e.map(s=>s.title),client_thread_id:t,message_id:r}):e.every(cU)?V.logEvent("Show Capabilities Suggestions",{prompt_count:e.length,prompt_type:Bt.Capabilities,category_ids:e.map(s=>s.categoryId),client_thread_id:t,message_id:r}):U.addError("Unhandled suggestion type",{type:e[0].type})},Q8e=e=>{const n=me.getCurrentNode(ln(e)).message.id;V.logEvent("Show Expand More Starter Prompts Button",{client_thread_id:e,message_id:n})},exe=e=>{const n=me.getCurrentNode(ln(e)).message.id;V.logEvent("Expand More Starter Prompts",{client_thread_id:e,message_id:n})},Sc=St({searchPlaceholder:{id:"PromptTextarea.searchPlaceholder",defaultMessage:"Search the web"},thinkPlaceholder:{id:"PromptTextarea.thinkPlaceholder",defaultMessage:"Ask anything"},connectorPlaceholder:{id:"PromptTextarea.connectorPlaceholder",defaultMessage:"Search connected sources"},apiToolPlaceholder:{id:"PromptTextarea.apiToolPlaceholder",defaultMessage:"Use tools"},researchPlaceholder:{id:"PromptTextarea.researchPlaceholder",defaultMessage:"Get a detailed report"},canvasPlaceholder:{id:"PromptTextarea.canvasPlaceholder",defaultMessage:"Write or code"},picturePlaceholder:{id:"PromptTextarea.picturePlaceholder",defaultMessage:"Describe an image"},pictureV2Placeholder:{id:"PromptTextarea.pictureV2Placeholder",defaultMessage:"Describe an image"},contextualAnswersPlaceholder:{id:"PromptTextarea.contextualAnswersPlaceholder",defaultMessage:"Search internal sources"},tatertotPlaceholder:{id:"PromptTextarea.studyAndLearnPlaceholder",defaultMessage:"Learn something new"},continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},pimBlockPlaceholder:{id:"PromptTextarea.pimBlockPlaceholder",defaultMessage:"Potentially Malicious Content Detected"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},placeholderAskAnythingVariant:{id:"PromptTextarea.placeholderAskAnythingVariant",defaultMessage:"Ask anything"},placeholderAskNameAnythingVariant:{id:"PromptTextarea.placeholderAskNameAnythingVariant",defaultMessage:"Ask {name} anything"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."},n7jupdSystemHintPlaceholder:{id:"3pa1zs",defaultMessage:"Describe a task"},n7jupdActivePlaceholder:{id:"0qUILF",defaultMessage:"Follow up"}}),uU="prompt-textarea";function txe(){document.getElementById(uU)?.focus()}const nxe={getAndReset:(e,t)=>{const n=qt.getItem(Et.RestoreMessageAfterOauthRedirect);return qt.removeItem(Et.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};qt.setItem(Et.RestoreMessageAfterOauthRedirect,r)}},rxe=()=>{"use forget";const e=ke.c(16),t=Sve(),n=Pl.useStore();let r;e[0]!==n?(r=g=>n.getPersistedSystemHintTrigger(g),e[0]=n,e[1]=r):r=e[1];const s=r;let o;e[2]!==t?(o=g=>t(null,{ifPrevSystemHint:g}),e[2]=t,e[3]=o):o=e[3];const i=o;let a;e[4]!==t?(a=()=>t(null),e[4]=t,e[5]=a):a=e[5];const l=a;let c;e[6]!==t?(c=(g,v,_,y)=>{v?t(g,{analyticsMetadata:_,triggerSource:y}):t(null,{ifPrevSystemHint:g,analyticsMetadata:_})},e[6]=t,e[7]=c):c=e[7];const u=c;let d;e[8]!==t?(d=(g,v)=>{t(g,{analyticsMetadata:v})},e[8]=t,e[9]=d):d=e[9];const f=d;let p;return e[10]!==l||e[11]!==i||e[12]!==s||e[13]!==u||e[14]!==f?(p={getSystemHintModeTrigger:s,clearSystemHintModeTrigger:i,setThreadSystemHintMode:u,clearAllSystemHintModeTriggers:l,updateSystemHint:f},e[10]=l,e[11]=i,e[12]=s,e[13]=u,e[14]=f,e[15]=p):p=e[15],p},sxe=({promptDisabledReason:e,hasPendingFiles:t,hasTextContent:n,isTextContentTooLong:r,hasAsyncTaskPending:s,noSourceSelectedDr:o,isDeepResearchTaskStreaming:i,isThreadHardBlocked:a})=>e||(a?"rate_limit_hard_block":t?"file_upload_pending":s?i?void 0:"async_task_pending":n?r?"text_content_too_long":o?"no_source_selected_dr":void 0:"empty_text_content");function oxe(e,t){const n=Math.ceil(t/4);return typeof e?.maxTokens=="number"&&n>e.maxTokens}function ixe(e,t){return e?t===void 0?!0:t.includes(e):!1}const axe=e=>{switch(e){case"pimBlock":return{placeholder:Sc.pimBlockPlaceholder,isLastingDisabledStyle:!0};case"workspaceDisallowsGizmo":return{placeholder:Sc.disallowedByWorkspacePlaceholder,isLastingDisabledStyle:!0};case"noModelsAvailable":return{placeholder:Sc.noModelsAvailablePlaceholder,isLastingDisabledStyle:!0};case"requiresPluginsToBeInstalled":return{placeholder:Sc.requiresPluginsToBeInstalled,isLastingDisabledStyle:!0};case"loadingPlugins":return{placeholder:Sc.loading,isLastingDisabledStyle:!0};case"noTestGizmoId":return{placeholder:Sc.noTestGizmoId,isLastingDisabledStyle:!0}}return null},U2e="OAI-Echo-Logs",wc={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},dU=[];function Ec(e){return()=>{dU.push({type:e,ts:Math.round(performance.now())})}}const B2e={focusin:Ec(wc.FOCUS_IN),focusout:Ec(wc.FOCUS_OUT),copy:Ec(wc.COPY),paste:Ec(wc.PASTE),touchstart:Ec(wc.TOUCH_START),touchend:Ec(wc.TOUCH_END)};function lxe(e){const t=e??document.getElementById(uU);for(const[n,r]of Object.entries(B2e))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function fU(){return{[U2e]:dU.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}var q2e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},il="1.6.0",Ck=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function G2e(e){var t=new Set([e]),n=new Set,r=e.match(Ck);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(l){return l===e};function o(a){return n.add(a),!1}function i(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var c=l.match(Ck);if(!c)return o(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?o(l):s.major===0?s.minor===u.minor&&s.patch<=u.patch?i(l):o(l):s.minor<=u.minor?i(l):o(l)}}var V2e=G2e(il),H2e=il.split(".")[0],_f=Symbol.for("opentelemetry.js.api."+H2e),yf=q2e;function fh(e,t,n,r){var s;r===void 0&&(r=!1);var o=yf[_f]=(s=yf[_f])!==null&&s!==void 0?s:{version:il};if(!r&&o[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(o.version!==il){var i=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+il);return n.error(i.stack||i.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+il+"."),!0}function Dl(e){var t,n,r=(t=yf[_f])===null||t===void 0?void 0:t.version;if(!(!r||!V2e(r)))return(n=yf[_f])===null||n===void 0?void 0:n[e]}function hh(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+il+".");var n=yf[_f];n&&delete n[e]}var z2e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},$2e=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},W2e=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ud("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ud("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ud("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ud("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ud("verbose",this._namespace,t)},e}();function ud(e,t,n){var r=Dl("diag");if(r)return n.unshift(t),r[e].apply(r,$2e([],z2e(n),!1))}var Gr;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Gr||(Gr={}));function K2e(e,t){e<Gr.NONE?e=Gr.NONE:e>Gr.ALL&&(e=Gr.ALL),t=t||{};function n(r,s){var o=t[r];return typeof o=="function"&&e>=s?o.bind(t):function(){}}return{error:n("error",Gr.ERROR),warn:n("warn",Gr.WARN),info:n("info",Gr.INFO),debug:n("debug",Gr.DEBUG),verbose:n("verbose",Gr.VERBOSE)}}var Y2e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},Z2e=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},J2e="diag",Po=function(){function e(){function t(s){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=Dl("diag");if(a)return a[s].apply(a,Z2e([],Y2e(o),!1))}}var n=this,r=function(s,o){var i,a,l;if(o===void 0&&(o={logLevel:Gr.INFO}),s===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=c.stack)!==null&&i!==void 0?i:c.message),!1}typeof o=="number"&&(o={logLevel:o});var u=Dl("diag"),d=K2e((a=o.logLevel)!==null&&a!==void 0?a:Gr.INFO,s);if(u&&!o.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+f),d.warn("Current logger will overwrite one already registered from "+f)}return fh("diag",d,n,!0)};n.setLogger=r,n.disable=function(){hh(J2e,n)},n.createComponentLogger=function(s){return new W2e(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),X2e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},Q2e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ebe=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=X2e(t,2),r=n[0],s=n[1];return[r,s]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=new e(this._entries);try{for(var i=Q2e(r),a=i.next();!a.done;a=i.next()){var l=a.value;o._entries.delete(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),tbe=Symbol("BaggageEntryMetadata"),nbe=Po.instance();function rbe(e){return e===void 0&&(e={}),new ebe(new Map(Object.entries(e)))}function cxe(e){return typeof e!="string"&&(nbe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:tbe,toString:function(){return e}}}function hU(e){return Symbol.for(e)}var sbe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var o=new e(n._currentContext);return o._currentContext.set(r,s),o},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),obe=new sbe,Vu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ibe=function(){function e(){}return e.prototype.createHistogram=function(t,n){return mbe},e.prototype.createCounter=function(t,n){return pbe},e.prototype.createUpDownCounter=function(t,n){return gbe},e.prototype.createObservableGauge=function(t,n){return _be},e.prototype.createObservableCounter=function(t,n){return vbe},e.prototype.createObservableUpDownCounter=function(t,n){return ybe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),vS=function(){function e(){}return e}(),abe=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(vS),lbe=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(vS),cbe=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(vS),_S=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),ube=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(_S),dbe=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(_S),fbe=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(_S),hbe=new ibe,pbe=new abe,mbe=new cbe,gbe=new lbe,vbe=new ube,_be=new dbe,ybe=new fbe,bbe={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Cbe={set:function(e,t,n){e!=null&&(e[t]=n)}},Sbe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},wbe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Ebe=function(){function e(){}return e.prototype.active=function(){return obe},e.prototype.with=function(t,n,r){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return n.call.apply(n,wbe([r],Sbe(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),xbe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},Tbe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},q2="context",kbe=new Ebe,A1=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return fh(q2,t,Po.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,Tbe([t,n,r],xbe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Dl(q2)||kbe},e.prototype.disable=function(){this._getContextManager().disable(),hh(q2,Po.instance())},e}(),zC;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(zC||(zC={}));var pU="0000000000000000",mU="00000000000000000000000000000000",Obe={traceId:mU,spanId:pU,traceFlags:zC.NONE},zd=function(){function e(t){t===void 0&&(t=Obe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),yS=hU("OpenTelemetry Context Key SPAN");function bS(e){return e.getValue(yS)||void 0}function Abe(){return bS(A1.getInstance().active())}function CS(e,t){return e.setValue(yS,t)}function Mbe(e){return e.deleteValue(yS)}function Ibe(e,t){return CS(e,new zd(t))}function gU(e){var t;return(t=bS(e))===null||t===void 0?void 0:t.spanContext()}var Rbe=/^([0-9a-f]{32})$/i,Nbe=/^[0-9a-f]{16}$/i;function Pbe(e){return Rbe.test(e)&&e!==mU}function Dbe(e){return Nbe.test(e)&&e!==pU}function vU(e){return Pbe(e.traceId)&&Dbe(e.spanId)}function Lbe(e){return new zd(e)}var G2=A1.getInstance(),_U=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=G2.active());var s=!!n?.root;if(s)return new zd;var o=r&&gU(r);return Fbe(o)&&vU(o)?new zd(o):new zd},e.prototype.startActiveSpan=function(t,n,r,s){var o,i,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,i=r,a=s);var l=i??G2.active(),c=this.startSpan(t,o,l),u=CS(l,c);return G2.with(u,a,void 0,c)}},e}();function Fbe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var jbe=new _U,Ube=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):jbe},e}(),Bbe=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new _U},e}(),qbe=new Bbe,Sk=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new Ube(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:qbe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),wk;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(wk||(wk={}));var Ek;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Ek||(Ek={}));var xk;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(xk||(xk={}));var uxe=A1.getInstance(),dxe=Po.instance(),Gbe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return hbe},e}(),Vbe=new Gbe,V2="metrics",Hbe=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return fh(V2,t,Po.instance())},e.prototype.getMeterProvider=function(){return Dl(V2)||Vbe},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){hh(V2,Po.instance())},e}(),fxe=Hbe.getInstance(),zbe=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),SS=hU("OpenTelemetry Baggage Key");function yU(e){return e.getValue(SS)||void 0}function $be(){return yU(A1.getInstance().active())}function Wbe(e,t){return e.setValue(SS,t)}function Kbe(e){return e.deleteValue(SS)}var H2="propagation",Ybe=new zbe,Zbe=function(){function e(){this.createBaggage=rbe,this.getBaggage=yU,this.getActiveBaggage=$be,this.setBaggage=Wbe,this.deleteBaggage=Kbe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return fh(H2,t,Po.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=Cbe),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=bbe),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){hh(H2,Po.instance())},e.prototype._getGlobalPropagator=function(){return Dl(H2)||Ybe},e}(),hxe=Zbe.getInstance(),z2="trace",Jbe=function(){function e(){this._proxyTracerProvider=new Sk,this.wrapSpanContext=Lbe,this.isSpanContextValid=vU,this.deleteSpan=Mbe,this.getSpan=bS,this.getActiveSpan=Abe,this.getSpanContext=gU,this.setSpan=CS,this.setSpanContext=Ibe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=fh(z2,this._proxyTracerProvider,Po.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Dl(z2)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){hh(z2,Po.instance()),this._proxyTracerProvider=new Sk},e}(),Xbe=Jbe.getInstance();const wS="RESUME_TOKEN_STORE_KEY",Qbe=1e3,eCe=Qbe*60,tCe=eCe*60;function ES(){const e=localStorage.getItem(wS)??"{}",t=JSON.parse(e);return Object.fromEntries(Object.entries(t).filter(([r,s])=>s.expiresAt>Date.now()))}function bU(e){const t=JSON.stringify(e);localStorage.setItem(wS,t)}function nCe(e,t){const n=ES();n[e]={token:t,expiresAt:Date.now()+tCe},bU(n)}function rCe(e){return ES()[e]?.token}function sCe(e){const t=ES();delete t[e],bU(t)}function oCe(){localStorage.removeItem(wS)}const $2={set:nCe,get:rCe,remove:sCe,clear:oCe};function iCe(e,t,n,r,s,o){const i=cCe(e,t,n,s,o);return CU(n,r,i)}function aCe(e,t,n,r,s,o){const{conversationId:i,resumeToken:a,model:l}=t;let c=xU({ctx:e,conversationId:i,resumeToken:a,model:l,turnTracker:n,offset:0,signal:s??null});c=EU(c,{ctx:e,model:l,turnTracker:n,signal:s??null}),c=TU(c,{turnTracker:n,prepareState:null,signal:s??null,f_completion:!0});const d=Xj(c,f=>{n.stream_encoding=f});return CU(n,r,SU(d))}const lCe=1e3*30,dd=Xbe.getTracer("completion");function W2(e,t){lr.count(Xn.DEFAULT,e,[{key:"prepare_sent",value:t&&t!=="none"?"true":"false"},{key:"prepare_succeeded",value:t==="success"?"true":"false"},{key:"prepare_failed",value:t==="failure"?"true":"false"}])}async function*CU(e,t,n){let r=!1,s=!1,o=!1,i=!1,a,l,c,u,d;dd.startActiveSpan("completion.response",p=>{a=dd.startSpan("completion.first_response"),l=dd.startSpan("completion.first_token_including_tool_calls"),c=dd.startSpan("completion.first_token_including_visible_content"),u=dd.startSpan("completion.first_token"),d=p});let f=setTimeout(()=>{V.logEvent("SSE Response Took Too Long to Come Back",{}),e.logCompletion({type:Wo.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}})},lCe);try{t?.logTimingOnce("prompt_submitted");for await(const p of n)yield p,p.type!=="connected"&&f&&(clearTimeout(f),f=null),p.type==="message"&&(e.onMessageUpdate(p.message),r||(r=!0,a?.end(),t?.logTimingOnce("first_response")),!s&&p.message.author.role===Ue.Assistant&&(s=!0,l?.end(),t?.logTimingOnce("first_assistant_token")),!o&&p.message.author.role===Ue.Assistant&&vm(p.message)&&(o=!0,c?.end(),t?.logTimingOnce("first_visible_content_token")),!i&&p.message.author.role===Ue.Assistant&&AI(p.message)&&(i=!0,u?.end(),t?.logTimingOnce("first_message_token"))),p.type==="perf_stats"&&e.addServerPerfStats(p),p.type==="server_ste_metadata"&&e.addServerSteMetadata(p),p.type==="message_marker"&&e.onMessageMarker(p),p.type==="done"&&e.onStreamClose()}catch(p){throw f&&(clearTimeout(f),f=null),p}finally{d?.end()}}async function*cCe(e,t,n,r,s){const{conduitToken:o,prepareState:i,model:a,f_completion:l,f_search:c}=t,u=Mr(3010482349,`${a}-AAAA`)||Mr(3240390095,`${a}-AAAA`),d=vn(e)?u?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon";let f=`${d}/conversation`;l&&(f=`${d}/f/conversation`),$e(e,"212625335")&&(f+="?debug=true"),n.onSentUserMessage();const p=to()?await Jj():void 0;let g=rU(f,{ctx:e,method:"POST",headers:{...fU(),...L2e(t.chatReq,t.turnstileToken,t.proofToken,null),...o?{"x-conduit-token":o}:{}},body:wU(t,p),intercomEventOnError:"fetch-error:conversation:new-message",signal:r,observer:{onEvent:y=>{n.onStreamEvent(y.byteLength,y.isDoneEvent)}}});g=EU(g,{ctx:e,model:a,turnTracker:n,signal:r??null}),g=TU(g,{turnTracker:n,prepareState:i,signal:r??null,f_completion:l??null}),l&&s&&Lt(s,y=>{y.conduitToken=null,y.prepareState=null,y.lastPrepareTimestamp=null});const _=Xj(g,y=>{n.stream_encoding=y});yield*SU(_)}async function*SU(e){let t=!1;for await(const n of e)if("response"in n)yield{type:"connected",serverRequestId:n.response?.headers?.get("Cf-Ray")??null};else{const r=dCe(n.data);r&&(r.type==="done"&&(t=!0),yield r)}t||(yield{type:"done"})}function wU(e,t){const n="threadId"in e?e.threadId:void 0;return{action:e.completionType,messages:e.messages.length>0?e.messages.map(uCe):void 0,continue_from_shared_conversation_id:"continueFromSharedConversationId"in e&&n==null?e.continueFromSharedConversationId:void 0,continue_from_shared_post_id:"continueFromSharedPostId"in e?e.continueFromSharedPostId:void 0,fork_from_shared_post:"forkFromSharedPost"in e?e.forkFromSharedPost:void 0,..."sharedProjectConversationOwnerId"in e&&"sharedProjectConversationId"in e&&e.sharedProjectConversationId&&e.sharedProjectConversationOwnerId?{continue_from_shared_project_conversation_id:e.sharedProjectConversationId,shared_project_conversation_owner_id:e.sharedProjectConversationOwnerId}:{conversation_id:n},parent_message_id:e.parentMessageId,model:e.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:e.completionMetadata?.variantPurpose,suggestions:e.completionMetadata?.suggestions?e.completionMetadata.suggestions.map(r=>xd(r)):void 0,chosen_suggestion:e.completionMetadata?.suggestion?{type:e.completionMetadata.suggestion.type,index:e.completionMetadata.suggestionIndex,source:e.completionMetadata.suggestion.type===Bt.Autocomplete?e.completionMetadata.suggestion.source:void 0,user_input:e.completionMetadata.suggestion.type===Bt.Autocomplete?e.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:As(e.historyDisabled),conversation_mode:Mb(e.completionMetadata?.conversationMode),force_paragen:As(e.forceParagen),force_paragen_model_slug:e.forceParagenModel,force_indepth_feedback:As(e.forceIndepthFeedback),force_rate_limit:As(e.forceRateLimit),reset_rate_limits:As(e.resetRateLimits),record_rendering:As(e.recordRendering),record_transformed_convo_json:As(e.recordTransformedConvoJson),disable_system_content_toggling:As(e.disableSystemContentToggling),enable_message_followups:e.enableMessageFollowups,source:e.completionMetadata?.source,system_hints:e.completionMetadata?.systemHints,prefetch_ids:e.completionMetadata?.prefetchIds,supports_buffering:!0,supported_encodings:[Qj.V1],conversation_origin:ho(e.conversationOrigin),force_use_search:ho(e.forceUseSearch),force_disable_features:ho(e.forceDisableFeatures),client_reported_search_source:e.completionMetadata?.searchSource,client_contextual_info:e.contextualInfo,paragen_stream_type_override:ho(e.paragenStreamType==="none"?null:e.paragenStreamType),paragen_cot_summary_display_override:ho(e.paragenCotSummaryDisplay==="none"?null:e.paragenCotSummaryDisplay),is_onboarding_conversation:As(e.isOnboardingConversation),override_infer_treatment:ho(e.overrideInferTreatment),model_slug_stats_override:ho(e.modelSlugStatsOverride),is_anon_mode:As(e.isAnonModeEnabled),is_reasoning_skipped:As(e.isReasoningSkipped),force_parallel_switch:ho(e.forceParallelSwitch),juice_score:ho(e.juiceScore),multimodal_juice_score:ho(e.multimodalJuiceScore),local_function_names:to()&&t?[...t]:void 0}}function uCe(e){let t=e;return e.clientMetadata&&(t={...e},delete t.clientMetadata),t}function As(e){if(e===!0)return e}function ho(e){if(e!=null)return e}function dCe(e){if("type"in e)switch(e.type){case"gizmo_inline_review":return{type:"gizmo_inline_review",gizmoId:e.gizmo_id};case"title_generation":return{type:"title_generation",title:e.title,conversation_id:e.conversation_id};case"moderation":return{type:"moderation",conversationId:e.conversation_id,messageId:e.message_id,isCompletion:e.is_completion,flagged:e.moderation_response.flagged,blocked:e.moderation_response.blocked,shouldDisableConversation:!!e.moderation_response.should_disable_conversation,disclaimers:e.moderation_response.disclaimers,metadata:e.moderation_response.metadata};case"url_moderation":return{type:"url_moderation",conversationId:e.conversation_id,messageId:e.message_id,url:e.url_moderation_result.full_url,isSafe:e.url_moderation_result.is_safe};case"num_variants_in_stream":return{type:"num_variants_in_stream",num_variants_in_stream:e.num_variants_in_stream,display_treatment:e.display_treatment};case"perf_stats":case"conversation_detail_metadata":case"beacon_ui_response":case"resume_conversation_token":case"conversation_async_status":case"server_ste_metadata":case"message_marker":return e;case"message_stream_complete":return{type:"done"};default:return}if(e.message)return{type:"message",message:e.message,conversationId:e.conversation_id}}async function pxe(e,t,n=[],r,s=!1,o=!1){const i=xt();if(!fS(i,!0)||!Y_e(i))return;const a=Ys(e),l=ln(e);if(l?.prepareRequestBlocked)return;const c=3e3;if(l?.lastCompletionFinishedTimestamp){const x=performance.now()-l.lastCompletionFinishedTimestamp,T=c-x;T>0&&await new Promise(k=>setTimeout(k,T))}const u=l?.conversationOrigin??null;let d;s?d=me.getParentPromptNode(l)?.id??"":d=me.getCurrentNode(l).message.id;const f=ch(),p=R5(i),g=l?.conduitToken??null,v=l?.prepareState??"none",_={threadId:a,prepareState:v,conduitToken:g,continueFromSharedPostId:l?.continuingFromSharedPostId,forkFromSharedPost:!!l?.continuingFromSharedPostId,continueFromSharedConversationId:l?.continuingFromSharedConversationId,sharedProjectConversationId:l?.continuingFromSharedProjectConversationId,sharedProjectConversationOwnerId:l?.sharedProjectConversationOwnerId,isOnboardingConversation:o,conversationOrigin:u,model:t,completionType:zc.Next,completionMetadata:{systemHints:n,conversationMode:l?.mode??{kind:an.PrimaryAssistant}},messages:[],parentMessageId:d,recordRendering:f.recordRendering,recordTransformedConvoJson:f.recordTransformedConvoJson,historyDisabled:p},y=to()?await Jj():void 0,b=wU(_,y),w={"x-conduit-token":g??"no-token"},C=Mr(3010482349,`${t}-AAAA`)||Mr(3240390095,`${t}-AAAA`);if(C){Lt(e,x=>{x.conduitToken=null,x.prepareState=null});return}const E=`${vn(i)?C?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon"}/f/conversation/prepare`;try{Lt(e,k=>{k.prepareState="sent",k.lastPrepareTimestamp=performance.now()});const x=await tt.post(E,b,{additionalHeaders:w,authOption:Qt.SendIfAvailable}),{conduit_token:T}=x;r(T)}catch(x){lr.count(Xn.DEFAULT,"conduit_f_conversation_prepare_api_error"),U.addError(x),Lt(e,T=>{T.conduitToken=null,T.prepareState="failure"})}}const fCe=e=>new Promise(t=>setTimeout(t,e));async function*EU(e,t){const n=Bn(t.ctx,"3165814200"),r=n.get("MIN_RETRY_INTERVAL",300),s=n.get("MAX_RETRY_INTERVAL",5e3),o=n.get("RETRY_FACTOR",1.5),i=n.get("MAX_RETRY_COUNT",12),{signal:a}=t;let l,c,u=e,d=0,f=0,p=0,g=0;for(;u!=null;)try{for await(const v of u){const _="response"in v;!_&&v.data!=null&&typeof v.data=="object"&&"type"in v.data&&v.data.type==="resume_conversation_token"&&"token"in v.data&&"conversation_id"in v.data?(c=String(v.data.token),l=String(v.data.conversation_id),$2.set(l,c)):yield v,f>0&&(g++,V.logEventWithStatsig("ChatGPT Convo Stream: Resume Succeeded","chatgpt_convo_stream_resume_succeeded",{conversationId:l,offset:d,afterRetryCount:f,successfulResumeCount:g}),f=0),_||d++}V.logEventWithStatsig("ChatGPT Convo Stream: Stream Completed","chatgpt_convo_stream_completed",{conversationId:l,resumeAttempts:p,successfulResumeCount:g}),l!=null&&$2.remove(l),u=null}catch(v){const _=Tk(v);if(f===0&&V.logEventWithStatsig("ChatGPT Convo Stream: Error","chatgpt_convo_stream_error",{conversationId:l,offset:d,isNetworkError:_,successfulResumeCount:g,errorMessage:v instanceof Error?v.message:String(v)}),f<i&&!a?.aborted&&c!=null&&l!=null&&Tk(v)&&Wt(t.ctx,"2489999880").get("is_resume_enabled",!1)){f===0&&V.logEventWithStatsig("ChatGPT Convo Stream: Resume Attempted","chatgpt_convo_stream_resume_attempted",{conversationId:l,offset:d,retryCount:f,successfulResumeCount:g}),f++,p++;const b=Math.min(r*o**f,s)*(.5+Math.random()*.5);await fCe(b),u=xU({...t,resumeToken:c,conversationId:l,offset:d})}else{const y=v instanceof ft&&v.status===404;throw(f>=i||y&&f>0)&&V.logEventWithStatsig("ChatGPT Convo Stream: Resume Failed","chatgpt_convo_stream_resume_failed",{conversationId:l,offset:d,afterRetryCount:f,successfulResumeCount:g,isNetworkError:_,is404:y}),u=null,v instanceof ft&&v.status===404&&f>0?(l!=null&&$2.remove(l),ft.createWithErrorMessage(v.url,"client",ru)):v}}}function Tk(e){return e instanceof Error&&e.message===ru||typeof e=="string"&&e===ru}function xU({ctx:e,conversationId:t,resumeToken:n,model:r,turnTracker:s,offset:o,signal:i}){const a=Mr(3010482349,`${r}-AAAA`)||Mr(3240390095,`${r}-AAAA`),l=vn(e)?a?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon",c={"x-conduit-token":n??"no-token"},u=`${l}/f/conversation/resume`,d=e?vg(e):void 0,f={conversation_id:t,offset:o};return rU(u,{method:"POST",headers:{...fU(),...d?Rg({accessToken:d}):Ig(),...c,"Content-Type":"application/json"},body:f,intercomEventOnError:"fetch-error:conversation:new-message",signal:i??void 0,observer:{onEvent:g=>{s.onStreamEvent(g.byteLength,g.isDoneEvent)}}})}async function*TU(e,{turnTracker:t,prepareState:n,f_completion:r,signal:s}){try{for await(const o of e)yield o;t.onStreamClose(),r&&W2("conduit_f_conversation_api.success",n)}catch(o){throw lr.count(Xn.DEFAULT,"conversation_api.client_request_error"),s?.aborted?(t.handleAbort(o),r&&W2("conduit_f_conversation_api.aborted",n)):(t.handleRawError(o instanceof Error||typeof o=="string"?o:JSON.stringify(o)),r&&W2("conduit_f_conversation_api.error",n)),o}}class kU{constructor(t,n,r,s,o,i,a,l,c,u,d,f,p,g,v,_,y,b,w,C=!1,S,E=!1,x=!1,T=void 0,k){this.ctx=t,this.requestId=n,this.queryClient=r,this.initialThread=s,this.clientThreadId=o,this.parentMessageId=i,this.prependMessages=a,this.promptMessage=l,this.appendMessages=c,this.completionType=u,this.model=d,this.eventSource=f,this.isHistoryAndTrainingDisabled=p,this.startPreflightTime=g,this.isSnorlaxEnabledForGizmo=v,this.isNewThread=_,this.isContinuingFromSharedConversation=y,this.isContinuingFromSharedProjectConversation=b,this.turnTracker=w,this.isAnonModeEnabled=S,this.isContinuableSharedPost=E,this.isReasoningSkipped=x,this.modelSlugStatsOverride=T,this.completionLatencyTracker=new $_e(this.requestId,g),this.isFirstCompletionInThread=_||this.isContinuingFromSharedConversation||this.isContinuingFromSharedProjectConversation||this.isContinuableSharedPost,k?.disablePlaceholder||(this.placeholderNodeId=`${pne}${n}`),C&&(this.sentNotification=!0)}isFirstCompletionInThread;activeBranchLastMessage;messagesToUpdate={};allIncompleteMessageIds=new Set;responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;sentNotification=!1;variantsInStreamInfo;blurDuringCompletionTracker=new R_e;completionLatencyTracker;preflightTime;treatCompletionAsAsync=!1;realtimeAsyncCompletion=!1;resumeToken;placeholderNodeId;updateBeforeRequest(){Eye.incrementUserMessageCount(vn(this.ctx)?cr.LoggedIn:cr.LoggedOut),_u.retainThread(this.clientThreadId),Lt(this.clientThreadId,t=>{t.conduitToken=null,t.prepareState=null,t.lastPrepareTimestamp=null,this.completionType===zc.Next&&me.hasUserMessage(t)&&this.promptMessage?.author.role===Ue.User&&(t.scrollToMessageId=this.promptMessage?.id),xr.updateTree(t,(n,r)=>{if(this.parentMessageId&&(r=me.getNode(t,this.parentMessageId).id),this.prependMessages)for(const o of this.prependMessages)r=n.addMessageNode(r,o);if(this.promptMessage&&(r=n.addMessageNode(r,this.promptMessage)),this.appendMessages)for(const o of this.appendMessages)r=n.addMessageNode(r,o);const s=this.promptMessage?.metadata?.gizmo_id;if(this.placeholderNodeId){const o=t9("",s?{gizmo_id:s}:void 0,{requestId:this.requestId,isPlaceholder:!0},this.placeholderNodeId);r=n.addMessageNode(r,o)}return r})})}async sendRequest$({conduitToken:t,turnstileToken:n,proofToken:r,completionMetadata:s,resolvedParentMessageId:o,messages:i,extraStreamParams:a,chatReq:l,profiler:c}){hk(this.clientThreadId,!0);const u=new AbortController;qd.addRequest(this.requestId,u,this.turnTracker);const d=ch(),f=Ys(this.clientThreadId);if(this.completionType===zc.Variant&&f==null){U.addError("Generating variant without conversation_id"),this.#n(new Error("Regeneration must have conversation_id"));return}const p=iCe(this.ctx,{conversationOrigin:this.initialThread?.conversationOrigin??null,model:this.model,completionType:this.completionType,prepareState:this.initialThread?.prepareState??"none",conduitToken:t,threadId:f,isReasoningSkipped:this.isReasoningSkipped,overrideInferTreatment:d.autoSwitcherTreatmentOverride,modelSlugStatsOverride:this.modelSlugStatsOverride,continueFromSharedConversationId:this.initialThread?.continuingFromSharedConversationId,sharedProjectConversationOwnerId:this.initialThread?.sharedProjectConversationOwnerId,sharedProjectConversationId:this.initialThread?.continuingFromSharedProjectConversationId,continueFromSharedPostId:this.initialThread?.continuingFromSharedPostId,forkFromSharedPost:this.initialThread?.forkFromSharedPost,historyDisabled:this.isHistoryAndTrainingDisabled,isAnonModeEnabled:this.isAnonModeEnabled,parentMessageId:o,messages:i,chatReq:l,turnstileToken:n,proofToken:r,completionMetadata:s,contextualInfo:{is_dark_mode:Xve(),time_since_loaded:Math.floor(performance.now()/1e3),page_height:window.innerHeight,page_width:window.innerWidth,pixel_ratio:window.devicePixelRatio,screen_height:window.screen.height,screen_width:window.screen.width},isOnboardingConversation:s?.isOnboardingConversation,forceParagen:d.forceParagen,forceParagenModel:d.forceParagen?d.forceParagenModel.value:void 0,forceRateLimit:d.forceRateLimit,resetRateLimits:d.resetRateLimits,recordRendering:d.recordRendering,recordTransformedConvoJson:d.recordTransformedConvoJson,disableSystemContentToggling:d.rebaseSystemMessageContent!=null,forceUseSearch:d.forceUseSearch??void 0,paragenStreamType:d.paragenStreamType,paragenCotSummaryDisplay:d.paragenCotSummaryDisplay,forceParallelSwitch:d.forceParallelSwitch,juiceScore:d.juiceScore??void 0,multimodalJuiceScore:d.multimodalJuiceScore,...fS(this.ctx)?{f_completion:!0}:{},...Z_e()?{f_search:!0}:{},...a},this.turnTracker,c,u.signal,this.clientThreadId);try{for await(const g of p)g.type==="connected"?this.#t(g):gk(g)&&this.#r(g)}catch(g){e4(g)||u.signal.aborted?this.#s(g):this.#n(g)}finally{hk(this.clientThreadId,!1)}}async sendResumeRequest$({conversationId:t,resumeToken:n,profiler:r}){const s=new AbortController;qd.addRequest(this.requestId,s,this.turnTracker),Lt(this.clientThreadId,i=>{xr.setRequestIdOnCurrentLeaf(i,this.requestId)});const o=aCe(this.ctx,{conversationId:t,resumeToken:n,model:this.model},this.turnTracker,r,s.signal,this.clientThreadId);try{for await(const i of o)i.type==="connected"?this.#t(i):gk(i)&&this.#r(i)}catch(i){e4(i)||s.signal.aborted?this.#s(i):this.#n(i)}}#e(){if(this.model!==Ym)return null;const t=Tye(this.ctx);if(!t.showJuiceControl)return null;const n=kye(this.ctx),r=Oye(al(n),t.legacyDefault),o=fn(this.ctx)?.isPro()??!1;return hCe(t,r,o)}#t(t){const{serverRequestId:n}=t;this.turnTracker.onStreamOpen(),n&&this.turnTracker.onReceivedServerRequestId(n),G_e(this.requestId,this.model,n,eo(this.preflightTime))}#r=t=>{if(this.activeBranchLastMessage&&this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;if(this.responseThreadId=n,Zf(this.clientThreadId)&&Ys(this.clientThreadId)!==n&&(k_e(this.ctx,this.clientThreadId,n),V.logEvent("Attribution: Client Thread to Server Thread",{client_thread_id:this.clientThreadId,server_thread_id:n})),this.isContinuingFromSharedConversation&&(Lt(this.clientThreadId,s=>{delete s.continuingFromSharedConversationId}),at.logEvent("chatgpt_continue_conversation_first_message_sent"),V.logEvent("Continue Conversation: First Message Sent")),this.initialThread?.branchingFromConversationId!=null&&Lt(this.clientThreadId,s=>{delete s.branchingFromConversationId,delete s.continuingFromSharedConversationId}),this.isContinuingFromSharedProjectConversation&&Lt(this.clientThreadId,s=>{delete s.continuingFromSharedProjectConversationId,delete s.sharedProjectConversationOwnerId}),this.isContinuableSharedPost&&Lt(this.clientThreadId,s=>{delete s.continuingFromSharedPostId,delete s.forkFromSharedPost}),this.isFirstCompletionInThread){const s=ln(this.clientThreadId);V.logEvent("Create New Thread"),!this.isHistoryAndTrainingDisabled&&bye(s?.mode)&&vn(this.ctx)&&(zj(this.queryClient,me.getGizmoId(s)),s?.disableConversationNavigation||lye(Sye,this.queryClient,n,this.isSnorlaxEnabledForGizmo))}const r={id:this.requestId,threadId:this.responseThreadId,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===zc.Next){const s=me.getConversationTurns(this.initialThread),o=s.length,i=s.filter(l=>l.role===Ue.User),a=i&&i[i.length-1]?.messages[0];if(a?.content.content_type===Xe.Text){const l=a.content.parts.join("").length,c=i?.length??0;r.countConversationTurns=o,r.countUserSubmittedMessages=c,r.countLastUserPromptTextMessageLength=l}}V.logEvent("Generate Completion",r)}switch(t.type){case"num_variants_in_stream":this.#h(t);break;case"moderation":this.#p(t);break;case"url_moderation":this.#m(t);break;case"message":this.#g(t);break;case"done":this.#o();break;case"gizmo_inline_review":this.#a(t);break;case"title_generation":this.#l(t);break;case"conversation_detail_metadata":this.#c(t);break;case"beacon_ui_response":this.#u(t);break;case"conversation_async_status":this.#d(t);break;case"resume_conversation_token":this.#f(t);break}};#n(t){const n=VB(t),r=n.message,s=t instanceof ft?t.code:void 0,o=t instanceof ft?t.detail?.can_retry:void 0,i=r===ru,a=i&&!this.treatCompletionAsAsync&&vn(this.ctx)&&Wt(this.ctx,"2489999880").get("is_polling_enabled",!1);a&&(this.treatCompletionAsAsync=!0),this.debouncedUpdateExistingMessages.flush(),this.treatCompletionAsAsync&&r===ru&&!a||Lt(this.clientThreadId,c=>{xr.updateTree(c,(u,d)=>{const f=this.variantsInStreamInfo?me.getParentPromptNode(c)?.id??d:d,p={err:a?GB:r,errType:a?"info":"danger",errCode:a?rO.NetworkErrorWithReconnection:s,completionSampleFinishTime:Date.now(),canRetry:a?!1:o};if(u.getNodeIfExists(f)?.message?.content?.content_type!==Xe.Text){const g=t9("");return g.clientMetadata={...g.clientMetadata,...p},u.addMessageNode(f,g)}else u.updateNodeMetadata(f,p)})});try{const c=ln(this.clientThreadId);if(me.getLastMessageSystemHints(c)?.includes(Hs)){const f=t instanceof ft?t:void 0,p=f?.status,g=f?.isClientError()??!1,v=f?.isServerError()??!1,_=i?"network":v?"server":g?"client":"unknown";U.addAction("agent.conversation.start_failed",{request_id:this.requestId,model:this.model,error_code:s??"unknown",is_network_error:i,is_recoverable_error:a,error_status:p,is_client_error:g,is_server_error:v,error_type:_})}}catch{}switch(i&&V.logNetworkError({source:"request_stream",type:a?"info_polling":"error"}),s){case hu.ContentPolicy:case hu.ContentOrTos:case Cp.ModelCapExceeded:case Cp.HistoryDisabledConversationNotFound:break;default:r!==void 0&&at.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),ik(n),this.#i(),Wc.publish({kind:"completionFinished",serverThreadId:this.responseThreadId}),t instanceof ft&&t.code===Cp.ModelCapExceeded){const c=t.detail?.clears_in;c&&(sve(new Date(Date.now()+c*1e3).toISOString()),setTimeout(()=>{pj()},c*1e3))}}#a({gizmoId:t}){Lt(this.clientThreadId,n=>{n.promptGptRating={gizmoId:t}})}#l(t){$j(this.ctx,t.conversation_id,t.title,r6.Generated),this.isSnorlaxEnabledForGizmo||rye(this.ctx,t.conversation_id,t.title),this.maybeSendNotification()}#c(t){const{default_model_slug:n}=t;n&&Lt(this.clientThreadId,s=>{s.modelId=n}),$e(this.ctx,"3315017149")&&ZW(t)&&this.queryClient.invalidateQueries({queryKey:zf()}),IM.updateDetails(t)}#u(t){Cye.updateDetails(t)}#d(t){const{async_status:n}=t;n===kr.REALTIME&&(this.realtimeAsyncCompletion=!0),this.responseThreadId&&Xa(this.responseThreadId,{source:vo.SERVER,value:n}),Xa(this.clientThreadId,{source:vo.SERVER,value:n})}#f(t){const{token:n}=t;this.resumeToken=n??void 0;const r=ln(this.clientThreadId),o=me.getLastMessageSystemHints(r)?.includes(Hs);this.realtimeAsyncCompletion&&o&&U.addAction("agent.conversation.start_succeeded",{conversation_id:t.conversation_id??this.responseThreadId??"",request_id:this.requestId,model:this.model})}#h(t){this.variantsInStreamInfo=t,Lt(this.clientThreadId,n=>{xr.updateTree(n,(r,s)=>{const o=me.getParentPromptNode(n)??r.getNodeByIdOrMessageId(s);r.updateNodeMetadata(o.id,{variantsInStreamInfo:this.variantsInStreamInfo})})})}#p(t){const{isCompletion:n,flagged:r,blocked:s,disclaimers:o}=t,i=!!o?.length&&n;(r||s||i)&&(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged=!0,s&&n&&(this.isCompletionBlocked=!0),W_e(t,this.clientThreadId))}#m(t){const{conversationId:n,url:r,isSafe:s}=t;s&&Lt(n,o=>{o.safeUrls.push(r)})}#g({message:t,conversationId:n}){if(this.activeBranchLastMessage=t,t?.author.role===Ue.Tool&&t?.author.name==="bio"){const r=t.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:Yj(r)})},5e3)}if(t.metadata?.trigger_async_ux&&(this.treatCompletionAsAsync=!0,Xa(this.clientThreadId,{source:vo.SERVER,value:kr.STREAMING})),me.getTree(ln(n)).containsNodeOrMessageId(t.id)){this.messagesToUpdate[t.id]=t,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),Lt(this.clientThreadId,r=>{xr.updateTree(r,(s,o)=>{const i={requestId:this.requestId};t.status!=="in_progress"?i.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(t.id);const a={...t,clientMetadata:i},l=t.metadata?.parent_id;if(l){if(this.placeholderNodeId&&s.getParent(this.placeholderNodeId).id===s.getNodeByIdOrMessageId(l).id)if(aa(a)){s.prependNode(this.placeholderNodeId,a);return}else s.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return s.addMessageNode(l,a)}else{const c=s.findFirst(u=>!aa(u.message));if(c)s.prependNode(c.id,a);else return s.addMessageNode(o,a)}})})}debouncedUpdateExistingMessages=_D(()=>{if(this.isCompletionBlocked)return;const t=Object.values(this.messagesToUpdate);t.length!==0&&(Lt(this.clientThreadId,n=>{xr.updateTree(n,r=>{for(const s of t)r.updateNodeMessage(s.id,s),s.status!=="in_progress"&&(r.updateNodeMetadata(s.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(s.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50});#s(t){this.debouncedUpdateExistingMessages.flush(),Lt(this.clientThreadId,n=>{xr.updateTree(n,r=>{for(const s of this.allIncompleteMessageIds)r.updateNodeMessageMetadata(s,{finish_details:{type:"interrupted"}})})}),this.#o()}#o(){this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged||(this.isFirstCompletionInThread&&this.responseThreadId&&!this.isHistoryAndTrainingDisabled&&!at.checkGate("2562876640")&&aye(this.ctx,this.responseThreadId,this.model),Wc.publish({kind:"completionFinished",serverThreadId:this.responseThreadId})),Wc.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),ik(),this.#i()}maybeSendNotification(){if(this.sentNotification)return;const t=ln(this.clientThreadId),n=t?.title??void 0;if(!n)return;const r=me.getCurrentNode(t).message;if(mS(r)&&!fye(r))return;const s=r.content,o=s?.content_type===Xe.Text?(s.parts[0]??"").replace(/[^a-zA-Z0-9\s]/g,""):void 0;vye({title:n,subtitle:o,clientThreadId:this.clientThreadId}),this.sentNotification=!0}#i(){Lt(this.clientThreadId,t=>{xr.updateTree(t,n=>{for(const r of this.allIncompleteMessageIds)n.updateNodeMetadata(r,{completionSampleFinishTime:Date.now()})})}),this.allIncompleteMessageIds.clear(),setTimeout(()=>{if(this.treatCompletionAsAsync||this.realtimeAsyncCompletion){const t=this.treatCompletionAsAsync?kr.STREAMING:kr.REALTIME,n=r=>{if(!r)return;const s=dS(this.ctx,r);(s==null||s.source===vo.CLIENT)&&Xa(r,{source:vo.SERVER,value:t})};n(this.responseThreadId),n(this.clientThreadId)}else Xa(this.clientThreadId,{source:vo.CLIENT,value:kr.UNREAD});this.maybeSendNotification(),qd.removeRequest(this.requestId),_u.releaseThread(this.clientThreadId)},0)}}function hCe(e,t,n){switch(t){case Jd.High:return n?e.high.proPlan:e.high.default;case Jd.Standard:return e.standard.default}}const pCe=10,mCe=cn(Sa(()=>({requests:{},requestIds:[]}))),vp=(e,t,n)=>{if(!ss(xt()).checkGate("1154002920"))return null;mCe.setState(r=>{if(r.requestIds.length===pCe){const s=r.requestIds.shift();s!=null&&delete r.requests[s]}r.requests[e]??={serverRequestId:null,timeToFirstToken:null,apiStartDelay:null,serverStats:null},r.requests[e][t]=n})},_p={publishServerRequestId:(e,t)=>{vp(e,"serverRequestId",t)},publishServerStats:(e,t)=>{vp(e,"serverStats",t)},publishApiStartDelay:(e,t)=>{vp(e,"apiStartDelay",t)},publishTimeToFirstToken:(e,t)=>{vp(e,"timeToFirstToken",t)}};var K2,kk;function gCe(){if(kk)return K2;kk=1;function e(t){return t===void 0}return K2=e,K2}var vCe=gCe();const _Ce=yn(vCe);var Y2,Ok;function yCe(){if(Ok)return Y2;Ok=1;var e="Expected a function";function t(n){if(typeof n!="function")throw new TypeError(e);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}return Y2=t,Y2}var Z2,Ak;function bCe(){if(Ak)return Z2;Ak=1;var e=Vf(),t=yCe(),n=Bj();function r(s,o){return n(s,t(e(o)))}return Z2=r,Z2}var CCe=bCe();const SCe=yn(CCe);function wCe(e){return typeof e=="number"?Math.trunc(e):e}const ECe=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message"];class OU{ctx;start_time_ms;turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;first_visible_content_token_lat;first_nav_link_token_lat;last_model_message_received;api_start_time;time_since_last_event_ms;api_start_delay;completion_request_time_to_first_visible_message;model_slug;last_message_model_slug;tools_used;system_hints;gizmo_id;promptSentTimestamp;serverStats;serverSteMetadata;logger;server_request_id;client_request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!0;gizmo_type;isStreamOpen=!1;isTemporaryChat;messageMarkerLatencies={};constructor({ctx:t,clientRequestId:n,gizmoType:r,preflightTime:s,isTemporaryChat:o}){this.ctx=t,this.client_request_id=n,this.start_time_ms=performance.now(),this.turn_id=Cs(),this.promptSentTimestamp=s??performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=jC.createLogger("turn-analytics","info","http"),r&&(this.gizmo_type=r),this.isTemporaryChat=o}truncateValueForKey(t){const n=wCe(this[t]);n!==void 0&&(this[t]=n)}onUserMessages(t){t.forEach(n=>{n.author.role==="user"&&(n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1}),n.metadata?.system_hints?.forEach(r=>{this.system_hints.add(r)}))})}addServerPerfStats(t){_p.publishServerStats(this.client_request_id,t),this.serverStats=t}addServerSteMetadata(t){this.serverSteMetadata=t.metadata}onMessageMarker(t){const r=`${t.event}_received`;this.messageMarkerLatencies[t.marker]={...this.messageMarkerLatencies[t.marker],[r]:performance.now()-this.promptSentTimestamp}}onStreamOpen(){this.isStreamOpen=!0,this.logCompletionStarted()}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:Wo.Success}):this.logCompletion({type:Wo.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onReceivedServerRequestId(t){this.server_request_id=t,_p.publishServerRequestId(this.client_request_id,this.server_request_id)}onStreamEvent(t,n){this.bytes_received+=t,n||(this.stream_update_event_count+=1)}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp,_p.publishApiStartDelay(this.client_request_id,this.api_start_delay)}onMessageUpdate(t){const{model_slug:n,gizmo_id:r}=t.metadata??{},{role:s,name:o}=t.author;if(this.gizmo_id=this.gizmo_id??r,s===Ue.Tool&&o&&this.tools_used.add(o),s!==Ue.User&&s!==Ue.System&&s!==Ue.Developer&&s!==Ue.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now(),this.last_message_model_slug=n??this.last_message_model_slug),!this.first_token_lat&&t.author.role!==Ue.User&&vm(t)&&zg(t).length>0){const i=performance.now();this.first_token_lat=i-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=i-this.api_start_time),_p.publishTimeToFirstToken(this.client_request_id,this.first_token_lat)}!this.first_visible_content_token_lat&&t.author.role===Ue.Assistant&&vm(t)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp),!this.first_nav_link_token_lat&&Mo(t)===we.SuperWidget&&t.content.widgets.navlinks.length>0&&(this.first_nav_link_token_lat=performance.now()-this.promptSentTimestamp)}handleAbort(t){this.logCompletion({type:Wo.Canceled})}handleRawError(t){let n,r=null,s=null;t instanceof Error?(r=t.message??"Something went wrong",s=t instanceof ft?t.status:void 0):r=t,s===400||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:Wo.Error,error:{reason:n,message:r,...s&&{status_code:s}}})}getFeatureFlags(){const t={"resumable-streaming":Wt(this.ctx,"2489999880",{disableExposureLog:!0}).get("is_resume_enabled",!1)},n=Object.entries(t),r=n.filter(([o,i])=>i).map(([o])=>o),s=n.filter(([o,i])=>!i).map(([o])=>o);return{enabled_feature_flags:r,disabled_feature_flags:s}}createLogPayload(){const{enabled_feature_flags:t,disabled_feature_flags:n}=this.getFeatureFlags(),r={turn_id:this.turn_id,trigger:this.trigger,result:eo(this.result?.type),...this.result?.type===Wo.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,first_visible_content_token_lat:this.first_visible_content_token_lat,first_nav_link_token_lat:this.first_nav_link_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used],system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},temporary_chat:this.isTemporaryChat,gizmo_type:this.gizmo_type,server_ste_metadata:this.serverSteMetadata,message_marker_latencies:this.messageMarkerLatencies,enabled_feature_flags:t,disabled_feature_flags:n};return{request_id:this.server_request_id,turn_analytics:r}}createStatsigPayload(){return SCe({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===Wo.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used].join(", "),system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),temporary_chat:String(this.isTemporaryChat),gizmo_type:this.gizmo_type,server_ste_metadata:JSON.stringify(this.serverSteMetadata),message_marker_latencies:JSON.stringify(this.messageMarkerLatencies)},_Ce)}logCompletionStarted(){V.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_started","chatgpt_conversation_turn_turn_exchange_started",this.createStatsigPayload())}logCompletion(t){if(this.completed)return;const n=performance.now();lr.count(Xn.DEFAULT,"completion_request"),lr.hist(Xn.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=t;for(const r of ECe)this.truncateValueForKey(r);this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received),t.type===Wo.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),V.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_complete","chatgpt_conversation_turn_turn_exchange_complete",this.createStatsigPayload())}}function mxe(e){return QZ(e)&&!tJ(e)}const yp=50,xCe=95;function gxe(e,t){if(e<=t)return e/t*yp;{const n=yp,r=xCe-yp,s=e-t,i=-(yp/t)/r;return n+r*(1-Math.exp(i*s))}}class TCe{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,s,o){const i=this.mostRecentCompletionRequest;i!=null&&!this.loggedRequests.has(t)&&me.getNode(ln(n),r).message.clientMetadata?.requestId===i.requestId&&(V.logEvent(t,{messageId:r,timeMs:Date.now()-i.timestamp,...s}),o?.(),this.loggedRequests.add(t))}}const kCe=new TCe;function vxe(e){return(e.find(s=>s.metadata?.image_search_results!==void 0)?.metadata?.image_search_results??[]).slice(0,5)}function AU(e,t){if($e(e,"1627380539"))return"gpt-5";switch(fn(e)?.planType){case it.FREE:return t?"gpt-4o":"auto";case void 0:return"auto";default:return"gpt-4o"}}function OCe(e){return e instanceof KeyboardEvent||"key"in e||"detail"in e&&e.detail===0?"keyboard":"mouse"}function MU(e){return e!=null&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}const IU=Rj(()=>wt(!1));function ACe(e){return IU(e)()}function RU(e,t){IU(e).set(t)}function NU(e,t){const n=ln(t)?.mode,r=n&&"gizmo_id"in n?n.gizmo_id:null;if(r!=null)return J0e(e,r)?Rl.PROJECT:Rl.GPT}const MCe="https://challenges.cloudflare.com/turnstile/v0/api.js",ICe={[Hd.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[Hd.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[Hd.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class Jm{toString(){return JSON.stringify(this.toJSON())}}class J2 extends Jm{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class RCe extends Jm{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class NCe{app=Hd.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;enforcementTokenCache=new WeakMap;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new J2("Turnstile instance not initialized."))}getEnforcementTokenSync(t){return this.enforcementTokenCache.get(t)??null}async getEnforcementToken(t){return t.turnstile?.dx?HC(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?t.turnstile?.dx?HC(t.turnstile.dx).then(n=>(n&&this.enforcementTokenCache.set(t,n),n)):this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof Jm||r===null?r:new Promise((s,o)=>{this.setOnCompleted(i=>{const a=performance.now()-this.requestStartTimeMs;U.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:a}),s(i)}),this.setOnError(i=>{if(!n)this._getEnforcementToken(t,!0).then(s,o);else{const a=performance.now()-this.requestStartTimeMs;U.addAction("turnstile_get_token_error",{app_release:"b75083646cc93698cf8032b6afb1acf9ad5d8b7d",error:i,app:this.app.toString(),durationMs:a}),s(new RCe(i))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof Jm||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const s="onloadTurnstileCallback";Object.defineProperty(window,s,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:c}=window;if(c===null){this.setStatus("error"),t?(U.addAction("turnstile_instance_missing",{app_release:"b75083646cc93698cf8032b6afb1acf9ad5d8b7d",app:this.app.toString()}),n(new J2("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}c.render("#"+o,{sitekey:ICe[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(c)}});const o="cf-turnstile",i="cf-turnstile-script";document.getElementById(o)?.remove(),document.getElementById(i)?.remove();const a=document.createElement("div");a.id=o,a.hidden=!0,document.body.appendChild(a),this.setStatus("loading");const l=document.createElement("script");l.id=i,l.src=MCe+`?onload=${s}`,l.async=!0,l.defer=!0,l.onerror=()=>{this.setStatus("error"),t?(U.addAction("turnstile_script_load_error",{app_release:"b75083646cc93698cf8032b6afb1acf9ad5d8b7d",app:this.app.toString()}),n(new J2("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(l)}),this.turnstileInstancePromise}}const Mk=new NCe;function PCe(e,t){const n=$e(e,"3530414009"),r=!!t?.prefetchIds?.length,s=performance.now(),o=[],i=R2e();if(i==null)return o.push("chatReq"),N2e().then(a);return a(i);function a(l){l.force_login&&fu(e,{authType:"login"});const c=Mk.getEnforcementTokenSync(l);if(c==null)return o.push("turnstile"),Mk.getEnforcementToken(l).then(u);return u(c);function u(d){const f=performance.now(),p=VC.getEnforcementTokenSync(l);if(p==null)return o.push("proofofwork"),VC.getEnforcementToken(l,{forceSync:r&&n}).then(g);return g(p);function g(v){const _=String(performance.now()-f),y=o.includes("chatReq")?"false":"true",b=o.includes("turnstile")?"false":"true",w=o.includes("proofofwork")?"false":"true";return lr.hist(Xn.DEFAULT,"chat_req_time",[{key:"wasChatReqSync",value:y},{key:"wasTurnstileSync",value:b},{key:"wasProofofworkSync",value:w}],performance.now()-s),Qp(xt(),{eventName:"chatgpt_web_completion_integrity_checks",value:o.length===0?"true":"false",metadata:{wasChatReqSync:y,wasTurnstileSync:b,wasProofofworkSync:w,isPrefetchInitialLoad:r?"true":"false",powTime:_}}),{chatReq:l,turnstileToken:d,proofToken:v}}}}}async function DCe({ctx:e,clientThreadId:t,requestedModelId:n,completionType:r=zc.Next,sourceEvent:s,eventSource:o,completionMetadata:i,extraStreamParams:a,parentMessageId:l,promptMessage:c,existingMessages:u,prependMessages:d,appendMessages:f,profiler:p,skipNotification:g,isReasoningSkipped:v,parentMessageIdPromise:_}){RU(Aa(e,t),!0);const y=ma(e),b=s?.timeStamp??performance.now(),w=o??(s?OCe(s):"mouse"),C=EN(),S=`request-${t}-${C}`,E=ln(t),{conduitToken:x=null,prepareState:T="none",lastPrepareTimestamp:k=null}=E??{},O=n??E?.modelId??rj($I(y))?.id??AU(xt(),!1),A=me.findNode(E,ee=>ee.message.author.role===Ue.Assistant||ee.message.author.role===Ue.Tool)==null,M=E?.continuingFromSharedConversationId!=null,I=E?.continuingFromSharedProjectConversationId!=null,N=!!E?.continuingFromSharedPostId,q=l?me.getNode(E,l):u?.[0]?me.getParentNode(E,u[0].id):me.getCurrentNode(E);let P=q.message.id??q.id;const D=[...u??[],...d??[],...c?[c]:[],...f??[]],R=NU(e,t),B=new OU({ctx:e,clientRequestId:S,gizmoType:R,preflightTime:b,isTemporaryChat:N5()});if(B.onUserMessages(D),R===Rl.PROJECT&&A&&!rg(e,"269676899",{disableExposureLog:!0}).get("clear_all",!1)){const ee=i?.systemHints;ID(e).set(X=>({...X,[t]:ee??[]}))}const Y=R5(e),Me=oX(),Fe=qt.getItem(Et.ModelSlugStatsOverride),pe=new kU(e,S,y,E,t,l,d,c,f,r,O,w,Y,b,R===Rl.PROJECT,A,M,I,B,g??!1,Me,N,v,Fe),ge=i?.systemHints?.includes(Hs),Se=to();Se&&c&&ge&&Hr.signalAgentConversationSentMessage(t),ge&&U.addAction("agent.conversation.start_attempted",{client_thread_id:String(t),model:O});const se=jj(t);if(Wc.publish({kind:"requestCompletion"}),Xa(t,{source:vo.CLIENT,value:ge?kr.REALTIME:kr.STREAMING}),kCe.onCompletionRequestStarted(S),pe.updateBeforeRequest(),dS(e,t)?.value===kr.REALTIME){const ee=await se;ee?.last_message_id&&(P=ee.last_message_id)}if(_){const ee=await _;ee&&(P=ee)}const G=PCe(e,i),{chatReq:ue,turnstileToken:oe,proofToken:_e}=MU(G)?await G:G;y.getQueriesData(_m())==null&&await y.ensureQueryData(_m()),M_e()&&(await I_e()).forEach(Ie=>{Ie.status==="fulfilled"&&Ie.value&&D.unshift(Ie.value)}),B.onCompletionStarted(r,O),pe.preflightTime=performance.now()-b;const st=fS(e);if(U.addFeatureFlagEvaluation("fast_convo",st),st&&k!=null){const ee=performance.now()-k;ee<=6e4&&lr.hist(Xn.DEFAULT,"fast_conversation_last_prepare_to_convo_client",[{key:"model_id",value:O},{key:"prepare_state",value:String(T)},{key:"has_conduit_token",value:x!=null?"true":"false"}],ee)}st&&Se&&lr.count(Xn.DEFAULT,"client_request_conduit_token",[{key:"has_conduit_token",value:x!=null?"true":"false"}]),await pe.sendRequest$({conduitToken:x,turnstileToken:oe,proofToken:_e,completionMetadata:i,resolvedParentMessageId:P,messages:D,extraStreamParams:a,chatReq:ue,profiler:p})}async function _xe({ctx:e,clientThreadId:t,completionType:n,token:r,conversationId:s,preflightTime:o}){const i=Aa(e,t);if(al(()=>ACe(i)))return;RU(i,!0);const a=o??performance.now(),l=ma(e),c=NU(e,t),d=ln(t)?.modelId??rj($I(l))?.id??AU(xt(),!1);Xa(t,{source:vo.CLIENT,value:kr.STREAMING});const f=EN(),p=`request-${t}-${f}`,g=new OU({ctx:e,clientRequestId:p,gizmoType:c,preflightTime:a,isTemporaryChat:N5()});ln(t)||_u.initThread({clientThreadId:t,conversationMode:{kind:an.PrimaryAssistant},modelId:d,userId:void 0,accountId:void 0}),_u.retainThread(t);const v=new kU(e,p,l,void 0,t,void 0,void 0,void 0,void 0,n,d,"url",R5(e),a,c===Rl.PROJECT,!1,!1,!1,g,void 0,!1,void 0,void 0,void 0,{disablePlaceholder:!0});v.preflightTime=0,await v.sendResumeRequest$({conversationId:s,resumeToken:r,profiler:void 0})}const LCe=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M4.12916 6.71647C3.30231 7.66684 2.69669 8.64386 2.31959 9.33561L2.1399 9.67643C2.03481 9.88215 2.03489 10.1172 2.1399 10.3229L2.31959 10.6637C2.79011 11.5269 3.61393 12.8363 4.78346 13.9811C6.11816 15.2875 7.85464 16.3346 10.0003 16.3346C11.1135 16.3346 12.116 16.0511 13.01 15.5973L13.9905 16.5778C12.8512 17.2276 11.5215 17.6646 10.0003 17.6647C7.38789 17.6647 5.33564 16.3827 3.8528 14.9313C2.55744 13.6633 1.65876 12.2312 1.14967 11.2965L0.955334 10.9284C0.6562 10.3426 0.656129 9.65668 0.955334 9.07096L1.14967 8.7028C1.56617 7.93819 2.24311 6.84027 3.18483 5.77213L4.12916 6.71647Z"}),h.createElement("path",{d:"M2.52955 2.52897C2.75682 2.30194 3.10844 2.27358 3.36647 2.44401L3.47096 2.52897L17.471 16.529L17.5559 16.6335C17.7264 16.8915 17.698 17.2431 17.471 17.4704C17.2437 17.6976 16.8922 17.7258 16.634 17.5553L16.5296 17.4704L2.52955 3.47037L2.44459 3.36588C2.27419 3.10776 2.30233 2.75619 2.52955 2.52897Z"}),h.createElement("path",{d:"M10.0003 2.33463C12.6124 2.33477 14.664 3.61673 16.1467 5.06803C17.6273 6.51728 18.5903 8.18058 19.0452 9.07096L19.1428 9.29557C19.311 9.75097 19.3109 10.2483 19.1428 10.7038L19.0452 10.9284C18.6628 11.6768 17.9199 12.9706 16.8137 14.2253L15.8714 13.2829C16.8454 12.1631 17.5118 11.0058 17.8606 10.3229L17.8948 10.2448C17.9539 10.0856 17.954 9.91374 17.8948 9.75455L17.8606 9.67643C17.4383 8.84982 16.5534 7.32638 15.2171 6.01822C13.8824 4.71194 12.1457 3.66485 10.0003 3.66471C8.88688 3.66471 7.88357 3.94723 6.98951 4.40104L6.00905 3.42057C7.14849 2.77093 8.47916 2.33463 10.0003 2.33463Z"}),h.createElement("path",{d:"M7.78053 10.3678C7.93665 11.3159 8.68321 12.0619 9.63112 12.2184L10.8831 13.4704C10.6006 13.5421 10.305 13.5817 10.0003 13.5817C8.02216 13.5817 6.41822 11.9778 6.41822 9.99967C6.41825 9.69449 6.45574 9.39775 6.5276 9.1149L7.78053 10.3678Z"}),h.createElement("path",{d:"M10.0003 6.41764C11.9781 6.41787 13.5811 8.02186 13.5813 9.99967C13.5813 10.304 13.5414 10.5994 13.47 10.8815L12.219 9.63053C12.0623 8.68292 11.3162 7.93616 10.3684 7.77994L9.11549 6.52701C9.39833 6.45518 9.69509 6.41764 10.0003 6.41764Z"})),FCe=e=>h.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},h.createElement("path",{d:"M16.0012 6.09038C16.0012 5.74214 15.8209 5.42299 15.5315 5.24175L15.4016 5.17241L10.4016 2.98491C10.1776 2.8869 9.9263 2.87423 9.69556 2.9478L9.59888 2.98491L4.59888 5.17241C4.23428 5.33192 3.99829 5.69242 3.99829 6.09038V10.8335C3.99834 12.3761 4.58097 13.7821 5.53735 14.8453C6.5736 13.5214 8.18682 12.6685 10.0002 12.6685C11.8135 12.6686 13.426 13.5216 14.4622 14.8453C15.4186 13.7821 16.0012 12.3762 16.0012 10.8335V6.09038ZM10.0002 13.9986C8.58354 13.9986 7.32514 14.6781 6.53345 15.731C7.5127 16.4254 8.70843 16.8355 10.0002 16.8355C11.2918 16.8354 12.4869 16.4252 13.4661 15.731C12.6744 14.6783 11.4167 13.9987 10.0002 13.9986ZM11.6262 8.54155C11.6261 7.64334 10.8984 6.91477 10.0002 6.9146C9.1019 6.9146 8.37336 7.64323 8.37329 8.54155C8.37329 9.43993 9.10186 10.1685 10.0002 10.1685C10.8985 10.1683 11.6262 9.43983 11.6262 8.54155ZM12.9563 8.54155C12.9563 10.1744 11.633 11.4984 10.0002 11.4986C8.36732 11.4986 7.04321 10.1745 7.04321 8.54155C7.04328 6.90869 8.36737 5.5855 10.0002 5.5855C11.633 5.58567 12.9562 6.9088 12.9563 8.54155ZM17.3313 10.8335C17.3312 14.8825 14.0492 18.1644 10.0002 18.1646C5.95114 18.1646 2.66831 14.8826 2.66821 10.8335V6.09038C2.66821 5.16401 3.21698 4.32497 4.06567 3.95366L9.06567 1.76616L9.29224 1.6812C9.82924 1.51009 10.4135 1.53807 10.9348 1.76616L15.9348 3.95366L16.0901 4.02886C16.8496 4.43032 17.3313 5.22192 17.3313 6.09038V10.8335Z"})),jCe="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566";function UCe({onClose:e,onConfirm:t}){return m.jsxs(pi,{testId:"modal-odyssey-takeover-nux",isOpen:!0,onClose:e,shouldIgnoreClickOutside:!0,onEscapeKeyDown:()=>{},className:"w-[420px]! p-2",children:[m.jsx("div",{className:"flex w-full flex-col items-center pt-2 text-center",children:m.jsx("div",{className:"text-xl font-semibold text-balance",children:m.jsx(ie,{id:"0hMe9z",defaultMessage:"You’re about to control ChatGPT’s browser"})})}),m.jsx("div",{className:"border-token-border-default mt-6 mb-8 rounded-2xl border",children:m.jsxs("div",{className:"divide-token-border-default flex flex-col divide-y px-4",children:[m.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[m.jsx(LCe,{className:"h-6 w-6 shrink-0"}),m.jsxs("div",{children:[m.jsx("div",{className:"pb-0.5 font-medium",children:m.jsx(ie,{id:"+htsoa",defaultMessage:"ChatGPT won’t take screenshots"})}),m.jsx("div",{className:"text-token-text-secondary",children:m.jsx(ie,{id:"jNhK03",defaultMessage:"Only you can see info you enter (like passwords) while you’re in control."})})]})]}),m.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[m.jsx(FCe,{className:"h-6 w-6 shrink-0"}),m.jsxs("div",{children:[m.jsx("div",{className:"pb-0.5 font-medium",children:m.jsx(ie,{id:"Ip50c4",defaultMessage:"Your browser session will be saved"})}),m.jsx("div",{className:"text-token-text-secondary",children:m.jsx(ie,{id:"qE+5u7",defaultMessage:"This will keep you signed into sites after you finish. You can manage this in Settings."})})]})]}),m.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[m.jsx(vu,{className:"h-6 w-6 shrink-0 text-[#E25507] dark:text-[#FF9E6C]"}),m.jsxs("div",{children:[m.jsx("div",{className:"pb-0.5 font-medium text-[#E25507] dark:text-[#FF9E6C]",children:m.jsx(ie,{id:"2OxBmy",defaultMessage:"This may put your data at risk"})}),m.jsx("div",{className:"text-[#E25507] opacity-80 dark:text-[#FF9E6C]",children:m.jsx(ie,{id:"JGhrvI",defaultMessage:"Signing ChatGPT into websites can expose your data to malicious sites. {learnMoreLink}",values:{learnMoreLink:m.jsx("a",{href:jCe,target:"_blank",rel:"noopener noreferrer",className:"underline",children:m.jsx(ie,{id:"L9XdfE",defaultMessage:"Learn more"})})}})})]})]})]})}),m.jsxs("div",{className:"flex w-full flex-row gap-3",children:[m.jsx(sn,{size:"large",color:"secondary",className:"flex flex-1",onClick:e,children:m.jsx(ie,{id:"qz9XeG",defaultMessage:"Cancel"})}),m.jsx(sn,{size:"large",color:"primary",className:"flex flex-1",onClick:()=>{t(),e()},children:m.jsx(ie,{id:"h00sr3",defaultMessage:"I understand"})})]})]})}const BCe=(e,t=!1)=>e==="web"?In.Web:e==="cloud"?In.Cloud:ine[e]??(t?e:void 0),qCe=(e,t=!1)=>Array.from(e.values()).map(n=>BCe(n,t)).filter(Boolean);var PU=(e=>(e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.NewOnboardingConvo="oai/apps/hasSeenNewUserOnboardingConvo",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenComposerContextualAnswerTooltip="oai/apps/hasSeenComposerContextualAnswerTooltip",e.hasSeenContextualAnswerAdminNuxModal="oai/apps/hasSeenContextualAnswerAdminNuxModal",e.hasSeenContextualAnswerUserNuxModal="oai/apps/hasSeenContextualAnswerUserNuxModal",e.hasSeenConnectorsNuxModal="oai/apps/hasSeenConnectorsNuxModal",e.hasSeenGoogleConnectorsNuxModal="oai/apps/hasSeenGoogleConnectorsNuxModal",e.hasSeenContextualAnswerGoogleSyncFinished="oai/apps/hasSeenContextualAnswerGoogleSyncFinished",e.hasSeenConnectorsSourcesPillTooltip="oai/apps/hasSeenConnectorsSourcesPillTooltip",e.hasSeenConnectorsUpgradeFileAccessModal="oai/apps/hasSeenConnectorsUpgradeFileAccessModal",e.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenMaverick="oai/apps/hasSeenMaverick",e.hasSeenMaverickCapi="oai/apps/hasSeenMaverickCapi",e.hasSeenTrailBlazer="oai/apps/hasSeenTrailBlazer",e.hasSeenStratos="oai/apps/hasSeenStratos",e.hasSeenStarpath01="oai/apps/hasSeenStarpath01",e.hasSeenStarpath02="oai/apps/hasSeenStarpath02",e.hasSeenStarpath03="oai/apps/hasSeenStarpath03",e.hasSeenStarpath04="oai/apps/hasSeenStarpath04",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.DesktopOperatorAnnouncement="oai/apps/hasSeenDesktopOperatorAnnouncement",e.DesktopClassmatesPromotionAnnouncement="oai/apps/hasSeenDesktopClassmatesPromotionAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.NewStaticOnboardingFlow="oai/apps/hasSeenStaticOnboarding",e.NewPromptOnboardingFlow="oai/apps/hasSeenPromptOnboarding",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",e.hasSeenProjectsUpdateNuxTooltip="oai/apps/hasSeenProjectsUpdateNuxTooltip",e.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",e.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",e.hasSeenMoonshineNuxV2="oai/apps/hasSeenMoonshineNuxV2",e.hasSeenInlineFeedbackCustomInstrMessage="oai/apps/hasSeenInlineFeedbackCustomInstrMessage",e.hasSeenCaSystemHint="oai/apps/hasSeenCaSystemHint",e.hasDismissedPromoRedemption="oai/apps/hasDismissedPromoRedemption",e.hasSeenFilePickerNuxTooltip="oai/apps/hasSeenFilePicker",e.hasSeenMultipleGPTEditorsTooltip="oai/apps/hasSeenMultipleGPTEditorsTooltip",e.hasSeenSharedProjectsTooltip="oai/apps/hasSeenSharedProjectsTooltip",e.hasSeenPhoenixNux="oai/apps/hasSeenPhoenixNux",e.hasSeenPhoenixFreeNux="oai/apps/hasSeenPhoenixFreeNux",e.hasSeenAshwingNux="oai/apps/hasSeenAshwingNux",e.hasDismissedReferrerRedemption="oai/apps/hasDismissedReferrerRedemption",e.hasDismissedRefereeRedemption="oai/apps/hasDismissedRefereeRedemption",e.hasSeenReferralUpsellAnnouncement="oai/apps/hasSeenReferralProgramUpsell",e.hasSeenTatertotIntakeForm="oai/apps/hasSeenTatertotIntakeForm",e.hasSeenComposerBigBoxEnterHint="oai/apps/hasSeenComposerBigBoxEnterHint",e.d2dee219="oai/apps/d2dee219",e.hasSeenStudentsUpsellAnnouncement="oai/apps/hasSeenStudentsUpsellAnnouncement",e.hasSeenMemoryUpdatedTooltip="oai/apps/hasSeenMemoryUpdatedTooltip",e.hasSeenTeamsContextualAnswersUpsell="oai/apps/hasSeenTeamsContextualAnswersUpsell",e.hasSeenO3O4MiniAutomations="oai/apps/hasSeenO3O4MiniAutomations",e.hasSeenn7jupdNux="oai/apps/hasSeenn7jupdNux",e.hasSeenTatertotNux="oai/apps/hasSeenTatertotNux",e.hasSeenAudioParagenPrompt="oai/apps/hasSeenAudioParagenPrompt",e.hasSeenOdysseyConnectorsModal="oai/apps/hasSeenOdysseyConnectorsModal",e.hasSeenOdysseyTakeoverModal="oai/apps/hasSeenOdysseyTakeoverModal",e.hasSeenAgentModeAnnouncementBanner="oai/apps/hasSeenAgentModeAnnouncementBanner",e.hasSeenBurritoNux="oai/apps/hasSeenBurritoNux",e.hasSeenWorkspaceDiscoveryFirstLogin="oai/apps/hasSeenWorkspaceDiscoveryFirstLogin",e))(PU||{});function GCe(){"use forget";return ZM(VCe)}function VCe(e){return e.eligible_announcements}function HCe(e){"use forget";const t=ke.c(16),{data:n,isLoading:r}=GCe();let s;t[0]!==n?(s=n===void 0?[]:n,t[0]=n,t[1]=s):s=t[1];const o=s,{mutate:i}=zCe(),{mutate:a}=WCe();let l;t[2]!==e||t[3]!==i?(l=()=>i({key:e}),t[2]=e,t[3]=i,t[4]=l):l=t[4];const c=l;let u;t[5]!==e||t[6]!==a?(u=()=>a({key:e}),t[5]=e,t[6]=a,t[7]=u):u=t[7];const d=u;let f;t[8]!==o||t[9]!==e?(f=o.includes(e),t[8]=o,t[9]=e,t[10]=f):f=t[10];let p;return t[11]!==r||t[12]!==c||t[13]!==d||t[14]!==f?(p={eligible:f,markAsViewed:c,markAsViewedDontInvalidateCache:d,isLoading:r},t[11]=r,t[12]=c,t[13]=d,t[14]=f,t[15]=p):p=t[15],p}function zCe(){"use forget";const e=ke.c(2),t=Pr();let n;return e[0]!==t?(n={mutationFn:$Ce,onMutate:r=>{const{key:s}=r;t.getQueryData(yo().queryKey)?.persistent_announcements?.includes(s)||t.setQueryData(yo().queryKey,i=>i&&{...i,eligible_announcements:i.eligible_announcements.filter(a=>a!==s)})},onSuccess:()=>{t.invalidateQueries(yo())}},e[0]=t,e[1]=n):n=e[1],er(n)}function $Ce(e){const{key:t}=e;return Q.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}function WCe(){"use forget";const e=ke.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:KCe},e[0]=t):t=e[0],er(t)}function KCe(e){const{key:t}=e;return Q.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}const yxe=h.createContext(()=>Promise.resolve()),YCe=h.createContext(null),ZCe=()=>h.useContext(YCe)!=null;h.createContext({onDismount:()=>{}});const JCe="I took control of the virtual browser. If you're unsure what changed, ask for more context. If the task is complete, just acknowledge and wrap it up. Otherwise, please proceed.",Qn=cn(()=>({token:null,clientThreadId:null,isOpen:!1,isResuming:!1,parentMessageId:null,vmId:null,abortPromise:null})),bxe=(e,t)=>{Qn.setState(n=>({...n,clientThreadId:e,token:t}))},XCe=()=>{const e=ae(),t=HCe(PU.hasSeenOdysseyTakeoverModal),{clientThreadId:n}=Qn(),r=_i(n??void 0,a=>me.findNode(a,l=>l.message.author.name==="n7jupd.metadata"));if(!n)return()=>{gs.info("VNC modal opened without a client thread id")};const s=async a=>{const l=Ys(a);if(l)return await Q.safePost("/conversation/{conversation_id}/agent/resume",{parameters:{path:{conversation_id:l}}})},o=()=>{if(!to()||!r?.message.metadata?.kaur1br5_mode)return Promise.resolve(!1);const a=Ys(n);if(!a)return gs.info("Agent viewer opened without a server thread id"),Promise.resolve(!1);try{const c=dh()?.tryOpenAgentViewer(a)??!1;return Promise.resolve(c)}catch{return gs.error("Failed to open local agent viewer - error thrown"),Promise.resolve(!1)}},i=async()=>{if(await o()){gs.info("Opened VNC modal with local agent viewer");return}Qn.setState({isResuming:!0}),Qn.setState({isOpen:!0}),jd.setSidebarOpen(!1);let a;U.addAction("agent.conversation.resume_rpc_attempted",{client_thread_id:n});try{a=await s(n),a?U.addAction("agent.conversation.resume_rpc_succeeded",{client_thread_id:n,vm_id:a.vm_id??""}):U.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"no_response"})}catch(l){U.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"exception",error:l})}Qn.setState({isResuming:!1,vmId:a?.vm_id}),LU({})};return async()=>{if(t.eligible){bg(e,UCe,{onConfirm:async()=>{t.markAsViewed(),await i()}});return}await i()}},QCe=async(e,{startNewTurn:t})=>{Qn.setState({isOpen:!1}),await FU(e,{startNewTurn:t})},e3e=e=>{const t=Vg("",{is_takeover_ended_message:!0,system_hints:[Hs]});(t.clientMetadata||={}).isPlaceholder=!0,Lt(e,n=>{xr.appendMessage(n,t)})},DU=e=>{Lt(e,t=>{xr.updateTree(t,n=>{const r=n.nodes.filter(s=>{const o=s.message?.metadata;return s.message?.clientMetadata?.isPlaceholder&&o?.is_takeover_ended_message&&o?.system_hints?.includes(Hs)});for(const s of r)n.updateNodeMetadata(s.id,{isPlaceholder:!1})})})},t3e=e=>{DU(e)},LU=async({showPlaceholderMessage:e=!1})=>{const{clientThreadId:t}=Qn.getState();if(!t){gs.info("VNC takeover started without a client thread id");return}const n=await jU();e&&e3e(t),Qn.setState({parentMessageId:n?.last_message_id??null})},FU=async(e,{startNewTurn:t,waitForAbortCompletion:n=!1})=>{const{clientThreadId:r}=Qn.getState();if(!r){gs.info("VNC modal closed without a client thread id");return}if(!t)return;const s=n3e(),{abortPromise:o}=Qn.getState();o&&n&&await o,DU(r);const a=ln(r)?.selectedSources?.get(Hs);await DCe({ctx:e,clientThreadId:r,eventSource:"mouse",promptMessage:Vg(JCe,{is_takeover_ended_message:!0,system_hints:[Hs],...a&&{selected_sources:qCe(a)}}),parentMessageIdPromise:s,completionMetadata:{systemHints:[Hs],conversationMode:{kind:an.PrimaryAssistant}}})},jU=()=>{const{clientThreadId:e}=Qn.getState();if(!e)return gs.info("stopAgent called without a client thread id"),Promise.resolve(void 0);const t=jj(e,void 0,!0).then(n=>n).finally(()=>{Qn.setState({abortPromise:null})});return Qn.setState({abortPromise:t}),t},n3e=(e=5e3)=>new Promise(t=>{const{parentMessageId:n}=Qn.getState();if(n)return t(n);const r=setTimeout(()=>{s(),t(void 0)},e),s=Qn.subscribe(o=>{o.parentMessageId&&(t(o.parentMessageId),clearTimeout(r),s())})}),Cxe=()=>{Qn.setState({token:null,clientThreadId:null,isOpen:!1})},Sxe=()=>{const e=XCe(),t=Qn(s=>({token:s.token,clientThreadId:s.clientThreadId,isOpen:s.isOpen,isResuming:s.isResuming,vmId:s.vmId,open:e,close:QCe})),r=!ZCe();return h.useMemo(()=>({...t,isVNCEnabled:r}),[t,r])};function r3e(){const e=es(Hr.wantsHandleAgentRequest$),t=es(Hr.wantsAgentConversationSentMessage$),n=ae();h.useEffect(()=>{if(!e)return;Hr.wantsHandleAgentRequest$.set(!1);const r=Hr.agentRequest;if(r)switch(r){case"startTakeoverFromAgent":{LU({showPlaceholderMessage:!0});break}case"endTakeoverFromAgent":{FU(n,{startNewTurn:!0,waitForAbortCompletion:!0});break}case"stopAgent":{jU();break}}},[e,n]),h.useEffect(()=>{if(!t)return;Hr.wantsAgentConversationSentMessage$.set(!1);const r=Hr.agentConversationSentMessage;if(!r)return;const{clientThreadId:s}=r;t3e(s),(async()=>{try{const o=Aa(n,s);await JV(()=>o.serverId$()!=null);const i=o.serverId$();if(!i){gs.warn("could not resolve server id for sent agent message");return}dh()?.userSentMessageInAgentConversation(i)}catch(o){gs.error("error sending notification of sent agent message",{error:o})}})()},[t,n])}function Ik(e,t,n,r,{name:s,value:o}){const i=new URLSearchParams(e);i.get(s)!==o&&(i.set(s,o),r({pathname:t,search:i.toString(),hash:n},{replace:!0}))}function s3e(){const e=rs(),t=Qs(),[n,r]=NA(l=>[O3(l),RA(l)]),s=ae(),o=vn(s),i=es(Hr.wantsAuthSessionContext$);r3e();const a=S_e();return h.useEffect(()=>{a&&(o?a.recordAvailableSessionAuth():a.onMissingSessionAuth())},[a,o]),h.useEffect(()=>{if(!i)return;Hr.wantsAuthSessionContext$.set(!1);const l=Hr.authSessionContext;if(l)switch(l.behavior){case"justLoggedInAccessToken":o&&AA(s,l.authToken.accessToken);break;case"reloadPageIfLoggedOut":o||window.location.reload();break}},[o,s,i]),h.useEffect(()=>{n&&Ik(e.search,e.pathname,e.hash,t,DH),r&&Ik(e.search,e.pathname,e.hash,t,LH),r?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},[e.pathname,e.search,e.hash,t,n,r]),null}const o3e="sourcesSidebar",i3e="initialPageLoad";function Rk(e){return e.type==="summarizer"}function wu(e){return e.type==="searchSources"}function Nk(e){return e.type==="caterpillar"}function Xm(e){return e.type==="retrievalResults"}function Qm(e){return e.type==="product"}function Pk(e){return e.type==="entity"}function Dk(e){return e.type==="n7jupdSources"}function Lk(e){return e.type==="codingCitations"}class Ll extends uh()(t=>t){static getIsOpen=({isOpen:t})=>t;static getActiveSidebar=({activeSidebar:t})=>t;openThreadSidebar=t=>{f3e(t),this.setState({isOpen:!0,activeSidebar:t})};updateThreadSidebar=t=>{this.setState({activeSidebar:t})};toggleThreadSidebar=(t,n)=>{const r=this.getState(),s=r.activeSidebar,o=r.isOpen&&s&&a3e(t,s);if(wu(t)&&o&&s&&wu(s)&&s.scrollToHeader!==t.scrollToHeader){this.updateThreadSidebar({...t,shouldAnimateScroll:!0});return}o?this.closeThreadSidebar():(n?.(),this.openThreadSidebar(t))};closeThreadSidebar=()=>{const t=this.getState().activeSidebar;t&&h3e(t),this.setState({isOpen:!1,activeSidebar:void 0})}}const a3e=(e,t)=>wu(e)&&wu(t)?t.messageId===e.messageId:Nk(e)&&Nk(t)?t.caterpillarId===e.caterpillarId&&t.initialTab===e.initialTab:Rk(e)&&Rk(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex:Xm(e)&&Xm(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex&&t.messageId===e.messageId:Dk(e)&&Dk(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId:Lk(e)&&Lk(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.matchedText===e.matchedText:Qm(e)&&Qm(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.turnIndex===e.turnIndex&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.productIndex===e.productIndex:Pk(e)&&Pk(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.query===e.query&&t.category===e.category:!1;function l3e(e){const{isOpen:t}=e;return JSON.stringify({isOpen:t})}function c3e({children:e}){const[t]=h.useState(()=>{let n;return n={isOpen:new URLSearchParams(window.location.search).get(o3e)==="open",activeSidebar:{type:"searchSources",turnIndex:0,messageId:"",clientThreadId:i3e}},new Ll(n)});return h.useEffect(()=>t.subscribe((n,r)=>{if(!(n.isOpen!==r.isOpen))return;const o=l3e(n);qe.setCookie(Re.ThreadSidebarState,o,{maxAge:2*365*24*60*60})}),[t]),m.jsx(Ll.Provider,{store:t,children:e})}const wxe=()=>{const e=Ll.useStore(),t=h.useCallback(s=>e.openThreadSidebar(s),[e]),n=h.useCallback((s,o)=>e.toggleThreadSidebar(s,o),[e]),r=h.useCallback(()=>e.closeThreadSidebar(),[e]);return{openThreadSidebar:t,toggleThreadSidebar:n,closeThreadSidebar:r}};function u3e(e,t){return e.type===t}function Exe(){return Ll.useState(Ll.getIsOpen)}function d3e(){return Ll.useState(Ll.getActiveSidebar)}function xxe(e){const t=d3e();if(e&&t&&u3e(t,e))return t}const f3e=e=>{if(wu(e)){const{clientThreadId:t,turnIndex:n,messageId:r}=e;V.logEventWithStatsig("Search Links Sidebar Shown","search_links_sidebar_shown",Eo({turnIndex:n,clientThreadId:t,messageId:r}))}else if(Qm(e)){const{clientThreadId:t,turnIndex:n,messageId:r,contentReferenceStartIndex:s,productIndex:o}=e;V.logEventWithStatsig("Product Sidebar Shown","product_sidebar_shown",{...Eo({turnIndex:n,clientThreadId:t,messageId:r}),content_reference_start_index:s,product_index:(o+1).toString()})}else if(Xm(e)){const{clientThreadId:t,turnIndex:n}=e;V.logEventWithStatsig("File Sources Sidebar Shown","file_sources_sidebar_shown",{...Eo({turnIndex:n,clientThreadId:t})})}},h3e=e=>{if(wu(e)){const{clientThreadId:t,messageId:n,turnIndex:r}=e;V.logEventWithStatsig("Search Links Sidebar Closed","search_links_sidebar_closed",Eo({clientThreadId:t,messageId:n,turnIndex:r}))}else if(Qm(e)){const{clientThreadId:t,messageId:n,turnIndex:r,contentReferenceStartIndex:s,productIndex:o}=e;V.logEventWithStatsig("Product Sidebar Closed","product_sidebar_closed",{...Eo({turnIndex:r,clientThreadId:t,messageId:n}),content_reference_start_index:s,product_index:(o+1).toString()})}else if(Xm(e)){const{clientThreadId:t,turnIndex:n}=e;V.logEvent("File Sources Sidebar Closed",Eo({clientThreadId:t,turnIndex:n}))}},p3e=()=>(h.useEffect(()=>{const e=({shiftKey:r,metaKey:s,ctrlKey:o})=>{nC.setState({shift:r,meta:s,ctrl:o})},t=()=>{nC.setState(oP)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class $C extends uh()(()=>({windowWidth:window.innerWidth,windowHeight:window.innerHeight})){static selectWindowWidth=({windowWidth:t})=>t;static selectWindowHeight=({windowHeight:t})=>t}function Txe(e,t){const n=$C.useStore();return h.useSyncExternalStore(r=>n.subscribe((s,o)=>{e(s)!==e(o)&&r()}),()=>e(n.getState()),()=>t??e(n.getInitialState()))}function m3e({children:e}){const[t]=h.useState(()=>new $C);return h.useEffect(()=>xl(window,{resize:()=>{t.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}}),[t]),m.jsx($C.Provider,{store:t,children:e})}class UU{cacheK1=new Map;get(t,n){return this.cacheK1.get(t)?.get(n)}set(t,n,r){let s=this.cacheK1.get(t);s||(s=new Map,this.cacheK1.set(t,s)),s.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const Fk=new UU,WC=new UU;function g3e(e,t){const n=WC.get(e,t);if(n==null){const r=iK(e,t).catch(()=>Id);return WC.set(e,t,r),r}return n}function v3e(e,t){if(e===Ag)return Id;const n=Fk.get(e,t);if(n!=null)return n;const r=g3e(e,t),s=h.use(r);return s===Id?Id:(Fk.set(e,t,s),WC.delete(e,t),s)}function _3e({children:e,locale:t}){const n=ae(),r=DM(t)&&Wt(n,"2884982660").get("load-machine-translated",!1),s=v3e(t,r);return m.jsx(SB,{defaultLocale:Ag,locale:t,messages:s,children:m.jsx(jX,{dir:NM.has(t)?"rtl":"ltr",children:e})})}const y3e=({children:e})=>{const t=LB().locale;return h.useEffect(()=>{const n=navigator.language??"",r=PM(n);V.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),at.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r??""})},[t]),m.jsx(_3e,{locale:t,children:e})};var X2,jk;function b3e(){if(jk)return X2;jk=1;var e=Au(),t=Ss(),n=wa(),r="[object String]";function s(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return X2=s,X2}var C3e=b3e();const S3e=yn(C3e);function w3e(e,t=0){return new Promise(n=>{requestAnimationFrame(()=>{setTimeout(()=>{n(e())},t)})})}const ph=wt("livekit"),kxe=()=>es(()=>ph()),Oxe=()=>w3e(()=>ph()),mh=wt(""),Axe=()=>es(()=>mh()),Mxe=()=>{requestAnimationFrame(()=>{mh.set("")})};function Te(e,t,n){return r=>{requestAnimationFrame(()=>{const s=ph(),o=r?.voice_session_id??mh(),i={...r,message:t,protocol:s,voice_session_id:o};U.addAction(e,i),n&&Qp(xt(),n,void 0,qj(i,a=>S3e(a)))})}}function bp(e,t){return(n,r)=>{requestAnimationFrame(()=>{const s=ph(),o=r?.voice_session_id??mh(),i={...r,...t?{message:t}:{},protocol:s,voice_session_id:o};try{const a=n.name,l=n.message;i.error=a,i.errMessage=l}catch{i.error=String(n)}U.addAction(e,i)})}}function xc(e){return(t,n)=>{requestAnimationFrame(()=>{const r=ph(),s=n?.voice_session_id??mh();t instanceof ft||U.addError(t,{...n,status:"error",name:e,protocol:r,voice_session_id:s})})}}const Uk={audioPlayer:{error:xc("audio-player")},readAloud:{click:Te("read-aloud","click"),error:xc("read-aloud")},messagePlayback:{click:Te("message-playback","click")},toggleVideoButton:{click:Te("toggle-video-button","click")},toggleMuteButton:{click:Te("toggle-mute-button","click")},toggleScreenShareButton:{click:Te("toggle-screenshare-button","click")},composerSpeechButton:{hover:Te("composer-speech-button","hover")},voiceSessionEndedByUser:{click:Te("voice-session-ended-by-user","click")},voiceSessionStarted:{click:Te("voice-session-started","click")},voiceSessionDuration:{duration:Te("voice-session-duration","duration")},voiceSessionListening:{stateChange:Te("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:Te("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:Te("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:Te("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:Te("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:Te("voice-session-disconnected","stateChange")},voiceMode:{connect:Te("voice-mode","connect"),error:Te("voice-mode","error")},previews:{click:Te("previews","click"),error:xc("previews")},getToken:{request:Te("get-token","request"),success:Te("get-token","success"),failure:Te("get-token","failure")},getVoiceStatus:{request:Te("get-voice-status","request"),success:Te("get-voice-status","success"),failure:Te("get-voice-status","failure")},livekit:{connectCalled:Te("livekit","connectCalled"),success:Te("livekit","success"),failure:xc("livekit")},bloop:{performance:Te("bloop","performance")},voiceSelectionShown:{click:Te("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:Te("voice-selected","click")},voiceAdvancedDisclosureShown:{success:Te("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:Te("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:Te("rate-limit-reached","success"),modalShown:Te("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:Te("upsell","upgradeToPlus"),upgradeToPro:Te("upsell","upgradeToPro"),upgradeToApp:Te("upsell","upgradeToApp"),appUpsellShown:Te("upsell","appUpsellShown"),appUpsellDismissed:Te("upsell","appUpsellDismissed")},feedbackShown:{success:Te("feedback-shown","success")},feedbackThumbsUp:{success:Te("feedback-thumbs-up","success")},feedbackThumbsDown:{success:Te("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:Te("feedback-details","audio_issues"),response_quality:Te("feedback-details","response_quality"),interruptions:Te("feedback-details","interruptions"),transcription_issues:Te("feedback-details","transcription_issues"),inaudible_issues:Te("feedback-details","inaudible_issues"),other:Te("feedback-details","other"),inputText:Te("feedback-details","inputText")},connectionLatency:{success:Te("connection-latency","success"),failure:xc("connection-latency")},firstListeningLatency:{success:Te("first-listening-latency","success")},permissions:{denied:Te("permissions-denied")},voiceSessionFirstListening:{stateChange:Te("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:Te("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:Te("default-media-device-changed","success"),failure:xc("default-media-device-changed")},voiceStatusCache:{hit:Te("voice-status-cache","hit"),failed:Te("voice-status-cache","failed"),ineligible:Te("voice-status-cache","ineligible"),skipped:Te("voice-status-cache","skipped")},certificateCache:{hit:Te("certificate-cache","hit"),miss:Te("certificate-cache","miss"),disabled:Te("certificate-cache","disabled"),unsupported:bp("certificate-cache","unsupported")},peerConnectionCache:{hit:Te("peer-connection-cache","hit"),miss:Te("peer-connection-cache","miss"),unsupported:bp("peer-connection-cache","unsupported")},certificateLocalDb:{hit:Te("certificate-local-db","hit"),generated:Te("certificate-local-db","generated"),saveFailed:bp("certificate-local-db","saveFailed"),loadFailed:bp("certificate-local-db","loadFailed")}},Tr=cn(Ane(Sa(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function Ixe(){return Tr(e=>e.playerApi)}function Rxe(e){return Tr(t=>e(t.playerState))}function Nxe(){return Tr.getState().playerApi}function Pxe(){return Tr.getState().playerState}const E3e=h.memo(function(){const t=h.useRef(null),n=Tr(r=>r.playerNode);return h.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{Tr.setState(s=>{s.playerState.isPlaying=!0})},r.onpause=()=>{Tr.setState(s=>{s.playerState.isPlaying=!1})},r.ontimeupdate=()=>{Tr.setState(s=>{s.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{Tr.setState(s=>{s.playerState.duration=r.duration})},r.onerror=s=>{typeof s=="string"?Uk.audioPlayer.error(new Error(s)):s.target&&"error"in s.target&&Uk.audioPlayer.error(s.target.error)},Tr.setState({playerNode:r,playerApi:new x3e(r)}))},[n]),m.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class x3e{constructor(t){this.player=t}get state(){return Tr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,Tr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),Tr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function Dxe(e){const t=Tr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}const T3e=({children:e})=>{const t=to();return m.jsx(tte,{children:m.jsx(y3e,{children:m.jsx(Zte,{children:m.jsxs(c3e,{children:[m.jsx(yve,{children:m.jsx(m3e,{children:e})}),m.jsx(E3e,{}),m.jsx(p3e,{}),null,t?m.jsx(s3e,{}):null]})})})})},KC=({resetError:e,componentStack:t,error:n})=>(h.useEffect(()=>{U.addError(n),jn?.publish(la.ERROR_THROWN,{error:n})},[n]),m.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[m.jsx("h2",{children:"Content failed to load"}),!1,m.jsx(sn,{color:"secondary",onClick:e,children:"Try again"}),!1]})),xS=wt(!1),Lxe=xS;function k3e(e){const t=xl(e.document,{keydown:A3e,keyup:Jp,visibilitychange:Jp}),n=xl(e,{blur:Jp});return()=>{t(),n()}}const O3e=500;let eg;function A3e(e){M3e(e)?eg??=setTimeout(()=>{xS.set(!0)},O3e):eg&&Jp()}function M3e(e){return!Zg(e)&&e.key===(aO()?"Meta":"Control")&&ZI(e)===SX()}function Jp(){clearTimeout(eg),eg=void 0,xS.set(!1)}var Ms={},Bk;function I3e(){if(Bk)return Ms;Bk=1,Object.defineProperty(Ms,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)r["f"+s]=111+s;function o(f,p,g){p&&!("byKey"in p)&&(g=p,p=null),Array.isArray(f)||(f=[f]);var v=f.map(function(b){return l(b,p)}),_=function(w){return v.some(function(C){return c(C,w)})},y=g==null?_:_(g);return y}function i(f,p){return o(f,p)}function a(f,p){return o(f,{byKey:!0},p)}function l(f,p){var g=p&&p.byKey,v={};f=f.replace("++","+add");var _=f.split("+"),y=_.length;for(var b in t)v[t[b]]=!1;var w=!0,C=!1,S=void 0;try{for(var E=_[Symbol.iterator](),x;!(w=(x=E.next()).done);w=!0){var T=x.value,k=T.endsWith("?")&&T.length>1;k&&(T=T.slice(0,-1));var O=d(T),A=t[O];if(T.length>1&&!A&&!n[T]&&!r[O])throw new TypeError('Unknown modifier: "'+T+'"');(y===1||!A)&&(g?v.key=O:v.which=u(T)),A&&(v[A]=k?null:!0)}}catch(M){C=!0,S=M}finally{try{!w&&E.return&&E.return()}finally{if(C)throw S}}return v}function c(f,p){for(var g in f){var v=f[g],_=void 0;if(v!=null&&(g==="key"&&p.key!=null?_=p.key.toLowerCase():g==="which"?_=v===91&&p.which===93?91:p.which:_=p[g],!(_==null&&v===!1)&&_!==v))return!1}return!0}function u(f){f=d(f);var p=r[f]||f.toUpperCase().charCodeAt(0);return p}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return Ms.default=o,Ms.isHotkey=o,Ms.isCodeHotkey=i,Ms.isKeyHotkey=a,Ms.parseHotkey=l,Ms.compareHotkey=c,Ms.toKeyCode=u,Ms.toKeyName=d,Ms}var R3e=I3e();const N3e=yn(R3e),P3e=en(()=>{const e=wt([]),t=wt(void 0),n=ya(()=>{const a=t();return e().filter(l=>Gk(l,a))});function r(...a){return e.set(l=>[...a,...l]),()=>{e.set(l=>l.filter(c=>!a.includes(c)))}}function s(a){const l=al(t);return t.set(a),()=>t.set(l)}function o(a){return xl(a.document,{keydown:i})}function i(a){if(a.key===void 0||a.repeat||Zg(a)||a.defaultPrevented)return;const c=al(e),u=al(t);for(const d of c)if(D3e(d,a)&&Gk(d,u)&&d.action(a)!==!1){V.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:s,registerEventListener:o}}),qk=new WeakMap;function D3e(e,t){let n=qk.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:s}=e,o=[r,...s??[]].map(i=>i.join("+"));n=N3e(o,{byKey:!0}),qk.set(e,n)}return n(t)}function Gk(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function L3e(){const[e,t]=ng(),n=ht(),r=xn(),s=e.get(e0),o=e.get(t0),i=sr();h.useEffect(()=>{let a=!1;if(i&&s==="true"){let c;i.isWorkspacePlan()?c=i.name??"Workspace":c="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:c})),a=!0}let l=!1;if(typeof o=="string"&&F3e(o)){const c=BU[o];r.danger(n.formatMessage(c),{toastId:"error_query_param",loggingTitle:o,loggingDescription:c.defaultMessage?String(c.defaultMessage):""}),l=!0}(e.has(e0)||e.has(t0))&&t(c=>(a&&c.delete(e0),l&&c.delete(t0),c),{replace:!0})},[s,i,o,n,e,t,r])}function F3e(e){return e in BU}const BU=St({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class TS{subscribers;constructor(t){this.subscribers=TS.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const s of Object.values(r))s(n)}subscribe(t,n){const r=Cs();this.subscribers[t]||(this.subscribers[t]={});const s=this.subscribers[t];return s[r]=n,()=>{delete s[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class j3e extends TS{constructor(){super(Object.values(M5))}getVersion(){return 1}}const U3e=new j3e;function B3e(){const e=ae(),n=ss(e).getContext().user,r=If(e),s=fn(e);h.useEffect(()=>{jn&&(r?.accessToken&&r?.user?.id?jn.publish(la.LOGIN_CHANGED,{userId:r.user.id,accountId:s?.id,authToken:r.accessToken,statsigUser:n,email:r.user.email}):jn.publish(la.LOGOUT,{statsigUser:n}))},[s?.id,r?.accessToken,r?.user,s,n])}function Fxe(e){const t=h.useContext(Nf).windowStyle;h.useEffect(()=>{if(jn)return U3e.subscribe(M5.WINDOW_VISIBILITY_STATE_CHANGED,n=>{n.windowType===t&&n.state==="hidden"&&e()})},[e,t])}function jxe(){return jn?jn.takePhoto():Promise.resolve(void 0)}function Uxe(){return jn?jn.requestSystemPermission(FI.MICROPHONE):Promise.resolve(!0)}function Bxe(){return jn?jn.takeScreenshot():Promise.resolve(void 0)}function q3e({children:e}){L3e(),fO&&B3e();const t=ae();return h.useEffect(()=>P3e(t).registerEventListener(window),[t]),h.useEffect(()=>k3e(window),[]),m.jsx(m.Fragment,{children:e})}const G3e=60*60*24*30*3,V3e=wg(()=>le(()=>import("./keq24jtf66f5dkme.js"),__vite__mapDeps([20,1,9,10,21,22,23,24,25,26,27,28,29,14,15,30,31,17,32,7,8,16,33,34,35,36,37,38,39,40,41,42,43,44,45,46,12,47,48,49,50,51,52,53])).then(e=>e.GlobalModalsComponent));zW();function H3e(){return p_e(),null}fO&&le(()=>import("./mrfdhkx0jtuz5sif.js"),__vite__mapDeps([54,9,1,10])).then(e=>e.initDesktop()),to()&&le(()=>import("./feft8dhixbijq2q5.js"),__vite__mapDeps([55,1])).then(e=>e.initHost());eo(window.location.origin,"import.meta.env.VITE_APP_URL");function z3e({children:e}){"use forget";const[t,n]=h.useState(!1),r=rs();h.useContext(Nf),h.useEffect(()=>{window._oaiHandleSessionExpired=function(o,i){window.location.href.includes("/auth/login")||(to()&&dh()?.onMissingSessionAuth(),n(!0),V.logEvent("Account: Force Login Modal Shown",{content:`${o}: ${i}`}))}},[]);function s(o){try{const i=o.match(/^\/share\/(.+)$/);let a=qe.getCookie(Re.SharedConversationId);if(!a&&i&&(a=i[1],qe.setCookie(Re.SharedConversationId,a,{maxAge:G3e})),typeof a=="string"&&a&&at.getUser()?.customIDs){const l=at.getUser();l?.customIDs&&(l.customIDs.shared_conversation_id=a)}}catch(i){i instanceof Error?gs.error("Error in shared conversation cookie code:",{message:i.message,stack:i.stack}):gs.error("Unknown error in shared conversation cookie code:",{error:i})}}return h.useEffect(()=>{s(r.pathname),V.logPageView(),at.logEvent("chatgpt_page_view",null,Pb()),_j("openaicom-did")},[r.pathname,r.search,r.hash]),m.jsx(m.Fragment,{children:m.jsx(S5,{name:"ui_boundary_error",fallback:({resetError:o,componentStack:i,error:a})=>m.jsx(KC,{resetError:o,componentStack:i,error:a}),logRequestErrors:!0,children:m.jsx(T3e,{children:m.jsxs(q3e,{children:[e,m.jsx(H3e,{}),m.jsx($3e,{isOpen:t,onLogInClick:()=>{n(!1)}}),m.jsx(V3e,{}),m.jsx(bz,{}),m.jsx(UZ,{}),!1]})})})})}const $3e=e=>{"use forget";const t=ke.c(16),{isOpen:n,onLogInClick:r}=e,s=ht();let o;t[0]!==s?(o=s.formatMessage(Q2.forceLogInModalTitle),t[0]=s,t[1]=o):o=t[1];let i;t[2]!==s?(i=s.formatMessage(Q2.forceLogInModalDescription),t[2]=s,t[3]=i):i=t[3];let a;t[4]!==r?(a=async()=>{const d=await QC.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let l;t[6]!==s?(l=s.formatMessage(Q2.forceLogInModalButton),t[6]=s,t[7]=l):l=t[7];let c;t[8]!==a||t[9]!==l?(c=m.jsx(tl.Button,{onClick:a,title:l}),t[8]=a,t[9]=l,t[10]=c):c=t[10];let u;return t[11]!==n||t[12]!==o||t[13]!==i||t[14]!==c?(u=m.jsx(pi,{testId:"modal-expired-session",isOpen:n,icon:vu,title:o,description:i,type:"warning",onClose:BA,primaryButton:c}),t[11]=n,t[12]=o,t[13]=i,t[14]=c,t[15]=u):u=t[15],u},Q2=St({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}});function W3e(e,t){try{return e()}catch(n){return t(n)}}function qU(e){return e instanceof Element?e:e.parentElement?qU(e.parentElement):null}function Xp(e){const t=qU(e);if(t){const n=EB(t,void 0);if(n)return n}return e.nodeName}const K3e=e=>e.type==="childList"?e.addedNodes.length>0?`added ${Xp(e.addedNodes[e.addedNodes.length-1])}`:e.removedNodes.length>0?`removed ${e.removedNodes[e.removedNodes.length-1].nodeName} from ${Xp(e.target)}`:`unknown ${e.type}`:e.type==="characterData"?`characterData in ${Xp(e.target)}`:`unknown ${e.type}`,Vk="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function Y3e(e){if(document.head.contains(e))return!1;if(e instanceof Element)return Vk(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return Vk(t)}return!0}function kS(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class Z3e{timeouts=new Set;add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function eb(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const s of r.getEntries())t(s)});return n.observe(e),()=>n.disconnect()}catch{return()=>{}}}function J3e({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,s)=>{let o=null;const i=()=>{o!=null&&clearTimeout(o),o=setTimeout(l,e)};i();const a=kS(c=>{function u(f){(!n||n(f))&&(c({start:f.startTime,end:f.startTime+f.duration}),i())}const d=[eb({type:"resource",buffered:!0},u),eb({type:"longtask",buffered:!0,durationThreshold:0},u),eb({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function l(){try{const c=a();r(X3e(c,t))}catch(c){s(c)}}})}function X3e(e,t){const n=[];for(const{start:s,end:o}of e)n.push({t:s,delta:1}),n.push({t:o,delta:-1});n.sort((s,o)=>s.t===o.t?s.delta-o.delta:s.t-o.t);let r=0;for(let s=0;s<n.length;s++)if(r+=n[s].delta,r===0){const o=n[s].t,i=n[s+1];if(!i||i.t-o>=t)return o}throw new Error("no idle gap found")}function Q3e(e){return`${e.type} ${e.target instanceof Node?Xp(e.target):`(unknown target ${e.target})`}`}function e5e(e){return kS(t=>{const n=new Z3e;function r(s){const o=performance.now();n.add(()=>{t({start:o,end:performance.now(),label:Q3e(s)})})}for(const s of e)window.addEventListener(s,r,{capture:!0});return()=>{for(const s of e)window.removeEventListener(s,r,{capture:!0});n.clear()}})}function t5e(e){return kS(t=>{const n=new MutationObserver(r=>{const s=Op(r,e);s&&t({time:performance.now(),label:W3e(()=>K3e(s),o=>`error describing mutation: ${o}`)})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const n5e=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function r5e(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function GU(e){return Y3e(e)&&!r5e(e)}function s5e(e){for(const t of e)if(GU(t))return!0;return!1}async function o5e(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=n5e.filter(c=>!/(enter|leave|over|out)$/.test(c)),t=e5e(e),n=t5e(c=>c.type==="childList"&&s5e(c.addedNodes)||c.type==="characterData"&&GU(c.target)),r=await J3e({filter:c=>c.duration!==0&&!(c.entryType==="resource"&&wB(pO,c.name))}),s=t(),o=n(),i=s.find(c=>o.some(u=>c.start<u.time&&u.time<=c.end));if(i!=null&&i.start<r)return{label:"mutating input before page loaded",firstMutatingInput:i,pageIdle:r};const a=o.filter(c=>c.time<r+200),l=a.at(-1);return l?{...l,mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:i}:{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:i}}const i5e=5*60*1e3;function a5e(e){return Math.min(Math.max(e,0),i5e)}async function l5e(){const e=await le(()=>import("./lq790ciry1z0b5jk.js"),[]);if(!e)return;const{onCLS:t,onFCP:n,onLCP:r}=e,s=new Promise(y=>t(y)),o=new Promise(y=>n(y)),i=new Promise(y=>r(y)),a=hr(xt()),l={country:a.userCountry??"unknown",continent:a.userContinent??"unknown",device:sg()?"mobile":"desktop",track:"stable",cluster:a.cluster},c=y=>b=>lr.hist(Xn.DEFAULT,`web.vitals.${y}`,l,b.value);s.then(c("cls")),o.then(c("fcp")),i.then(c("lcp"));const[u,d,f]=await Promise.all([s,o,i]),p=y=>Math.min(Math.max(y,0),5*60*1e3),g=p(u.value),v=p(d.value),_=p(f.value);at.logEvent("chatgpt_web_vitals",_,{cls:String(u.value),fcp:String(d.value),lcp:String(f.value),cls_trimmed:String(g),fcp_trimmed:String(v),lcp_trimmed:String(_)})}function c5e(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(s=>t.routes[s])).flatMap(s=>[s.module,...s.imports].map(o=>new URL(o,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(s=>n.has(s.name));if(r.length===n.size){const s={transfer_size:r.reduce((o,i)=>o+i.transferSize,0),encoded_body_size:r.reduce((o,i)=>o+i.encodedBodySize,0),decoded_body_size:r.reduce((o,i)=>o+i.decodedBodySize,0)};U.addAction("pageLoad.jsResourceSizes",{...s,count:r.length,route_id:e[e.length-1],route_ids:e})}else U.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(s=>s.name)))):null})}function u5e(){const e=h.useRef([]),t=h.useRef((n,r)=>{const s=setTimeout(n,r);return e.current.push(s),s});return h.useEffect(()=>{const n=e.current;return()=>{n.forEach(r=>{clearTimeout(r)})}},[]),t.current}function d5e(e){const{speed:t=100,value:n="",typing:r,onTyped:s,initTyped:o,chunk:i}=e,[a,l]=h.useState(0),c=h.useRef(void 0),u=u5e(),d=Jve();function f(p,g,v){c.current=u(function(){p>=g.length||(l(p+v),s?.(),f(p+v,g,v))},t)}return h.useEffect(()=>(l(o?n.length:0),r&&f(0,n,i?4:1),()=>{clearTimeout(c.current)}),[r,n]),m.jsxs(m.Fragment,{children:[m.jsx("span",{className:he("whitespace-pre-wrap",a<n.length&&"result-streaming no-flow",d?"dark":"light"),children:m.jsx("span",{children:n.slice(0,a)})}),m.jsx("span",{className:"whitespace-pre-wrap text-transparent",children:n.slice(a)})]})}function f5e({showReturnHome:e=!1}){const t=h.useId(),n=Qs(),[r]=h.useState(()=>{{const s=document.getElementById(t)?.dataset.index;if(s!=null)return parseInt(s)}return Math.floor(Math.random()*Hk.length)});return m.jsx("section",{className:"flex h-screen flex-col items-center justify-center","data-index":r,id:t,children:m.jsxs("div",{children:[m.jsxs("h3",{children:[m.jsx(Q6,{className:"mb-2 h-6 w-6 align-baseline"}),"404 Not Found"]}),m.jsx("p",{className:"mt-2 max-w-lg pb-6",children:m.jsx(d5e,{value:Hk[r].message,typing:!0,speed:150,chunk:!0})}),e&&m.jsx(sn,{color:"primary",onClick:()=>{V.logEventWithStatsig("404 Page Return Home Button Clicked","chatgpt_404_page_return_home_button_clicked"),n("/")},children:m.jsx(ie,{id:"Cc1py2",defaultMessage:"Go to ChatGPT"})})]})})}const Hk=[{message:`Lost in the vast web,
Where you sought, there's only void—
Nothingness awaits.`},{message:`Paths cross empty void
Seeking what once existed
Silence answers all.`},{message:`Where we are, there's only air,
A page misplaced, it isn't there.
In the void where data fades,
Questions linger, answers evade.
Not all paths lead where we care.`},{message:`Where the page should be,
Empty space and missing words—
A void in the code.`},{message:`The link was a dream,
A shadow of what once was—
Now, nothing remains.`},{message:`In the heat of day,
The path dissolves to nothing—
An empty mirage.`}],h5e=h.createContext({cspNonce:""});function p5e(){"use forget";const e=ke.c(8),t=Wk(),{cspNonce:n}=h.useContext(h5e);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=m.jsxs("head",{children:[m.jsx("meta",{charSet:"UTF-8"}),m.jsx(Xk,{})]}),e[0]=r):r=e[0];let s;e[1]!==t?(s=xB(t)?t.status===404?m.jsx(f5e,{}):m.jsx(KC,{error:new Error(`Route Error (${t.status} ${t.statusText}): ${t.message}`),resetError:g5e}):m.jsx(KC,{error:t,resetError:m5e}),e[1]=t,e[2]=s):s=e[2];let o;e[3]!==n?(o=m.jsx(Qk,{nonce:n}),e[3]=n,e[4]=o):o=e[4];let i;return e[5]!==s||e[6]!==o?(i=m.jsxs("html",{"data-build":Mf,suppressHydrationWarning:!0,children:[r,m.jsxs("body",{children:[s,o]})]}),e[5]=s,e[6]=o,e[7]=i):i=e[7],i}function m5e(){return location.reload()}function g5e(){return location.reload()}const v5e=30;function _5e(){const e=qt.getItem(Et.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,v5e*24),s=Math.floor(r/24);qt.setItem(Et.LastPageLoadDate,t.toISOString()),U.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:s})}const zk="rq:";function y5e(e){const t=[],n=[];for(const r of e)if(r.data){for(const[s,o]of Object.entries(r.data))if(s.startsWith(zk)){const i=s.substring(zk.length);MU(o)?n.push({queryHash:i,queryKey:JSON.parse(i),state:{fetchStatus:"fetching",status:"pending"},promise:o}):t.push({queryHash:i,queryKey:JSON.parse(i),state:{...o,data:o.data}})}}return{staticQueries:t,promiseQueries:n}}function b5e(){const e=tg();return h.useMemo(()=>y5e(e),[e])}function $k(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function C5e(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let tb;function S5e(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=C5e();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(tb||(tb={postTask:$k,yield:()=>$k(()=>{})}),tb)}class w5e{scheduler;setScheduler(){this.scheduler||(this.scheduler=S5e())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const E5e=new w5e,nb=[];function x5e(e,t){for(const n of t)if(e.getQueryState(n.queryKey)==null){let r;const s=new Promise(o=>{r=o});nb.push(r),eO(e,{queries:[{...n,promise:s.then(()=>eo(n.promise,"missing react-query hydration promise")).catch(o=>{throw E5e.yield().then(()=>{e.refetchQueries({queryKey:n.queryKey,exact:!0})}),U.addAction("react-query.prefetch-hydration.error",{queryKey:JSON.stringify(n.queryKey),error:o}),o})}]})}_O(()=>{for(const n of nb)n();nb.length=0},[t])}qve();const qxe=()=>!1,Gxe=()=>[{title:"ChatGPT"},...jZ],Vxe=IB(p5e);function T5e(e){"use forget";const t=ke.c(48),{children:n,isSearchPage:r,isOrla:s,isEdgeToEdge:o,isElectron:i,isIos:a,isAndroidChrome:l,windowStyle:c,isContainerOTR:u,ddTraceMetadata:d,cspScriptNonce:f,lang:p,pathname:g}=e,v=(p&&NM.has(p),"ltr"),_=i===!0||!1;let y;t[0]!==s||t[1]!==r||t[2]!==_?(y=he({"snc-root":r,"mini-root":s,"sdtrn-root":_}),t[0]=s,t[1]=r,t[2]=_,t[3]=y):y=t[3];let b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=m.jsx("meta",{charSet:"UTF-8"}),t[4]=b):b=t[4];const w=`width=device-width, initial-scale=1${a?", maximum-scale=1":""}${o?", viewport-fit=cover":""}`;let C;t[5]!==w?(C=m.jsx("meta",{name:"viewport",content:w}),t[5]=w,t[6]=C):C=t[6];let S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S=m.jsx(AB,{}),t[7]=S):S=t[7];let E;t[8]!==l?(E=l?m.jsx(BZ,{}):null,t[8]=l,t[9]=E):E=t[9];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=m.jsx(GZ,{}),t[10]=x):x=t[10];const T=g??"";let k;t[11]!==T?(k=m.jsx(qZ,{pathname:T}),t[11]=T,t[12]=k):k=t[12];let O;t[13]!==d?(O=d?m.jsxs(m.Fragment,{children:[m.jsx("meta",{name:"dd-trace-id",content:d.traceId}),m.jsx("meta",{name:"dd-trace-time",content:`${d.traceTime}`})]}):null,t[13]=d,t[14]=O):O=t[14];let A,M;t[15]===Symbol.for("react.memo_cache_sentinel")?(A=m.jsx(VZ,{}),M=m.jsx(Xk,{}),t[15]=A,t[16]=M):(A=t[15],M=t[16]);let I;t[17]!==f?(I=m.jsx("script",{nonce:f,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[17]=f,t[18]=I):I=t[18];let N;t[19]!==k||t[20]!==O||t[21]!==I||t[22]!==C||t[23]!==E?(N=m.jsxs("head",{children:[b,C,S,E,x,k,O,A,M,I]}),t[19]=k,t[20]=O,t[21]=I,t[22]=C,t[23]=E,t[24]=N):N=t[24];let q;t[25]!==s||t[26]!==r?(q=he({snc:r,mini:s}),t[25]=s,t[26]=r,t[27]=q):q=t[27];let P;t[28]!==f||t[29]!==u||t[30]!==c?(P={cspScriptNonce:f,windowStyle:c,isContainerOTR:u},t[28]=f,t[29]=u,t[30]=c,t[31]=P):P=t[31];let D;t[32]!==n||t[33]!==P?(D=m.jsx(Nf.Provider,{value:P,children:n}),t[32]=n,t[33]=P,t[34]=D):D=t[34];let R;t[35]!==f?(R=m.jsx(Qk,{nonce:f}),t[35]=f,t[36]=R):R=t[36];let B;t[37]!==q||t[38]!==D||t[39]!==R||t[40]!==c?(B=m.jsxs("body",{className:q,"data-window-style":c,children:[D,R]}),t[37]=q,t[38]=D,t[39]=R,t[40]=c,t[41]=B):B=t[41];let Y;return t[42]!==v||t[43]!==p||t[44]!==N||t[45]!==y||t[46]!==B?(Y=m.jsxs("html",{lang:p,"data-build":Mf,dir:v,className:y,suppressHydrationWarning:!0,children:[N,B]}),t[42]=v,t[43]=p,t[44]=N,t[45]=y,t[46]=B,t[47]=Y):Y=t[47],Y}const Hxe=MB(function(t){"use forget";const{clientBootstrap:n,windowStyle:r,cspScriptNonce:s,dd:o,statsigGateEvaluationsPromise:i}=YC();{_r.setGlobalContextProperty("cluster",n.cluster),U.addFeatureFlagEvaluation("promote_css",n.promoteCss);for(const[C,S]of Object.entries(n.session?.rumViewTags??{}))_r.setViewContextProperty(C,S)}const a=h.useCallback(()=>{const C=xt()??nO();return jB(C,n),C},[n]),[l,c]=h.useState(()=>a());l||(U.addError(new Error("Context not generated during intialization.")),c(a()));const u=ma(l);h.useEffect(()=>{f_e(l)},[l]),QV(),h.useEffect(()=>{_5e(),l5e(),o5e().then(C=>{if("pageIdle"in C&&U.addFirstTiming("pageLoad.pageIdle",performance.timeOrigin+C.pageIdle),"time"in C&&C.time!=null){const S=C.time,E=a5e(S);U.addFirstTiming("pageLoad.lastMutation",performance.timeOrigin+S),U.addAction("pageLoad.lastMutation",C),at.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(S),trimmed_duration_ms:String(E)})}else U.addAction("pageLoad.withoutTiming",C);if("mutationsBeforeIdleList"in C)for(const S of C.mutationsBeforeIdleList)U.addAction("pageLoad.mutation",S)}),O5e(l)},[l]);const{staticQueries:d,promiseQueries:f}=b5e(),p=h.useMemo(()=>({queries:[...d],mutations:[]}),[d]);k5e(u,f);const g=tg().map(C=>C.id),[v]=h.useState(()=>{{eO(u,p),Fve(l,u),Ive(l,n,u),i.then(C=>{for(const[S,E]of Object.entries(C))U.addFeatureFlagEvaluation(S,E)});try{c5e(g)}catch(C){U.addError(C)}}return!0}),{pathname:_}=rs(),y=_.startsWith("/search"),b=_g({windowStyle:r}),w=ss(l).checkGate("1536947154");return m.jsx(NB,{sessionContext:l,children:m.jsx(T5e,{lang:n.locale,isIos:n.isIos,isAndroidChrome:n.isAndroidChrome,isElectron:n.isElectron,isEdgeToEdge:w,isOrla:b,isSearchPage:y,cspScriptNonce:s,ddTraceMetadata:o,windowStyle:r,isContainerOTR:n.isContainerOTR,pathname:_,children:m.jsx(Eve,{children:m.jsx(Hve,{attribute:"class",children:m.jsxs(TB,{client:u,children:[m.jsx(fZ,{cspScriptNonce:s}),m.jsx(kB,{state:p,children:m.jsx(z3e,{children:m.jsx(OB,{})})})]})})})})})}),k5e=x5e;function O5e(e){CZ(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const n=document.querySelector("h1")??Rve({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{f1 as $,PU as A,sn as B,pi as C,vn as D,H0e as E,Xo as F,Yd as G,qt as H,fu as I,j7e as J,G7e as K,Et as L,nt as M,Xn as N,f1e as O,V as P,ft as Q,Q as R,Uae as S,me as T,Df as U,U as V,Kd as W,C6 as X,i5 as Y,Ug as Z,rD as _,ae as a,Ue as a$,w6 as a0,Nie as a1,qie as a2,Pie as a3,Hie as a4,h5 as a5,Ss as a6,p5 as a7,eI as a8,mi as a9,vM as aA,It as aB,Xie as aC,Qt as aD,_u as aE,Xa as aF,vo as aG,Hf as aH,J5e as aI,Wt as aJ,DCe as aK,uh as aL,rEe as aM,_i as aN,an as aO,Vg as aP,Bt as aQ,J8e as aR,Nf as aS,z5e as aT,_t as aU,l4e as aV,c4e as aW,Ag as aX,Id as aY,jd as aZ,CW as a_,lI as aa,c5 as ab,xae as ac,O5 as ad,e1e as ae,s1e as af,m5 as ag,q8e as ah,q9e as ai,at as aj,Owe as ak,HF as al,Fn as am,t9e as an,BA as ao,wg as ap,le as aq,o8e as ar,fM as as,hM as at,VA as au,pM as av,mM as aw,_M as ax,Vl as ay,gM as az,$3 as b,Ype as b$,E5e as b0,en as b1,Z1e as b2,Kme as b3,Q6 as b4,sr as b5,hr as b6,ss as b7,v0e as b8,oZ as b9,uF as bA,Xg as bB,U5 as bC,Bl as bD,ku as bE,uR as bF,Gt as bG,En as bH,dR as bI,We as bJ,ro as bK,MX as bL,JI as bM,DI as bN,rg as bO,pw as bP,Y6e as bQ,$K as bR,K6e as bS,WK as bT,Z6e as bU,W6e as bV,e4e as bW,bN as bX,vz as bY,L5 as bZ,LSe as b_,iZ as ba,e6 as bb,qg as bc,Ad as bd,aj as be,j6 as bf,xn as bg,eSe as bh,K9 as bi,r5 as bj,Nr as bk,yM as bl,Oae as bm,$g as bn,RI as bo,k5 as bp,Vf as bq,v5 as br,Jge as bs,Pue as bt,aO as bu,P3e as bv,es as bw,dD as bx,wt as by,tl as bz,$e as c,Gg as c$,vu as c0,zSe as c1,vte as c2,$Se as c3,bg as c4,jh as c5,ns as c6,Lu as c7,TF as c8,pD as c9,A5 as cA,RA as cB,P5 as cC,F9e as cD,uj as cE,ka as cF,Rf as cG,AU as cH,IM as cI,Cye as cJ,XW as cK,Y5e as cL,gs as cM,M0e as cN,VEe as cO,n0e as cP,Wc as cQ,Ys as cR,jue as cS,Hr as cT,w4e as cU,rj as cV,Z4e as cW,it as cX,nR as cY,ys as cZ,og as c_,cn as ca,t0e as cb,hX as cc,pX as cd,Gne as ce,Q1e as cf,G9e as cg,pk as ch,hS as ci,Lt as cj,Mb as ck,w0e as cl,iz as cm,eye as cn,u0e as co,Zf as cp,ZW as cq,zf as cr,nX as cs,J6 as ct,c0e as cu,$J as cv,vf as cw,j9e as cx,O0e as cy,x0e as cz,he as d,y0e as d$,W0e as d0,pp as d1,wye as d2,$8e as d3,GH as d4,r6e as d5,jH as d6,bI as d7,EW as d8,fve as d9,V$ as dA,HA as dB,W$ as dC,Nve as dD,U5e as dE,Q1 as dF,ek as dG,yT as dH,Hl as dI,_ae as dJ,x6 as dK,th as dL,iwe as dM,nge as dN,Ume as dO,y9e as dP,O6 as dQ,bge as dR,fr as dS,DD as dT,F as dU,ISe as dV,BI as dW,$me as dX,Hme as dY,Zme as dZ,Md as d_,C6e as da,Hs as db,pae as dc,Sve as dd,L4e as de,hf as df,Kf as dg,vZ as dh,Txe as di,$C as dj,D5e as dk,V5e as dl,a5e as dm,j5 as dn,gi as dp,KI as dq,rR as dr,bs as ds,m6e as dt,p6e as du,z3 as dv,Uf as dw,zA as dx,Sl as dy,F$ as dz,Bae as e,nle as e$,tSe as e0,Tae as e1,t1e as e2,Ps as e3,a6e as e4,l6e as e5,mz as e6,d6e as e7,gz as e8,xl as e9,Y0e as eA,Yg as eB,Af as eC,n7e as eD,Ete as eE,J_e as eF,M5e as eG,Hj as eH,j8e as eI,n6 as eJ,txe as eK,zg as eL,OSe as eM,ASe as eN,MSe as eO,iq as eP,r3 as eQ,S5 as eR,LJ as eS,Bme as eT,fp as eU,CD as eV,v7e as eW,ha as eX,Q4e as eY,s8e as eZ,nwe as e_,hSe as ea,eo as eb,zj as ec,vye as ed,Sa as ee,pu as ef,Rg as eg,zye as eh,GC as ei,rxe as ej,_n as ek,AEe as el,BSe as em,qSe as en,JX as eo,Nl as ep,Vr as eq,tt as er,N8e as es,s0e as et,cle as eu,GY as ev,o0e as ew,W9e as ex,sj as ey,a0e as ez,qe as f,Gce as f$,gD as f0,mwe as f1,lh as f2,to as f3,Lf as f4,nj as f5,xM as f6,Ml as f7,v4e as f8,S4e as f9,i0e as fA,o9e as fB,H7e as fC,W7e as fD,Yn as fE,U7e as fF,Kn as fG,Xe as fH,Ane as fI,KF as fJ,cU as fK,xd as fL,Gj as fM,CI as fN,Aye as fO,Ta as fP,ya as fQ,ple as fR,W4e as fS,hz as fT,mEe as fU,qEe as fV,e8e as fW,ZT as fX,QEe as fY,t8e as fZ,bwe as f_,Qp as fa,iD as fb,ine as fc,HB as fd,E4e as fe,uCe as ff,xr as fg,qCe as fh,Op as fi,ez as fj,vg as fk,K6 as fl,E9e as fm,n1 as fn,J5 as fo,ko as fp,WR as fq,L$ as fr,R3 as fs,lu as ft,ZA as fu,I3 as fv,jf as fw,KR as fx,YR as fy,Z0e as fz,ln as g,Aa as g$,zue as g0,y8e as g1,Lj as g2,kr as g3,zEe as g4,$Ee as g5,uE as g6,Lte as g7,Ng as g8,YH as g9,yxe as gA,q6e as gB,$I as gC,tj as gD,zc as gE,sJ as gF,wxe as gG,po as gH,uue as gI,Ege as gJ,Sge as gK,xge as gL,Cge as gM,wge as gN,rh as gO,nr as gP,b4e as gQ,Wae as gR,Fae as gS,k6 as gT,Lae as gU,jae as gV,Hae as gW,Xpe as gX,Wne as gY,lSe as gZ,R6e as g_,r7e as ga,s7e as gb,xpe as gc,AY as gd,DJ as ge,jA as gf,_D as gg,u8e as gh,h_e as gi,c6e as gj,f6e as gk,i6e as gl,u6e as gm,ll as gn,o6e as go,T8e as gp,JEe as gq,Q0e as gr,S8e as gs,r0e as gt,SM as gu,Mo as gv,we as gw,S6e as gx,CM as gy,dh as gz,Re as h,C8e as h$,bte as h0,ehe as h1,Pl as h2,Eo as h3,jF as h4,L7e as h5,D7e as h6,hu as h7,Cp as h8,YCe as h9,PB as hA,Z7e as hB,P7e as hC,rO as hD,k1 as hE,eve as hF,vxe as hG,DSe as hH,kCe as hI,yW as hJ,O3 as hK,TSe as hL,kSe as hM,PM as hN,_3e as hO,aa as hP,XEe as hQ,n8e as hR,Pne as hS,rU as hT,fU as hU,_7e as hV,K3 as hW,pne as hX,Ez as hY,W1e as hZ,L5e as h_,gSe as ha,Eee as hb,Aee as hc,Tee as hd,kee as he,gee as hf,g6e as hg,Sxe as hh,CX as hi,UJ as hj,w5 as hk,Ul as hl,hi as hm,wSe as hn,CN as ho,Q7e as hp,nSe as hq,kF as hr,oS as hs,O7e as ht,v1e as hu,Y7e as hv,E7e as hw,e9e as hx,sse as hy,yZ as hz,gI as i,CSe as i$,f7e as i0,gxe as i1,E5 as i2,xxe as i3,Exe as i4,$ne as i5,O_ as i6,C_e as i7,O4e as i8,LB as i9,al as iA,pS as iB,Jf as iC,r6 as iD,_Z as iE,$j as iF,Mwe as iG,NSe as iH,o7e as iI,wEe as iJ,MQ as iK,GSe as iL,Mee as iM,Ree as iN,Iee as iO,Oee as iP,g7e as iQ,kte as iR,gW as iS,d4e as iT,Tte as iU,Yi as iV,Y1e as iW,sg as iX,s3 as iY,jn as iZ,bSe as i_,ZM as ia,dz as ib,tX as ic,R5 as id,xt as ie,i8e as ig,lS as ih,yte as ii,YSe as ij,a8e as ik,P2 as il,dN as im,fN as io,oq as ip,xX as iq,kX as ir,J9e as is,R0e as it,E8e as iu,Cwe as iv,Mr as iw,t9 as ix,n3 as iy,ru as iz,Q_e as j,yge as j$,x_e as j0,Bi as j1,w6e as j2,H4e as j3,z4e as j4,V4e as j5,y4e as j6,pxe as j7,Ff as j8,fS as j9,i4e as jA,H8e as jB,z8e as jC,eE as jD,ZCe as jE,JZ as jF,$9e as jG,gwe as jH,D9e as jI,Hue as jJ,d7e as jK,que as jL,DH as jM,W5e as jN,LH as jO,$5e as jP,ySe as jQ,iN as jR,be as jS,M2 as jT,Zd as jU,x9e as jV,T9e as jW,NC as jX,A7e as jY,k7e as jZ,h1 as j_,BK as ja,XM as jb,KH as jc,H6e as jd,Rl as je,oEe as jf,_6e as jg,Dce as jh,Uce as ji,W8e as jj,Sc as jk,_W as jl,D4e as jm,vW as jn,G8e as jo,NW as jp,JW as jq,f4e as jr,Oc as js,U0e as jt,B0e as ju,YEe as jv,k6e as jw,qwe as jx,L2e as jy,Z8e as jz,PK as k,Oye as k$,LF as k0,DF as k1,Age as k2,N7e as k3,M1e as k4,sSe as k5,q4e as k6,sS as k7,YF as k8,M4e as k9,Mu as kA,FSe as kB,dSe as kC,hW as kD,fs as kE,E1 as kF,hde as kG,$ue as kH,hge as kI,Yf as kJ,sne as kK,EX as kL,Zg as kM,p1 as kN,zn as kO,l7e as kP,MF as kQ,a9e as kR,dwe as kS,S7e as kT,dge as kU,fge as kV,Jae as kW,Xae as kX,fwe as kY,tle as kZ,kye as k_,wX as ka,V8e as kb,N6e as kc,T6e as kd,Og as ke,x6e as kf,Nge as kg,x7e as kh,T7e as ki,Bxe as kj,jxe as kk,A6e as kl,JV as km,bA as kn,PSe as ko,XV as kp,a3e as kq,d3e as kr,vSe as ks,Xge as kt,uae as ku,Eie as kv,$4e as kw,lx as kx,nae as ky,Y4e as kz,NA as l,RK as l$,Jd as l0,K8e as l1,w3e as l2,M2e as l3,VC as l4,Uk as l5,Ca as l6,ph as l7,vne as l8,gj as l9,Mx as lA,Fce as lB,u5e as lC,Ale as lD,kwe as lE,X9e as lF,Sae as lG,LCe as lH,MB as lI,m1 as lJ,wJ as lK,ui as lL,jme as lM,cr as lN,Dwe as lO,she as lP,PCe as lQ,Qj as lR,SU as lS,Xj as lT,qme as lU,Gme as lV,P_e as lW,s6e as lX,gde as lY,pde as lZ,B7e as l_,ch as la,kxe as lb,F5e as lc,s9e as ld,fle as le,axe as lf,CZ as lg,Ot as lh,uU as li,lxe as lj,hle as lk,K4e as ll,u4 as lm,Uxe as ln,sP as lo,j4e as lp,G4e as lq,U4e as lr,_we as ls,ywe as lt,_L as lu,dle as lv,Ym as lw,qc as lx,OX as ly,qce as lz,_g as m,Y3 as m$,lz as m0,az as m1,u3e as m2,Kj as m3,_ye as m4,lye as m5,l8e as m6,Pc as m7,Jj as m8,Y8e as m9,yC as mA,G5e as mB,$2 as mC,_xe as mD,i3e as mE,yae as mF,vm as mG,FCe as mH,hD as mI,uSe as mJ,Dae as mK,B6e as mL,bW as mM,swe as mN,rwe as mO,U8e as mP,w8e as mQ,fde as mR,wM as mS,tEe as mT,mxe as mU,Cae as mV,SW as mW,XX as mX,SSe as mY,T0e as mZ,e0e as m_,g_e as ma,Yl as mb,QH as mc,WEe as md,KEe as me,mae as mf,mS as mg,nJ as mh,e6e as mi,ma as mj,$m as mk,Rj as ml,dCe as mm,W_e as mn,p4 as mo,ZI as mp,m8e as mq,_8e as mr,ZV as ms,D1e as mt,q5e as mu,X8e as mv,YI as mw,l0e as mx,Z9e as my,nEe as mz,Jve as n,sz as n$,XH as n0,U9e as n1,Mae as n2,hI as n3,owe as n4,Bte as n5,S_e as n6,K5e as n7,Yme as n8,lue as n9,g4e as nA,mN as nB,fz as nC,X6e as nD,Pme as nE,WY as nF,iye as nG,CK as nH,H9 as nI,js as nJ,G1e as nK,uD as nL,f5e as nM,la as nN,U3e as nO,M5 as nP,d8e as nQ,Co as nR,QW as nS,Bf as nT,eK as nU,wW as nV,RH as nW,q7e as nX,gn as nY,mye as nZ,oz as n_,Oxe as na,Ll as nb,Wh as nc,gO as nd,qxe as ne,Gxe as nf,Vxe as ng,Hxe as nh,Dc as ni,rle as nj,R9e as nk,m4e as nl,l1e as nm,h6e as nn,C7e as no,AF as np,jZ as nq,Y$ as nr,S0e as ns,fE as nt,r9e as nu,HY as nv,J6e as nw,H5e as nx,Q6e as ny,gN as nz,DK as o,A9e as o$,rz as o0,rK as o1,RM as o2,rSe as o3,bae as o4,T6 as o5,lD as o6,jK as o7,$6e as o8,_z as o9,Bg as oA,y5 as oB,EJ as oC,m1e as oD,X7e as oE,n9e as oF,Ab as oG,Ji as oH,WJ as oI,zl as oJ,awe as oK,lwe as oL,cwe as oM,hwe as oN,$b as oO,Lme as oP,u7e as oQ,HJ as oR,N0e as oS,EEe as oT,TEe as oU,QZ as oV,Ib as oW,B8e as oX,twe as oY,v9e as oZ,O9e as o_,Dxe as oa,Ixe as ob,Rxe as oc,Nxe as od,Pxe as oe,K0e as of,I7e as og,wT as oh,Bge as oi,K7e as oj,$7e as ok,R7e as ol,pSe as om,O6e as on,zCe as oo,Q8e as op,exe as oq,E6e as or,x8e as os,T4e as ot,k4e as ou,g8e as ov,F4e as ow,v8e as ox,f8e as oy,PY as oz,Bn as p,M6e as p$,A4e as p0,hae as p1,vC as p2,Cse as p3,fa as p4,Mm as p5,Ote as p6,hE as p7,h4e as p8,HK as p9,HEe as pA,y6e as pB,z7e as pC,el as pD,W3 as pE,jC as pF,RSe as pG,b8e as pH,x4e as pI,N2e as pJ,Mk as pK,QF as pL,PJ as pM,LI as pN,Oge as pO,kEe as pP,jEe as pQ,mW as pR,oj as pS,Eve as pT,w9e as pU,Pj as pV,C4e as pW,ade as pX,fW as pY,i7e as pZ,nS as p_,V6e as pa,G6e as pb,GK as pc,AI as pd,_Se as pe,Z5e as pf,yye as pg,UEe as ph,K9e as pi,V9e as pj,H9e as pk,FEe as pl,Y9e as pm,DEe as pn,bEe as po,Sye as pp,Yj as pq,C0e as pr,gEe as ps,cEe as pt,aEe as pu,uEe as pv,eEe as pw,z9e as px,vEe as py,ZEe as pz,fn as q,dW as q$,uwe as q0,P9e as q1,vwe as q2,nxe as q3,ane as q4,h8e as q5,p8e as q6,jj as q7,BEe as q8,i9e as q9,yEe as qA,MH as qB,t7e as qC,Ni as qD,mD as qE,Du as qF,$we as qG,zwe as qH,Wwe as qI,Kwe as qJ,Ywe as qK,Jwe as qL,Xwe as qM,Vwe as qN,Qwe as qO,Gwe as qP,D8e as qQ,JH as qR,Q5e as qS,ZH as qT,iSe as qU,HSe as qV,X5e as qW,P8e as qX,bye as qY,mZ as qZ,lO as q_,ixe as qa,hEe as qb,M7e as qc,eD as qd,U6e as qe,Sie as qf,j6e as qg,yD as qh,sxe as qi,oxe as qj,SEe as qk,CEe as ql,Cie as qm,Lo as qn,kre as qo,YN as qp,R4e as qq,ESe as qr,Rme as qs,d0e as qt,lEe as qu,_Ee as qv,dEe as qw,MEe as qx,IEe as qy,REe as qz,ve as r,Nme as r$,wZ as r0,xle as r1,bD as r2,Fwe as r3,Swe as r4,gae as r5,F8e as r6,J4e as r7,_5 as r8,OJ as r9,xEe as rA,MD as rB,Lxe as rC,v6e as rD,Ki as rE,Lwe as rF,Pg as rG,QSe as rH,tz as rI,B9e as rJ,r4e as rK,t4e as rL,n4e as rM,o4e as rN,ene as rO,z6e as rP,u4e as rQ,s4e as rR,iEe as rS,zh as rT,OF as rU,Xme as rV,Qme as rW,ege as rX,b7e as rY,X6 as rZ,the as r_,SJ as ra,Rte as rb,bxe as rc,Cxe as rd,QCe as re,qae as rf,Gae as rg,uJ as rh,ar as ri,yi as rj,rn as rk,Ir as rl,_Ce as rm,e7e as rn,L8e as ro,Hwe as rp,Zwe as rq,qj as rr,A1e as rs,Q9e as rt,fEe as ru,OEe as rv,NEe as rw,PEe as rx,Rb as ry,N3e as rz,lr as s,hJ as s$,aN as s0,rge as s1,sge as s2,bT as s3,ige as s4,Iwe as s5,go as s6,tu as s7,dye as s8,hye as s9,N_e as sA,Gu as sB,A8e as sC,M8e as sD,R8e as sE,O8e as sF,k8e as sG,I4e as sH,Kre as sI,l1 as sJ,dse as sK,N4e as sL,ce as sM,Ce as sN,Jr as sO,Ct as sP,Pp as sQ,Xne as sR,o6 as sS,B4e as sT,j_e as sU,Axe as sV,n6e as sW,Fxe as sX,c8e as sY,qf as sZ,pZ as s_,Wj as sa,$V as sb,xwe as sc,Bwe as sd,oue as se,Pwe as sf,Uwe as sg,jwe as sh,Lm as si,Twe as sj,Rle as sk,Awe as sl,Ewe as sm,Nwe as sn,wwe as so,Rwe as sp,pwe as sq,CC as sr,a7e as ss,XSe as st,g9e as su,lge as sv,h7e as sw,ohe as sx,I8e as sy,GEe as sz,_O as t,nz as t$,Wb as t0,p4e as t1,Cm as t2,I6e as t3,xSe as t4,MW as t5,Hi as t6,wo as t7,Kc as t8,Qe as t9,hU as tA,cxe as tB,hxe as tC,dxe as tD,Gr as tE,Xbe as tF,vU as tG,zC as tH,fxe as tI,xk as tJ,Pbe as tK,uxe as tL,Obe as tM,Ek as tN,wk as tO,obe as tP,Td as tQ,xte as tR,a4e as tS,FA as tT,k9e as tU,_4e as tV,q1e as tW,Vae as tX,zae as tY,$ae as tZ,_te as t_,Xr as ta,WE as tb,xse as tc,dre as td,pz as te,Un as tf,QP as tg,Bre as th,Uc as ti,P4e as tj,aie as tk,nie as tl,af as tm,tD as tn,Zve as to,Mxe as tp,k_e as tq,mh as tr,OY as ts,P5e as tt,oo as tu,BT as tv,F7e as tw,t6e as tx,uz as ty,cz as tz,HCe as u,nA as u$,jge as u0,JF as u1,one as u2,w7e as u3,Zpe as u4,f9e as u5,H1e as u6,L1e as u7,I9e as u8,I1e as u9,rX as uA,c9e as uB,u9e as uC,d9e as uD,l9e as uE,KSe as uF,vI as uG,F6e as uH,P6e as uI,D6e as uJ,L6e as uK,sEe as uL,m7e as uM,V7e as uN,ED as uO,J7e as uP,TJ as uQ,Fue as uR,Rge as uS,S3e as uT,xY as uU,PI as uV,IJ as uW,yJ as uX,WV as uY,B5e as uZ,fA as u_,R1e as ua,C9e as ub,j1e as uc,cD as ud,S9e as ue,N9e as uf,Mge as ug,Ige as uh,ewe as ui,_9e as uj,c7e as uk,m9e as ul,X4e as um,N1e as un,p9e as uo,h9e as up,M9e as uq,b9e as ur,pye as us,WSe as ut,ZSe as uu,oSe as uv,uZ as uw,j5e as ux,LEe as uy,JSe as uz,Au as v,rA as v0,$s as v1,Rn as v2,om as v3,Tf as v4,hg as v5,Gc as v6,Pe as v7,lg as v8,m3 as v9,rr as va,tr as vb,Dr as vc,pEe as vd,ide as ve,y7e as vf,L9e as vg,wa as w,vle as x,pW as y,b6e as z};
//# sourceMappingURL=hml6mmd5fyx85si7.js.map
