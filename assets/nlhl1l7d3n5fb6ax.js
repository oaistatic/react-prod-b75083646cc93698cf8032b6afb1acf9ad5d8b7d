import{e as g,r as d,j as e,M as t,d as q,X as k}from"./lu2xqwqmjc95q6j6.js";import{nU as M,nT as f,C as x,bY as h,ao as y,G as v,bz as m,R as W}from"./hml6mmd5fyx85si7.js";function E(){const s=M(),n=g(),[o,r]=d.useState(),c=s!=null;if(d.useEffect(()=>{c||r(void 0)},[c]),!c)return null;const p=s.hasActiveRequest||o==="success",l=f(s.workspacePlanType),i=s.ownerEmail?e.jsxs(e.Fragment,{children:[" at ",e.jsx("span",{className:"font-semibold",children:s.ownerEmail})]}):"";return e.jsx(x,{testId:"modal-request-workspace-access",isOpen:!0,onClose:y,type:"warning",size:"custom",className:"max-w-3xl",title:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-lg",children:e.jsx(t,{...a.title,values:{workspaceName:s.accountName}})}),e.jsx("div",{className:"text-sm font-normal",children:l?e.jsx(t,{...a.eduSubtitle}):e.jsx(t,{...a.enterpriseSubtitle})})]}),icon:h,primaryButton:e.jsx(m.Button,{onClick:async()=>{r("requesting");try{await W.safePost("/accounts/{account_id}/invites/request",{parameters:{path:{account_id:s.accountId}}}),r("success")}catch{r("error")}},color:"primary",title:n.formatMessage(a.requestAccessButton),disabled:p}),secondaryButton:e.jsx(m.Button,{onClick:async()=>{const u=await k.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=u.url},color:"secondary",title:n.formatMessage(a.signOutButton)}),children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("div",{children:l?e.jsx(t,{...a.emailBelongsToEduWorkspace,values:{email:e.jsx("span",{className:"font-semibold",children:s.userEmail})}}):s.hasActiveRequest?e.jsx(t,{...a.activeRequestMessage,values:{emailPart:i}}):o==="success"?e.jsx(t,{...a.requestedWorkspaceAccessMessage,values:{domain:s.userEmail.split("@")[1],emailPart:i}}):e.jsx(t,{...a.emailBelongsToEnterpriseWorkspace,values:{domain:e.jsx("span",{className:"font-semibold",children:s.userEmail.split("@")[1]})}})}),e.jsx("div",{children:o==="requesting"?e.jsx(v,{}):o==="error"?e.jsx(t,{...a.contactWorkspaceAdminEmail,values:{emailPart:i}}):null})]})})}const a=q({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}"},enterpriseSubtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace"},eduSubtitle:{id:"RequestWorkspaceAccessModal.eduSubtitle",defaultMessage:"ChatGPT Edu has been enabled in your workspace"},emailBelongsToEnterpriseWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEnterpriseWorkspace",defaultMessage:"Your email domain ({domain}) is managed by your IT administrator. You may request access to this ChatGPT Enterprise plan here, but final approval is required from your IT administrators before you can join. Please contact your administrators to review your request."},emailBelongsToEduWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEduWorkspace",defaultMessage:"{email} belongs to a ChatGPT Edu plan but currently has no access."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to ChatGPT Enterprise. Your workspace administrator{emailPart} may approve the request. We recommend contacting your IT administrator to review your access request directly."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator{emailPart} to request access to a new workspace account."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"Your email domain is managed by your IT administrator. You have already requested access, and are pending approval from your IT administrators before you can join. Please contact your administrators{emailPart} to review your request."}});export{E as RequestWorkspaceAccessModal};
//# sourceMappingURL=nlhl1l7d3n5fb6ax.js.map
