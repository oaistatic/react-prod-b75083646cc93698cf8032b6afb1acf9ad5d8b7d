const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/on8091w14zfmyea2.js","assets/lu2xqwqmjc95q6j6.js","assets/hml6mmd5fyx85si7.js","assets/root-c0w5lvnh.css","assets/rseqzngxzbdt1oxg.js","assets/conversation-small-gcvo4yhm.css","assets/cqyjjngibokvfw83.js","assets/ogr5nmy9hq7gfgq0.js","assets/iq82wz84d1fxj03i.js","assets/elolu96rnfzqcgif.js","assets/kcqshnk26ykm1u4n.js","assets/fibktxptqydbr54o.js","assets/6a3e5rtr9pyzi31y.js","assets/ik8y7nlve9mzjttb.js","assets/isxemcalu9537a8n.js","assets/ejklrllfl9wcn2za.js","assets/noph6g93fyrhrl8q.js","assets/go1myqzi4nmf5v1z.js","assets/jym35rvuchj6pkxo.js"])))=>i.map(i=>d[i]);
import{j as e,r as H,M as l,u as Ce,e as q,d as ae,m as Ye,L as Je,a as ye,l as Xe,R as Ze}from"./lu2xqwqmjc95q6j6.js";import{ap as J,aq as X,d as C,pr as Qe,fA as et,ns as D,a as w,cd as tt,cc as st,cb as at,c as T,P as z,aj as we,cf as nt,lV as ot,ea as it,cE as Me,fz as ne,on as rt,ay as Z,C as lt,G as ct,eG as dt,b as mt,eW as oe,B as O,b$ as ut,i as ie,j as U,bX as ht,cl as gt,ps as xt,cm as I,ek as re,pt as ft,pu as pt,pv as vt,pw as jt,px as bt,eq as fe,jG as St,o3 as Ct,ce as Ge,aH as le,b5 as ze,aB as d,eT as yt,c4 as L,bY as wt,g0 as Mt,aZ as R,bl as Gt,py as zt,cR as kt,eA as _t,aN as ke,u as Nt,A as It,bg as Tt,iI as Pt,cN as At,R as Et,ec as Lt,g$ as Ot,aJ as _e,bw as Ft,cp as Bt,l as Dt,m as Ut,cs as Rt,D as W,c6 as ce,aI as Ht,E as qt,d0 as Vt,pz as $t,I as te,pA as Kt,oS as Wt,T as pe,g2 as Yt}from"./hml6mmd5fyx85si7.js";import{gv as Jt,gw as ve,b7 as Ne,cx as Xt,cP as Zt,h0 as Ie,h1 as Qt,h2 as de,h3 as es,gy as me,dd as Te,h4 as ts,h5 as ss,h6 as Pe,aT as Ae,h7 as as,h8 as ns,aS as os,h9 as is,ha as rs,hb as ls,l as Ee,ax as Y,hc as cs,hd as ds,he as ms,gx as us,hf as hs,hg as je,gT as se,hh as be,hi as gs,el as xs,fy as fs,hj as ps,hk as vs,aE as js,hl as bs,hm as Ss,hn as Cs,ho as ys,cb as ue,hp as ws,hq as Ms,hr as Gs,hs as zs,$ as Se,ht as ks,hu as _s,hv as Ns,hw as Is,hx as Ts,hy as Ps,hz as As}from"./rseqzngxzbdt1oxg.js";import{g as Es}from"./ejklrllfl9wcn2za.js";import{P as Ls}from"./e0pswmo7irlt62pp.js";const Os=J(()=>X(()=>import("./on8091w14zfmyea2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(t=>t.SnorlaxSplashScreen)),ba=({clientThreadId:t,currentModelId:s,onRequestCompletion:a,gizmoId:o})=>{const{data:i}=Me(o),n=ne(o),c=rt();return i==null?null:n?e.jsx(Os,{clientThreadId:t,gizmoId:o,currentModelId:s,onRequestCompletion:a}):e.jsx(Le,{gizmo:i,showStarterPrompts:!0,disableStarterPrompts:c,clientThreadId:t,currentModelId:s})};function Le({gizmo:t,hideOwner:s=!1,children:a,className:o,avatarClassName:i,showStarterPrompts:n=!1,disableStarterPrompts:c=!1,clientThreadId:u,currentModelId:r}){return t==null?null:e.jsx(e.Fragment,{children:e.jsxs("div",{className:C("text-token-text-primary flex h-full flex-col items-center justify-center","screen-arch:min-h-[calc(100dvh-var(--thread-leading-height)-var(--thread-trailing-height)-12px)]",o),children:[e.jsx(Fs,{gizmo:t,avatarClassName:i}),e.jsx(Ds,{gizmo:t,hideOwner:s,showStarterPrompts:n,disableStarterPrompts:c,clientThreadId:u,currentModelId:r}),a]})})}function Fs({gizmo:t,avatarClassName:s}){const a=!!(t!=null&&Qe(t)&&t?.gizmo.tags?.includes(et.FirstParty));return e.jsx("div",{className:"relative",children:e.jsx(Jt,{isFirstParty:a||!t,src:t!=null&&D(t)?t.profilePictureUrl:t?.gizmo.display.profile_picture_url,className:C("mb-3 h-12 w-12",s)})})}function Bs({gizmo:t,disabled:s}){const a=Es(t),o=Xt(),i=it();if(a==null||a.length===0)return null;const n=a.slice(0,i?2:4);return e.jsx(Rs,{starterPrompts:n,onSelectStarterPrompt:o,disabled:s})}function Ds({gizmo:t,hideOwner:s,showStarterPrompts:a,disableStarterPrompts:o,clientThreadId:i,currentModelId:n}){const c=w(),{data:u,isLoading:r}=tt({isGizmo:!0}),{gizmoModelsData:h,gizmoModelsLoading:v}=st({enabled:!!t}),b=t!=null&&D(t)?t.name:t?.gizmo.display.name,f=t!=null&&D(t)?t.description:t?.gizmo.display.description,y=h?.model_override,m=t!=null&&D(t)?t.defaultModel:t?.gizmo.default_model,g=m?y?.[m]?u?.models.get(y?.[m]):u?.models.get(m):null,k=at(),_=T(c,"1854238036"),P=H.useCallback(()=>{!i||!g||(z.logEvent("GPTs: Landing Preferred Model Switch",{from:n,to:g.id}),we.logEvent("chatgpt_gpts_landing_preferred_model_switch",g.id,{from:String(n??""),to:g.id}),nt(g.id),k({modelId:g.id,location:"Gizmo landing preferred model"}))},[i,g,n,k]);return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"text-center text-2xl font-semibold",children:b}),!s&&e.jsx("div",{className:"text-token-text-tertiary flex items-center gap-1",children:e.jsx(e.Fragment,{children:t&&D(t)?e.jsx(ve,{gizmo:t}):e.jsx(ve,{gizmo:t,socials:t.gizmo.author.display_socials})})}),!r&&!v&&_&&g&&(n&&n!==g.id?e.jsxs("button",{onClick:P,className:"btn btn-blue btn-small flex items-center gap-1",children:[e.jsx(ot,{className:"icon-sm"}),e.jsx(l,{id:"6uu9eh",defaultMessage:"Switch to {modelTitle} (creator's recommended model)",values:{modelTitle:`${g.title}`}})]}):e.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[e.jsx(Ne,{style:{color:"gray",width:16,height:16}}),e.jsx(l,{id:"mcxm8w",defaultMessage:"Using the creator's recommended model: {modelTitle}",values:{modelTitle:`${g.title}`}})]})),f&&e.jsx("div",{className:"text-token-text-primary max-w-md text-center text-sm font-normal",children:f}),a&&e.jsx(Bs,{gizmo:t,disabled:o})]})}const Us=/\s/;function Rs({starterPrompts:t,onSelectStarterPrompt:s,disabled:a,cssMobileDisplayLimit:o,marginOverride:i}){let n=t.map((c,u)=>{let r=c.oneliner??c.title;r===""&&(r=c.body);const h=Us.test(r);return e.jsxs("button",{className:C(o!==void 0&&u>=o&&"max-sm:hidden","border-token-border-default shadow-xxs enabled:hover:bg-token-main-surface-secondary relative flex w-40 flex-col gap-2 rounded-2xl border px-3 pt-3 pb-4 text-start align-top text-[15px] transition disabled:cursor-not-allowed"),disabled:a,onClick:v=>s(v,c,t,u),children:[e.jsx(Zt,{category:c.category}),e.jsx("div",{className:C("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",h?"break-word":"break-all"),children:r})]},c.id??u)});if(n.length>2){const c=Math.floor(n.length/2);n=[n.slice(0,c),n.slice(c)].map((u,r)=>e.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:u},r))}return e.jsx("div",{className:C("mx-3 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",i??"mt-12"),children:n})}const Hs=J(()=>X(()=>import("./noph6g93fyrhrl8q.js"),__vite__mapDeps([16,1,2,3,17])).then(t=>t.GizmoKeepInSidebarMenuItem)),qs=4,Q=Z.div`font-bold mt-6`,Vs=t=>Ce({queryFn:async()=>re.getAbout(t),queryKey:["gizmo","about",{gizmoId:t}]}),$s=t=>Ce({queryFn:async()=>re.getCreatorSlice({creatorId:t}),queryKey:["gizmo","creator",{creatorId:t}],enabled:t!=null}),Ks=t=>{switch(t.type){case I.BROWSER:return{title:S.browsing};case I.CANVAS:return{title:S.canvas};case I.PYTHON:return{title:S.dataAnalysis};case I.DALLE:return{title:S.dalle};case I.IMAGE_GEN:return{title:S.imageGen};case I.MEMORY:return{title:S.memory,description:S.memoryDescription};case I.JIT_PLUGIN:return{title:S.actions,description:S.actionsDescription};default:return null}},Ws=({tools:t})=>{const s=ie(),a=s?.includes(U.SearchTool)&&!s?.includes(U.SearchToolHoldout),o=Qt(t??[],n=>n.type);var i=ht(o.map(Ks).filter(n=>n!=null)??[]);return i.length===0?null:(a&&(i=i.map(n=>n.title===S.browsing?{title:S.search}:n)),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Q,{className:"mb-2",children:e.jsx(l,{id:"gizmo.about.capabilitiesHeader",defaultMessage:"Capabilities"})}),i.map(n=>e.jsxs("div",{className:"flex flex-row items-start gap-2 py-1 text-sm",children:[e.jsx(Ne,{className:"icon-sm mt-0.5 text-green-600"}),e.jsxs("div",{children:[e.jsx(l,{...n.title}),n.description!=null&&e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(l,{...n.description})})]})]},n.title.id))]}))},V=Z.div`flex flex-col justify-center items-center gap-2 border-s border-token-border-heavy first:border-0 w-48 mt-4 px-2`,$=Z.div`flex flex-row items-center gap-1.5 pt-1 text-xl font-semibold text-center leading-none`,K=Z.div`text-xs text-token-text-tertiary`,Ys=({gizmoResource:t})=>e.jsxs(oe,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx(O,{color:"ghost",icon:ut}),children:[e.jsx(Hs,{gizmoResource:t,location:"about_modal"}),e.jsx(Ie,{gizmoResource:t})]}),Js=({aboutBlock:t})=>{switch(t.type){case"generic_title_subtitle":return e.jsxs(V,{children:[e.jsx($,{children:t.title}),e.jsx(K,{children:t.subtitle})]});case"rating":return e.jsxs(V,{children:[e.jsxs($,{children:[e.jsx(de,{className:"icon-sm"}),t.avg]}),e.jsx(K,{children:t.count_str})]});case"category":return t.category_ranking!=null?e.jsxs(V,{children:[e.jsx($,{children:e.jsx(l,{id:"gizmo.about.trendingRank",defaultMessage:"#{rank}",values:{rank:t.category_ranking}})}),e.jsx(K,{children:e.jsx(l,{id:"gizmo.about.inCategory",defaultMessage:"in {category} {locale}",values:{category:t.category_str,locale:t.category_locale_str??""}})})]}):e.jsxs(V,{children:[e.jsx($,{children:t.category_str}),e.jsx(K,{children:e.jsx(l,{id:"gizmo.about.category",defaultMessage:"Category"})})]})}},Xs=({blocks:t})=>e.jsx("div",{className:"flex justify-center",children:t.map(s=>e.jsx(Js,{aboutBlock:s},s.type))}),Zs=({href:t,onClick:s,children:a})=>e.jsx(Ye.div,{whileTap:{scale:.98},className:"flex",children:e.jsxs(Je,{to:t,reloadDocument:!0,onClick:s,className:C("group border-token-border-medium bg-token-main-surface-primary hover:bg-token-main-surface-secondary relative ms-2 h-14 min-w-full grow rounded-xl border px-4 focus:outline-hidden"),children:[e.jsx("div",{className:"flex h-full items-center",children:e.jsx("div",{className:"line-clamp-2 text-sm break-all",children:a})}),e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary group-hover:bg-token-main-surface-secondary absolute -start-2 -bottom-px h-3 w-4 border-b",children:e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary h-3 w-2 rounded-ee-full border-e border-b"})}),e.jsx("div",{className:"absolute end-2 top-0 bottom-0 hidden items-center group-hover:flex",children:e.jsx("div",{className:"bg-token-main-surface-primary flex h-8 w-8 items-center justify-center rounded-lg",children:e.jsx(me,{className:"icon text-token-text-primary"})})})]})}),Qs=({gizmo:t,onClose:s})=>{const a=w(),o=T(a,"1825130190"),i=t.gizmo.display.prompt_starters?.slice(0,qs);return i==null||i.length===0||!o?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Q,{children:e.jsx(l,{id:"gizmo.about.conversationStartersHeader",defaultMessage:"Conversation Starters"})}),e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-x-1.5 gap-y-2",children:i.map((n,c)=>e.jsx(ea,{gizmo:t,prompt:n,onClick:s},c))})]})};function ea({gizmo:t,prompt:s,onClick:a}){const o=w(),i=xt(o,t,s);return e.jsx(Zs,{href:i?.toString()??"#",onClick:a,children:s})}const ta=({reviewStats:t})=>{const s=w();return T(s,"1825130190")?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(Q,{children:e.jsx(l,{id:"gizmo.about.ratingsHeader",defaultMessage:"Ratings"})})}),t!=null?[5,4,3,2,1].map(o=>e.jsxs("div",{className:"flex flex-row items-center gap-2 py-1 text-xl font-semibold",children:[e.jsxs("div",{className:"icon-lg relative",children:[e.jsx(de,{className:"icon-lg text-green-500"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] text-white",children:o})]}),e.jsx("div",{className:"h-2.5 grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:`${(t?.by_rating[o-1]??0)*100}%`}})})]},o)):e.jsx("div",{className:"text-token-text-tertiary text-sm",children:e.jsx(l,{id:"gizmo.about.ratings.notEnoughRatings",defaultMessage:"Not enough ratings yet"})})]}):null},sa=({gizmoId:t,creatorId:s,onClose:a})=>e.jsx(aa,{gizmoId:t,creatorId:s,onClose:a}),aa=({gizmoId:t,creatorId:s,onClose:a,children:o})=>{const i=Me(t),n=Vs(t),c=$s(s);return H.useEffect(()=>{z.logEvent("Detail Show Modal",{gizmo_id:t})},[t]),e.jsx(lt,{testId:"modal-gizmo-about",isOpen:!0,onClose:a,type:"success",hideSeparator:!0,showCloseButton:!0,noPadding:!0,className:"flex h-[calc(100vh-25rem)] min-h-[40vh] max-w-xl flex-col",children:e.jsx(na,{aboutQuery:n,gizmoQuery:i,creatorSliceQuery:c,onClose:a,children:o})})},na=({aboutQuery:t,gizmoQuery:s,creatorSliceQuery:a,children:o,onClose:i})=>{const n=q();if(t.isLoading||s.isLoading||a.isLoading)return e.jsx("div",{className:"flex h-40 items-center justify-center pb-10",children:e.jsx(ct,{})});const c=t.data?.gizmo,u=a?.data,r=s?.data;if(!c||t.error||s.error||a.error||t.data==null||s.data==null||a.data==null||!r){const h=dt(t.error??s.error??a.error)??n.formatMessage({id:"I3v3Oj",defaultMessage:"An error occurred loading this GPT."});return e.jsx("div",{className:"relative flex flex-col gap-2 overflow-hidden px-2 py-4",children:e.jsx("div",{className:"flex flex-col p-4 text-red-500",children:h})})}return e.jsx("div",{className:"flex h-full px-2 py-4",children:e.jsxs("div",{className:"relative flex grow flex-col gap-4 overflow-y-auto px-8 pt-16 pb-20",children:[e.jsx("div",{className:"absolute top-0",children:e.jsxs("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex items-center justify-end bg-linear-to-b to-transparent pb-2",children:[r&&e.jsx(Ys,{gizmoResource:r}),e.jsx(mt,{onClick:i})]})}),e.jsx("div",{className:"absolute bottom-[64px]",children:e.jsx("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex min-h-[64px] items-end bg-linear-to-t to-transparent px-2",children:o})}),e.jsx(Le,{gizmo:r,className:"h-fit!",avatarClassName:"h-20! w-20!"}),e.jsx(Xs,{blocks:t.data.about_blocks}),e.jsx(Qs,{gizmo:r,onClose:i}),e.jsx(Ws,{tools:r.tools}),e.jsx(ta,{reviewStats:t.data.review_stats}),u&&e.jsx(oa,{gizmos:u.items})]})})};function oa({gizmos:t}){const s=w();return t.length===0?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(Q,{children:e.jsx(l,{id:"gizmo.about.moreByHeader",defaultMessage:"More by {creatorName}",values:{creatorName:t[0].gizmo.author.display_name}})})}),e.jsx("div",{className:C("no-scrollbar group flex min-h-[104px] items-center space-x-2 overflow-x-auto overflow-y-hidden"),children:t?.map(a=>e.jsx("a",{onClick:()=>{z.logEvent("Detail Click Gizmo",{gizmo_id:a.gizmo.id})},href:gt(s,a),className:"bg-token-main-surface-secondary h-fit min-w-fit rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",children:e.jsx(es,{resource:a})},a.gizmo.id))})]})}const Sa=t=>e.jsx("div",{className:"flex grow flex-col items-center",children:e.jsxs(O,{color:"primary",className:"h-12 w-full",icon:me,...t,children:[e.jsx(l,{id:"gizmo.about.startChat",defaultMessage:"Start Chat"}),t.children]})}),S=ae({browsing:{id:"gizmo.about.tools.browsing",defaultMessage:"Browsing"},canvas:{id:"gizmo.about.tools.canvas",defaultMessage:"Canvas"},search:{id:"gizmo.about.tools.search",defaultMessage:"Web Search"},dataAnalysis:{id:"gizmo.about.tools.dataAnalysis",defaultMessage:"Code Interpreter & Data Analysis"},dalle:{id:"gizmo.about.tools.dalle",defaultMessage:"DALLÂ·E Images"},imageGen:{id:"gizmo.about.tools.imageGen",defaultMessage:"4o Image Generation"},memory:{id:"gizmo.about.tools.memory",defaultMessage:"Memory"},actions:{id:"gizmo.about.tools.actions",defaultMessage:"Actions"},actionsDescription:{id:"gizmo.about.tools.actionsDescription",defaultMessage:"Retrieves or takes actions outside of ChatGPT"},memoryDescription:{id:"gizmo.about.tools.memoryDescription",defaultMessage:"Learns from previous chats to improve future conversations"}}),ia=J(()=>X(()=>import("./jym35rvuchj6pkxo.js"),__vite__mapDeps([18,1,2,3]))),ra=J(()=>X(()=>import("./noph6g93fyrhrl8q.js"),__vite__mapDeps([16,1,2,3,17])).then(t=>t.GizmoKeepInSidebarMenuItem));function la({children:t,clientThreadId:s,gizmoResource:a,showReportModal:o,showGizmoModelPicker:i}){return e.jsx(e.Fragment,{children:e.jsx(oe,{size:"small",triggerButton:t,children:e.jsx(Oe,{clientThreadId:s,gizmoResource:a,showReportModal:o,showGizmoModelPicker:i})})})}function Oe({clientThreadId:t,gizmoResource:s,showReportModal:a,showGizmoModelPicker:o}){const{canEdit:i}=ft(s),{canCreate:n}=pt(),{canViewConfig:c}=vt(s),u=jt(s.gizmo.id),r=ie(),h=bt(s),v=s.gizmo.share_recipient===fe.Marketplace||s.gizmo.share_recipient===fe.Link,b=!h&&v,f=w(),m=T(f,"1825130190")&&!h&&St(s),g=r?.includes(U.GizmoSupportEmails)&&!h&&s.gizmo.author.will_receive_support_emails&&m,k=Ct(),_=Ge(t),P=Te(U.WorkspaceShareLinks),{isUnauthenticated:A}=le(),E=P&&_&&!A,M=ye(),F=ze();return e.jsxs(e.Fragment,{children:[e.jsx(ts,{show:o,clientThreadId:t,gizmoHasCustomActions:ss(s.tools),preferredModelId:s.gizmo.default_model??void 0}),e.jsx(d.Item,{onClick:()=>{z.logNewChatButtonClicked({location:"Gizmo information dropdown",gizmo_id:s.gizmo.id}),Ae(M,`/g/${s.gizmo.short_url}`)},icon:Pe,children:e.jsx(l,{...x.newChat})}),e.jsx(d.Item,{onClick:()=>L(f,sa,{gizmoId:s.gizmo.id,creatorId:s.gizmo.author.user_id}),icon:yt,children:e.jsx(l,{...x.about})}),s.tools?.find(p=>p.type===I.JIT_PLUGIN)&&e.jsx(d.Item,{onClick:()=>L(f,as,{gizmo:s}),icon:wt,children:e.jsx(l,{...x.privacySettings})}),i&&e.jsx(d.Item,{onClick:()=>{M(u)},icon:Mt,children:e.jsx(l,{...x.customize})}),!i&&c&&e.jsxs(e.Fragment,{children:[e.jsx(d.Item,{onClick:()=>{M(`/g/${s.gizmo.id}/view`)},icon:ns,children:e.jsx(l,{id:"GizmoInformation.viewGizmoLabel",defaultMessage:"View configuration"})}),n&&e.jsx(d.Item,{onClick:async()=>{const p=await re.copyGizmo({gizmoId:s.gizmo.id});p.gizmo.id&&M(`/gpts/editor/${p.gizmo.id}`)},icon:os,children:e.jsx(l,{id:"GizmoInformation.copyGizmoLabel",defaultMessage:"Duplicate GPT"})})]}),e.jsx(ra,{gizmoResource:s,location:"conversation_page"}),e.jsx(Ie,{gizmoResource:s}),g&&e.jsx(d.Item,{onClick:()=>L(f,is,{gizmo:s}),icon:me,children:e.jsx(l,{...x.feedbackEmail})}),m&&e.jsx(d.Item,{onClick:()=>L(f,ls,{gizmo:s}),icon:rs,children:e.jsx(l,{...x.reviewGPT})}),b&&e.jsx(d.Item,{onClick:a,icon:Ee,children:e.jsx(l,{...x.reportGPT})}),E&&e.jsx(d.Item,{onClick:()=>R.openSharingModal(_),icon:Y,children:e.jsx(l,{...x.shareChat})}),k&&e.jsxs(e.Fragment,{children:[e.jsx(d.Separator,{}),e.jsx(d.Item,{color:"danger",onClick:()=>{L(f,({onClose:p})=>e.jsx(ia,{gpt:s,account:F,isOpen:!0,onClose:p}))},icon:Gt,children:e.jsx(l,{defaultMessage:"Remove GPT from workspace",id:"GizmoInformation.removeGPT"})})]}),r?.includes("debug")&&e.jsxs(e.Fragment,{children:[e.jsx(d.Separator,{}),e.jsx(d.Item,{onClick:()=>{M(zt(s))},children:"(Internal) See share page"})]})]})}const ca=({conversation:t,isActiveConversation:s,inMainScreen:a=!1,inChatWindow:o=!1,inOrla:i=!1})=>{const n=w(),c=ze(),u=t.id,r=t.gizmo_id,h=ne(r),v=T(n,"3376455464"),b=T(n,"16480203"),f=T(n,"1693134918"),y=T(n,"2560369700"),m=kt(u),g=Te(U.WorkspaceShareLinks),{isUnauthenticated:k}=le(),_=g&&m&&!k&&(!h||b),P=_t(),A="owner"in t?t.owner?.user_id:null,E=A==null||A===c?.normalizedAccountUserId,[M,F]=H.useState(!!t.is_do_not_remember),p=ke(u,j=>j?.isStarred)??!!t.is_starred,B=q();let G=null;const{snorlaxes:N}=cs();G=N;let he=null;h&&G&&(he=G.find(({gizmo:j})=>j.gizmo.id===r)?.gizmo);const ee=ds(),{mutate:De}=ms(),Ue=Xe(),{eligible:Re,markAsViewed:He}=Nt(It.ArchiveConversationOnboarding),qe=Tt(),Ve=ye(),$e=async()=>{await Et.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:t.id}},requestBody:{is_archived:!0}}),Lt(Ue,t.gizmo_id),we.logEvent("chatgpt_conversation_archived"),z.logEvent("Conversation Archived"),Re&&(qe.info(B.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),He()),s&&Ae(Ve)},Ke=()=>{const j=!p;De({conversation:t,isStarred:j}),z.logEvent(j?"Conversation Pinned":"Conversation Unpinned")},ge=[_&&!o&&e.jsx(d.Item,{onClick:()=>R.openSharingModal(m,"History Item Menu"),icon:Y,"data-testid":"share-chat-menu-item",children:e.jsx(l,{...x.shareChat})},"share"),!1,!o&&!i&&E&&e.jsx(d.Item,{disabled:!m,onClick:()=>{setTimeout(()=>{m&&hs.publish({kind:a?"editTitleInMainScreen":"editTitle",serverThreadId:m})},100)},icon:us,children:e.jsx(l,{...x.renameChat})},"rename"),P&&E&&G&&G?.length>0&&Pt(r,p)&&m&&e.jsxs(Ze.Fragment,{children:[h&&e.jsxs(e.Fragment,{children:[G.length>1&&e.jsxs(d.Sub,{children:[e.jsx(d.SubMenuTrigger,{icon:je,children:e.jsx(l,{...se.moveConversationToSnorlax})}),e.jsx(d.Portal,{children:e.jsx(d.SubContent,{children:e.jsx(be,{inSidebarFlyout:!1,onUpdateConversationGizmo:j=>ee({newGizmoId:j,conversation:t,previousGizmoId:r??null}),currentGizmoId:r})})})]}),e.jsx(d.Item,{onClick:()=>{ee({newGizmoId:null,conversation:t,previousGizmoId:r??null})},icon:gs,children:e.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:e.jsx(l,{...se.removeConversationFromSnorlax,values:{projectName:he?.gizmo.display.name??"project"}})})})]}),!h&&e.jsxs(d.Sub,{children:[e.jsx(d.SubMenuTrigger,{icon:je,children:B.formatMessage(se.addConversationToSnorlax)}),e.jsx(d.Portal,{children:e.jsx(d.SubContent,{children:e.jsx(be,{inSidebarFlyout:!1,onUpdateConversationGizmo:j=>ee({newGizmoId:j,conversation:t,previousGizmoId:r??null})})})})]})]},"snorlax")].filter(Boolean);return e.jsxs(e.Fragment,{children:[ge,ge.length>0&&e.jsx(d.Separator,{}),e.jsx(xs,{children:({openScheduleModal:j,isScheduled:xe,isSchedulable:We})=>We||xe?e.jsx(d.Item,{onClick:j,disabled:!m,icon:fs,children:e.jsx(l,{...xe?x.editSchedule:x.scheduleTask})}):null}),!r&&f&&y&&e.jsx(d.Item,{disabled:!m,onClick:Ke,icon:p?ps:de,iconAriaLabel:B.formatMessage(p?x.unpinChat:x.pinChat),children:p?e.jsx(l,{...x.unpinChat}):e.jsx(l,{...x.pinChat})}),e.jsx(d.Item,{disabled:!m,onClick:()=>{m&&$e()},icon:vs,children:e.jsx(l,{...x.archiveChat})}),!1,v&&o&&e.jsx(d.Item,{icon:Ee,onClick:()=>{R.openModal(At.ReportConversation)},children:r?e.jsx(l,{id:"thread.reportConversation",defaultMessage:"Report conversation"}):e.jsx(l,{id:"thread.report",defaultMessage:"Report"})}),e.jsx(d.Item,{color:"danger",disabled:!m,onClick:()=>{m&&L(n,bs,{conversationTitle:t.title,serverThreadId:m,isActiveConversation:s,gizmoId:r})},icon:js,"data-testid":"delete-chat-menu-item",children:e.jsx(l,{...x.deleteChat})})]})};function Fe({clientThreadId:t,gizmoId:s,conversationTitle:a,conversationAsyncStatus:o,isDoNotRemember:i,isStarred:n}){return{id:t,title:a??"",create_time:null,update_time:null,owner:null,conversation_template_id:null,async_status:o??null,gizmo_id:s??null,snippet:null,is_do_not_remember:i,is_starred:n}}const Be=({conversation:t,children:s,isActiveConversation:a,onOpenChange:o,inMainScreen:i=!1,inChatWindow:n=!1,inOrla:c=!1,...u})=>{const[r,h]=H.useState(!1);return e.jsx(oe,{...u,open:r,onOpenChange:v=>{h(v),o?.(v)},side:"bottom",contentAlign:n?"end":"start",alignOffset:n?0:-8,sideOffset:n?0:-4,triggerButton:s,size:"auto",children:r&&e.jsx(ca,{conversation:t,inMainScreen:i,isActiveConversation:a,inChatWindow:n,inOrla:c})})},x=ae({newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat"},about:{defaultMessage:"About",id:"GizmoInformation.about"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails"},share:{defaultMessage:"Share",id:"GizmoInformation.share"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize"},feedbackEmail:{defaultMessage:"Send feedback",id:"GizmoInformation.feedbackEmail"},reviewGPT:{defaultMessage:"Review GPT",id:"GizmoInformation.reviewGPT"},report:{defaultMessage:"Report",id:"GizmoInformation.report"},reportGPT:{defaultMessage:"Report GPT",id:"GizmoInformation.reportGPT"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy"},deleteChat:{defaultMessage:"Delete",id:"GizmoInformation.deleteChat.0"},debugChat:{defaultMessage:"(Internal) Debug",id:"GizmoInformation.debugChat"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat"},scheduleTask:{id:"7e1pG9",defaultMessage:"Schedule"},editSchedule:{id:"qzM4nO",defaultMessage:"Edit schedule"},archiveChat:{defaultMessage:"Archive",id:"GizmoInformation.archiveChat.0"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat"},shareChatLong:{defaultMessage:"Share chat",id:"GizmoInformation.shareChatLong"},pinChat:{defaultMessage:"Pin chat",id:"GizmoInformation.pinChat"},unpinChat:{defaultMessage:"Unpin chat",id:"GizmoInformation.unpinChat"}}),Ca=Object.freeze(Object.defineProperty({__proto__:null,GizmoConversationOptionsDropdown:Be,GizmoInformationDropdown:la,GizmoInformationDropdownItems:Oe,buildConversationResponse:Fe},Symbol.toStringTag,{value:"Module"}));function ya({showShareButton:t,showProfileDropdown:s,clientThreadId:a}){const o=w(),i=Ot(o,a),n=Ge(a),c=q(),u=_e(o,"1547743984"),[r,h,v,b,f,y]=ke(a,N=>[pe.hasUserMessage(N),pe.getGizmoId(N),As(N),N?.title,N?.is_do_not_remember,N?.isStarred]),m=Ft(()=>Yt(i)?.value),g=H.useMemo(()=>Fe({clientThreadId:a,gizmoId:h,conversationTitle:b,conversationAsyncStatus:m,isDoNotRemember:f,isStarred:y}),[a,h,b,m,f,y]),k=Bt(a),{prefetchSearchPromises:_}=Ss(),P=_!=null,A=Dt(Ut),E=u.get("show_share_button_text",!1)&&!A,M=c.formatMessage({id:"GizmoInformation.shareChat",defaultMessage:"Share"}),F=()=>R.openSharingModal(n),p=ne(h),B=ie();Rt();const G=!W(o);return e.jsxs(e.Fragment,{children:[W(o)?e.jsx(Cs,{}):null,W(o)&&B?.includes("caterpillar")&&e.jsx(ys,{}),null,t&&n&&e.jsx(e.Fragment,{children:E?e.jsx(O,{onClick:F,icon:Y,label:M,"data-testid":"share-chat-button",color:"ghost",className:"text-token-text-primary",style:{viewTransitionName:"var(--vt_share_chat_wide_button)"},children:M}):e.jsx(ce,{label:c.formatMessage({id:"CPEfES",defaultMessage:"Share chat"}),children:e.jsx(ue,{"data-testid":"share-chat-button",onClick:F,icon:Y,style:{viewTransitionName:"var(--vt_share_chat_compact_button)"}})})}),e.jsxs("div",{className:"flex items-center",children:[!G&&!h&&k&&!P&&!r&&e.jsx(e.Fragment,{children:e.jsx(ws,{clientThreadId:a})}),e.jsx(Ms,{}),n!=null&&!G?e.jsx(Be,{conversation:g,inMainScreen:!0,isActiveConversation:!0,inChatWindow:!0,children:e.jsx(Gs,{"aria-label":c.formatMessage({id:"9Mk/E3",defaultMessage:"Open conversation options"}),"data-testid":"conversation-options-button"})}):h&&p?e.jsx(zs,{gizmoId:h}):null,s&&e.jsx(da,{clientThreadId:a})]})]})}const da=({clientThreadId:t})=>{const s=w(),a=Ht();return Se.markStart("LoginOrProfileMenu"),Se.markRendered("LoginOrProfileMenu"),e.jsxs(e.Fragment,{children:[!a&&!W(s)&&e.jsx(ha,{}),!a&&e.jsx(Ls,{clientThreadId:t})]})};function ma({onClick:t,className:s,testId:a}){const i=q().formatMessage({id:"OFyxqj",defaultMessage:"New chat"});return e.jsx(ce,{label:i,className:C("flex",s),children:e.jsx(ue,{onClick:n=>Ps(n,t),icon:Pe,"aria-label":i,"data-testid":a,as:"link"})})}function wa({clientThreadId:t,hideNewChat:s=!1}){const a=Ts({clientThreadId:t,location:"Navigation actions"});return Wt()?e.jsxs("div",{className:"flex items-center",children:[e.jsx(ua,{}),!s&&e.jsx(ma,{onClick:a})]}):null}function ua(){const t=q(),s=Kt(),{isUnauthenticated:a}=le(),o=_s(Is,Ns,!1,!0);return a||s?null:e.jsx(ce,{label:t.formatMessage({id:"cElEQV",defaultMessage:"Open sidebar"}),className:"flex",children:e.jsx(ue,{"aria-label":t.formatMessage({id:"pV/Etp",defaultMessage:"Open sidebar"}),onClick:()=>{R.setSidebarOpen(!0)},icon:o})})}function ha(){const t=w(),s=qt(),a=ks(),o=Vt(ga.signUpCta),i=$t(),c=_e(t,"3637408529").get("is_desktop_primary_auth_button_on_right",!1),u="Chat header",r=()=>{te(t,{authType:"login",callback:g=>{z.logLogInButtonClicked({location:u,provider:g})}})},h=()=>{te(t,{authType:"signup",callback:g=>{z.logSignUpButtonClicked({location:u,provider:g})}})},v=()=>{te(t,{authType:"login_or_signup",callback:g=>{z.logLoginOrSignUpButtonClicked({location:u,provider:g})}})},b=e.jsx(O,{onClick:r,color:s?"primary":"secondary","data-testid":"login-button",className:C(!s&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(l,{id:"B1SN7b",defaultMessage:"Log in"})},"login"),f=e.jsx(O,{color:s?"secondary":"primary",onClick:h,"data-testid":"signup-button",className:C(s&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(l,{...o})},"signup"),y=e.jsx(O,{color:"primary",onClick:v,"data-testid":"login-or-signup-button",className:C(s&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(l,{...i})},"signup"),m=a?[y]:s?[b,f]:[f,b];return e.jsx("div",{className:"flex items-center justify-center gap-2",children:c?m.reverse():m})}const ga=ae({signUpCta:{id:"P6cySK",defaultMessage:"Sign up"}});export{ya as C,ua as E,aa as G,da as L,wa as N,Sa as a,Le as b,ba as c,ma as d,ha as e,Ca as f};
//# sourceMappingURL=gnhjnh2n0u3gy6qx.js.map
