const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lmwh3ca8ljkwf4bm.js","assets/lu2xqwqmjc95q6j6.js","assets/hml6mmd5fyx85si7.js","assets/root-c0w5lvnh.css","assets/hk7f9vy03o1rp64s.js","assets/kj7psz5s4tjdmz6e.js","assets/rseqzngxzbdt1oxg.js","assets/conversation-small-gcvo4yhm.css","assets/k0q8dyb7h41x2xxl.js","assets/kk5qbg5kgpw95cl6.js","assets/gnhjnh2n0u3gy6qx.js","assets/ejklrllfl9wcn2za.js","assets/ik8y7nlve9mzjttb.js","assets/isxemcalu9537a8n.js","assets/e0pswmo7irlt62pp.js","assets/aljgry7qt1vxg68x.js","assets/i3dsk2v4ral4g6kx.js","assets/i0fvnlwbu2kecrth.js","assets/grgafnin9dqj3keo.js","assets/euq7ybw4dhrsufo2.js","assets/em6xteal3laxzbp5.js"])))=>i.map(i=>d[i]);
import{bg as ve,R as Se,bz as me,bl as zt,eW as qt,aB as Kt,b$ as Qt,a as I,m1 as Be,fF as Ye,fG as ze,fJ as $t,cR as Zt,an as Xt,iV as qe,fE as Jt,j1 as es,aH as ae,fH as pe,V as te,e0 as Xe,pG as ts,aJ as se,om as we,eZ as ss,d as A,f6 as as,r as os,b4 as Je,cs as et,t as tt,D as ye,dc as ns,bw as rs,aM as is,mI as ls,mL as cs,f as U,h as V,s as Ke,N as Qe,c6 as st,aZ as q,cZ as ds,aI as us,qW as hs,aU as at,ce as Ce,j as ms,i5 as ot,fz as be,c as K,ap as nt,aq as rt,cE as ps,q as it,d7 as lt,gZ as ct,l as oe,hK as dt,cB as ne,cp as xe,aN as re,fA as gs,nE as fs,P as z,T as L,eR as xs,eE as ut,jE as ht,cP as vs,aj as Y,cN as mt,lP as pt,pY as gt,i as Ss,cA as ws,cd as ys,ah as Cs,qX as bs,aS as js,m as Ms,qY as $e,aO as Ns,cV as _s,h2 as Ts,j2 as ks,db as Ze,gD as Es,mj as As,ec as Ps,aK as Rs,dh as Is,bO as Os,aT as Hs,iW as Ws,qZ as Ds,q_ as Ls,cW as Fs,gA as Gs}from"./hml6mmd5fyx85si7.js";import{e as B,a as ie,r as c,j as t,M as W,m as ft,d as Us,c as je,L as Vs,R as xt,h as Bs,b as Ys}from"./lu2xqwqmjc95q6j6.js";import{c8 as zs,ai as qs,am as Ks,cb as H,cc as Qs,cd as $s,ce as Zs,at as Xs,l as vt,aE as St,nd as Js,cj as wt,c6 as ea,aU as ta,aV as sa,aW as aa,hm as Me,cn as oa,i8 as na,ne as ra,nf as ia,ng as la,nh as ca,ni as da,nj as yt,X as ua,ef as ha,J as ma,nk as pa,dd as ga,u as fa,fB as Ne,nl as xa,j2 as va,gE as Sa,j6 as wa,j3 as ya,nm as Ca,j4 as ge,nn as ba,h6 as ja,ek as Ct,no as Ma,kz as Na,bN as bt,kA as _a,np as Ta,nq as ka,nr as Ea,ns as Aa,nt as Pa,nu as Ra,nv as Ia,nw as Oa,c_ as Ha,nx as Wa,c5 as Da,ny as La,cM as Fa,nz as Ga,iO as Ua,nA as Va,aj as Ba,iV as Ya,nB as za,nC as qa,nD as Ka,nE as Qa,cV as $a,nF as Za,gd as Xa,fF as Ja,nG as eo,nH as to,go as so,af as ao,nI as oo,nJ as no,nK as ro,nL as io,nM as lo,nN as co,nO as uo,nP as ho,nQ as mo,nR as po,nS as go,nT as fo,nU as xo,nV as vo,nW as So,nX as wo,nY as yo,nZ as Co,n_ as bo,n$ as jo,o0 as Mo}from"./rseqzngxzbdt1oxg.js";import{C as No,c as _o}from"./gnhjnh2n0u3gy6qx.js";import{a as _e}from"./isxemcalu9537a8n.js";import{u as To}from"./ik8y7nlve9mzjttb.js";import{M as ko,T as Eo}from"./iq82wz84d1fxj03i.js";import{F as Ao}from"./cqyjjngibokvfw83.js";import{S as Po,u as jt,a as Ro,C as Io}from"./irf8dojj8b02f534.js";import{I as Oo}from"./f251sy8gvgjvi4td.js";import"./fi4t5vltimyk5jia.js";const Ho=({image:s,onClose:e,onRequestCompletion:r,clientThreadId:a,currentModelId:n,post:h,canDelete:f,onOpenReport:o})=>{const i=B(),x=ve(),b=ie(),[v,S]=c.useState("default"),l=zs(),m=c.useRef(null),j=c.useRef(l);c.useEffect(()=>{j.current=l},[l]);const y=c.useCallback(()=>qs(i),[i]),M=c.useCallback(()=>{s&&S("inpaint")},[s]),N=c.useCallback(()=>{S("default"),j.current.clearAllDrawings()},[]),u=c.useCallback(()=>{s&&Ks({url:s.url,fileName:y()})},[s,y]),w=c.useCallback(()=>m.current?.getImageData(),[]),p=c.useCallback(async()=>{if(window.confirm(i.formatMessage({id:"postReceiverModal.deletePostConfirmation",defaultMessage:"Are you sure you want to delete this post?"})))try{await Se.safeDelete("/share/post/{post_id}",{parameters:{path:{post_id:h.id}}}),b("/",{replace:!0})}catch{x.danger({id:"postReceiverModal.deletePostError",defaultMessage:"Failed to delete the post",description:"Error message for deleting a post"},{toastId:"post_receiver_modal.delete_post_error"})}},[h.id,i,x,b]),C=v==="inpaint"?i.formatMessage({id:"TjVqYb",defaultMessage:"Edit Selection"}):h.text??i.formatMessage({id:"htGxHc",defaultMessage:"Image"}),d=c.useCallback(g=>{g.key==="Escape"&&(e(),g.preventDefault())},[e]);return c.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[d]),t.jsx(me.Root,{isOpen:!0,onClose:e,testId:"modal-lightbox-post-share",shouldIgnoreClickOutside:v==="inpaint",children:t.jsx(me.Overlay,{children:t.jsxs(me.Content,{size:"fullscreen",removePopoverStyling:!0,className:"grid min-h-0 grid-rows-[auto_minmax(0,1fr)] overflow-hidden",children:[t.jsxs("header",{className:"flex h-14 w-full items-center justify-between gap-2 px-2 md:px-4",children:[t.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[t.jsx(H,{icon:zt,onClick:e,"aria-label":i.formatMessage({id:"EYLKSm",defaultMessage:"Close"})}),t.jsx("h2",{className:"line-clamp-1 text-base font-medium",children:C})]}),t.jsx("div",{className:"flex items-center gap-2",children:v==="inpaint"?t.jsxs(t.Fragment,{children:[t.jsx(H,{className:"aspect-square",icon:Qs,onClick:l.undoDrawing,disabled:!l.canUndoDrawing,"aria-label":i.formatMessage({id:"OmaTPx",defaultMessage:"Undo"})}),t.jsx(H,{className:"aspect-square",icon:$s,onClick:l.redoDrawing,disabled:!l.canRedoDrawing,"aria-label":i.formatMessage({id:"ZUr4oh",defaultMessage:"Redo"})}),t.jsx(H,{className:"w-auto px-3",onClick:N,children:i.formatMessage({id:"D9xvar",defaultMessage:"Cancel"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(H,{className:"aspect-square",icon:Zs,onClick:M,"aria-label":i.formatMessage({id:"pRGwlp",defaultMessage:"Edit image"})}),t.jsx(H,{className:"aspect-square",icon:Xs,onClick:u,"aria-label":i.formatMessage({id:"9DNHka",defaultMessage:"Download image"})}),t.jsx(H,{className:"aspect-square",icon:vt,onClick:o,"aria-label":i.formatMessage({id:"2gNXdX",defaultMessage:"Report content"})}),f&&t.jsx(H,{className:"aspect-square",icon:St,onClick:p,"aria-label":i.formatMessage({id:"rzlDpj",defaultMessage:"Delete post"})})]})})]}),t.jsxs("div",{className:"grid h-full w-full grid-rows-[1fr_auto] items-center overflow-y-auto overscroll-contain",children:[t.jsx("div",{className:"flex h-full w-full items-center justify-center px-4 pb-4",children:s&&t.jsxs("div",{className:"relative inline-block max-h-full rounded bg-neutral-100",children:[t.jsx("img",{src:s.url,alt:C,className:"h-full max-h-[70vh] w-auto max-w-full rounded object-contain",fetchPriority:"high"}),v==="inpaint"&&t.jsx(Js,{image:s,drawingState:l,drawingCanvasRef:m})]})}),t.jsx("div",{className:"flex w-full justify-center px-4 pb-8",children:t.jsx("div",{className:"w-full max-w-[768px]",children:t.jsx(Oo,{clientThreadId:a,currentModelId:n,onRequestCompletion:r,onClose:e,activeImage:s,currentDrawnShape:l.currentDrawnShape,getImageData:w,onCancelInpaint:N})})})]})]})})})};function yn({postWithProfile:s,clientThreadId:e,onClose:r}){return s.post.attachments[0]?.kind==="media_generation"?t.jsx(Wo,{postWithProfile:s,clientThreadId:e,onClose:r}):s.post.attachments[0]?.kind==="message_slice"?t.jsx(Do,{postWithProfile:s,onClose:r}):null}function Wo({postWithProfile:s,clientThreadId:e,onClose:r}){const a=c.useRef(null),[n,h]=c.useState(!1),f=ie(),{post:o}=s,i=o.attachments[o.attachments.length-1],x={url:i.url,content_type:ze.ImageAssetPointer,asset_pointer:i.asset_pointer??Ye(i.id),width:i.width,height:i.height},b=B(),v=$t(),S=Zt(e),l=ve(),m=c.useCallback(d=>v.getState().files.find(g=>g.tempId===d),[v]),j=i.url,y=c.useCallback(async d=>{if(a.current){const g=await a.current,k=g?m(g?.tempId):null;if(k)return k}return a.current=fetch(d).then(g=>g.blob()).then(g=>{const k=new File([g],"image.png",{type:"image/png"}),O=Xt(k);return qe.uploadFile(v,O,k,Jt.Multimodal,[k.type],b,l).then(()=>{const P=m(O);return P&&P.status===es.Ready&&P.fileId?P:null})}),a.current},[v,b,l,m]),{onRequestCompletion:M,currentModelId:N}=Me(),{isUnauthenticated:u}=ae(),w=c.useCallback(async d=>{if(!(!d.promptMessage||u))try{const g=await y(j);if(!g||!g.fileId||!g.fileSpec)return;const k=[{content_type:ze.ImageAssetPointer,asset_pointer:Ye(g.fileId),size_bytes:g.fileSpec.size,width:i.width,height:i.height},...d.promptMessage.content.content_type===pe.MultimodalText||d.promptMessage.content.content_type===pe.Text?d.promptMessage.content.parts:[]],O={...d,promptMessage:{...d.promptMessage,content:{content_type:pe.MultimodalText,parts:k}},extraStreamParams:{...d.extraStreamParams??{},continueFromSharedPostId:o.id}};M(O),qe.reset(v)}catch(g){te.addError(new Error("post_receiver_handle_request_failed",{cause:g})),l.danger({id:"postReceiverModal.editImageError",defaultMessage:"Failed to edit the image",description:"Error message for editing an image"},{toastId:"post_receiver_modal.edit_image_error"})}},[i.height,i.width,y,M,v,j,u,l,o.id]),p={id:o.id,archived:!1,transformationId:null,url:x.url,assetPointer:x.asset_pointer,thumbnail:null,width:x.width,height:x.height,title:null,conversationId:S,messageId:o.id},C=c.useCallback(()=>{r(),f("/",{replace:!0})},[r,f]);return t.jsxs(t.Fragment,{children:[t.jsx(Ho,{image:p,onClose:C,onRequestCompletion:w,clientThreadId:e,currentModelId:N,post:o,canDelete:!!o.permissions.can_delete,onOpenReport:()=>h(!0)}),n&&t.jsx(Mt,{post:o,onClose:()=>h(!1)})]})}function Do({postWithProfile:s,onClose:e}){const[r,a]=c.useState(!1),{post:n}=s;return t.jsxs("div",{className:"bg-token-bg-primary absolute start-0 end-0 top-0 bottom-0 h-full w-full",children:[t.jsx(Lo,{post:n,setIsReportModalOpen:a,onClose:e}),t.jsx(oa,{attachments:n.attachments,variant:"fullscreen"}),r&&t.jsx(Mt,{post:n,onClose:()=>a(!1)})]})}function Lo({post:s,setIsReportModalOpen:e,onClose:r,additionalButtons:a}){const n=ie(),h=B(),f=ve(),o=c.useCallback(async()=>{if(window.confirm(h.formatMessage({id:"postReceiverModal.deletePostConfirmation",defaultMessage:"Are you sure you want to delete this post?"})))try{await Se.safeDelete("/share/post/{post_id}",{parameters:{path:{post_id:s.id}}}),n("/",{replace:!0})}catch{f.danger({id:"postReceiverModal.deletePostError",defaultMessage:"Failed to delete the post",description:"Error message for deleting a post"},{toastId:"post_receiver_modal.delete_post_error"})}},[s.id,h,f,n]);return t.jsx(t.Fragment,{children:t.jsxs(ft.div,{className:"flex h-16 w-full px-2 sm:px-4",...na,children:[t.jsx("div",{className:"flex items-center justify-self-start text-start",children:t.jsx(ra,{onClose:()=>{r(),n("/",{replace:!0})}})}),t.jsx("div",{className:"flex w-full flex-1 flex-col items-center justify-center justify-self-stretch",children:t.jsx(ia,{areButtonsFullWidth:!0,post:s,setIsReportModalOpen:e})}),t.jsxs("div",{className:"flex items-center justify-self-end text-end",children:[s.permissions.can_delete&&t.jsx(la,{tooltip:h.formatMessage({id:"postReceiverModal.deletePost",defaultMessage:"Delete"}),onClick:o,children:t.jsx(St,{})}),a]})]})})}function Mt({post:s,onClose:e}){const r=I(),{data:a}=ta(r,Be.Post),n=B(),h=sa(r,n,s.id,Be.Post);if(a==null)return null;const f=`Report ${s.text??"Post"}`;return t.jsx(aa,{reasons:a.reasons,submitReport:h,title:f,onClose:e,header:a.header,subHeader:a.header_explanation})}function Fo(){const s=c.useContext(wt),e=s?.postWithProfile?.post,r=s?.setIsReportModalOpen;return!e||!r?null:t.jsxs("div",{className:"outline-token-border-default mx-4 flex items-center justify-between gap-2.5 rounded-2xl py-1 ps-4 pe-0.5 outline-1 outline-offset-[-1px]",children:[t.jsx("span",{className:"text-token-text-secondary justify-center text-sm leading-tight",children:t.jsx(W,{id:"e2L5bY",defaultMessage:"Content created using ChatGPT"})}),t.jsx(qt,{size:"default",contentAlign:"end",sideOffset:4,triggerButton:t.jsx(ea,{className:"rounded-full",label:"",icon:t.jsx(Qt,{className:"icon-sm"})}),children:t.jsx(Kt.Item,{icon:vt,onClick:()=>r(!0),children:t.jsx(W,{id:"jHHbcM",defaultMessage:"Flag content as unsafe"})})})]})}function Go(){const s=c.useContext(wt),e=s?.postWithProfile?.post,r=s?.setIsReportModalOpen;return!e||!r?null:t.jsx("div",{className:"text-token-text-secondary text-sm",children:t.jsx(W,{id:"iRpGVT",defaultMessage:"Content created using ChatGPT. <reportButton>Report</reportButton> if unsafe.",values:{reportButton:a=>t.jsx("button",{className:"text-token-text-primary decoration-token-text-primary underline",onClick:()=>{r(!0)},children:a})}})})}function Uo(s){"use forget";const e=je.c(23),{clientThreadId:r,headlineOption:a,currentModelId:n,isModelLoaded:h,overrideMessage:f}=s,o=we(),i=yt(),x=ns();let b;e[0]!==x?(b=ua(x),e[0]=x,e[1]=b):b=e[1];const v=rs(b.shouldShowAutocomplete$);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={opacity:0},e[2]=S):S=e[2];const l=v?0:1;let m;e[3]!==l?(m={opacity:l},e[3]=l,e[4]=m):m=e[4];let j,y;e[5]===Symbol.for("react.memo_cache_sentinel")?(j={opacity:0},y={duration:.1},e[5]=j,e[6]=y):(j=e[5],y=e[6]);const M=i?"keyboard-open:h-[calc(100%-var(--screen-keyboard-height,0px)-var(--composer-height,100px))] h-full motion-safe:[transition:height_0.3s_var(--easing-common)]":"h-full",N=v?"pointer-events-none":"",u=o?"@lg/thread:hidden":"lg:hidden";let w;e[7]!==M||e[8]!==N||e[9]!==u?(w=A("text-token-text-primary mt-[var(--screen-optical-compact-offset-amount)] [display:var(--display-hidden-until-loaded,flex)] shrink flex-col items-center justify-center px-4",M,N,u),e[7]=M,e[8]=N,e[9]=u,e[10]=w):w=e[10];let p;e[11]!==a||e[12]!==f?(p=a==="CHATGPT_LOGO"?t.jsx(Je,{className:"inline-block h-12 w-12"}):t.jsx(Nt,{headlineOption:a,overrideMessage:f}),e[11]=a,e[12]=f,e[13]=p):p=e[13];let C;e[14]!==r||e[15]!==n||e[16]!==h?(C=t.jsx(ko,{isModelLoaded:h,currentModelId:n,clientThreadId:r}),e[14]=r,e[15]=n,e[16]=h,e[17]=C):C=e[17];let d;return e[18]!==w||e[19]!==p||e[20]!==C||e[21]!==m?(d=t.jsxs(ft.div,{initial:S,animate:m,exit:j,transition:y,className:w,children:[p,C]}),e[18]=w,e[19]=p,e[20]=C,e[21]=m,e[22]=d):d=e[22],d}function Vo({isQuorum:s,activeSystemHintType:e,isAnonModeEnabled:r,currentModelId:a}){if(s)return _.chatgptHipaa;if(e===os.Research)return _.deepResearchPlaceholder;const h=as(e);if(a==="n7jupd"||h)return _.whatCanIDo}function Bo(s){"use forget";const e=je.c(25),{clientThreadId:r,currentModelId:a,isModelLoaded:n}=s,h=I(),f=Xe(),{isUnauthenticated:o}=ae(),i=ts(),x=se(h,"4031588851"),b=se(h,"3533083032",{disableExposureLog:!0}),v=o?b:x,S=we(),l=v.get("headline_option","HELP_WITH"),m=ss(),j=!!f;let y;e[0]!==m||e[1]!==a||e[2]!==i||e[3]!==j?(y=Vo({isQuorum:j,activeSystemHintType:m,isAnonModeEnabled:i,currentModelId:a}),e[0]=m,e[1]=a,e[2]=i,e[3]=j,e[4]=y):y=e[4];const M=y,N=S?"@lg/thread:items-end":"lg:items-end";let u;e[5]!==N?(u=A("flex items-center justify-center",N),e[5]=N,e[6]=u):u=e[6];const w=S?"@lg/thread:block":"lg:block";let p;e[7]!==w?(p=A("mb-7 hidden text-center @lg/thread:block",w),e[7]=w,e[8]=p):p=e[8];let C;e[9]!==l||e[10]!==M?(C=l==="CHATGPT_LOGO"?t.jsx(Je,{className:"inline-block h-12 w-12"}):t.jsx(Nt,{headlineOption:l,overrideMessage:M}),e[9]=l,e[10]=M,e[11]=C):C=e[11];let d;e[12]!==p||e[13]!==C?(d=t.jsx("div",{className:p,children:C}),e[12]=p,e[13]=C,e[14]=d):d=e[14];let g;e[15]!==r||e[16]!==a||e[17]!==l||e[18]!==M||e[19]!==n?(g=t.jsx(Uo,{headlineOption:l,clientThreadId:r,isModelLoaded:n,currentModelId:a,overrideMessage:M}),e[15]=r,e[16]=a,e[17]=l,e[18]=M,e[19]=n,e[20]=g):g=e[20];let k;return e[21]!==u||e[22]!==d||e[23]!==g?(k=t.jsxs("div",{className:u,children:[d,g]}),e[21]=u,e[22]=d,e[23]=g,e[24]=k):k=e[24],k}function Yo({headlineOption:s,overrideMessage:e}){"use forget";function r({name:u}){const w=I();return t.jsx(st,{label:h.formatMessage(_.editNicknameTooltip),delayDuration:300,side:"top",children:t.jsx("button",{onClick:()=>{q.setAutoHighlightNicknameInput(!0),ma(w)},style:{textDecoration:"none",transition:"color 0.2s"},onMouseEnter:p=>{p.currentTarget.className="text-token-text-secondary"},onMouseLeave:p=>{p.currentTarget.className="text-inherit"},children:u})})}function a(){const u=[],w=[];u.push("READY_WHEN_YOU_ARE","ON_YOUR_MIND","WHAT_ARE_YOU_WORKING_ON","AGENDA_TODAY","SHOULD_WE_BEGIN"),w.push("GOOD_TO_SEE_YOU","DIVE_IN","HOW_CAN_I_HELP",...u);const p=w[Math.floor(Math.random()*w.length)],d=`${u[Math.floor(Math.random()*u.length)]} | ${p}`;U.setCookie(V.headlineMessage,d)}function n(){const u=U.getCookie(V.GreetingName),p=U.getCookie(V.headlineMessage)?.split("|"),C=p?.[0]?.trim(),d=p?.[1]?.trim();return{cookieName:u,isReadyForPersonalized:!!u&&u.length<=i,headline:C,namedHeadline:d}}const h=B(),f=I(),o=se(f,"1704793646"),i=o.get("name_char_limit",20),[x,b]=c.useState(n),{isUnauthenticated:v}=ae(),S=is(),m=ls(!v&&!!S)?.data,j=ha(),y=o.get("greeting_web",!1),M=o.get("full_name_llm",!1);c.useEffect(()=>{if(y&&j){if(S&&m){const u=cs(m,S,M);U.setCookie(V.GreetingName,u),Ke.count(Qe.MOONSHINE,"splashScreenV2.greeting_cookie_name_set_web")}a()}else U.deleteCookie(V.GreetingName),U.deleteCookie(V.headlineMessage)},[m,S,y,M,j]),c.useEffect(()=>{const u=()=>{if(y&&j){const{cookieName:w,isReadyForPersonalized:p}=n();b(C=>({...C,cookieName:w,isReadyForPersonalized:p}))}};return window.addEventListener("refreshGreeting",u),()=>window.removeEventListener("refreshGreeting",u)}),c.useEffect(()=>{y&&j&&Ke.count(Qe.MOONSHINE,"splashScreenV2.greeting_shown_web")},[y,j]);let N;return e?N=t.jsx(t.Fragment,{children:t.jsx(W,{...e,values:{hipaa:t.jsx("span",{className:"text-token-interactive-label-accent-default",children:h.formatMessage(_.hipaa)})}})}):x.isReadyForPersonalized&&y?N=t.jsx(t.Fragment,{children:t.jsx(W,{...fe[x.namedHeadline??s].withName,values:{name:t.jsx(r,{name:x.cookieName??""},"name")}})}):y&&x.headline?N=h.formatMessage(fe[x.headline].original):N=h.formatMessage(fe[s].original),N}function Nt(s){"use forget";const e=je.c(28),{headlineOption:r,overrideMessage:a}=s,n=et(),h=c.useRef(null);let f;e[0]!==n?(f={isTempChatVisible:n,titleTranslate:0},e[0]=n,e[1]=f):f=e[1];const[o,i]=c.useState(f);let x,b;e[2]!==n?(x=()=>{i({isTempChatVisible:n,titleTranslate:n?-((h.current?.offsetHeight??0)-40):0})},b=[n],e[2]=n,e[3]=x,e[4]=b):(x=e[3],b=e[4]),tt(x,b);const v=B(),S=I();let l;e[5]!==S?(l=!ye(S)&&(ca(ds())||se(S,"2118136551").get("show_chatgpt_h1",!1)),e[5]=S,e[6]=l):l=e[6];const m=l,{shouldShow:j,title:y,description:M}=To();let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N={viewTransitionName:"var(--vt-splash-screen-headline)"},e[7]=N):N=e[7];let u;e[8]!==M||e[9]!==y||e[10]!==r||e[11]!==v||e[12]!==m||e[13]!==n||e[14]!==a||e[15]!==o.isTempChatVisible||e[16]!==o.titleTranslate||e[17]!==j?(u=j?t.jsxs("div",{className:A("text-page-header mb-1 flex flex-col items-center gap-3 motion-safe:[transition:0.25s_transform_var(--spring-standard),0.2s_opacity_var(--spring-standard),0.3s_visibility_var(--spring-standard)]",o.isTempChatVisible?"invisible opacity-0":"opacity-100"),"aria-hidden":n,style:{transform:`translateY(${o.titleTranslate}px)`},children:[t.jsx("h1",{className:"text-[28px] leading-[34px] font-normal tracking-[0.38px]",children:y}),t.jsx("div",{className:"text-token-text-secondary dark:text-token-text-tertiary max-w-md text-center text-base leading-[24px] font-normal tracking-[-0.32px] text-balance",children:M})]}):m?t.jsx("h1",{className:"mb-4",children:v.formatMessage(_.chatgpt)}):t.jsx("h1",{className:A("text-page-header inline-flex min-h-10.5 items-baseline whitespace-pre-wrap motion-safe:[transition:0.25s_transform_var(--spring-standard),0.2s_opacity_var(--spring-standard),0.3s_visibility_var(--spring-standard)]",o.isTempChatVisible?"invisible opacity-0":"opacity-100"),"aria-hidden":n,style:{transform:`translateY(${o.titleTranslate}px)`},children:t.jsx("div",{className:"px-1 text-pretty whitespace-pre-wrap",children:t.jsx(Yo,{headlineOption:r,overrideMessage:a})})}),e[8]=M,e[9]=y,e[10]=r,e[11]=v,e[12]=m,e[13]=n,e[14]=a,e[15]=o.isTempChatVisible,e[16]=o.titleTranslate,e[17]=j,e[18]=u):u=e[18];const w=o.isTempChatVisible?"translate-y-0 opacity-100":"invisible translate-y-10 opacity-0";let p;e[19]!==w?(p=A("absolute bottom-0 motion-safe:[transition:0.25s_transform_var(--spring-standard),0.2s_opacity_var(--spring-standard),0.3s_visibility_var(--spring-standard)]",w),e[19]=w,e[20]=p):p=e[20];const C=!n;let d;e[21]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(da,{}),e[21]=d):d=e[21];let g;e[22]!==p||e[23]!==C?(g=t.jsx("div",{className:p,"aria-hidden":C,ref:h,children:d}),e[22]=p,e[23]=C,e[24]=g):g=e[24];let k;return e[25]!==g||e[26]!==u?(k=t.jsx("div",{className:"relative inline-flex justify-center text-center text-2xl leading-9 font-semibold",children:t.jsx("div",{children:t.jsxs("div",{className:"grid-cols-1 items-center justify-end",style:N,children:[u,g]})})}),e[25]=g,e[26]=u,e[27]=k):k=e[27],k}const _=Us({chatgptHipaa:{id:"SplashScreenV2.chatgptHipaa",defaultMessage:"ChatGPT {hipaa}"},hipaa:{id:"common.hipaa",defaultMessage:"HIPAA"},whatCanIHelpWith:{id:"SplashScreenV2.whatCanIHelpWith",defaultMessage:"What can I help with?"},whatCanIHelpWithWithName:{id:"SplashScreenV2.whatCanIHelpWith.withName",defaultMessage:"What can I help with, {name}?"},whereShouldWeStart:{id:"SplashScreenV2.whereShouldWeStart",defaultMessage:"Where should we start?"},whereShouldWeStartWithName:{id:"SplashScreenV2.whereShouldWeStart.withName",defaultMessage:"Where should we start, {name}?"},askChatgptAnything:{id:"SplashScreenV2.askChatgptAnything",defaultMessage:"Ask ChatGPT anything"},askChatgptAnythingWithName:{id:"SplashScreenV2.askChatgptAnything.withName",defaultMessage:"Ask ChatGPT anything, {name}"},shouldWeBegin:{id:"SplashScreenV2.shouldWeBegin",defaultMessage:"Where should we begin?"},goodToSeeYouWithName:{id:"SplashScreenV2.goodToSeeYou.withName",defaultMessage:"Good to see you, {name}."},diveInWithName:{id:"SplashScreenV2.diveInWithName",defaultMessage:"Hey, {name}. Ready to dive in?"},readyWhenYouAre:{id:"SplashScreenV2.readyWhenYouAre",defaultMessage:"Ready when you are."},onYourMind:{id:"SplashScreenV2.onYourMind",defaultMessage:"What's on your mind today?"},whatAreYouWorkingOn:{id:"SplashScreenV2.whatAreYouWorkingOn",defaultMessage:"What are you working on?"},agendaToday:{id:"SplashScreenV2.agendaToday",defaultMessage:"What's on the agenda today?"},deepResearchPlaceholder:{id:"G1v9do",defaultMessage:"What are you researching?"},editNicknameTooltip:{id:"SplashScreenV2.editNicknameTooltip",defaultMessage:"Edit nickname"},howCanIHelp:{id:"SplashScreenV2.howCanIHelp",defaultMessage:"How can I help?"},howCanIHelpWithName:{id:"SplashScreenV2.howCanIHelp.withName",defaultMessage:"How can I help, {name}?"},chatgpt:{id:"SplashScreenV2.chatgpt",defaultMessage:"ChatGPT"},whatCanIDo:{id:"SplashScreenV2.whatCanIDo",defaultMessage:"What can I do for you?"}}),fe={HELP_WITH:{original:_.whatCanIHelpWith,withName:_.whatCanIHelpWithWithName},WHERE_TO_START:{original:_.whereShouldWeStart,withName:_.whereShouldWeStartWithName},ASK_CHATGPT:{original:_.askChatgptAnything,withName:_.askChatgptAnythingWithName},HOW_CAN_I_HELP:{original:_.howCanIHelp,withName:_.howCanIHelpWithName},GOOD_TO_SEE_YOU:{original:_.goodToSeeYouWithName,withName:_.goodToSeeYouWithName},DIVE_IN:{original:_.diveInWithName,withName:_.diveInWithName},READY_WHEN_YOU_ARE:{original:_.readyWhenYouAre,withName:_.readyWhenYouAre},ON_YOUR_MIND:{original:_.onYourMind,withName:_.onYourMind},WHAT_ARE_YOU_WORKING_ON:{original:_.whatAreYouWorkingOn,withName:_.whatAreYouWorkingOn},AGENDA_TODAY:{original:_.agendaToday,withName:_.agendaToday},SHOULD_WE_BEGIN:{original:_.shouldWeBegin,withName:_.shouldWeBegin},WHAT_CAN_I_DO:{original:_.whatCanIDo,withName:_.whatCanIDo}};function zo({className:s,threadHeaderDropdown:e,conversationActions:r,superWidgetTabs:a}){const n=I(),h=us(),f=hs(n),o=!(h&&!ye(n)),i=a??t.jsx(Po,{textClassName:"text-base"});return f?t.jsx(Ko,{className:s,conversationActions:r,threadHeaderDropdown:o&&e,superWidgetTabs:i}):t.jsx(qo,{className:s,conversationActions:r,threadHeaderDropdown:o&&e,superWidgetTabs:i})}function qo({className:s,conversationActions:e,threadHeaderDropdown:r,superWidgetTabs:a}){return t.jsxs("div",{className:A("grid w-full grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)] lg:grid-cols-[1fr_auto_1fr]",pa,s),children:[t.jsx("div",{className:"col-start-1 row-start-1 justify-self-start pe-2",children:r}),t.jsx("div",{className:"col-span-2 col-start-2 row-start-1 me-7 min-w-0 place-self-center [justify-self:end] lg:col-span-1 lg:me-0 lg:min-w-(--thread-content-max-width) lg:flex-1 lg:[justify-self:center]",children:a}),t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible lg:flex",children:e})]})}function Ko({className:s,conversationActions:e,threadHeaderDropdown:r,superWidgetTabs:a}){const n=c.useRef(null),h=c.useRef(null),f=c.useRef(null);return tt(()=>{const o=n.current,i=h.current,x=f.current;if(!o||!i||!x)return;const b=()=>{const S=o.getBoundingClientRect().width,l=x.getBoundingClientRect().width,m=i.getBoundingClientRect().width,j=.5*(S-l),y=m>j;x.style.justifySelf=y?"start":"center"},v=new ResizeObserver(b);return v.observe(o,{box:"border-box"}),v.observe(i,{box:"border-box"}),v.observe(x,{box:"border-box"}),b(),()=>{v.disconnect()}},[]),t.jsxs("div",{className:A("grid w-full grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)]",s),ref:n,children:[t.jsx("div",{className:"col-start-1 row-start-1 justify-self-start pe-2",ref:h,children:r}),t.jsx("div",{className:A("col-start-2 row-start-1 min-w-0 place-self-center"),ref:f,children:a}),t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible md:flex",children:e})]})}const Qo=({clientThreadId:s})=>{const e=I(),r=at(m=>m.activeStageSidebar),a=Ce(s),n=ga(ms.WorkspaceShareLinks),{isUnauthenticated:h}=ae(),f=et(),o=ot(s),i=be(o),x=K(e,"16480203"),b=fa(),v=Xe(),S=n&&a&&!h&&!f&&(!i||x)&&!b&&!v,l=!r;return t.jsx("div",{className:"flex items-center",id:"conversation-header-actions",children:t.jsx(No,{showShareButton:S,showProfileDropdown:l,clientThreadId:s})})},$o=nt(()=>rt(()=>import("./lmwh3ca8ljkwf4bm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(s=>s.GizmoUsingAsOwnerNotice)),Zo="text-lg",Xo="icon-sm";function Jo({clientThreadId:s,transparentBackground:e,isEmptyState:r}){const a=I(),n=Ne(a),h=ot(s),f=be(h),o=xa(),{data:i}=ps(h),x=it(a),b=lt(),v=ct(),[S,l]=oe(P=>[dt(P),ne(P)]),m=xe(s),j=at(P=>P.isConversationScrolledFromTop),y=re(s,L.hasUserMessage)||!m,M=_e(),N=M&&v,u=jt()&&y&&!M,w=!h&&!u&&!l,p=va({clientThreadId:s})&&!N,C=!ye(a),d=C&&!y,g=t.jsx(Ct,{clientThreadId:s,children:t.jsx(Qo,{clientThreadId:s})}),k=S&&!u?{textClassName:Zo,chevronClassName:Xo}:{},O=u?t.jsx(zo,{threadHeaderDropdown:d?null:t.jsx(ge,{clientThreadId:s,...k}),conversationActions:g}):l?t.jsx(ba,{clientThreadId:s}):b&&(f||!h)?d?null:t.jsx(ge,{clientThreadId:s}):d?null:t.jsx(ge,{clientThreadId:s,...k});return t.jsxs(t.Fragment,{children:[t.jsxs(Sa,{id:"page-header",className:A("pointer-events-none select-none [view-transition-name:var(--vt-page-header)] *:pointer-events-auto motion-safe:transition",!u&&!l&&"max-md:hidden",r&&"absolute start-0 end-0",f&&m&&"sharp-edge-on-scroll-start sticky top-0",w&&"@[84rem]/thread:absolute @[84rem]/thread:start-0 @[84rem]/thread:end-0 @[84rem]/thread:shadow-none!",w&&!M&&"@[84rem]/thread:bg-transparent",e&&!M&&!u&&!l&&"bg-transparent",!n&&j?"[box-shadow:var(--sharp-edge-top-shadow)]":"[box-shadow:var(--sharp-edge-top-shadow-placeholder)]",n&&"[box-shadow:var(--sharp-edge-top-shadow-placeholder)] group-data-scroll-from-top/thread:[box-shadow:var(--sharp-edge-top-shadow)]",j&&p&&"@[84rem]/thread:bg-token-main-surface-primary @[84rem]/thread:[box-shadow:var(--sharp-edge-top-shadow)]!"),children:[!l&&t.jsxs("div",{className:"absolute start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",children:[i!=null&&x?.isWorkspaceAccount()&&i.gizmo.tags?.includes(gs.WorkspaceDisabled)&&t.jsx($o,{gizmo:i}),t.jsx(wa,{gizmoId:h,clientThreadId:s}),p?t.jsx(ya,{}):null,N&&t.jsx(Go,{})]}),t.jsxs("div",{className:A("flex",u||l?"w-full":"items-center"),children:[C&&K(a,"2860321732")&&t.jsx(en,{}),O]}),!u&&!l&&t.jsx("div",{className:"flex items-center",children:g})]}),o&&t.jsx(Ca,{})]})}const en=()=>{const{resetThread:s}=Me();return t.jsx(st,{label:t.jsx(W,{id:"mG13YW",defaultMessage:"New chat"}),contentClassName:"cant-hover:hidden",triggerAs:null,children:t.jsx(Vs,{to:"/",className:"hover:bg-token-bg-tertiary group touch:h-10 flex aspect-square h-9 items-center justify-center rounded-[10px]",onClick:e=>{e.metaKey||e.ctrlKey?z.logEventWithStatsig("New Chat Opened In New Tab","chatgpt_new_chat_opened_in_new_tab"):(z.logNewChatButtonClicked({location:"Anon desktop header"}),s(),e.preventDefault())},children:t.jsxs("div",{children:[t.jsx(fs,{className:"icon-lg -m-1 group-hover:hidden"}),t.jsx(ja,{className:"icon not-group-hover:hidden"})]})})})};function tn(s){const{prefetchNavlink:e,clearPrefetchNavlink:r,clientThreadId:a,pageLoadSearchQuery:n}=s,h=I(),f=Ne(h),o=Ma(a),i=yt(),x=Na(),{isOpen:b}=bt(),v=x.store.useContentAreaDimensions(_a.Header,l=>l?.height?l.height:void 0);let S=t.jsx(sn,{isNewScrollEnabled:f,...s});return jt()&&(S=t.jsx(Ro,{clientThreadId:a,children:S})),S=t.jsx(Ct,{clientThreadId:a,children:S}),t.jsxs("div",{onCopy:o,className:A("@thread-xl/thread:pt-header-height flex flex-col text-sm",i&&"keyboard-open:pb-[calc(var(--composer-height,100px)+var(--screen-keyboard-height,0))]",v?null:!f&&(b?"max-sm:pb-25":"pb-25")),style:{paddingBottom:v},children:[n&&t.jsx("div",{children:t.jsx(Ta,{query:n})}),e?t.jsx(xs,{name:"prefetch-navlink",onError:l=>{te.addError("Error with prefetch navlink",{error:l}),r()},children:t.jsx(c.Suspense,{fallback:null,children:t.jsx(ka,{clientThreadId:a,prefetchNavlink:e,clearPrefetchNavlink:r})})}):null,t.jsx(ut,{children:S})]})}function sn({onRequestCompletion:s,clientThreadId:e,scrollContainerRef:r,isNewScrollEnabled:a}){const[n,h,f]=re(e,d=>[L.getConversationTurnIds(d),d?.conversationOrigin===gt.APPLE,d?.scrollToMessageId]),o=ht(),i=_e(),x=ct(),b=Ea(),[v]=Aa(),S=Pa(),[l]=Ra(),m=vs(e);Ia({isSharedConversation:o,clientThreadId:e}),c.useEffect(()=>{o&&(Y.logEvent("chatgpt_continue_conversation_page_loaded"),z.logEvent("Continue Conversation: Page Loaded"),Y.logEvent("chatgpt_conversation_share_page_loaded"),z.logEvent("Share Public Chat: Shared Conversation Loaded"))},[o]);const j=c.useCallback(()=>{a||b({behavior:"smooth"})},[a,b]),y=oe(ne),[M,N]=c.useState(!1),u=(M||!1)&&!y,w=c.useRef(null),p=Oa(e),C=i&&!x;return t.jsxs(t.Fragment,{children:[C&&t.jsx(Fo,{}),o&&t.jsxs(t.Fragment,{children:[t.jsx(Ha,{children:t.jsx("p",{className:"text-xs text-gray-500",children:t.jsx(W,{id:"threadLayout.sharedConversationCopyDisclaimer",defaultMessage:"This is a copy of a conversation between ChatGPT & Anonymous."})})}),t.jsx("div",{className:"text-token-text-primary mb-5 text-center text-xs font-semibold",children:t.jsx("button",{onClick:()=>{q.openModal(mt.ReportConversation),Y.logEvent("chatgpt_conversation_share_report_content_clicked",null,{location:"Static Shared Thread Page"}),z.logEvent("Share Public Chat: Report Content Clicked",{location:"Dynamic Shared Thread Page"})},children:t.jsx(W,{id:"thread.reportSharedConversation",defaultMessage:"Report conversation"})})})]}),n.map((d,g)=>t.jsx(Io,{isFinalTurn:g===n.length-1,turnIndex:g,clientThreadId:e,onRequestCompletion:s,currentModelId:m?.id??null,scrollToBottom:a?void 0:j,scrollToMessageId:a?void 0:f,dateHeaderType:p(g),hideUserActions:y},d)),!a&&t.jsxs(t.Fragment,{children:[r?.current&&t.jsx(pt,{setIsScrolledToEdge:d=>{N(d)},options:{root:r.current,threshold:0,rootMargin:"0%"}},"threadBottomEdgeScrollObserver"),t.jsx("div",{ref:w}),h&&v&&!l&&t.jsx(Wa,{className:A("translate-y-[10px] md:translate-y-[30px]"),onClick:()=>{Y.logEvent("chatgpt_thread_scroll_to_top"),S({behavior:"smooth"})},children:t.jsx(Da,{className:"icon text-token-text-primary"})}),t.jsx(La,{show:u,className:A("bottom-[calc(var(--composer-overlap-px)+--spacing(6))]"),onClick:()=>{Y.logEvent("chatgpt_thread_scroll_to_bottom"),w.current?.scrollIntoView({behavior:"smooth",block:"end"})}})]})]})}const an=nt(()=>rt(()=>import("./i0fvnlwbu2kecrth.js"),__vite__mapDeps([17,1,2,3,18,6,7,19,20])));function on({clientThreadId:s,isNewScrollEnabled:e,pageLoadSearchQuery:r,messagesVerticalAlign:a,footerRootContainerElementRef:n,threadRootRef:h,scrollContainerRef:f,hideHeader:o,children:i}){const[x]=Ys(),b=!!x.get("message"),[v,S]=oe(m=>[ne(m),dt(m)]),l=re(s,m=>m?.conversationOrigin===gt.APPLE);if(e)return t.jsx(bo,{allowScrollToEnd:!v,allowScrollToTop:!v&&l,clientThreadId:s,initScrolledToEnd:r==null&&!b,threadFooterRef:n,threadRootRef:h,children:i});{const m=t.jsx("div",{className:"relative h-full",children:t.jsxs("div",{className:A("flex h-full flex-col overflow-y-auto [scrollbar-gutter:stable_both-edges]",!S&&"@[84rem]/thread:pt-(--header-height)"),ref:f,children:[t.jsx(pt,{setIsScrolledToEdge:j=>{q.setIsConversationScrolledFromTop(j)},options:{root:f?.current}}),i]})});return r!=null?m:t.jsx(ut,{children:t.jsxs(c.Suspense,{fallback:null,children:[t.jsx(jo,{}),m]})})}}const nn=function({clientThreadId:s,getGizmosCompletionParams:e,hideDisclaimer:r,hideHeader:a,messagesVerticalAlign:n="top",renderEmptyState:h}){"use forget";const f=Ss(),o=I(),i=Fa(),x=Ne(o),b=lt(),v=ws(),{data:S}=ys({isGizmo:!!v}),l=Cs(s),[m,j,y,M,N,u,w]=re(s,T=>[T?.isLoading,L.getCurrentLeafId(T),L.hasUserMessage(T),L.getConversationTurns(T).length,L.isArchived(T),T?.modelId,T?L.getGizmoId(T):v]),p=Ce(s),{prefetchSearchPromises:C}=Me();c.useEffect(()=>Ga(o,s),[o,s]);const[d]=c.useState(C?.query),[g,k]=c.useState(C?.navlink);c.useEffect(()=>{m||(xe(s)?te.addTiming("chatgpt.web.chatPage.renderNewConversation"):te.addTiming("chatgpt.web.chatPage.renderExistingConversation"))},[s,m]);const{setTargetedContent:O}=Ua(),P=f?.includes(bs),Te=M>=2,_t=c.useContext(js),[Q,le]=oe(T=>[Ms(T),ne(T)]),$=ht(),{hash:ke}=Bs(),Ee=ie(),Z=_e(),{isOpen:Ae}=bt();c.useEffect(()=>{$&&ke==="#report"&&(q.openModal(mt.ReportConversation),Ee({hash:""},{replace:!0}))},[ke,$,Ee]);const R=!!w,E=xe(s)&&!Te&&($e(l)||l?.kind===Ns.GizmoTest)&&!$&&!Z&&C==null&&(!Q||R),Pe=E&&!y&&C==null&&(!Q||R),Tt=le&&!y&&!R,kt=_s(S)?.id,F=u??kt??null,Re=!!u,ce=Ts.useStore();c.useEffect(()=>{if(F===ks)return ce.setActiveSystemHint(Ze,{locked:!0,analyticsMetadata:{clientThreadId:s}}),()=>{ce.setActiveSystemHint(null,{locked:!1,ifPrevSystemHint:Ze,analyticsMetadata:{clientThreadId:s}})}},[F,ce,s]);const Et=Es(S?.models,F),X=Va(s,l),Ie=Ba();c.useEffect(()=>{Ie||O(void 0)},[s,O,Ie,j]),c.useEffect(()=>{q.setIsConversationScrolledFromTop(!1)},[s]),c.useEffect(()=>{const T=new URLSearchParams(window.location.search),Ve=T.get("src");if(Ve==="history_search"){T.delete("src");const ee=T.toString(),Yt=`${window.location.pathname}${ee?`?${ee}`:""}${window.location.hash}`;window.history.replaceState({},document.title,Yt)}p&&Ve==="history_search"&&Se.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:p}},requestBody:{touch:!0},intercomEventOnError:"fetch-error:conversation:edit"}).then(()=>{const ee=As(o);Ps(ee,w)})},[o,p,w]);const Oe=c.useCallback(T=>{Rs({ctx:o,clientThreadId:s,...e?e(T):T})},[o,s,e]),He=Ya(),At=Is(),de=c.useRef(null);de.current=T=>{E&&!At&&!Q&&Os(o,"3253785454").get("should_animate_composer",!1)?za({className:Mo["composer-slide"],update:()=>Oe(T)}):Oe(T)};const G=c.useCallback(T=>de.current?.(T),[de]);c.useEffect(()=>{He.signalTransitionReady()},[He,s]),qa(s,G),Ka(E);const Pt=Qa({clientThreadId:s,handleRequestCompletion:G,prefetchSearchThreadIdPromise:C?.threadId})&&d==null,ue=c.useRef(null);c.useEffect(()=>{Z||(document.title=X??"ChatGPT")},[X,Z]);const Rt=Hs(_t),he=it(o),It=he&&!he.isTeam()&&!he.isEnterprisey(),We=!r&&!Rt&&!le&&!(E&&It)&&$e(l),Ot=$a(s).isOdysseyMode,De=c.useRef(null),Le=c.useRef(null),Fe=Za(T=>T.composerHeight),Ge=!E&&!Ae,Ht=we(),Wt=be(w),D=R&&Wt,J=!D,Dt=E,Lt=c.useCallback(()=>k(void 0),[]),{isSingleLine:Ue}=Ws(),Ft=Ds("(width <= 510px)",Ls),Gt=E&&!R&&!Ft?"center":"bottom",Ut=Xa();function Vt(){return t.jsx(Co,{clientThreadId:s,scrollContainerRef:ue})}function Bt(){return m||Pt?null:Pe?h??t.jsx(t.Fragment,{children:R?t.jsx(_o,{clientThreadId:s,gizmoId:w,onRequestCompletion:G,currentModelId:F}):t.jsx(Bo,{clientThreadId:s,currentModelId:F,isModelLoaded:Re})}):Te||d!=null?t.jsx(on,{clientThreadId:s,isNewScrollEnabled:x,pageLoadSearchQuery:d,messagesVerticalAlign:n,footerRootContainerElementRef:Le,threadRootRef:De,scrollContainerRef:ue,hideHeader:a,children:t.jsx(tn,{onRequestCompletion:G,clientThreadId:s,scrollContainerRef:ue,pageLoadSearchQuery:d,prefetchNavlink:g,clearPrefetchNavlink:Lt},s)}):null}return t.jsx(Ja.Provider,{value:g?"user-query-with-navlink":d?"user-query":null,children:t.jsx(eo,{serverThreadId:p,children:t.jsx(to,{clientThreadId:s,children:t.jsxs(Fs,{clientThreadId:s,children:[t.jsx(ln,{clientThreadId:s,conversationTurnsLength:M}),P&&t.jsx(an,{}),!Z&&t.jsx(so,{children:X!=null&&t.jsx("title",{children:X})}),t.jsx(Gs.Provider,{value:G,children:t.jsxs(ao,{children:[t.jsx("div",{id:"thread",ref:De,className:A("group/thread @container/thread h-full w-full",x&&uo.threadRoot),children:t.jsxs(Ao,{noKeyboard:!0,clientThreadId:s,currentModelConfig:Et,className:A("composer-parent flex h-full flex-col focus-visible:outline-0",!D&&"overflow-hidden"),children:[!a&&t.jsx(Jo,{transparentBackground:E,clientThreadId:s,isEmptyState:Pe}),K(o,"1909635392")&&t.jsx(oo,{clientThreadId:s}),t.jsxs("div",{className:A("relative flex basis-auto flex-col",Ge&&"-mb-(--composer-overlap-px)",Ge&&(Ue?"[--composer-overlap-px:28px]":"[--composer-overlap-px:55px]"),D||R||!E?"grow":"shrink",!E&&"overflow-hidden",E&&i&&"min-[510px]:min-h-[21svh]!",E&&!D&&!R&&"flex-col justify-end min-[510px]:min-h-[42svh] @max-[510px]/thread:grow @max-[510px]/thread:justify-center"),style:{"--composer-height":Fe?`${Fe}px`:void 0},children:[Ut&&Vt(),Bt(),Q&&Tt&&t.jsx(no,{ctx:o})]}),t.jsxs("div",{id:"thread-bottom-container",className:A("relative isolate z-10 w-full basis-auto has-data-has-thread-error:pt-2 has-data-has-thread-error:[box-shadow:var(--sharp-edge-bottom-shadow)] md:border-transparent md:pt-0 dark:border-white/20 md:dark:border-transparent",!E&&"content-fade",Ue&&"single-line",E&&"min-h-0",!We&&!le&&!Ot&&"mb-4",R||D||!E?"":J&&E&&Ht?"@lg/thread:grow":"lg:grow",J&&"flex flex-col"),ref:Le,children:[N?t.jsx(ro,{clientThreadId:s}):t.jsxs(t.Fragment,{children:[(!E||J)&&!Ae&&t.jsxs(t.Fragment,{children:[t.jsx(Eo,{isGizmoThread:R,isProjectThread:D,clientThreadId:s,isNewThread:E,currentModelId:F,onRequestCompletion:G,shouldUseUnifiedComposer:J,isModelLoaded:Re,layoutMode:Gt}),b&&E&&K(o,"537200474")&&t.jsx(io,{clientThreadId:s})]}),Dt&&t.jsx(lo,{clientThreadId:s,isGizmoThread:R,isNewThread:E,isProjectThread:D})]}),We?t.jsx("div",{className:"text-token-text-secondary relative mt-auto flex min-h-8 w-full items-center justify-center p-2 text-center text-xs md:px-[60px]",children:t.jsx(co,{clientThreadId:s})}):null]})]})}),t.jsx(ho,{clientThreadId:s,isStaticSharedThread:!1,isSharedConversation:$}),t.jsx(mo,{}),t.jsx(po,{conversationId:s}),t.jsx(go,{}),t.jsx(fo,{})]})})]})})})})},Cn=xt.memo(nn);function rn({clientThreadId:s,conversationTurnsLength:e}){const r=I(),a=Ce(s),n=K(r,"733205176");return xo(a,n),vo(),So(),wo(s),yo(e,s),null}const ln=xt.memo(rn);export{Qo as C,Cn as M,yn as P,Mt as a};
//# sourceMappingURL=lierpdayeoiwatcw.js.map
