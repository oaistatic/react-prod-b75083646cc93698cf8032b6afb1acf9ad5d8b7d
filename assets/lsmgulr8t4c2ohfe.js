const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fjry7w4sstik6j1t.js","assets/lu2xqwqmjc95q6j6.js","assets/rseqzngxzbdt1oxg.js","assets/hml6mmd5fyx85si7.js","assets/root-c0w5lvnh.css","assets/conversation-small-gcvo4yhm.css","assets/n73kkqu3irxrrzpg.js","assets/hsslaga4m9avwrtu.js","assets/c91o0ic9srnzgx6k.js","assets/nlhl1l7d3n5fb6ax.js"])))=>i.map(i=>d[i]);
import{aH as Ge,a as y,aJ as K,c$ as Q,p as nt,E as it,d0 as Ve,d1 as Fe,F,B as k,I as A,P as m,C as P,b as lt,x as rt,L as U,H as ct,aj as $,f3 as ut,ao as He,ap as Y,aq as X,be as q,d$ as ze,aW as dt,nU as gt,nS as mt,aN as ht,b9 as pt,bc as ft,c as je,aM as bt,ik as Mt,aU as xt,cN as H,aZ as Ie,pY as z,il as kt}from"./hml6mmd5fyx85si7.js";import{r as u,j as e,M as d,d as W,h as De,e as St}from"./lu2xqwqmjc95q6j6.js";import{jP as $e,jQ as Ct,jR as qe,jS as Nt,jT as At,jU as yt,b8 as _t,az as Ot,jV as vt,jW as wt,jX as Lt,ee as Bt,jY as jt,jZ as It,j_ as Dt,cR as Ut,j$ as Pt,k0 as Wt,k1 as Et,k2 as Tt,k3 as Rt,k4 as Gt,k5 as Vt,k6 as Ft,k7 as Ht,k8 as zt,bN as $t,iv as qt,dV as Kt,k9 as Qt,ka as Yt,kb as Xt,kc as Zt,kd as Jt,ke as eo,kf as to,cU as oo,kg as so,kh as ao,ki as no,kj as io,kk as lo,kl as ro,km as co,kn as uo,ko as go,kp as mo,kq as ho,kr as po,$ as Ue,ks as fo,x as Ke,kt as bo,ku as Pe}from"./rseqzngxzbdt1oxg.js";import{a as Qe}from"./isxemcalu9537a8n.js";import{m as Mo}from"./fd9rmcpa6ai71fe6.js";const xo="https://persistent.oaistatic.com/image-gen/nux.222e584e.mp4",Ye=()=>rt(U.HasSeenNoAuthImagegenNux,!1,Ct),ko=()=>{const{isUnauthenticated:t}=Ge(),o=$e(),[i]=Ye(),a=Qe(),n=y(),s=K(n,"2118136551");return!t||o||i||a?"hide":s.get("should_show_imagegen_nux",!1)?"show":"hide"},So=({onClose:t})=>{const i=Q()?"center":"bottom",a=y(),[n,s]=u.useState(!1),l=nt(a,"2604379743").value,r=typeof l.nux_video_url=="string"?l.nux_video_url:xo,h=typeof l.nux_image_url=="string"?l.nux_image_url:"",[,p]=Ye(),c=()=>{p(!0),ct.setItem(U.HasSeenNoAuthImagegenNux,!0)},_=it(),T=K(a,"2118136551").get("sign_up_button_has_the_word_free",!0),R=Ve(T?Fe.signUpForFreeCta:F.signUpButtonText),L=e.jsx(k,{as:"button",size:"large",color:_?"secondary":"primary",onClick:()=>{c(),A(a,{authType:"signup",callback:S=>{m.logSignUpButtonClicked({provider:S,location:"No Auth Imagegen Nux Modal"})}})},fullWidth:!0,children:e.jsx(d,{...R})}),O=e.jsx(k,{as:"button",size:"large",color:_?"primary":"secondary",fullWidth:!0,onClick:()=>{c(),A(a,{authType:"login",callback:S=>{m.logLogInButtonClicked({provider:S,location:"No Auth Imagegen Nux Modal"})}})},children:e.jsx(d,{...F.logInButtonText})}),M=()=>{t(),c(),m.logEventWithStatsig("chatgpt_no_auth_imagegen_nux_modal_dismissed","chatgpt_no_auth_imagegen_nux_modal_dismissed")};return u.useEffect(()=>{m.logEventWithStatsig("chatgpt_no_auth_imagegen_nux_modal_shown","chatgpt_no_auth_imagegen_nux_modal_shown")},[]),e.jsxs(P,{testId:"modal-no-auth-imagegen-nux",isOpen:!0,noPadding:!0,onClose:M,showCloseButton:!1,size:"custom",type:"success",className:"max-w-lg",position:i,children:[e.jsxs("div",{className:"relative aspect-3/2 w-full",children:[!n&&e.jsx("img",{src:h,alt:"",className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"}),e.jsx("video",{src:r,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>s(!0)}),e.jsx("div",{className:"absolute end-4 top-4",children:e.jsx(lt,{onClick:M})})]}),e.jsxs("div",{className:"flex flex-col gap-2 px-8 pt-6 pb-8 text-center",children:[e.jsx("div",{className:"text-xl font-medium",children:e.jsx(d,{id:"OxVK72",defaultMessage:"Bring your ideas to life with images"})}),e.jsx("div",{className:"text-token-text-secondary w-full",children:e.jsx(d,{id:"bVWvdX",defaultMessage:"Create a free account to make illustrations, charts, comics, and more."})}),e.jsx("div",{className:"mt-4 mb-2 flex w-full flex-col gap-3",children:_?[O,L]:[L,O]}),e.jsx(k,{color:"ghost",className:"text-token-text-secondary font-semibold underline hover:bg-transparent",onClick:M,children:e.jsx(d,{...F.stayLoggedOut})})]})]})},Co="https://persistent.oaistatic.com/burrito-nux/640.webp",No=({onLogInButtonClick:t,onSignUpButtonClick:o,onDismissButtonClick:i,subtitle:a,title:n})=>{const l=Q()?"center":"bottom";return e.jsxs(P,{testId:"modal-no-auth-gpt5-upsell",isOpen:!0,title:e.jsx(e.Fragment,{}),onClose:i,showCloseButton:!0,type:"success",noPadding:!0,position:l,size:"large",children:[e.jsx("img",{className:"pointer-events-none absolute -inset-y-20 h-full w-full scale-[1.02] overflow-hidden [mask-image:linear-gradient(to_bottom,white,transparent)] object-cover opacity-60 blur-2xl dark:opacity-30",alt:"","aria-hidden":"true",src:Co,loading:"eager",fetchPriority:"high"}),e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pt-12 sm:pb-10",children:[e.jsx("p",{className:"mb-1 text-center text-xl font-semibold",children:e.jsx(d,{...n})}),e.jsx("p",{className:"text-token-text-secondary mb-6 text-center",children:e.jsx(d,{...a})}),e.jsxs("div",{className:"flex flex-row gap-2 sm:gap-2.5",children:[e.jsx(k,{as:"button",size:"large",color:"primary",onClick:t,children:e.jsx(d,{...Mo.unauthLoginCta})}),e.jsx(k,{as:"button",size:"large",color:"secondary",onClick:o,children:e.jsx(d,{...Fe.signUpForFreeCta})})]})]})]})},Ao=({onClose:t})=>{const o=y(),{isOpen:i,onClose:a,onMount:n}=qe();return u.useEffect(()=>{n?.()},[n]),i?e.jsx(No,{onLogInButtonClick:()=>{A(o,{authType:"login",callback:s=>{m.logLogInButtonClicked({provider:s,location:"No Auth GPT5 Upsell Modal"}),localStorage.setItem(U.NoAuthHasDismissedBurritoUpsellModal,"true")}})},onSignUpButtonClick:()=>{A(o,{authType:"signup",callback:s=>{m.logSignUpButtonClicked({provider:s,location:"No Auth GPT5 Upsell Modal"}),localStorage.setItem(U.NoAuthHasDismissedBurritoUpsellModal,"true")}})},onDismissButtonClick:()=>{m.logEvent("No Auth Burrito Upsell Modal Dismissed"),$.logEvent("chatgpt_no_auth_burrito_upsell_modal_dismissed"),t(),a()},subtitle:We.subtitle,title:We.title}):null},We=W({title:{id:"NoAuthGpt5UpsellModal.title",defaultMessage:"Log in to unlock GPT-5"},subtitle:{id:"NoAuthGpt5UpsellModal.subtitle",defaultMessage:"ChatGPT just got better at writing, coding, reasoning, and more — now powered by our latest intelligence model."}}),Ee="has-dismissed-welcome-back-modal",Xe=()=>{const t=y(),[o,i]=u.useState(()=>sessionStorage.getItem(Ee)!=null),n=K(t,"3637408529").get("is_no_auth_welcome_back_modal_enabled",!1),s=Nt(),{isUnauthenticated:l,isLoading:r}=Ge(),h=$e(),p=Qe(),c=()=>{i(!0),sessionStorage.setItem(Ee,"true")};return r?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:l&&n&&!o&&h&&!s&&!p,onClose:c}},yo=({onClose:t})=>{const o=y(),i=Q(),a=Ve(w.signUpCta),n=i?"center":"bottom",{isOpen:s,onClose:l}=Xe(),r=ut(),[h,p]=u.useState(!1);return u.useEffect(()=>{if(s){if(r){const c=setTimeout(()=>p(!0),3e3);return()=>clearTimeout(c)}p(!0)}else p(!1)},[s,r]),u.useEffect(()=>{s&&(m.logEvent("No Auth Welcome Back Modal Shown"),$.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},[s]),h?e.jsx(P,{testId:"modal-no-auth-welcome-back",isOpen:!0,onClose:He,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:n,children:e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[e.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:e.jsx(d,{...r?Te.title:w.title})}),e.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:e.jsx(d,{...r?Te.subtitle:w.subtitle})}),e.jsx(k,{as:"button",size:"large",color:"primary",fullWidth:!0,className:`${r?"":"mb-2 sm:mb-3"}`,"data-testid":"welcome-login-button",onClick:()=>{A(o,{authType:"login",callback:c=>{m.logLogInButtonClicked({provider:c,location:"No Auth Welcome Back Modal"})}})},children:e.jsx(d,{...w.logInCta})}),!r&&e.jsx(k,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{A(o,{authType:"signup",callback:c=>{m.logSignUpButtonClicked({provider:c,location:"No Auth Welcome Back Modal"})}})},children:e.jsx(d,{...a})}),!r&&e.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:c=>{c.preventDefault(),m.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked"),$.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),t(),l?.()},"data-testid":"dismiss-welcome",children:e.jsx(d,{...w.stayLoggedOutLink})})]})}):null},w=W({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),Te=W({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"You’ll be logged back in automatically. If not, you can log in below."}}),_o=Y(()=>X(()=>import("./fjry7w4sstik6j1t.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Oo=Y(()=>X(()=>import("./c91o0ic9srnzgx6k.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]))),vo=Y(()=>X(()=>import("./nlhl1l7d3n5fb6ax.js"),__vite__mapDeps([9,1,3,4])).then(t=>t.RequestWorkspaceAccessModal)),wo=({onClose:t})=>{const o=St(),i=q(ze.isBusinessWorkspace),a=q(s=>s.currentWorkspace),n=i?o.formatMessage(Re.workspaceWelcome,{workspaceName:a?.name}):"ChatGPT";return e.jsx(P,{testId:"modal-onboarding",isOpen:!0,onClose:He,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:o.formatMessage(Re.personalOnboardingSubheading),children:e.jsx(bo,{onClose:t,scope:i?Pe.Workspace:Pe.Personal})})},Lo=({onClose:t})=>{const o=kt.useStore();return u.useEffect(()=>(o.setOnCloseSideEffect(t),o.setManualVisibility(!0),()=>{o.setManualVisibility(!1)}),[t,o]),null};function Bo(t){return e.jsx(Ke,{...t,mode:"blocking",section:"both"})}function jo(t){return e.jsx(Ke,{...t,mode:"blocking",section:"existing"})}function Go({clientThreadId:t,page:o}){const i=y(),[a,n]=u.useState(0),{hasSeenOnboardingDate:s}=At(),{hasSeenWorkspaceDiscoveryFirstLoginDate:l}=yt(),{hasSeenTeamOwnerOnboardingDate:r}=_t(),h=q(ze.isBusinessWorkspace),[p,c]=u.useState(!1),_=De(),E=dt(_),{data:T,isPending:R,isEnabled:L}=Ot(),O=vt(T,R&&L),M=gt(),S=mt(),[Ze,B]=ht(t,g=>[!g||g.isLoading,g?.conversationOrigin]),j=Ze&&!!t,{data:f,isError:I}=pt(),G=ft(f),C=f!=null,v=je(i,"4141805301"),Z=wt(),Je=!!(bt()?.email_domain_type==="professional"&&l===!1&&v),{data:J,isLoading:ee}=Lt(Je),te=!!(f&&f?.accountItems.length>1&&f.currentAccountId==null),oe=f?.accountItems.some(g=>g.isPersonalAccount()),se=!!f?.accountItems&&f.accountItems.length>0&&f.accountItems.every(({canAccessWithCurrentSession:g})=>!g),{eligible:ae,isLoading:ne}=Bt(),ie=je(i,"1542198993"),{punchOutRequireLoginInfo:le}=jt(),{state:re}=It(),{isOpen:ce,isLoading:ue}=qe(),{isOpen:de}=Dt(),{isOpen:ge,isLoading:me}=Ut(),{isOpen:he,isLoading:pe}=Pt(),{isOpen:fe,isLoading:be}=Wt(),{isOpen:Me,isLoading:xe}=Xe(),{state:ke}=Et(),Se=ko(),Ce=Tt(),Ne=Rt(),Ae=Gt(),ye=Vt(),_e=Ft(),V=Ht(),{isOpen:Oe,isLoading:ve}=zt(),{isOpen:et}=$t(),{isOpen:tt}=qt(),{isOpen:ot}=Kt(),{shouldShowCookieBanner:we,isCookieConsentBannerLoading:Le}=Mt(),N=u.useMemo(()=>[{Component:Qt,visibility:["chat","codex"],getModalState:()=>le?"show":"hide",isDeferrable:!1},{Component:Yt,visibility:["chat","codex"],getModalState:()=>re,isDeferrable:!1},{Component:Xt,visibility:["chat"],getModalState:()=>ke,isDeferrable:!1},{Component:v?l===!1?Bo:jo:Zt,visibility:["chat","codex"],getModalState:()=>{if(M!=null||I)return"hide";if(v&&l==null)return"loading";const x=v&&l===!1;if(te)return"show";if(x){if(ee)return"loading";if((J?.workspaces?.length??0)>0)return"show"}return C?"hide":"loading"},isDeferrable:!1},{Component:Jt,visibility:["codex"],getModalState:()=>Z,isDeferrable:!1},{Component:eo,visibility:["chat"],getModalState:()=>ve?"loading":Oe?"show":"hide",isDeferrable:!1},{Component:to,visibility:["chat"],getModalState:()=>de?"show":"hide",isDeferrable:!1},{Component:Ao,visibility:["chat"],getModalState:()=>ue||j?"loading":B===z.APPLE?"hide":ce?"show":"hide",isDeferrable:!0},{Component:So,visibility:["chat"],getModalState:()=>Se,isDeferrable:!0},{Component:oo,visibility:["chat"],getModalState:()=>me||j?"loading":B===z.APPLE?"hide":ge?"show":"hide",isDeferrable:!0},{Component:yo,visibility:["chat"],getModalState:()=>xe||j?"loading":B===z.APPLE?"hide":Me?"show":"hide",isDeferrable:!0},{Component:Lo,visibility:["chat","codex"],getModalState:()=>Le?"loading":we?"show":"hide",isDeferrable:!1},{Component:wo,visibility:["chat"],getModalState:()=>h||E?"hide":s===null?"loading":s===!1?"show":"hide",isDeferrable:!0},{Component:vo,visibility:["chat","codex"],getModalState:()=>M!==null?"show":I||C?"hide":"loading",isDeferrable:!1},{Component:_o,visibility:["chat","codex"],getModalState:()=>S!=null?"show":I||C?"hide":"loading",isDeferrable:!1},{Component:so,visibility:["chat","codex"],getModalState:()=>C?se?"show":"hide":"loading",isDeferrable:!1},{Component:ao,visibility:["chat","codex"],getModalState:()=>pe?"loading":he?"show":"hide",isDeferrable:!1},{Component:no,visibility:["chat","codex"],getModalState:()=>be?"loading":fe?"show":"hide",isDeferrable:!1},{Component:io,visibility:["chat","codex"],getModalState:()=>"hide",isDeferrable:!1},{Component:Oo,visibility:["chat","codex"],getModalState:()=>!G?.isTeam()||!G?.isOwnerOfAccount()||!oe?"hide":!C||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:lo,visibility:["chat","codex"],getModalState:()=>h?s===null?"loading":s===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ro,visibility:["chat"],getModalState:()=>ne?"loading":ae&&ie?"show":"hide",isDeferrable:!1},{Component:co,visibility:["chat","codex"],getModalState:()=>O,isDeferrable:!1},{Component:uo,visibility:["chat"],getModalState:()=>Ce,isDeferrable:!1},{Component:go,visibility:["chat"],getModalState:()=>Ne,isDeferrable:!1},{Component:mo,visibility:["chat"],getModalState:()=>Ae,isDeferrable:!1},{Component:ho,visibility:["chat"],getModalState:()=>ye,isDeferrable:!1},{Component:po,visibility:["chat"],getModalState:()=>_e,isDeferrable:!0},...V?[{Component:x=>t&&e.jsx(fo,{clientThreadId:t,...x}),visibility:["chat"],getModalState:()=>V,isDeferrable:!1}]:[]].filter(x=>x.visibility.includes(o)),[o,le,re,ke,ve,Oe,Se,me,j,B,ge,de,ue,ce,xe,Me,Le,we,h,E,s,l,I,J,ee,te,C,M,S,se,pe,he,be,fe,G,oe,r,ne,ae,ie,v,O,t,Ce,Ne,Ae,ye,_e,V,Z])[a],st=p;let b;N&&(N.isDeferrable&&st?b="hide":N.Component?b=N.getModalState():b="hide"),u.useEffect(()=>{b==="hide"&&n(a+1)},[a,b]);const{pathname:D}=De(),Be=u.useRef(D);if(u.useEffect(()=>{Be.current!==D&&(Be.current=D,n(0))},[D]),u.useEffect(()=>{const g=b==="show",x=xt.getState().activeModals.has(H.BlockingInitialComponent);g!==x&&(g?Ie.openModal(H.BlockingInitialComponent):Ie.closeModal(H.BlockingInitialComponent))},[b]),N==null)return Ue.trackNamespace(Ue.NS_COMPOSER),e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});if(b!=="show"||et||tt||ot)return null;const at=N.Component;return e.jsx(at,{onClose:()=>{c(!0),n(g=>g+1)}})}const Re=W({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});export{Go as B};
//# sourceMappingURL=lsmgulr8t4c2ohfe.js.map
