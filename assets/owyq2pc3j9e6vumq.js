const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/noph6g93fyrhrl8q.js","assets/lu2xqwqmjc95q6j6.js","assets/hml6mmd5fyx85si7.js","assets/root-c0w5lvnh.css","assets/go1myqzi4nmf5v1z.js","assets/f9hp974e56z6b242.js","assets/b2qyefngnybfn65l.js","assets/rseqzngxzbdt1oxg.js","assets/conversation-small-gcvo4yhm.css"])))=>i.map(i=>d[i]);
import{c as P,a as Ne,e as W,r as B,j as t,m as Ae,A as Xe,l as cs,M as G,b as ds,R as rt}from"./lu2xqwqmjc95q6j6.js";import{hm as us,hJ as We,hO as ms,mt as fs,oW as xt,gO as gs,hM as ps,gv as hs,oX as Je,oY as bs,gT as X,w as xs,oZ as Ss,hP as js,hQ as vs,o_ as ys,o$ as ws,gx as Cs,p0 as Ns,aE as ks,p1 as _s,p2 as Ge,hK as Ts,hL as Ms,eg as zs,hc as St,$ as ae,p3 as Ps,p4 as Is,p5 as Ze,p6 as jt,p7 as Es,p8 as Os,cf as Ls,p9 as vt,pa as yt,pb as As,cv as Ds,k as et,pc as Bs,pd as lt,h6 as Gs,pe as De,pf as wt,aY as Rs,pg as Ct,hy as Nt,ph as Fs,pi as we,pj as $s,pk as Us,cb as kt,hv as _t,pl as Hs,D as Vs,G as Ws,aT as Ks,hp as Qs,pm as Tt,oU as Ys,hu as qs,o6 as Xs,pn as Js,po as Zs,pp as eo,pq as to,pr as so,mz as oo}from"./rseqzngxzbdt1oxg.js";import{ap as io,aq as Ye,a as R,ce as Mt,lg as zt,fA as ao,fz as Pt,bw as ve,d as z,cl as ct,lx as qe,aB as Be,b5 as It,c6 as ee,kp as dt,P as H,ek as no,oU as ro,ga as lo,gb as co,b_ as Et,b$ as tt,c4 as Ot,eW as Lt,eA as At,rA as Dt,c as Ce,rB as uo,H as Bt,L as Gt,eD as mo,b7 as st,u as ut,A as Oe,pA as ot,ea as fo,d7 as go,es as Ke,ly as mt,eR as Le,dq as po,da as ho,r as ft,rC as Rt,V as bo,b2 as xo,hY as So,D as Ft,eI as jo,oT as vo,q as yo,i5 as $t,cs as wo,eE as ye,bl as Co,aZ as ke,nE as Ut,dp as gt,bb as No,F as Ht,aU as Re,aH as Vt,E as ko,aN as _o,j8 as To,T as Mo,d0 as zo,dh as Po,av as Io,aw as Eo,dv as Oo,az as Lo,aA as Ao,rD as pt,s as Wt,N as Kt,I as Qt,B as Yt,i4 as Do,oS as Bo,kr as Go,m2 as ht}from"./hml6mmd5fyx85si7.js";import{useProjectsDragDrop as qt}from"./on8091w14zfmyea2.js";import{u as it}from"./ik8y7nlve9mzjttb.js";import{N as Ro,L as Fo,d as Xt}from"./gnhjnh2n0u3gy6qx.js";import{U as $o}from"./fd9rmcpa6ai71fe6.js";import{S as Uo}from"./e0pswmo7irlt62pp.js";const Ho={open:{opacity:1,y:0,transition:{duration:.15,ease:"easeOut"}},closed:{opacity:0,y:-5,transition:{duration:.15,ease:"easeIn"}}};function Vo(o){"use forget";const e=P.c(20),{color:s,folderState:i,gizmoId:a,sidebarSnorlaxFolderStore:n,isSharedProject:r}=o,l=W(),[f,m]=B.useState(!1);let p;e[0]!==i||e[1]!==l?(p=l.formatMessage(i==="open"?X.hideChatsForProjectTooltip:X.showChatsForProjectTooltip),e[0]=i,e[1]=l,e[2]=p):p=e[2];let c;e[3]!==i||e[4]!==a||e[5]!==n?(c=h=>{h.preventDefault(),i==="open"?n.collapseProject(a):n.expandProject(a)},e[3]=i,e[4]=a,e[5]=n,e[6]=c):c=e[6];let x,u;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=()=>m(!0),u=()=>m(!1),e[7]=x,e[8]=u):(x=e[7],u=e[8]);const g=i==="open";let d;e[9]!==s||e[10]!==f||e[11]!==r||e[12]!==g?(d=t.jsx(Ss,{isOpen:g,isHovered:f,color:s,isSharedProject:r}),e[9]=s,e[10]=f,e[11]=r,e[12]=g,e[13]=d):d=e[13];let S;e[14]!==c||e[15]!==d?(S=t.jsx("button",{className:"icon",onClick:c,onMouseEnter:x,onMouseLeave:u,children:d}),e[14]=c,e[15]=d,e[16]=S):S=e[16];let b;return e[17]!==p||e[18]!==S?(b=t.jsx(ee,{label:p,triggerAs:null,children:S}),e[17]=p,e[18]=S,e[19]=b):b=e[19],b}function at(o){"use forget";const e=P.c(112),{gizmo:s,historyDisabled:i,flair:a,onClick:n,isActive:r,hideOverflowMenu:l,inGPTDropdown:f}=o,m=l===void 0?!1:l,p=f===void 0?!1:f,c=R(),{clientThreadId:x}=us(),u=Mt(x),g=Ne(),d=W();let S;e[0]!==c?(S=zt(c),e[0]=c,e[1]=S):S=e[1];const b=S,h=s.gizmo.id,j=We.useStore();let v;e[2]!==h?(v=I=>We.selectFolderState(I,h),e[2]=h,e[3]=v):v=e[3];const y=We.useState(v);let w;e[4]!==s.gizmo.tags?(w=s.gizmo.tags?.includes(ao.FirstParty),e[4]=s.gizmo.tags,e[5]=w):w=e[5];const C=!!w,{items:k,hasNextPage:_}=ms(s.gizmo.id);let M;e[6]!==k?(M=k===void 0?[]:k,e[6]=k,e[7]=M):M=e[7];const T=M,N=Pt(h);let E;e[8]!==c||e[9]!==s?(E=()=>js(c,s),e[8]=c,e[9]=s,e[10]=E):E=e[10];const A=ve(E);let F;e[11]!==c||e[12]!==s?(F=()=>vs(c,s),e[11]=c,e[12]=s,e[13]=F):F=e[13];const L=ve(F);let $;e[14]!==h||e[15]!==b.projects?($=()=>b.projects.renamingProjectId$()===h,e[14]=h,e[15]=b.projects,e[16]=$):$=e[16];const O=ve($),D=r&&(!N||!(y==="open"&&u)),Z=B.useRef(y);let K,Q;e[17]!==y?(K=()=>{Z.current=y},Q=[y],e[17]=y,e[18]=K,e[19]=Q):(K=e[18],Q=e[19]),B.useEffect(K,Q);let Y,q;e[20]!==h||e[21]!==r||e[22]!==u||e[23]!==j?(Y=()=>{Z.current!=="open"&&r&&u&&j.expandProject(h)},q=[r,u,j,h],e[20]=h,e[21]=r,e[22]=u,e[23]=j,e[24]=Y,e[25]=q):(Y=e[24],q=e[25]),B.useEffect(Y,q);let V;if(s!=null)V=s.gizmo.display.name??fs;else if(i){let I;e[26]!==d?(I=d.formatMessage(xt.clearChat),e[26]=d,e[27]=I):I=e[27],V=I}else V=ys;const[te,se]=B.useState();let re;e[28]===Symbol.for("react.memo_cache_sentinel")?(re=()=>{se(void 0)},e[28]=re):re=e[28];let oe;e[29]!==c||e[30]!==s?(oe=[s,c],e[29]=c,e[30]=s,e[31]=oe):oe=e[31],B.useEffect(re,oe);const J=gs(),[ne,Fe]=B.useState(!1),{canDropConversation:le,onDropConversation:$e}=qt("sidebar_row_button",h);let _e;e[32]!==b.composer||e[33]!==b.projects?(_e=()=>{B.startTransition(()=>{dt(()=>{b.composer.reset(),b.projects.reset()})})},e[32]=b.composer,e[33]=b.projects,e[34]=_e):_e=e[34];const Te=_e;let Me;e[35]!==Te||e[36]!==c||e[37]!==s.gizmo.id||e[38]!==r||e[39]!==O||e[40]!==V||e[41]!==g||e[42]!==te||e[43]!==J?(Me=O?t.jsx(ws,{initialValue:V,onCommit:async I=>{se(I),Te();const Ee=window.location.pathname,{resource:nt}=await J.mutateAsync({update:{name:I},id:s.gizmo.id});nt&&r&&Ee===window.location.pathname&&g(ct(c,nt),{replace:!0})},onCancel:Te}):te??V,e[35]=Te,e[36]=c,e[37]=s.gizmo.id,e[38]=r,e[39]=O,e[40]=V,e[41]=g,e[42]=te,e[43]=J,e[44]=Me):Me=e[44];const Ue=Me,He=p&&!N?Be.LinkItem:Je,ze=(s?.gizmo?.sharing?.subjects?.length??0)>0,Ve=ne&&"[&>*]:pointer-events-none";let ce;e[45]!==Ve?(ce=z(Ve),e[45]=Ve,e[46]=ce):ce=e[46];let de;e[47]!==le||e[48]!==$e?(de=I=>{le&&(I.preventDefault(),I.stopPropagation(),Fe(!1),$e())},e[47]=le,e[48]=$e,e[49]=de):de=e[49];let ue;e[50]!==le||e[51]!==N?(ue=I=>{le&&I.target===I.currentTarget&&N&&(I.preventDefault(),Fe(!0))},e[50]=le,e[51]=N,e[52]=ue):ue=e[52];let Pe;e[53]===Symbol.for("react.memo_cache_sentinel")?(Pe=I=>{I.target===I.currentTarget&&Fe(!1)},e[53]=Pe):Pe=e[53];let me;e[54]!==c||e[55]!==s?(me=ct(c,s),e[54]=c,e[55]=s,e[56]=me):me=e[56];let fe;e[57]!==h||e[58]!==b.composer||e[59]!==b.projects.renamingProjectId$?(fe=()=>{dt(()=>{b.projects.renamingProjectId$.set(h),b.composer.autofocusDisabled$.set(!0)})},e[57]=h,e[58]=b.composer,e[59]=b.projects.renamingProjectId$,e[60]=fe):fe=e[60];let ge;e[61]!==s.gizmo.id||e[62]!==n?(ge=I=>{const Ee=s?.gizmo.id??"primary";H.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:Ee}),H.logEvent("Sidebar Click Gizmo",{gizmo_id:Ee}),n?.(I)},e[61]=s.gizmo.id,e[62]=n,e[63]=ge):ge=e[63];let pe;e[64]!==L||e[65]!==A||e[66]!==y||e[67]!==h||e[68]!==s.gizmo.display||e[69]!==C||e[70]!==ze||e[71]!==N||e[72]!==j||e[73]!==T?(pe=N?T.length>0?t.jsx(Vo,{color:A,folderState:y,gizmoId:h,sidebarSnorlaxFolderStore:j,isSharedProject:ze}):t.jsx(ps,{color:A,emoji:L,isSharedProject:ze,strict:!0}):t.jsx(hs,{simple:!0,isFirstParty:C,src:s?.gizmo.display.profile_picture_url,className:"icon",alt:""}),e[64]=L,e[65]=A,e[66]=y,e[67]=h,e[68]=s.gizmo.display,e[69]=C,e[70]=ze,e[71]=N,e[72]=j,e[73]=T,e[74]=pe):pe=e[74];let he;e[75]!==a?(he=a===qe.Workspace&&t.jsx(Wo,{}),e[75]=a,e[76]=he):he=e[76];let be;e[77]!==a||e[78]!==s||e[79]!==m||e[80]!==r||e[81]!==O||e[82]!==N||e[83]!==ne?(be=!m&&!ne&&!O&&(N?t.jsx(Qo,{gizmoResource:s,isActive:r}):t.jsx(Ko,{gizmoResource:s,flair:a})),e[77]=a,e[78]=s,e[79]=m,e[80]=r,e[81]=O,e[82]=N,e[83]=ne,e[84]=be):be=e[84];let xe;e[85]!==He||e[86]!==Ue||e[87]!==D||e[88]!==ne||e[89]!==ce||e[90]!==de||e[91]!==ue||e[92]!==me||e[93]!==fe||e[94]!==ge||e[95]!==pe||e[96]!==he||e[97]!==be?(xe=t.jsx(He,{className:ce,highlighted:ne,onDrop:de,onDragEnter:ue,onDragLeave:Pe,to:me,onDoubleClick:fe,onClick:ge,active:D,icon:pe,label:Ue,trailing:he,highlightTrailing:be}),e[85]=He,e[86]=Ue,e[87]=D,e[88]=ne,e[89]=ce,e[90]=de,e[91]=ue,e[92]=me,e[93]=fe,e[94]=ge,e[95]=pe,e[96]=he,e[97]=be,e[98]=xe):xe=e[98];let Se;e[99]!==y||e[100]!==s||e[101]!==_||e[102]!==N||e[103]!==u||e[104]!==D||e[105]!==T?(Se=N&&y==="open"&&T.length>0&&t.jsx(Ae.div,{initial:"closed",animate:"open",exit:"closed",variants:Ho,className:"overflow-hidden",children:t.jsx(bs,{gizmoResource:s,serverThreadId:u,isOnProjectPage:D,conversations:T,hasNextPage:_})},"nested-conversations"),e[99]=y,e[100]=s,e[101]=_,e[102]=N,e[103]=u,e[104]=D,e[105]=T,e[106]=Se):Se=e[106];let je;e[107]!==Se?(je=t.jsx(Xe,{initial:!1,children:Se}),e[107]=Se,e[108]=je):je=e[108];let Ie;return e[109]!==xe||e[110]!==je?(Ie=t.jsxs(t.Fragment,{children:[xe,je]}),e[109]=xe,e[110]=je,e[111]=Ie):Ie=e[111],Ie}const Wo=()=>{const o=W(),e=It(),s=e?.name?o.formatMessage({id:"gizmo.workspaceRecommended",defaultMessage:"Recommended at {workspace_name}"},{workspace_name:e.name??"Your Workspace"}):o.formatMessage({id:"gizmo.workspaceRecommended.noWorkplaceName",defaultMessage:"Recommended at your workplace"});return t.jsx(ee,{side:"right",label:s,children:t.jsx(xs,{className:"icon",alt:s})})},Jt=io(()=>Ye(()=>import("./noph6g93fyrhrl8q.js"),__vite__mapDeps([0,1,2,3,4])).then(o=>o.GizmoKeepInSidebarMenuItem)),Ko=o=>{"use forget";const e=P.c(10),{gizmoResource:s,flair:i}=o,a=cs();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(Et,{onMouseOver:Yo,icon:tt}),e[0]=n):n=e[0];let r;e[1]!==i||e[2]!==s||e[3]!==a?(r=(i===qe.Recent||i===qe.Mine)&&t.jsx(Be.Item,{onClick:()=>{no.updateGizmoSidebar(a,ro,s.gizmo.id,"keep","sidebar")},children:t.jsx(G,{...xt.keepInSidebar})}),e[1]=i,e[2]=s,e[3]=a,e[4]=r):r=e[4];let l;e[5]!==s?(l=t.jsx(Jt,{gizmoResource:s,location:"sidebar"}),e[5]=s,e[6]=l):l=e[6];let f;return e[7]!==r||e[8]!==l?(f=t.jsxs(Lt,{triggerButton:n,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:[r,l]}),e[7]=r,e[8]=l,e[9]=f):f=e[9],f},Qo=o=>{"use forget";const e=P.c(23),{gizmoResource:s,isActive:i}=o,a=R(),n=Ne();let r;e[0]!==a?(r=zt(a),e[0]=a,e[1]=r):r=e[1];const l=r,{canEdit:f}=lo(s),{canDelete:m}=co(s);let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(Et,{icon:tt}),e[2]=p):p=e[2];let c;e[3]!==s.gizmo.id||e[4]!==l.composer.autofocusDisabled$||e[5]!==l.projects.renamingProjectId$?(c=()=>{l.composer.autofocusDisabled$.set(!0),l.projects.renamingProjectId$.set(s.gizmo.id)},e[3]=s.gizmo.id,e[4]=l.composer.autofocusDisabled$,e[5]=l.projects.renamingProjectId$,e[6]=c):c=e[6];const x=!f;let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(G,{...X.editProjectNameDropdownButton}),e[7]=u):u=e[7];let g;e[8]!==c||e[9]!==x?(g=t.jsx(Be.Item,{onClick:c,icon:Cs,disabled:x,children:u}),e[8]=c,e[9]=x,e[10]=g):g=e[10];let d;e[11]!==a||e[12]!==s.gizmo.id||e[13]!==i||e[14]!==n?(d=v=>{v.preventDefault(),v.stopPropagation();const y=function(C){C(),i&&n("/")};Ot(a,w=>{const{onClose:C}=w;return t.jsx(Ns,{gizmoId:s.gizmo.id,onError:void 0,onSuccess:()=>y(C),onClose:()=>{C()}})})},e[11]=a,e[12]=s.gizmo.id,e[13]=i,e[14]=n,e[15]=d):d=e[15];const S=!m;let b;e[16]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(G,{...X.deleteProjectDropdownButton}),e[16]=b):b=e[16];let h;e[17]!==d||e[18]!==S?(h=t.jsx(Be.Item,{color:"danger",onClick:d,icon:ks,disabled:S,children:b}),e[17]=d,e[18]=S,e[19]=h):h=e[19];let j;return e[20]!==h||e[21]!==g?(j=t.jsx(t.Fragment,{children:t.jsxs(Lt,{triggerButton:p,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:[g,h]})}),e[20]=h,e[21]=g,e[22]=j):j=e[22],j};function Yo(){return Jt.prefetch()}function Zt({currentGizmoId:o}){"use forget";const e=It(),s=R(),i=At(),{data:{gizmos:a=[]}={}}=Dt(),n=Ce(s,"1524046265"),{topGizmos:r,remainingGizmos:l}=B.useMemo(()=>{const f=i?a.filter(c=>!uo(c.resource)):a,{topGizmos:m,remainingGizmos:p}=_s(f,n);return{topGizmos:m,remainingGizmos:p}},[a,i,n]);return e?t.jsx(qo,{currentGizmoId:o,maxToShowOnLoad:4,topGizmos:r,remainingGizmos:l}):null}const qo=o=>{"use forget";const e=P.c(15),{currentGizmoId:s,maxToShowOnLoad:i,topGizmos:a,remainingGizmos:n}=o,[r,l]=B.useState(!(Bt.getItem(Gt.IsGptListCollapsed)??!0)),f=Math.max(a.length,i);let m;e[0]!==n||e[1]!==a?(m=[...a,...n],e[0]=n,e[1]=a,e[2]=m):m=e[2];let p=m;const c=p.length>f;if(c&&!r){let d;e[3]!==p||e[4]!==f?(d=p.slice(0,f-1),e[3]=p,e[4]=f,e[5]=d):d=e[5],p=d}let x;e[6]!==s||e[7]!==p?(x=p.map(d=>t.jsx(at,{gizmo:d.resource,isActive:d.resource.gizmo.id===s,flair:d.flair.kind},d.resource.gizmo.id)),e[6]=s,e[7]=p,e[8]=x):x=e[8];let u;e[9]!==c||e[10]!==r?(u=c&&t.jsx(Ge,{onClick:d=>{d.preventDefault(),l(Xo)},icon:tt,children:r?t.jsx(G,{id:"GizmoSidebarList.showLess",defaultMessage:"Show less"}):t.jsx(G,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"Show more"})}),e[9]=c,e[10]=r,e[11]=u):u=e[11];let g;return e[12]!==x||e[13]!==u?(g=t.jsxs(t.Fragment,{children:[x,u]}),e[12]=x,e[13]=u,e[14]=g):g=e[14],g};function Xo(o){const e=!o;return Bt.setItem(Gt.IsGptListCollapsed,!e),e}function es({hasProjects:o,isExpandoSidebar:e}){const s=Ne(),i=W(),a=R(),[n,r]=B.useState(!1),{onDropConversation:l,canDropConversation:f}=qt("sidebar_header_plus"),{eligibleNux:m}=Jo({hasProjects:o}),{canCreate:p}=mo(),c=t.jsx(Ge,{className:z(n&&"bg-token-bg-tertiary"),onDragEnter:x=>{f&&(x.preventDefault(),r(!0))},onDrop:x=>{f&&(x.preventDefault(),x.stopPropagation(),r(!1),l())},onDragLeave:()=>{r(!1)},disabled:!p,icon:Ts,onClick:()=>{Ot(a,({onClose:x})=>t.jsx(Ms,{onClose:x,onSuccess:u=>{u&&s(`/g/${u}/project`)}})),m&&m.announcement.markAsViewed(),H.logEventWithStatsig("Projects: Create Open","chatgpt_web_projects_create_open",{source:"sidebar_row_button"})},children:e?t.jsx(G,{...X.newProjectButtonWithNoProjects}):t.jsx(G,{...X.newProjectButton})});return p?t.jsx(Zo,{nux:m,children:c}):t.jsx(ee,{label:i.formatMessage(X.createProjectDisabledByAdmin),children:c})}function Jo({hasProjects:o}){const e=W(),s=R(),i=st(s).checkGate("2711769261"),a=ut(Oe.hasSeenProjectsWebNuxTooltip),n=ut(Oe.hasSeenProjectsUpdateNuxTooltip),r=o&&i&&!n.isLoading&&n.eligible,l=!r&&!n.isLoading&&!a.isLoading&&a.eligible,f={announcement:n,description:e.formatMessage(X.projectsUpdateTooltipDescription),key:Oe.hasSeenProjectsUpdateNuxTooltip,title:e.formatMessage(X.projectsUpdateTooltipTitle)},m={announcement:a,description:e.formatMessage(X.projectsNuxTooltipDescription),key:Oe.hasSeenProjectsWebNuxTooltip,title:e.formatMessage(X.projectsNuxTooltipTitle)};let p=null;return r?p=f:l&&(p=m),{eligibleNux:p,projectUpdateTooltip:f,projectTooltip:m,showProjectUpdateTooltip:r,showProjectTooltip:l}}function Zo({children:o,nux:e}){const s=ot(),i=fo(),a=go();return!e||i||!a||!s?t.jsx(t.Fragment,{children:o}):t.jsx(zs,{announcementKey:e.key,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:e.title,description:e.description,onDismiss:e.announcement.markAsViewed,sideOffset:-5,children:o})}function ei({snorlaxes:o,currentGizmoId:e}){return t.jsx(t.Fragment,{children:o.map(s=>t.jsx(at,{gizmo:s.gizmo,isActive:s.gizmo.gizmo.id===e},s.gizmo.gizmo.id))})}function ts({currentGizmoId:o}){const{snorlaxes:e,data:s,isLoading:i,isError:a,refetch:n,hasNextPage:r}=St(),l=e.slice(0,Ke),f=Pt(o),m=R(),p=Ce(m,"1693134918"),c=B.useRef(!1),[x,u]=B.useState(!0),g=B.useCallback(function(w){w&&u(!1),n()},[n,u]),d=a||s===void 0&&!i&&c.current;ae.markStart("SnorlaxSidebarList",ae.NS_SIDEBAR),s!=null&&!i&&ae.markRendered("SnorlaxSidebarList",ae.NS_SIDEBAR),s===void 0&&!i&&!c.current&&(c.current=!0,g(!1));const b=e?.find(y=>y.gizmo.gizmo.id===o),h=l.some(y=>y.gizmo.gizmo.id===o),j=e&&(e?.length>(!f||h?Ke:Ke+1)||r),v=t.jsx(t.Fragment,{children:i&&p?t.jsxs(t.Fragment,{children:[t.jsx(mt,{}),t.jsx(mt,{})]}):i?null:t.jsxs(t.Fragment,{children:[t.jsx(es,{hasProjects:e?.length>0}),!1,t.jsx(ei,{snorlaxes:l,currentGizmoId:o}),b&&!h&&t.jsx(at,{gizmo:b.gizmo,isActive:!0}),j&&t.jsx(Ps,{currentGizmoId:o})]})});return t.jsxs(t.Fragment,{children:[d&&t.jsx(Is,{showRetry:x,refetch:g}),!d&&(p?v:t.jsx(Ze,{id:"snorlax-heading",children:v}))]})}function ti({currentGizmoId:o,activeId:e,isSnorlaxEnabled:s,hasProjects:i,hasChats:a}){const{data:{gizmos:n=[]}={}}=Dt(),r=n.length>0;return t.jsxs(t.Fragment,{children:[r&&t.jsx(Qe,{id:"gpts",title:t.jsx(G,{id:"sidebar.gpts",defaultMessage:"GPTs"}),children:t.jsx(Le,{name:"GPTsSidebarList",children:t.jsx(Zt,{currentGizmoId:o})})}),s&&i&&t.jsx(Qe,{id:"projects",title:t.jsx(G,{id:"sidebar.projects",defaultMessage:"Projects"}),children:t.jsx(ts,{currentGizmoId:o})}),a&&t.jsx(Qe,{id:"chats",title:t.jsx(G,{id:"sidebar.chats",defaultMessage:"Chats"}),children:t.jsx(jt,{activeId:e})})]})}function Qe(o){"use forget";const e=P.c(27),{title:s,id:i,children:a}=o,n=R(),r=W();let l;e[0]!==n?(l=Es(n),e[0]=n,e[1]=l):l=e[1];const f=l,m=ve(f.sidebarSectionState[i]);let p;e[2]!==i||e[3]!==f||e[4]!==m?(p=v=>{v.preventDefault(),m?f.collapseSection(i):f.expandSection(i)},e[2]=i,e[3]=f,e[4]=m,e[5]=p):p=e[5];const c=p;let x;e[6]!==r||e[7]!==m?(x=m?r.formatMessage({defaultMessage:"Collapse section",id:"sidebar.collapseSection"}):r.formatMessage({defaultMessage:"Expand section",id:"sidebar.expandSection"}),e[6]=r,e[7]=m,e[8]=x):x=e[8];const u=x;let g;e[9]!==s?(g=t.jsx(Os,{"data-no-spacing":!0,children:s}),e[9]=s,e[10]=g):g=e[10];let d;e[11]!==m?(d=m?t.jsx(Ls,{className:"hidden h-3 w-3 group-hover/sidebar-expando-section:block"}):t.jsx(po,{className:"hidden h-3 w-3 group-hover/sidebar-expando-section:block"}),e[11]=m,e[12]=d):d=e[12];let S;e[13]!==g||e[14]!==d?(S=t.jsxs("div",{className:"text-token-text-tertiary flex w-full items-center justify-start gap-0.5",children:[g,d]}),e[13]=g,e[14]=d,e[15]=S):S=e[15];let b;e[16]!==u||e[17]!==c||e[18]!==m||e[19]!==S?(b=t.jsx(Ge,{onClick:c,"aria-expanded":m,"aria-label":u,"data-no-hover-bg":!0,"data-no-contents-gap":!0,children:S}),e[16]=u,e[17]=c,e[18]=m,e[19]=S,e[20]=b):b=e[20];let h;e[21]!==a||e[22]!==m?(h=m&&t.jsx("div",{className:"mb-4",children:a}),e[21]=a,e[22]=m,e[23]=h):h=e[23];let j;return e[24]!==b||e[25]!==h?(j=t.jsxs("div",{className:"group/sidebar-expando-section",children:[b,h]}),e[24]=b,e[25]=h,e[26]=j):j=e[26],j}function si({showGPTsSidebarItem:o,showNewProjectButton:e}){return t.jsxs("div",{className:"pb-[calc(var(--sidebar-section-margin-top)-var(--sidebar-section-first-margin-top))]",children:[t.jsx(vt,{}),o&&t.jsx(yt,{}),e&&t.jsx(es,{hasProjects:!1,isExpandoSidebar:!0})]})}const U={images:"images",prompts:"prompts",glaux:"glaux"};function Fi(o){"use forget";const e=P.c(33),{isMobile:s,onShowHidden:i}=o,a=s===void 0?!1:s,n=R();let r;e[0]!==n?(r=!1,e[0]=n,e[1]=r):r=e[1];const l=r;let f;e[2]!==n?(f=!1,e[2]=n,e[3]=f):f=e[3];const m=f;let p;e[4]!==n?(p=!1,e[4]=n,e[5]=p):p=e[5];const c=p,[x,u]=ds();let g;e[6]!==x?(g=x.get("tab")??U.images,e[6]=x,e[7]=g):g=e[7];const d=g;let S;e[8]!==u?(S=T=>{u(N=>(N.set("tab",T),N))},e[8]=u,e[9]=S):S=e[9];const b=S,h=a&&"ps-2",j=!a&&"h-header-height bg-token-main-surface-primary sticky top-0 z-20 p-4 max-md:hidden";let v;e[10]!==h||e[11]!==j?(v=z("flex w-full items-center justify-between",h,j,"border-b-token-border-secondary border-b-1"),e[10]=h,e[11]=j,e[12]=v):v=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=z("flex items-center","h-header-height gap-4 ps-4"),e[13]=y):y=e[13];let w;e[14]!==a?(w=!a&&t.jsx(Ro,{clientThreadId:ho}),e[14]=a,e[15]=w):w=e[15];let C;e[16]!==b||e[17]!==c||e[18]!==m||e[19]!==l||e[20]!==d?(C=t.jsxs("div",{className:"h-header-height flex flex-1 items-center gap-4",children:[t.jsx("button",{className:z("text-token-text-primary box-content h-full border-b-1 font-medium",d===U.images&&"border-token-text-secondary",d!==U.images&&"text-token-text-tertiary border-transparent"),onClick:()=>b(U.images),children:t.jsx(G,{id:"library.tabs.images",defaultMessage:"Images"})},U.images),!1,l&&t.jsx("button",{className:z("text-token-text-primary box-content h-full border-b-1 font-medium",d===U.prompts&&"border-token-text-secondary",d!==U.prompts&&"text-token-text-tertiary border-transparent"),onClick:()=>b(U.prompts),children:t.jsx(G,{id:"library.tabs.prompts",defaultMessage:"Prompts"})},U.prompts),m&&t.jsx("button",{className:z("text-token-text-primary box-content h-full border-b-1 font-medium",d===U.glaux&&"border-token-text-secondary",d!==U.glaux&&"text-token-text-tertiary border-transparent"),onClick:()=>b(U.glaux),children:t.jsx(G,{id:"library.tabs.glaux",defaultMessage:"Knowledge"})},U.glaux),!1]}),e[16]=b,e[17]=c,e[18]=m,e[19]=l,e[20]=d,e[21]=C):C=e[21];let k;e[22]!==w||e[23]!==C?(k=t.jsxs("div",{className:y,children:[w,C]}),e[22]=w,e[23]=C,e[24]=k):k=e[24];let _;e[25]!==a||e[26]!==i||e[27]!==d?(_=d===U.images&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(As,{onShowHidden:i}),!a&&t.jsx(Fo,{})]}),e[25]=a,e[26]=i,e[27]=d,e[28]=_):_=e[28];let M;return e[29]!==k||e[30]!==_||e[31]!==v?(M=t.jsxs("header",{"data-landing-page-load-target":!0,className:v,children:[k,_]}),e[29]=k,e[30]=_,e[31]=v,e[32]=M):M=e[32],M}const ss=o=>{"use forget";const e=P.c(17),{iconOnly:s}=o,i=W(),{pageType:a}=Ds(),n=et(),r=R();let l;e[0]!==r?(l=!1,e[0]=r,e[1]=l):l=e[1];const f=l;let m;e[2]!==i?(m=i.formatMessage({id:"E56n+Q",defaultMessage:"Library"}),e[2]=i,e[3]=m):m=e[3];const p=m;let c;e[4]!==n?(c=()=>{H.logEventWithStatsig("chatgpt_web_image_library_sidebar_item_clicked","chatgpt_web_image_library_sidebar_item_clicked",{location:n})},e[4]=n,e[5]=c):c=e[5];const x=a.type==="library";let u;e[6]!==f?(u=f?`${lt(ft.PictureV2,"library")}?tab=${U.glaux}`:lt(ft.PictureV2,"library"),e[6]=f,e[7]=u):u=e[7];let g;e[8]!==s||e[9]!==p?(g=s?{iconOnly:!0,iconAriaLabel:p}:{},e[8]=s,e[9]=p,e[10]=g):g=e[10];let d;return e[11]!==p||e[12]!==c||e[13]!==x||e[14]!==u||e[15]!==g?(d=t.jsx(Je,{"data-testid":"sidebar-item-library",onClick:c,active:x,icon:Bs,to:u,label:p,...g}),e[11]=p,e[12]=c,e[13]=x,e[14]=u,e[15]=g,e[16]=d):d=e[16],d},oi=({onNewThread:o})=>{const e=R();Ce(e,"713974087");const s=Ce(e,"1693134918"),{shouldShow:i}=it();return t.jsxs(Ze,{first:!0,className:z("tall:sticky tall:top-header-height tall:z-20 relative","[--sticky-spacer:calc(var(--sidebar-section-margin-top)-var(--sidebar-section-first-margin-top)-2px)]",{"tall:group-data-scrolled-from-top/scrollport:shadow-(--sharp-edge-top-shadow) pb-[calc(var(--sidebar-section-margin-top)-var(--sidebar-section-first-margin-top))]":!s,"bg-transparent":i,"bg-token-bg-elevated-secondary":!i}),children:[i&&t.jsx("div",{"aria-hidden":!0,className:z("tall:block bg-token-bg-elevated-secondary/30 -top-header-height absolute hidden opacity-0 transition-opacity duration-200 group-data-scrolled-from-top/scrollport:opacity-100 group-data-scrolled-from-top/scrollport:backdrop-blur-xl",{"inset-x-0 -bottom-[var(--sticky-spacer)]":s,"inset-0":!s})}),t.jsx(os,{onNewThread:o}),t.jsx(is,{}),!1,!1,t.jsx(ss,{}),!1,s&&t.jsx("div",{"aria-hidden":!0,className:z("pointer-events-none absolute start-0 end-0","-bottom-[var(--sticky-spacer)] h-[var(--sticky-spacer)]","opacity-0 will-change-[opacity] group-data-scrolled-from-top/scrollport:opacity-100",i?"bg-transparent":"bg-token-bg-elevated-secondary")})]})},os=({onNewThread:o,iconOnly:e})=>{const s=W(),i=et(),a=ve(Rt),n=l=>{H.logNewChatButtonClicked({location:i??"Sidebar gizmo list",gizmo_id:"primary"}),H.logEvent("Sidebar Click Gizmo",{gizmo_id:"primary"}),Nt(l,o)},r=s.formatMessage({id:"6Abeg/",defaultMessage:"New chat"});return t.jsx(Je,{"data-testid":"create-new-chat-button",to:"/",onClick:n,icon:Gs,label:r,highlightTrailing:t.jsx("div",{className:"touch:hidden",children:t.jsx(De,{binding:wt})}),showHighlightTrailing:a,...e?{iconOnly:!0,iconAriaLabel:r}:{}})},is=({iconOnly:o})=>{const e=W(),{isFannyPackEnabled:s}=Rs(),i=et(),a=ve(Rt);if(B.useEffect(()=>{s&&(bo.addAction("fannypack.web.action_seen"),Ye(()=>import("./f9hp974e56z6b242.js").then(r=>r.d),__vite__mapDeps([5,6,2,1,3,7,8])))},[s]),!s)return null;const n=e.formatMessage({id:"bDEsvT",defaultMessage:"Search chats"});return t.jsx(Ge,{onClick:()=>{Ye(()=>import("./f9hp974e56z6b242.js").then(r=>r.d),__vite__mapDeps([5,6,2,1,3,7,8])).then(r=>r.openFannyPackSearch()),H.logEventWithStatsig("chatgpt_web_search_sidebar_item_clicked","chatgpt_web_search_sidebar_item_clicked",{location:i})},icon:xo,label:n,highlightTrailing:t.jsx("div",{className:"touch:hidden",children:t.jsx(De,{binding:Ct})}),showHighlightTrailing:a,...o?{iconOnly:!0,iconAriaLabel:n}:{}})};function ii(o){"use forget";const e=P.c(5),{clientThreadId:s,onNewThread:i}=o,a=Mt(s),n=$t(s),r=wo(),l=At(),f=r?void 0:a;let m;return e[0]!==n||e[1]!==l||e[2]!==i||e[3]!==f?(m=t.jsx(ai,{currentGizmoId:n,activeId:f,isSnorlaxEnabled:l,onNewThread:i}),e[0]=n,e[1]=l,e[2]=i,e[3]=f,e[4]=m):m=e[4],m}function ai(o){"use forget";const e=P.c(22),{currentGizmoId:s,activeId:i,isSnorlaxEnabled:a,onNewThread:n}=o,r=R();let l;e[0]!==r?(l=Ce(r,"1693134918"),e[0]=r,e[1]=l):l=e[1];const f=l;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={},e[2]=m):m=e[2];const{conversations:p}=jo(m),c=p.length>0,{snorlaxes:x,isLoading:u}=St(),g=x.length>0,{data:d,isLoading:S}=vo(),{gizmos:b}=d===void 0?{}:d,j=(b===void 0?[]:b).length>0;let v;e[3]!==r?(v=yo(r)?.hasPaidSubscription(),e[3]=r,e[4]=v):v=e[4];const w=f&&!j&&v&&!S,C=f&&a&&!g&&!u;let k;e[5]!==n?(k=t.jsx(oi,{onNewThread:n}),e[5]=n,e[6]=k):k=e[6];let _;e[7]!==f||e[8]!==w||e[9]!==C?(_=f&&t.jsx(si,{showGPTsSidebarItem:w,showNewProjectButton:C}),e[7]=f,e[8]=w,e[9]=C,e[10]=_):_=e[10];let M;e[11]!==i||e[12]!==s||e[13]!==c||e[14]!==g||e[15]!==f||e[16]!==a?(M=t.jsx(ye,{fallback:null,children:t.jsx(B.Suspense,{children:f?t.jsx(Le,{name:"ExpandoSidebar",children:t.jsx(ti,{currentGizmoId:s,activeId:i,isSnorlaxEnabled:a,hasProjects:g,hasChats:c})}):t.jsxs(t.Fragment,{children:[t.jsxs(t.Fragment,{children:[t.jsxs(Ze,{first:!0,children:[t.jsx(vt,{}),t.jsx(yt,{}),t.jsx(Le,{name:"GPTsSidebarList",children:t.jsx(Zt,{currentGizmoId:s})}),t.jsx(Le,{name:"ScheduleSidebarItem",children:t.jsx($s,{})})]}),a&&t.jsx(ts,{currentGizmoId:s})]}),null,t.jsx(jt,{activeId:i})]})})}),e[11]=i,e[12]=s,e[13]=c,e[14]=g,e[15]=f,e[16]=a,e[17]=M):M=e[17];let T;return e[18]!==k||e[19]!==_||e[20]!==M?(T=t.jsxs(t.Fragment,{children:[k,_,M]}),e[18]=k,e[19]=_,e[20]=M,e[21]=T):T=e[21],T}function $i(o){"use forget";const e=P.c(4),{clientThreadId:s,onNewThread:i}=o,a=R();let n;return e[0]!==s||e[1]!==a||e[2]!==i?(n=Ft(a)?t.jsx(ii,{clientThreadId:s,onNewThread:i}):null,e[0]=s,e[1]=a,e[2]=i,e[3]=n):n=e[3],n}function ni(o){"use forget";const e=P.c(22),{onNewThread:s}=o,i=W(),a=So(li),n=Fs();let r;e[0]!==i?(r=i.formatMessage({id:"Q6nsOM",defaultMessage:"Close sidebar"}),e[0]=i,e[1]=r):r=e[1];const l=r,f=B.useContext(we),m=ot(),p=a?.visible&&a.getTitlebarAreaRect().left>0?"justify-end":"justify-between";let c;e[2]!==p?(c=z("h-header-height flex items-center",p),e[2]=p,e[3]=c):c=e[3];let x;e[4]!==s?(x=t.jsx(ci,{onNewThread:s}),e[4]=s,e[5]=x):x=e[5];let u;e[6]!==n?(u=n&&t.jsx(Us,{}),e[6]=n,e[7]=u):u=e[7];const g=f==="popover"||m,d=f==="popover"?"stage-popover-sidebar":"stage-slideover-sidebar";let S;e[8]!==l||e[9]!==g||e[10]!==d?(S=t.jsx(kt,{className:"no-draggable cursor-w-resize rtl:cursor-e-resize",color:"tertiary","aria-expanded":g,"aria-controls":d,"aria-label":l,onClick:ri,icon:_t,mobileIcon:Co,"data-testid":"close-sidebar-button"}),e[8]=l,e[9]=g,e[10]=d,e[11]=S):S=e[11];let b;e[12]!==l||e[13]!==S?(b=t.jsx(ee,{label:l,triggerAs:null,children:S}),e[12]=l,e[13]=S,e[14]=b):b=e[14];let h;e[15]!==u||e[16]!==b?(h=t.jsxs("div",{className:"flex",children:[u,b]}),e[15]=u,e[16]=b,e[17]=h):h=e[17];let j;return e[18]!==h||e[19]!==c||e[20]!==x?(j=t.jsxs("div",{id:"sidebar-header",className:c,children:[x,h]}),e[18]=h,e[19]=c,e[20]=x,e[21]=j):j=e[21],j}function ri(){ke.setSidebarOpen(!1)}function li(){return navigator.windowControlsOverlay}function ci({onNewThread:o,testId:e}){const s=W();return t.jsx(kt,{onClick:i=>{const a=i.currentTarget.closest("nav");if(a&&a.scrollTop>0){a.scrollTo({top:0,behavior:"smooth"}),i.preventDefault();return}Nt(i,o)},icon:Ut,iconClassName:"icon-lg",color:"primary","aria-label":s.formatMessage({id:"H6SRdK",defaultMessage:"Home"}),"data-testid":e,as:"link"})}const di=()=>{const o=Ne();return t.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[t.jsx(ni,{onNewThread:()=>{Hs(o)}}),t.jsx(ui,{}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx($o,{})})]})},as="border border-token-border-xlight bg-token-sidebar-surface-secondary";function ie({className:o,width:e}){return t.jsx("div",{className:z("h-2.5 grow rounded-sm",as,o),style:{maxWidth:e+"px"}})}function ui(){const o=t.jsx("div",{className:z("h-4 w-4 shrink-0 grow-0 rounded-full",as)});return t.jsxs("div",{className:"mt-2 flex w-full grow flex-col gap-4 overflow-hidden px-2",style:{maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"},children:[t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:80})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:120})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:100})]}),t.jsx("div",{className:"mt-5 flex flex-row items-center justify-start gap-3",children:t.jsx(ie,{width:150})}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:50})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:100})]}),t.jsxs("div",{className:"mb-5 flex flex-row items-center justify-start gap-3",children:[o,t.jsx(ie,{width:80})]}),[120,180,160,100,90,190,140,120,180,170,100,120,180,150].map((e,s)=>t.jsx("div",{className:"flex flex-row items-center justify-start py-1",children:t.jsx(ie,{width:e})},s))]})}function ns(o){"use forget";const e=P.c(61);let s,i,a,n;e[0]!==o?({onOpen:a,className:s,isSidebarOpen:i,...n}=o,e[0]=o,e[1]=s,e[2]=i,e[3]=a,e[4]=n):(s=e[1],i=e[2],a=e[3],n=e[4]);const r=Ne(),l=W(),f=R(),{enableTinybarUpgradeBtn:m}=Vs(),p=!i;let c;e[5]!==s?(c=z("group/tiny-bar flex h-full w-(--sidebar-rail-width) cursor-e-resize flex-col items-start bg-transparent pb-1.5 motion-safe:transition-colors rtl:cursor-w-resize",s),e[5]=s,e[6]=c):c=e[6];let x;e[7]!==a?(x=D=>{D.target===D.currentTarget&&a()},e[7]=a,e[8]=x):x=e[8];let u;e[9]!==l?(u=l.formatMessage({id:"GpHrv5",defaultMessage:"Open sidebar"}),e[9]=l,e[10]=u):u=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs(t.Fragment,{children:[t.jsx(Ut,{className:"icon-lg -m-1 group-hover/tiny-bar:hidden group-focus-visible:hidden"}),t.jsx(_t,{className:"icon hidden group-hover/tiny-bar:block group-focus-visible:block"})]}),e[11]=g):g=e[11];let d;e[12]!==l?(d=l.formatMessage({id:"IaY18K",defaultMessage:"Open sidebar"}),e[12]=l,e[13]=d):d=e[13];let S;e[14]!==a||e[15]!==d?(S=t.jsx(gt,{as:"button",className:"cursor-e-resize rtl:cursor-w-resize",icon:g,"aria-label":d,"aria-expanded":!1,"aria-controls":"stage-slideover-sidebar",iconOnly:!0,fillContainer:!0,onClick:a}),e[14]=a,e[15]=d,e[16]=S):S=e[16];let b;e[17]!==u||e[18]!==S?(b=t.jsx("div",{className:"h-header-height flex items-center justify-center",children:t.jsx(ee,{label:u,side:"right",triggerAs:null,sideOffset:14,children:S})}),e[17]=u,e[18]=S,e[19]=b):b=e[19];let h;e[20]!==l?(h=l.formatMessage({id:"6Abeg/",defaultMessage:"New chat"}),e[20]=l,e[21]=h):h=e[21];let j;e[22]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(De,{binding:wt}),e[22]=j):j=e[22];let v;e[23]!==r?(v=t.jsx(os,{iconOnly:!0,onNewThread:()=>Ks(r)}),e[23]=r,e[24]=v):v=e[24];let y;e[25]!==v||e[26]!==h?(y=t.jsx(ee,{label:h,secondaryLabel:j,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:v}),e[25]=v,e[26]=h,e[27]=y):y=e[27];let w;e[28]!==l?(w=l.formatMessage({id:"VUMlGk",defaultMessage:"Search chats"}),e[28]=l,e[29]=w):w=e[29];let C;e[30]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(De,{binding:Ct}),e[30]=C):C=e[30];let k;e[31]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(is,{iconOnly:!0}),e[31]=k):k=e[31];let _;e[32]!==w?(_=t.jsx(ee,{label:w,secondaryLabel:C,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:k}),e[32]=w,e[33]=_):_=e[33];let M;e[34]!==f||e[35]!==l?(M=null,e[34]=f,e[35]=l,e[36]=M):M=e[36];let T;e[37]!==l?(T=l.formatMessage({id:"JBxuOc",defaultMessage:"Library"}),e[37]=l,e[38]=T):T=e[38];let N;e[39]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(ss,{iconOnly:!0}),e[39]=N):N=e[39];let E;e[40]!==T?(E=t.jsx(ee,{label:T,side:"right",triggerAs:"div",children:N}),e[40]=T,e[41]=E):E=e[41];let A;e[42]!==y||e[43]!==_||e[44]!==M||e[45]!==E?(A=t.jsxs("div",{className:"mt-(--sidebar-section-first-margin-top)",children:[y,_,M,E]}),e[42]=y,e[43]=_,e[44]=M,e[45]=E,e[46]=A):A=e[46];let F;e[47]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("div",{className:"pointer-events-none flex-grow"}),e[47]=F):F=e[47];let L;e[48]!==l||e[49]!==p||e[50]!==r||e[51]!==m?(L=m&&t.jsx(ee,{label:l.formatMessage({id:"9eIok4",defaultMessage:"Upgrade plan"}),side:"right",triggerAs:"div",children:t.jsx(gt,{as:"button",icon:t.jsx(Ws,{className:"icon-sm"}),iconOnly:!0,fillContainer:!0,className:z("motion-safe:transition-opacity motion-safe:duration-200 motion-safe:ease-out",p?"opacity-100 motion-safe:delay-[175ms]":"opacity-0 motion-safe:delay-0"),"aria-label":l.formatMessage(Ht.upgrade),onClick:()=>No(r,"tiny bar")})}),e[48]=l,e[49]=p,e[50]=r,e[51]=m,e[52]=L):L=e[52];let $;e[53]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"mb-1",children:t.jsx(Uo,{})}),e[53]=$):$=e[53];let O;return e[54]!==n||e[55]!==c||e[56]!==x||e[57]!==A||e[58]!==L||e[59]!==b?(O=t.jsxs("div",{id:"stage-sidebar-tiny-bar",className:c,onClick:x,...n,children:[b,A,F,L,$]}),e[54]=n,e[55]=c,e[56]=x,e[57]=A,e[58]=L,e[59]=b,e[60]=O):O=e[60],O}function Ui(o){"use forget";const e=P.c(2),{onNewChatButtonClick:s}=o,{isUnauthenticated:i,isLoading:a}=Vt();if(a||!i)return null;let n;return e[0]!==s?(n=t.jsx(Xt,{onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),s()}}),e[0]=s,e[1]=n):n=e[1],n}function Hi(o){"use forget";const e=P.c(6),{onNewChatButtonClick:s,clientThreadId:i}=o,{isUnauthenticated:a,isLoading:n}=Vt(),r=ko(),l=$t(i),f=_o(i,Mo.getIsNewConversation),m=To(),p=f&&m&&!a&&!l;if(n)return null;if(a){let g;return e[0]!==r?(g=r?t.jsx(gi,{}):t.jsx(mi,{}),e[0]=r,e[1]=g):g=e[1],g}let c;e[2]!==s?(c=t.jsx(Xt,{onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),s()}}),e[2]=s,e[3]=c):c=e[3];const x=c;if(!p)return x;let u;return e[4]!==i?(u=t.jsx(Qs,{variant:"secondary",clientThreadId:i}),e[4]=i,e[5]=u):u=e[5],u}function mi(){"use forget";const o=P.c(8),e=R();let s;o[0]===Symbol.for("react.memo_cache_sentinel")?(s={id:"navigation.signUpButtonText",defaultMessage:"Sign up",description:"Button text for Sign up button"},o[0]=s):s=o[0];const i=zo(s);let a;o[1]!==e?(a=()=>{Qt(e,{authType:"signup",callback:fi})},o[1]=e,o[2]=a):a=o[2];let n;o[3]!==i?(n=t.jsx(G,{...i}),o[3]=i,o[4]=n):n=o[4];let r;return o[5]!==a||o[6]!==n?(r=t.jsx(Yt,{as:"button",size:"small",color:"primary",onClick:a,children:n}),o[5]=a,o[6]=n,o[7]=r):r=o[7],r}function fi(o){H.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:o})}function gi(){"use forget";const o=P.c(5),e=R();let s;o[0]!==e?(s=()=>{Qt(e,{authType:"login",callback:pi})},o[0]=e,o[1]=s):s=o[1];let i;o[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(G,{...Ht.logInButtonText}),o[2]=i):i=o[2];let a;return o[3]!==s?(a=t.jsx(Yt,{as:"button",size:"small",color:"primary",onClick:s,"data-testid":"mobile-login-button",children:i}),o[3]=s,o[4]=a):a=o[4],a}function pi(o){H.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:o})}function hi(o){"use forget";const e=P.c(7),{onClick:s}=o,i=qs(Js,Xs,!1,!0),a=Re(bi);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("span",{className:"sr-only",children:t.jsx(G,{id:"navigation.openSidebar",defaultMessage:"Open sidebar"})}),e[0]=n):n=e[0];let r;e[1]!==i?(r=t.jsx(i,{className:"icon-lg text-token-text-secondary mx-2"}),e[1]=i,e[2]=r):r=e[2];let l;return e[3]!==a||e[4]!==s||e[5]!==r?(l=t.jsxs("button",{type:"button",className:"hover:text-token-text-primary touch:h-10 touch:w-10 inline-flex h-9 w-9 items-center justify-center rounded-md focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset active:opacity-50",onClick:s,"data-testid":"open-sidebar-button","aria-expanded":a,"aria-controls":"stage-popover-sidebar",children:[n,r]}),e[3]=a,e[4]=s,e[5]=r,e[6]=l):l=e[6],l}function bi(o){return o.isPopoverSidebarOpen}const xi=o=>{"use forget";const e=P.c(22),{rightContentExpanded:s,onOpenSidebar:i,children:a,showNavSidebar:n,leftContent:r,rightContent:l,bottomContent:f}=o,m=Re(yi),{shouldShow:p}=it(),c=p?"absolute w-full bg-transparent":"bg-token-bg-primary sticky",x=m?"[box-shadow:var(--sharp-edge-top-shadow)]":"[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";let u;e[0]!==c||e[1]!==x?(u=z("draggable h-header-height top-0 z-10 flex items-center border-transparent px-2 md:hidden",c,x),e[0]=c,e[1]=x,e[2]=u):u=e[2];let g;e[3]!==r||e[4]!==i||e[5]!==n?(g=(n||r)&&t.jsxs("div",{className:"no-draggable flex items-center justify-center",children:[n&&t.jsx(hi,{onClick:i}),r]}),e[3]=r,e[4]=i,e[5]=n,e[6]=g):g=e[6];let d;e[7]!==a?(d=t.jsx("div",{className:"no-draggable flex-1",children:a}),e[7]=a,e[8]=d):d=e[8];let S;e[9]!==l||e[10]!==s?(S=l&&t.jsx("div",{className:z("no-draggable flex items-center justify-center",s&&"start-10"),children:l}),e[9]=l,e[10]=s,e[11]=S):S=e[11];let b;e[12]!==u||e[13]!==g||e[14]!==d||e[15]!==S?(b=t.jsxs("div",{className:u,children:[g,d,S]}),e[12]=u,e[13]=g,e[14]=d,e[15]=S,e[16]=b):b=e[16];let h;e[17]!==f?(h=f&&t.jsx("div",{className:"no-draggable bg-token-bg-primary flex w-full items-center justify-center md:hidden",children:f}),e[17]=f,e[18]=h):h=e[18];let j;return e[19]!==b||e[20]!==h?(j=t.jsxs(t.Fragment,{children:[b,h]}),e[19]=b,e[20]=h,e[21]=j):j=e[21],j};function Si(o){"use forget";const e=P.c(4),{isPopover:s,children:i,forceOpenDesktopSidebar:a}=o,n=s===void 0?!1:s;ae.markStart("StageNavigationSidebar"),ae.markRendered("StageNavigationSidebar");let r;return e[0]!==i||e[1]!==a||e[2]!==n?(r=n?t.jsx(vi,{children:i}):t.jsx(ji,{forceOpenDesktopSidebar:a,children:i}),e[0]=i,e[1]=a,e[2]=n,e[3]=r):r=e[3],r}const rs={type:"spring",bounce:.1,duration:.35},bt={...rs,duration:.4},ji=o=>{"use forget";const e=P.c(25),{style:s,children:i,forceOpenDesktopSidebar:a}=o;Tt(wi),ae.trackNamespace(ae.NS_SIDEBAR);const n=Po(),{shouldShow:r}=it(),l=ot()||a,f=n?Ys:rs,m=l?"var(--sidebar-width)":"var(--sidebar-rail-width)",p=r?"transparent":l?"var(--bg-elevated-secondary)":"var(--bg-primary)";let c;e[0]!==m||e[1]!==p?(c={width:m,backgroundColor:p},e[0]=m,e[1]=p,e[2]=c):c=e[2];const x=l?"pointer-events-none opacity-0":"opacity-100",u=l?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let g;e[3]!==x||e[4]!==u?(g=z("absolute inset-0",x,u,"motion-safe:transition-opacity motion-safe:duration-150"),e[3]=x,e[4]=u,e[5]=g):g=e[5];const d=!!l;let S;e[6]!==l||e[7]!==g||e[8]!==d?(S=t.jsx(we.Provider,{value:"tiny_bar",children:t.jsx(ns,{className:g,inert:l,isSidebarOpen:d,onOpen:Ci})}),e[6]=l,e[7]=g,e[8]=d,e[9]=S):S=e[9];const b=l?"opacity-100":"pointer-events-none opacity-0",h=!r&&"bg-token-bg-elevated-secondary";let j;e[10]!==b||e[11]!==h?(j=z(b,"motion-safe:transition-opacity motion-safe:duration-150 motion-safe:ease-linear","h-full w-[var(--sidebar-width)] overflow-x-clip overflow-y-auto text-clip whitespace-nowrap",h),e[10]=b,e[11]=h,e[12]=j):j=e[12];const v=!l;let y;e[13]!==i||e[14]!==j||e[15]!==v?(y=t.jsx(we.Provider,{value:"expanded_sidebar",children:t.jsx("div",{className:j,inert:v,children:i})}),e[13]=i,e[14]=j,e[15]=v,e[16]=y):y=e[16];let w;e[17]!==y||e[18]!==S?(w=t.jsxs("div",{className:"relative flex h-full flex-col",children:[S,y]}),e[17]=y,e[18]=S,e[19]=w):w=e[19];let C;return e[20]!==s||e[21]!==f||e[22]!==w||e[23]!==c?(C=t.jsx(Ae.div,{className:"border-token-border-light relative z-21 h-full shrink-0 overflow-hidden border-e max-md:hidden",transition:f,initial:!1,animate:c,style:s,id:"stage-slideover-sidebar",children:w}),e[20]=s,e[21]=f,e[22]=w,e[23]=c,e[24]=C):C=e[24],C},vi=o=>{"use forget";const e=P.c(22),{children:s}=o;Tt(Ni);const i=R(),a=st(i).checkGate("1536947154"),n=Re(ki),r=pt,l=_i,f=n?"pointer-events-none opacity-0":"opacity-100",m=n?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let p;e[0]!==f||e[1]!==m?(p=z("absolute inset-0",f,m,"motion-safe:transition-opacity motion-safe:duration-150"),e[0]=f,e[1]=m,e[2]=p):p=e[2];const c=!!n;let x;e[3]!==n||e[4]!==p||e[5]!==c?(x=t.jsx("div",{className:"border-token-border-light relative z-21 h-full w-[var(--sidebar-rail-width)] shrink-0 overflow-hidden border-e max-md:hidden",children:t.jsx(we.Provider,{value:"tiny_bar",children:t.jsx(ns,{className:p,inert:n,isSidebarOpen:c,onOpen:Ti})})}),e[3]=n,e[4]=p,e[5]=c,e[6]=x):x=e[6];const u=pt,g=!0,d=Xe;let S;e[7]!==n?(S=n&&t.jsx(Io,{asChild:!0,children:t.jsx(Ae.div,{className:"fixed inset-0 z-10 bg-gray-50/50 dark:bg-black/50",transition:bt,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.12}}})}),e[7]=n,e[8]=S):S=e[8];const b=n&&t.jsx(Eo,{asChild:!0,onOpenAutoFocus:Mi,children:t.jsxs(Ae.div,{className:z("bg-token-sidebar-surface-primary top-banner-visible:bottom-0 top-banner-visible:top-(--top-banner-height,0px) top-banner-visible:h-auto fixed start-0 top-0 z-50 h-full w-[var(--sidebar-width)] max-w-xs border-e border-gray-200 shadow-[0_0_64px_0_rgba(0,0,0,0.07)] [view-transition-name:var(--sidebar-popover)] focus:outline-hidden dark:border-gray-800",a&&"pb-[env(safe-area-inset-bottom,0px)]"),transition:bt,id:"stage-popover-sidebar",initial:{translateX:"-100%"},animate:{translateX:"0"},exit:{translateX:"-100%",transition:{duration:.12}},children:[t.jsx(Oo,{asChild:!0,children:t.jsxs(Lo,{children:[t.jsx(G,{id:"navigation.sidebarTitle",defaultMessage:"Sidebar"}),t.jsx(Ao,{})]})}),t.jsx(we.Provider,{value:"popover",children:s})]})});let h;e[9]!==d||e[10]!==S||e[11]!==b?(h=t.jsxs(d,{children:[S,b]}),e[9]=d,e[10]=S,e[11]=b,e[12]=h):h=e[12];let j;e[13]!==h||e[14]!==u.Portal?(j=t.jsx(u.Portal,{forceMount:g,children:h}),e[13]=h,e[14]=u.Portal,e[15]=j):j=e[15];let v;return e[16]!==n||e[17]!==r.Root||e[18]!==j||e[19]!==l||e[20]!==x?(v=t.jsxs(r.Root,{open:n,onOpenChange:l,children:[x,j]}),e[16]=n,e[17]=r.Root,e[18]=j,e[19]=l,e[20]=x,e[21]=v):v=e[21],v};function yi(o){return o.isConversationScrolledFromTop}function wi(){Wt.count(Kt.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"slideover"}),H.logEvent("Sidebar Show",{type:"slideover"})}function Ci(){return ke.setSidebarOpen(!0)}function Ni(){Wt.count(Kt.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"popover"}),H.logEvent("Sidebar Show",{type:"popover"})}function ki(o){return o.isPopoverSidebarOpen}function _i(o){ke.setPopoverSidebarOpen(o)}function Ti(){return ke.setPopoverSidebarOpen(!0)}function Mi(o){o.preventDefault()}function ls(o){"use forget";const e=P.c(73),{children:s,hideNavigation:i,mobileHeaderContent:a,mobileHeaderRightContentExpanded:n,mobileHeaderLeftContent:r,mobileHeaderRightContent:l,mobileHeaderBottomContent:f,renderNavSidebar:m,threadFlyout:p,forceOpenDesktopSidebar:c}=o,x=i===void 0?!1:i,u=c===void 0?!1:c,g=R(),d=!Ft(g),S=Re(Pi),b=Do(),h=Bo(),j=Go();let v,y;e[0]!==s?(v=[],y=null,rt.Children.forEach(s,se=>{rt.isValidElement(se)&&(se.type===ls.Sidebars?y=se:v.push(se))}),e[0]=s,e[1]=v,e[2]=y):(v=e[1],y=e[2]);const w=!d&&!x&&m!=null,C=!x&&(w||d)&&!0;let k;e[3]!==j?(k=j?ht(j,"summarizer"):!1,e[3]=j,e[4]=k):k=e[4];const _=k,M=j?!ht(j,"summarizer"):!1;let T,N,E,A,F,L,$,O,D;if(e[5]!==S||e[6]!==g||e[7]!==u||e[8]!==h||e[9]!==b||e[10]!==d||e[11]!==f||e[12]!==a||e[13]!==n||e[14]!==r||e[15]!==l||e[16]!==m||e[17]!==M||e[18]!==C||e[19]!==w||e[20]!==_){const re=st(g).checkGate("1536947154");T=b&&(_||M),N="flex h-full w-full flex-col",e[30]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(ye,{children:t.jsx(Zs,{})}),e[30]=E):E=e[30];const oe=S!=="popover-nav"&&"z-0";e[31]!==oe?(D=z("relative flex h-full w-full flex-1 transition-colors",oe),e[31]=oe,e[32]=D):D=e[32],$="relative flex h-full w-full flex-row";let J;e[33]!==u||e[34]!==h||e[35]!==d||e[36]!==m||e[37]!==w?(J=w&&t.jsx(Si,{isPopover:h,forceOpenDesktopSidebar:u,children:d?t.jsx(di,{}):m?.()}),e[33]=u,e[34]=h,e[35]=d,e[36]=m,e[37]=w,e[38]=J):J=e[38],e[39]!==J?(O=t.jsx(Xe,{initial:!1,children:J}),e[39]=J,e[40]=O):O=e[40],F=z("relative flex h-full max-w-full flex-1 flex-col",!1),e[41]!==f||e[42]!==a||e[43]!==n||e[44]!==r||e[45]!==l||e[46]!==C||e[47]!==w?(L=C&&t.jsxs(ye,{children:[t.jsx(eo,{}),t.jsx(xi,{rightContentExpanded:n,onOpenSidebar:zi,showNavSidebar:w,leftContent:r,rightContent:l,bottomContent:f,children:a})]}),e[41]=f,e[42]=a,e[43]=n,e[44]=r,e[45]=l,e[46]=C,e[47]=w,e[48]=L):L=e[48],A=z("transition-width relative h-full w-full flex-1 overflow-auto",re&&"-translate-y-[calc(env(safe-area-inset-bottom,0px)/2)] pt-[calc(env(safe-area-inset-bottom,0px)/2)]"),e[5]=S,e[6]=g,e[7]=u,e[8]=h,e[9]=b,e[10]=d,e[11]=f,e[12]=a,e[13]=n,e[14]=r,e[15]=l,e[16]=m,e[17]=M,e[18]=C,e[19]=w,e[20]=_,e[21]=T,e[22]=N,e[23]=E,e[24]=A,e[25]=F,e[26]=L,e[27]=$,e[28]=O,e[29]=D}else T=e[21],N=e[22],E=e[23],A=e[24],F=e[25],L=e[26],$=e[27],O=e[28],D=e[29];let Z;e[49]!==v||e[50]!==A?(Z=t.jsx("main",{className:A,id:"main","z-index":"-1",children:v}),e[49]=v,e[50]=A,e[51]=Z):Z=e[51];let K;e[52]!==Z||e[53]!==F||e[54]!==L?(K=t.jsxs("div",{className:F,children:[L,Z]}),e[52]=Z,e[53]=F,e[54]=L,e[55]=K):K=e[55];let Q;e[56]!==K||e[57]!==$||e[58]!==O?(Q=t.jsxs("div",{className:$,children:[O,K]}),e[56]=K,e[57]=$,e[58]=O,e[59]=Q):Q=e[59];let Y;e[60]!==T||e[61]!==p?(Y=t.jsx(ye,{children:t.jsx(to,{isExpanded:T,children:p})}),e[60]=T,e[61]=p,e[62]=Y):Y=e[62];let q;e[63]!==y||e[64]!==Q||e[65]!==Y||e[66]!==D?(q=t.jsxs("div",{className:D,children:[Q,Y,y]}),e[63]=y,e[64]=Q,e[65]=Y,e[66]=D,e[67]=q):q=e[67];let V;e[68]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(ye,{children:[t.jsx(so,{}),t.jsx(oo,{useManuallyControlledVisibility:!0})]}),e[68]=V):V=e[68];let te;return e[69]!==N||e[70]!==E||e[71]!==q?(te=t.jsxs("div",{className:N,children:[E,q,V]}),e[69]=N,e[70]=E,e[71]=q,e[72]=te):te=e[72],te}function zi(){return ke.setSidebarOpen(!0)}function Pi(o){return o.activeSidebar}function Ii(o){"use forget";const e=P.c(2),{children:s}=o;let i;return e[0]!==s?(i=t.jsx(t.Fragment,{children:s}),e[0]=s,e[1]=i):i=e[1],i}ls.Sidebars=Ii;export{$i as C,Fi as L,ai as S,ni as a,ls as b,Ui as c,Hi as d};
//# sourceMappingURL=owyq2pc3j9e6vumq.js.map
