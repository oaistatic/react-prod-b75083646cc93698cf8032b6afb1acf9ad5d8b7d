const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/h5npzlbpo6pf8g4k.js","assets/hml6mmd5fyx85si7.js","assets/lu2xqwqmjc95q6j6.js","assets/root-c0w5lvnh.css","assets/rseqzngxzbdt1oxg.js","assets/conversation-small-gcvo4yhm.css","assets/an8inla81yw2b3cc.js","assets/km3rlbhpk1cjsz2v.js","assets/ik8y7nlve9mzjttb.js","assets/isxemcalu9537a8n.js","assets/lsmgulr8t4c2ohfe.js","assets/fd9rmcpa6ai71fe6.js","assets/e0pswmo7irlt62pp.js","assets/lierpdayeoiwatcw.js","assets/gnhjnh2n0u3gy6qx.js","assets/ejklrllfl9wcn2za.js","assets/iq82wz84d1fxj03i.js","assets/elolu96rnfzqcgif.js","assets/kcqshnk26ykm1u4n.js","assets/fibktxptqydbr54o.js","assets/6a3e5rtr9pyzi31y.js","assets/ogr5nmy9hq7gfgq0.js","assets/cqyjjngibokvfw83.js","assets/irf8dojj8b02f534.js","assets/f251sy8gvgjvi4td.js","assets/fi4t5vltimyk5jia.js","assets/6638cdnddimyz0n0.js","assets/owyq2pc3j9e6vumq.js","assets/on8091w14zfmyea2.js","assets/ga4ehq2rdu1q6u65.js","assets/lao8y60wfyizx9bl.js","assets/gaudmaogcrho0s3l.js","assets/dci54etsmoma3mp5.js","assets/n73kkqu3irxrrzpg.js","assets/kgcyrfdq4ejvjmrq.js","assets/lk6f2fcw58i5vhbp.js","assets/fks3c9u8t5cb90cs.js","assets/b4dvi1xom4p5x1vj.js","assets/h6ixtb8gt8p0e0n1.js","assets/l2l4d2d2bzani7km.js","assets/clqnwlvuui0jqkcs.js"])))=>i.map(i=>d[i]);
import{ar as De,hg as Ue,ap as k,aq as M,a as Be,cs as Ge,pG as We,cR as Ne,g$ as He,be as Qe,d$ as Ke,pH as Ye,pI as $e,cU as Ae,pJ as qe,I as Je,pK as Xe,l4 as Ze,bi as Ve,D as et,iH as tt,g as st,aO as it,oU as ot,cQ as at,cW as rt,nu as nt}from"./hml6mmd5fyx85si7.js";import{j as s,r as a,A as lt,m as ye,c as ct,h as Le,b as dt,l as ft}from"./lu2xqwqmjc95q6j6.js";import{i5 as ut,i6 as mt,cj as gt,i7 as pt,i8 as Re,ak as ht,b_ as Fe,al as ze,i9 as xt,ia as bt,ib as vt,ic as _t,id as wt,ie as jt,ig as Et,ih as Pt,ii as Ct,ij as Ot,ik as St,il as Tt,im as It,io as kt,ip as Mt,bQ as Ft,iq as Nt,ir as At,is as Vt,it as yt,T as Lt,iu as Rt,bN as zt,iv as Dt,dV as Ut,af as Bt}from"./rseqzngxzbdt1oxg.js";import{B as Gt}from"./ik8y7nlve9mzjttb.js";import{B as Wt}from"./lsmgulr8t4c2ohfe.js";import{P as Ht,M as Qt}from"./lierpdayeoiwatcw.js";import{C as Kt}from"./6638cdnddimyz0n0.js";function Yt({clientThreadId:o}){const e=ut();return s.jsxs(s.Fragment,{children:[e&&s.jsx(mt,{}),s.jsx($t,{clientThreadId:o})]})}function $t({clientThreadId:o}){const e=a.useContext(gt),[i,c]=a.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(d=>d.kind==="media_generation"));return!e?.postWithProfile||!i?null:s.jsx(De,{clientThreadId:o,children:s.jsx(Ht,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>c(!1)})})}const qt=450;function Jt({children:o,clientThreadId:e,isOpen:i,onClose:c,type:d}){return s.jsx(lt,{children:i&&s.jsx(Ue,{children:s.jsx(pt.Provider,{value:{isEmbeddedInFocusedView:!0,type:d},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ye.div,{className:"bg-token-main-surface-secondary h-full w-full",...Re}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"grow overflow-auto",children:o}),s.jsx(ye.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:qt},...Re,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Qt,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const Xt=k(()=>M(()=>import("./h5npzlbpo6pf8g4k.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Zt=k(()=>M(()=>import("./km3rlbhpk1cjsz2v.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])).then(o=>o.ImageEditor));function es({clientThreadId:o}){const e=ht();a.useEffect(()=>{Fe.close()},[o]);let i;return e?.type===ze.ADAVisualization?i=s.jsx(Xt,{clientThreadId:o,visualization:e.visualization}):e?.type===ze.Image&&(i=s.jsx(Zt,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),s.jsx(Jt,{clientThreadId:o,isOpen:e!=null,onClose:Fe.close,type:e?.type,children:i})}var ts={};const ss=({children:o})=>s.jsx(s.Fragment,{children:o}),is=k(()=>M(()=>import("./gaudmaogcrho0s3l.js"),__vite__mapDeps([31,2,1,3,4,5]))),os=k(()=>M(()=>import("./dci54etsmoma3mp5.js"),__vite__mapDeps([32,2,1,3,4,5,33,34,35,13,14,15,8,9,12,16,17,18,19,20,21,22,23,24,25]))),as=k(()=>M(()=>import("./fks3c9u8t5cb90cs.js"),__vite__mapDeps([36,2,1,3,37,4,5,38,39,35]))),rs=k(()=>M(()=>import("./clqnwlvuui0jqkcs.js"),__vite__mapDeps([40,2,1,3,35,4,5,38,39,37])));function ps(o){"use forget";const e=ct.c(116),{urlThreadId:i,clientThreadId:c,prefetchSearch:d}=o,r=Be(),l=Ge(),m=We(),u=Le(),[F]=dt();let V;e[0]!==c||e[1]!==i?(V=()=>{if(i!==void 0){const n=i;return $e(n)??n}return c!==void 0?c:Ae()},e[0]=c,e[1]=i,e[2]=V):V=e[2];const[t,N]=a.useState(V);i!==void 0&&t!==i&&(Ne(t)===i||N(i));let y;e[3]!==t||e[4]!==r?(y=He(r,t),e[3]=t,e[4]=r,e[5]=y):y=e[5];const Se=y,Te=Le();let L;e[6]!==Te?(L=xt(Te),e[6]=Te,e[7]=L):L=e[7];const Ie=L;let R;e[8]!==t||e[9]!==i?(R=()=>{i===void 0&&Ne(t)!==void 0&&N(Ae())},e[8]=t,e[9]=i,e[10]=R):R=e[10];let z;e[11]!==t||e[12]!==Ie||e[13]!==i?(z=[i,t,Ie],e[11]=t,e[12]=Ie,e[13]=i,e[14]=z):z=e[14],a.useEffect(R,z);const ke=Qe(Ke.workspaceId),{eligible:D,isLoading:U,markAsViewed:B}=bt(),G=vt(),{eligible:W,isLoading:H,markAsViewed:Q}=_t(),K=wt(),{eligible:Y,isLoading:$,markAsViewed:q}=jt(),J=Et(),{eligible:X,isLoading:Z,markAsViewed:ee}=Pt(),te=Ct();let se,ie;e[15]!==r?(se=()=>{qe(!0).then(n=>{n.force_login&&Je(r,{authType:"login"}),Xe.initializeAndGatherData(n),Ze.initializeAndGatherData(n)})},ie=[r],e[15]=r,e[16]=se,e[17]=ie):(se=e[16],ie=e[17]),a.useEffect(se,ie);let oe,ae;e[18]!==m||e[19]!==l||e[20]!==F?(oe=()=>{const n=F.get(St)==="true",A=F.get(Tt)==="true";A!==m&&Ve.setIsAnonModeEnabled(A),l!==n&&Ve.setIsTemporaryChatEnabled(n)},ae=[l,m,F],e[18]=m,e[19]=l,e[20]=F,e[21]=oe,e[22]=ae):(oe=e[21],ae=e[22]),a.useEffect(oe,ae);let re;e[23]!==u.state?(re=()=>{u.state?.focusObject&&Fe.setFocusedObject(u.state.focusObject)},e[23]=u.state,e[24]=re):re=e[24];const Me=u.state?.focusObject;let ne;e[25]!==Me?(ne=[Me],e[25]=Me,e[26]=ne):ne=e[26],a.useEffect(re,ne);let le,ce;e[27]!==D||e[28]!==U||e[29]!==B||e[30]!==G?(le=()=>{!U&&D&&(B(),G())},ce=[D,U,B,G],e[27]=D,e[28]=U,e[29]=B,e[30]=G,e[31]=le,e[32]=ce):(le=e[31],ce=e[32]),a.useEffect(le,ce);let de,fe;e[33]!==W||e[34]!==H||e[35]!==Q||e[36]!==K?(de=()=>{!H&&W&&(Q(),K())},fe=[W,H,Q,K],e[33]=W,e[34]=H,e[35]=Q,e[36]=K,e[37]=de,e[38]=fe):(de=e[37],fe=e[38]),a.useEffect(de,fe);let ue,me;e[39]!==Y||e[40]!==$||e[41]!==q||e[42]!==J?(ue=()=>{!$&&Y&&(q(),J())},me=[Y,$,q,J],e[39]=Y,e[40]=$,e[41]=q,e[42]=J,e[43]=ue,e[44]=me):(ue=e[43],me=e[44]),a.useEffect(ue,me);let ge,pe;e[45]!==X||e[46]!==Z||e[47]!==ee||e[48]!==te?(ge=()=>{!Z&&X&&(ee(),te())},pe=[X,Z,ee,te],e[45]=X,e[46]=Z,e[47]=ee,e[48]=te,e[49]=ge,e[50]=pe):(ge=e[49],pe=e[50]),a.useEffect(ge,pe),Ot(t);const f=ft();let he,xe;e[51]!==r||e[52]!==f?(he=()=>{et(r)&&It(f)},xe=[f,r],e[51]=r,e[52]=f,e[53]=he,e[54]=xe):(he=e[53],xe=e[54]),a.useEffect(he,xe);let be,ve;e[55]!==l||e[56]!==f?(be=()=>tt(at,{completionFinished:n=>{if(n.serverThreadId!=null&&!l){const A=st(n.serverThreadId)?.mode;A?.kind===it.GizmoInteraction&&ot.handleGizmoInteracted(f,A.gizmo_id)}}}),ve=[l,f],e[55]=l,e[56]=f,e[57]=be,e[58]=ve):(be=e[57],ve=e[58]),a.useEffect(be,ve);let g;e[59]!==t||e[60]!==ke?(g=s.jsx(Wt,{clientThreadId:t,page:"chat"},ke),e[59]=t,e[60]=ke,e[61]=g):g=e[61];let p;e[62]!==t?(p=s.jsx(ns,{clientThreadId:t,setClientThreadId:N}),e[62]=t,e[63]=p):p=e[63];let _e,we;e[64]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(is,{}),we=s.jsx(kt,{}),e[64]=_e,e[65]=we):(_e=e[64],we=e[65]);let je;e[66]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(Mt,{}),e[66]=je):je=e[66];let h;e[67]!==t||e[68]!==i?(h=s.jsx(Kt,{urlThreadId:i,clientThreadId:t,setClientThreadId:N}),e[67]=t,e[68]=i,e[69]=h):h=e[69];let x;e[70]!==t||e[71]!==h?(x=s.jsx(Gt,{clientThreadId:t,children:h}),e[70]=t,e[71]=h,e[72]=x):x=e[72];let b;e[73]!==t?(b=s.jsx(Yt,{clientThreadId:t}),e[73]=t,e[74]=b):b=e[74];let v;e[75]!==t||e[76]!==d||e[77]!==x||e[78]!==b?(v=s.jsxs(Ft,{clientThreadId:t,setClientThreadId:N,prefetchSearchPromises:d,children:[je,x,b]}),e[75]=t,e[76]=d,e[77]=x,e[78]=b,e[79]=v):v=e[79];let _;e[80]!==t||e[81]!==g||e[82]!==p||e[83]!==v?(_=s.jsxs(rt,{clientThreadId:t,children:[g,p,_e,we,v]}),e[80]=t,e[81]=g,e[82]=p,e[83]=v,e[84]=_):_=e[84];let w,j;e[85]!==t?(w=s.jsx(es,{clientThreadId:t}),j=s.jsx(Nt,{clientThreadId:t}),e[85]=t,e[86]=w,e[87]=j):(w=e[86],j=e[87]);let Ee;e[88]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(At,{}),e[88]=Ee):Ee=e[88];let E;e[89]!==t?(E=s.jsx(Vt,{clientThreadId:t}),e[89]=t,e[90]=E):E=e[90];let Pe;e[91]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsx(yt,{}),e[91]=Pe):Pe=e[91];let P;e[92]!==t||e[93]!==_||e[94]!==w||e[95]!==j||e[96]!==E?(P=s.jsxs(De,{clientThreadId:t,children:[_,w,j,Ee,E,Pe]}),e[92]=t,e[93]=_,e[94]=w,e[95]=j,e[96]=E,e[97]=P):P=e[97];let C;e[98]!==t||e[99]!==P?(C=s.jsx(Lt,{clientThreadId:t,children:P}),e[98]=t,e[99]=P,e[100]=C):C=e[100];let O;e[101]!==t||e[102]!==C?(O=s.jsx(ss,{clientThreadId:t,children:C}),e[101]=t,e[102]=C,e[103]=O):O=e[103];let S;e[104]!==t||e[105]!==O?(S=s.jsx(Rt,{clientThreadId:t,children:O}),e[104]=t,e[105]=O,e[106]=S):S=e[106];let Ce;e[107]===Symbol.for("react.memo_cache_sentinel")?(Ce=!1,e[107]=Ce):Ce=e[107];let T;e[108]!==t?(T=!1,e[108]=t,e[109]=T):T=e[109];let I;e[110]!==S||e[111]!==T?(I=s.jsxs(nt,{children:[S,Ce,T]}),e[110]=S,e[111]=T,e[112]=I):I=e[112];let Oe;return e[113]!==Se||e[114]!==I?(Oe=s.jsx(Ye.Provider,{value:Se,children:I}),e[113]=Se,e[114]=I,e[115]=Oe):Oe=e[115],Oe}function ns({clientThreadId:o,setClientThreadId:e}){const{isOpen:i,isLoading:c}=zt(),{isOpen:d,isLoading:r}=Dt(),{isOpen:l,isLoading:m,closeModal:u}=Ut();return!c&&i?s.jsx(os,{clientThreadId:o,setClientThreadId:e}):!r&&d?s.jsx(as,{clientThreadId:o}):!m&&l?s.jsx(Bt,{children:s.jsx(rs,{clientThreadId:o,onClose:u})}):null}typeof window<"u"&&(window._g=ts.GOKU_SERVICE);export{ps as C,qt as F};
//# sourceMappingURL=f9e1nwa9sca240c5.js.map
